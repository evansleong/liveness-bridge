/*! For license information please see main.fc7ce5ac.js.LICENSE.txt */
(()=>{var e={5:function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)}({17:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(18),a=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map(function(e){return parseInt(e,10)||0});t.push(0);var n=t[0],r=t[1];if(10===n)switch(r){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}switch(n){case 11:return"Big Sur";case 12:return"Monterey";case 13:return"Ventura";case 14:return"Sonoma";case 15:return"Sequoia";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map(function(e){return parseInt(e,10)||0});if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,r){void 0===r&&(r=!1);var a=e.getVersionPrecision(t),o=e.getVersionPrecision(n),i=Math.max(a,o),s=0,l=e.map([t,n],function(t){var n=i-e.getVersionPrecision(t),r=t+new Array(n+1).join(".0");return e.map(r.split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});for(r&&(s=i-Math.min(a,o)),i-=1;i>=s;){if(l[0][i]>l[1][i])return 1;if(l[0][i]===l[1][i]){if(i===s)return 0;i-=1}else if(l[0][i]<l[1][i])return-1}},e.map=function(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r},e.find=function(e,t){var n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){var a=e[n];if(t(a,n))return a}},e.assign=function(e){for(var t,n,r=e,a=arguments.length,o=new Array(a>1?a-1:0),i=1;i<a;i++)o[i-1]=arguments[i];if(Object.assign)return Object.assign.apply(Object,[e].concat(o));var s=function(){var e=o[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach(function(t){r[t]=e[t]})};for(t=0,n=o.length;t<n;t+=1)s();return e},e.getBrowserAlias=function(e){return r.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return r.BROWSER_MAP[e]||""},e}();t.default=a,e.exports=t.default},18:function(e,t,n){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={AmazonBot:"amazonbot","Amazon Silk":"amazon_silk","Android Browser":"android",BaiduSpider:"baiduspider",Bada:"bada",BingCrawler:"bingcrawler",BlackBerry:"blackberry","ChatGPT-User":"chatgpt_user",Chrome:"chrome",ClaudeBot:"claudebot",Chromium:"chromium",Diffbot:"diffbot",DuckDuckBot:"duckduckbot",Electron:"electron",Epiphany:"epiphany",FacebookExternalHit:"facebookexternalhit",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot",GPTBot:"gptbot","Internet Explorer":"ie",InternetArchiveCrawler:"internetarchivecrawler","K-Meleon":"k_meleon",LibreWolf:"librewolf",Maxthon:"maxthon","Meta-ExternalAds":"meta_externalads","Meta-ExternalAgent":"meta_externalagent","Meta-ExternalFetcher":"meta_externalfetcher","Meta-WebIndexer":"meta_webindexer","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver","OAI-SearchBot":"oai_searchbot",Omgilibot:"omgilibot",Opera:"opera","Opera Coast":"opera_coast","Pale Moon":"pale_moon",PerplexityBot:"perplexitybot","Perplexity-User":"perplexity_user",PhantomJS:"phantomjs",PingdomBot:"pingdombot",Puffin:"puffin",QQ:"qq",QQLite:"qqlite",QupZilla:"qupzilla",Roku:"roku",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir","Sogou Browser":"sogou",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat",YahooSlurp:"yahooslurp","Yandex Browser":"yandex",YandexBot:"yandexbot",YouBot:"youbot"},t.BROWSER_MAP={amazonbot:"AmazonBot",amazon_silk:"Amazon Silk",android:"Android Browser",baiduspider:"BaiduSpider",bada:"Bada",bingcrawler:"BingCrawler",blackberry:"BlackBerry",chatgpt_user:"ChatGPT-User",chrome:"Chrome",claudebot:"ClaudeBot",chromium:"Chromium",diffbot:"Diffbot",duckduckbot:"DuckDuckBot",edge:"Microsoft Edge",electron:"Electron",epiphany:"Epiphany",facebookexternalhit:"FacebookExternalHit",firefox:"Firefox",focus:"Focus",generic:"Generic",google_search:"Google Search",googlebot:"Googlebot",gptbot:"GPTBot",ie:"Internet Explorer",internetarchivecrawler:"InternetArchiveCrawler",k_meleon:"K-Meleon",librewolf:"LibreWolf",maxthon:"Maxthon",meta_externalads:"Meta-ExternalAds",meta_externalagent:"Meta-ExternalAgent",meta_externalfetcher:"Meta-ExternalFetcher",meta_webindexer:"Meta-WebIndexer",mz:"MZ Browser",naver:"NAVER Whale Browser",oai_searchbot:"OAI-SearchBot",omgilibot:"Omgilibot",opera:"Opera",opera_coast:"Opera Coast",pale_moon:"Pale Moon",perplexitybot:"PerplexityBot",perplexity_user:"Perplexity-User",phantomjs:"PhantomJS",pingdombot:"PingdomBot",puffin:"Puffin",qq:"QQ Browser",qqlite:"QQ Browser Lite",qupzilla:"QupZilla",roku:"Roku",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",sogou:"Sogou Browser",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yahooslurp:"YahooSlurp",yandex:"Yandex Browser",yandexbot:"YandexBot",youbot:"YouBot"},t.PLATFORMS_MAP={bot:"bot",desktop:"desktop",mobile:"mobile",tablet:"tablet",tv:"tv"},t.OS_MAP={Android:"Android",Bada:"Bada",BlackBerry:"BlackBerry",ChromeOS:"Chrome OS",HarmonyOS:"HarmonyOS",iOS:"iOS",Linux:"Linux",MacOS:"macOS",PlayStation4:"PlayStation 4",Roku:"Roku",Tizen:"Tizen",WebOS:"WebOS",Windows:"Windows",WindowsPhone:"Windows Phone"},t.ENGINE_MAP={Blink:"Blink",EdgeHTML:"EdgeHTML",Gecko:"Gecko",Presto:"Presto",Trident:"Trident",WebKit:"WebKit"}},90:function(e,t,n){"use strict";t.__esModule=!0,t.parse=t.getParser=t.default=void 0;var r,a=(r=n(91))&&r.__esModule?r:{default:r},o=n(18);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}t.BROWSER_MAP=o.BROWSER_MAP,t.ENGINE_MAP=o.ENGINE_MAP,t.OS_MAP=o.OS_MAP,t.PLATFORMS_MAP=o.PLATFORMS_MAP;var s=function(){function e(){}var t,n,r;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new a.default(e,t)},e.parse=function(e){return new a.default(e).getResult()},t=e,r=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}],(n=null)&&i(t.prototype,n),r&&i(t,r),e}(),l=s;t.default=l;var u=s.getParser;t.getParser=u;var c=s.parse;t.parse=c},91:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(92)),a=l(n(93)),o=l(n(94)),i=l(n(95)),s=l(n(17));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=s.default.find(r.default,function(t){if("function"==typeof t.test)return t.test(e);if(Array.isArray(t.test))return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=s.default.find(a.default,function(t){if("function"==typeof t.test)return t.test(e);if(Array.isArray(t.test))return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=s.default.find(o.default,function(t){if("function"==typeof t.test)return t.test(e);if(Array.isArray(t.test))return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=s.default.find(i.default,function(t){if("function"==typeof t.test)return t.test(e);if(Array.isArray(t.test))return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return s.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},r=0,a={},o=0;if(Object.keys(e).forEach(function(t){var i=e[t];"string"==typeof i?(a[t]=i,o+=1):"object"==typeof i&&(n[t]=i,r+=1)}),r>0){var i=Object.keys(n),l=s.default.find(i,function(e){return t.isOS(e)});if(l){var u=this.satisfies(n[l]);if(void 0!==u)return u}var c=s.default.find(i,function(e){return t.isPlatform(e)});if(c){var d=this.satisfies(n[c]);if(void 0!==d)return d}}if(o>0){var p=Object.keys(a),h=s.default.find(p,function(e){return t.isBrowser(e,!0)});if(void 0!==h)return this.compareVersion(a[h])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),a=s.default.getBrowserTypeByAlias(r);return t&&a&&(r=a.toLowerCase()),r===n},t.compareVersion=function(e){var t=[0],n=e,r=!1,a=this.getBrowserVersion();if("string"==typeof a)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(s.default.compareVersions(a,n,r))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some(function(e){return t.is(e)})},e}();t.default=u,e.exports=t.default},92:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(17))&&r.__esModule?r:{default:r},o=/version\/(\d+(\.?_?\d+)+)/i,i=[{test:[/gptbot/i],describe:function(e){var t={name:"GPTBot"},n=a.default.getFirstMatch(/gptbot\/(\d+(\.\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/chatgpt-user/i],describe:function(e){var t={name:"ChatGPT-User"},n=a.default.getFirstMatch(/chatgpt-user\/(\d+(\.\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/oai-searchbot/i],describe:function(e){var t={name:"OAI-SearchBot"},n=a.default.getFirstMatch(/oai-searchbot\/(\d+(\.\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/claudebot/i,/claude-web/i,/claude-user/i,/claude-searchbot/i],describe:function(e){var t={name:"ClaudeBot"},n=a.default.getFirstMatch(/(?:claudebot|claude-web|claude-user|claude-searchbot)\/(\d+(\.\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/omgilibot/i,/webzio-extended/i],describe:function(e){var t={name:"Omgilibot"},n=a.default.getFirstMatch(/(?:omgilibot|webzio-extended)\/(\d+(\.\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/diffbot/i],describe:function(e){var t={name:"Diffbot"},n=a.default.getFirstMatch(/diffbot\/(\d+(\.\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/perplexitybot/i],describe:function(e){var t={name:"PerplexityBot"},n=a.default.getFirstMatch(/perplexitybot\/(\d+(\.\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/perplexity-user/i],describe:function(e){var t={name:"Perplexity-User"},n=a.default.getFirstMatch(/perplexity-user\/(\d+(\.\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/youbot/i],describe:function(e){var t={name:"YouBot"},n=a.default.getFirstMatch(/youbot\/(\d+(\.\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/meta-webindexer/i],describe:function(e){var t={name:"Meta-WebIndexer"},n=a.default.getFirstMatch(/meta-webindexer\/(\d+(\.\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/meta-externalads/i],describe:function(e){var t={name:"Meta-ExternalAds"},n=a.default.getFirstMatch(/meta-externalads\/(\d+(\.\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/meta-externalagent/i],describe:function(e){var t={name:"Meta-ExternalAgent"},n=a.default.getFirstMatch(/meta-externalagent\/(\d+(\.\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/meta-externalfetcher/i],describe:function(e){var t={name:"Meta-ExternalFetcher"},n=a.default.getFirstMatch(/meta-externalfetcher\/(\d+(\.\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=a.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/amazonbot/i],describe:function(e){var t={name:"AmazonBot"},n=a.default.getFirstMatch(/amazonbot\/(\d+(\.\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/bingbot/i],describe:function(e){var t={name:"BingCrawler"},n=a.default.getFirstMatch(/bingbot\/(\d+(\.\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/baiduspider/i],describe:function(e){var t={name:"BaiduSpider"},n=a.default.getFirstMatch(/baiduspider\/(\d+(\.\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/duckduckbot/i],describe:function(e){var t={name:"DuckDuckBot"},n=a.default.getFirstMatch(/duckduckbot\/(\d+(\.\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/ia_archiver/i],describe:function(e){var t={name:"InternetArchiveCrawler"},n=a.default.getFirstMatch(/ia_archiver\/(\d+(\.\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/facebookexternalhit/i,/facebookcatalog/i],describe:function(){return{name:"FacebookExternalHit"}}},{test:[/yahoo!?[\s/]*slurp/i],describe:function(){return{name:"YahooSlurp"}}},{test:[/yandexbot/i,/yandexmobilebot/i],describe:function(){return{name:"YandexBot"}}},{test:[/pingdom/i],describe:function(){return{name:"PingdomBot"}}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=a.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/PaleMoon/i],describe:function(e){var t={name:"Pale Moon"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/(?:PaleMoon)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=a.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=a.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=a.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},n=a.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=a.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=a.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=a.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=a.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=a.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=a.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=a.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=a.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=a.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=a.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=a.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=a.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=a.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=a.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=a.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/librewolf/i],describe:function(e){var t={name:"LibreWolf"},n=a.default.getFirstMatch(/(?:librewolf)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=a.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=a.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sogoumobilebrowser/i,/metasr/i,/se 2\.[x]/i],describe:function(e){var t={name:"Sogou Browser"},n=a.default.getFirstMatch(/(?:sogoumobilebrowser)[\s/](\d+(\.?_?\d+)+)/i,e),r=a.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e),o=a.default.getFirstMatch(/se ([\d.]+)x/i,e),i=n||r||o;return i&&(t.version=i),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},n=a.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=a.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=a.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=a.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:a.default.getFirstMatch(t,e),version:a.default.getSecondMatch(t,e)}}}];t.default=i,e.exports=t.default},93:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),i=[{test:[/Roku\/DVP/],describe:function(e){var t=a.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:o.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=a.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=a.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=a.default.getWindowsVersionName(t);return{name:o.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:o.OS_MAP.iOS},n=a.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe:function(e){var t=a.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=a.default.getMacOSVersionName(t),r={name:o.OS_MAP.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=a.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:t}}},{test:[/OpenHarmony/i],describe:function(e){var t=a.default.getFirstMatch(/OpenHarmony\s+(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.HarmonyOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=a.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=a.default.getAndroidVersionName(t),r={name:o.OS_MAP.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=a.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:o.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=a.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||a.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||a.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:o.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=a.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=a.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=a.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.PlayStation4,version:t}}}];t.default=i,e.exports=t.default},94:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),i=[{test:[/googlebot/i],describe:function(){return{type:o.PLATFORMS_MAP.bot,vendor:"Google"}}},{test:[/amazonbot/i],describe:function(){return{type:o.PLATFORMS_MAP.bot,vendor:"Amazon"}}},{test:[/gptbot/i],describe:function(){return{type:o.PLATFORMS_MAP.bot,vendor:"OpenAI"}}},{test:[/chatgpt-user/i],describe:function(){return{type:o.PLATFORMS_MAP.bot,vendor:"OpenAI"}}},{test:[/oai-searchbot/i],describe:function(){return{type:o.PLATFORMS_MAP.bot,vendor:"OpenAI"}}},{test:[/baiduspider/i],describe:function(){return{type:o.PLATFORMS_MAP.bot,vendor:"Baidu"}}},{test:[/bingbot/i],describe:function(){return{type:o.PLATFORMS_MAP.bot,vendor:"Bing"}}},{test:[/duckduckbot/i],describe:function(){return{type:o.PLATFORMS_MAP.bot,vendor:"DuckDuckGo"}}},{test:[/claudebot/i,/claude-web/i,/claude-user/i,/claude-searchbot/i],describe:function(){return{type:o.PLATFORMS_MAP.bot,vendor:"Anthropic"}}},{test:[/omgilibot/i,/webzio-extended/i],describe:function(){return{type:o.PLATFORMS_MAP.bot,vendor:"Webz.io"}}},{test:[/diffbot/i],describe:function(){return{type:o.PLATFORMS_MAP.bot,vendor:"Diffbot"}}},{test:[/perplexitybot/i],describe:function(){return{type:o.PLATFORMS_MAP.bot,vendor:"Perplexity AI"}}},{test:[/perplexity-user/i],describe:function(){return{type:o.PLATFORMS_MAP.bot,vendor:"Perplexity AI"}}},{test:[/youbot/i],describe:function(){return{type:o.PLATFORMS_MAP.bot,vendor:"You.com"}}},{test:[/ia_archiver/i],describe:function(){return{type:o.PLATFORMS_MAP.bot,vendor:"Internet Archive"}}},{test:[/meta-webindexer/i],describe:function(){return{type:o.PLATFORMS_MAP.bot,vendor:"Meta"}}},{test:[/meta-externalads/i],describe:function(){return{type:o.PLATFORMS_MAP.bot,vendor:"Meta"}}},{test:[/meta-externalagent/i],describe:function(){return{type:o.PLATFORMS_MAP.bot,vendor:"Meta"}}},{test:[/meta-externalfetcher/i],describe:function(){return{type:o.PLATFORMS_MAP.bot,vendor:"Meta"}}},{test:[/facebookexternalhit/i,/facebookcatalog/i],describe:function(){return{type:o.PLATFORMS_MAP.bot,vendor:"Meta"}}},{test:[/yahoo/i],describe:function(){return{type:o.PLATFORMS_MAP.bot,vendor:"Yahoo"}}},{test:[/yandexbot/i,/yandexmobilebot/i],describe:function(){return{type:o.PLATFORMS_MAP.bot,vendor:"Yandex"}}},{test:[/pingdom/i],describe:function(){return{type:o.PLATFORMS_MAP.bot,vendor:"Pingdom"}}},{test:[/huawei/i],describe:function(e){var t=a.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=a.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/Nokia/i],describe:function(e){var t=a.default.getFirstMatch(/Nokia\s+([0-9]+(\.[0-9]+)?)/i,e),n={type:o.PLATFORMS_MAP.mobile,vendor:"Nokia"};return t&&(n.model=t),n}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];t.default=i,e.exports=t.default},95:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),i=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:o.ENGINE_MAP.Blink};var t=a.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:o.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:o.ENGINE_MAP.Trident},n=a.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:o.ENGINE_MAP.Presto},n=a.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:o.ENGINE_MAP.Gecko},n=a.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:o.ENGINE_MAP.WebKit},n=a.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=i,e.exports=t.default}})},149:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}},579:(e,t,n)=>{"use strict";e.exports=n(2799)},940:(e,t,n)=>{var r=n(6882)(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()});e.exports=r},1069:(e,t,n)=>{var r=n(8541);e.exports=function(e){return null==e?"":r(e)}},1234:()=>{},1372:(e,t,n)=>{var r=(()=>{var e="undefined"!==typeof document&&document.currentScript?document.currentScript.src:void 0;return e=e||"/index.js",function(t){var r,a,o,i="undefined"!=typeof(t=t||{})?t:{};i.ready=new Promise(function(e,t){r=e,a=t}),"undefined"!==typeof process&&process.listeners&&(o={uncaughtException:process.listeners("uncaughtException"),unhandledRejection:process.listeners("unhandledRejection")});var s,l,u,c=Object.assign({},i),d=[],p="object"==typeof window,h="function"==typeof importScripts,f="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,m="";if(f){var g=n(9893),v=n(5281);m=h?v.dirname(m)+"/":"//",s=(e,t)=>(e=V(e)?new URL(e):v.normalize(e),g.readFileSync(e,t?void 0:"utf8")),u=e=>{var t=s(e,!0);return t.buffer||(t=new Uint8Array(t)),t},l=(e,t,n)=>{e=V(e)?new URL(e):v.normalize(e),g.readFile(e,function(e,r){e?n(e):t(r.buffer)})},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),d=process.argv.slice(2),process.on("uncaughtException",function(e){if(!(e instanceof G))throw e}),process.on("unhandledRejection",function(e){throw e}),i.inspect=function(){return"[Emscripten Module object]"}}else(p||h)&&(h?m=self.location.href:"undefined"!=typeof document&&document.currentScript&&(m=document.currentScript.src),e&&(m=e),m=0!==m.indexOf("blob:")?m.substr(0,m.replace(/[?#].*/,"").lastIndexOf("/")+1):"",s=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},h&&(u=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),l=(e,t,n)=>{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)},e=>document.title=e);var y=i.print||console.log.bind(console),b=i.printErr||console.warn.bind(console);Object.assign(i,c),c=null,i.arguments&&(d=i.arguments),i.thisProgram&&i.thisProgram,i.quit&&i.quit;var w;i.wasmBinary&&(w=i.wasmBinary);var k,S=i.noExitRuntime||!0;"object"!=typeof WebAssembly&&W("no native wasm support detected");var x=!1;var I,_,E,T,N="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function C(e,t,n){for(var r=(t>>>=0)+n,a=t;e[a]&&!(a>=r);)++a;if(a-t>16&&e.buffer&&N)return N.decode(e.subarray(t,a));for(var o="";t<a;){var i=e[t++];if(128&i){var s=63&e[t++];if(192!=(224&i)){var l=63&e[t++];if((i=224==(240&i)?(15&i)<<12|s<<6|l:(7&i)<<18|s<<12|l<<6|63&e[t++])<65536)o+=String.fromCharCode(i);else{var u=i-65536;o+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else o+=String.fromCharCode((31&i)<<6|s)}else o+=String.fromCharCode(i)}return o}function M(e,t){return(e>>>=0)?C(E,e,t):""}function A(e){I=e,i.HEAP8=_=new Int8Array(e),i.HEAP16=new Int16Array(e),i.HEAP32=new Int32Array(e),i.HEAPU8=E=new Uint8Array(e),i.HEAPU16=new Uint16Array(e),i.HEAPU32=T=new Uint32Array(e),i.HEAPF32=new Float32Array(e),i.HEAPF64=new Float64Array(e)}i.INITIAL_MEMORY;var O=[],F=[],R=[];function D(e){O.unshift(e)}function P(e){R.unshift(e)}var L=0,z=null,B=null;function W(e){i.onAbort&&i.onAbort(e),b(e="Aborted("+e+")"),x=!0,e+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(e);throw a(t),t}var U,j;function H(e){return e.startsWith("data:application/octet-stream;base64,")}function V(e){return e.startsWith("file://")}function q(e){try{if(e==U&&w)return new Uint8Array(w);if(u)return u(e);throw"both async and sync fetching of the wasm failed"}catch(b){W(b)}}function G(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function K(e){for(;e.length>0;)e.shift()(i)}function $(e){try{return k.grow(e-I.byteLength+65535>>>16),A(k.buffer),1}catch(t){}}H(U="tfjs-backend-wasm.wasm")||(j=U,U=i.locateFile?i.locateFile(j,m):m+j);var Y=[null,[],[]];function Q(e,t){var n=Y[e];0===t||10===t?((1===e?y:b)(C(n,0)),n.length=0):n.push(t)}function X(e){return i["_"+e]}function J(e,t,n,r,a){var o={string:e=>{var t=0;if(null!==e&&void 0!==e&&0!==e){var n=1+(e.length<<2);(function(e,t,n){(function(e,t,n,r){if(!(r>0))return 0;for(var a=n>>>=0,o=n+r-1,i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++i)),s<=127){if(n>=o)break;t[n++>>>0]=s}else if(s<=2047){if(n+1>=o)break;t[n++>>>0]=192|s>>6,t[n++>>>0]=128|63&s}else if(s<=65535){if(n+2>=o)break;t[n++>>>0]=224|s>>12,t[n++>>>0]=128|s>>6&63,t[n++>>>0]=128|63&s}else{if(n+3>=o)break;t[n++>>>0]=240|s>>18,t[n++>>>0]=128|s>>12&63,t[n++>>>0]=128|s>>6&63,t[n++>>>0]=128|63&s}}t[n>>>0]=0})(e,E,t,n)})(e,t=oe(n),n)}return t},array:e=>{var t=oe(e.length);return function(e,t){_.set(e,t>>>0)}(e,t),t}};var i=X(e),s=[],l=0;if(r)for(var u=0;u<r.length;u++){var c=o[n[u]];c?(0===l&&(l=re()),s[u]=c(r[u])):s[u]=r[u]}var d=i.apply(null,s);return d=function(e){return 0!==l&&ae(l),function(e){return"string"===t?M(e):"boolean"===t?Boolean(e):e}(e)}(d)}var Z,ee,te,ne={abort:function(){W("")},emscripten_get_heap_max:function(){return 4294901760},emscripten_memcpy_big:function(e,t,n){E.copyWithin(e>>>0,t>>>0,t+n>>>0)},emscripten_resize_heap:function(e){var t=E.length,n=4294901760;if((e>>>=0)>n)return!1;let r=(e,t)=>e+(t-e%t)%t;for(var a=1;a<=4;a*=2){var o=t*(1+.2/a);if(o=Math.min(o,e+100663296),$(Math.min(n,r(Math.max(e,o),65536))))return!0}return!1},fd_close:function(e){return 52},fd_seek:function(e,t,n,r,a){return 70},fd_write:function(e,t,n,r){for(var a=0,o=0;o<n;o++){var i=T[t>>>2],s=T[t+4>>>2];t+=8;for(var l=0;l<s;l++)Q(e,E[i+l>>>0]);a+=s}return T[r>>>2]=a,0}},re=(function(){var e={env:ne,wasi_snapshot_preview1:ne};function t(e,t){var n,r=e.exports;i.asm=r,A((k=i.asm.memory).buffer),i.asm.__indirect_function_table,n=i.asm.__wasm_call_ctors,F.unshift(n),function(){if(L--,i.monitorRunDependencies&&i.monitorRunDependencies(L),0==L&&(null!==z&&(clearInterval(z),z=null),B)){var e=B;B=null,e()}}()}function n(e){t(e.instance)}function r(t){return function(){if(!w&&(p||h)){if("function"==typeof fetch&&!V(U))return fetch(U,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+U+"'";return e.arrayBuffer()}).catch(function(){return q(U)});if(l)return new Promise(function(e,t){l(U,function(t){e(new Uint8Array(t))},t)})}return Promise.resolve().then(function(){return q(U)})}().then(function(t){return WebAssembly.instantiate(t,e)}).then(function(e){return e}).then(t,function(e){b("failed to asynchronously prepare wasm: "+e),W(e)})}if(L++,i.monitorRunDependencies&&i.monitorRunDependencies(L),i.instantiateWasm)try{return i.instantiateWasm(e,t)}catch(o){b("Module.instantiateWasm callback failed with error: "+o),a(o)}(w||"function"!=typeof WebAssembly.instantiateStreaming||H(U)||V(U)||f||"function"!=typeof fetch?r(n):fetch(U,{credentials:"same-origin"}).then(function(t){return WebAssembly.instantiateStreaming(t,e).then(n,function(e){return b("wasm streaming compile failed: "+e),b("falling back to ArrayBuffer instantiation"),r(n)})})).catch(a)}(),i.___wasm_call_ctors=function(){return(i.___wasm_call_ctors=i.asm.__wasm_call_ctors).apply(null,arguments)},i._init=function(){return(i._init=i.asm.init).apply(null,arguments)},i._init_with_threads_count=function(){return(i._init_with_threads_count=i.asm.init_with_threads_count).apply(null,arguments)},i._get_threads_count=function(){return(i._get_threads_count=i.asm.get_threads_count).apply(null,arguments)},i._register_tensor=function(){return(i._register_tensor=i.asm.register_tensor).apply(null,arguments)},i._dispose_data=function(){return(i._dispose_data=i.asm.dispose_data).apply(null,arguments)},i._dispose=function(){return(i._dispose=i.asm.dispose).apply(null,arguments)},i._Abs=function(){return(i._Abs=i.asm.Abs).apply(null,arguments)},i._Acos=function(){return(i._Acos=i.asm.Acos).apply(null,arguments)},i._Acosh=function(){return(i._Acosh=i.asm.Acosh).apply(null,arguments)},i._Add=function(){return(i._Add=i.asm.Add).apply(null,arguments)},i._AddN=function(){return(i._AddN=i.asm.AddN).apply(null,arguments)},i._All=function(){return(i._All=i.asm.All).apply(null,arguments)},i._Any=function(){return(i._Any=i.asm.Any).apply(null,arguments)},i._ArgMax=function(){return(i._ArgMax=i.asm.ArgMax).apply(null,arguments)},i._ArgMin=function(){return(i._ArgMin=i.asm.ArgMin).apply(null,arguments)},i._Asin=function(){return(i._Asin=i.asm.Asin).apply(null,arguments)},i._Asinh=function(){return(i._Asinh=i.asm.Asinh).apply(null,arguments)},i._Atan=function(){return(i._Atan=i.asm.Atan).apply(null,arguments)},i._Atan2=function(){return(i._Atan2=i.asm.Atan2).apply(null,arguments)},i._Atanh=function(){return(i._Atanh=i.asm.Atanh).apply(null,arguments)},i._AvgPool=function(){return(i._AvgPool=i.asm.AvgPool).apply(null,arguments)},i._AvgPool3D=function(){return(i._AvgPool3D=i.asm.AvgPool3D).apply(null,arguments)},i._AvgPool3DGrad=function(){return(i._AvgPool3DGrad=i.asm.AvgPool3DGrad).apply(null,arguments)},i._AvgPoolGrad=function(){return(i._AvgPoolGrad=i.asm.AvgPoolGrad).apply(null,arguments)},i._BatchMatMul=function(){return(i._BatchMatMul=i.asm.BatchMatMul).apply(null,arguments)},i._Bincount=function(){return(i._Bincount=i.asm.Bincount).apply(null,arguments)},i._BitwiseAnd=function(){return(i._BitwiseAnd=i.asm.BitwiseAnd).apply(null,arguments)},i._Ceil=function(){return(i._Ceil=i.asm.Ceil).apply(null,arguments)},i._ClipByValue=function(){return(i._ClipByValue=i.asm.ClipByValue).apply(null,arguments)},i._Conv2D=function(){return(i._Conv2D=i.asm.Conv2D).apply(null,arguments)},i._Conv2DBackpropInput=function(){return(i._Conv2DBackpropInput=i.asm.Conv2DBackpropInput).apply(null,arguments)},i._Conv3D=function(){return(i._Conv3D=i.asm.Conv3D).apply(null,arguments)},i._Conv3DBackpropFilterV2=function(){return(i._Conv3DBackpropFilterV2=i.asm.Conv3DBackpropFilterV2).apply(null,arguments)},i._Conv3DBackpropInputV2=function(){return(i._Conv3DBackpropInputV2=i.asm.Conv3DBackpropInputV2).apply(null,arguments)},i._Cos=function(){return(i._Cos=i.asm.Cos).apply(null,arguments)},i._Cosh=function(){return(i._Cosh=i.asm.Cosh).apply(null,arguments)},i._CropAndResize=function(){return(i._CropAndResize=i.asm.CropAndResize).apply(null,arguments)},i._Cumprod=function(){return(i._Cumprod=i.asm.Cumprod).apply(null,arguments)},i._Cumsum=function(){return(i._Cumsum=i.asm.Cumsum).apply(null,arguments)},i._DenseBincount=function(){return(i._DenseBincount=i.asm.DenseBincount).apply(null,arguments)},i._DepthToSpace=function(){return(i._DepthToSpace=i.asm.DepthToSpace).apply(null,arguments)},i._DepthwiseConv2dNative=function(){return(i._DepthwiseConv2dNative=i.asm.DepthwiseConv2dNative).apply(null,arguments)},i._Diag=function(){return(i._Diag=i.asm.Diag).apply(null,arguments)},i._Dilation2D=function(){return(i._Dilation2D=i.asm.Dilation2D).apply(null,arguments)},i._Dilation2DBackpropFilter=function(){return(i._Dilation2DBackpropFilter=i.asm.Dilation2DBackpropFilter).apply(null,arguments)},i._Dilation2DBackpropInput=function(){return(i._Dilation2DBackpropInput=i.asm.Dilation2DBackpropInput).apply(null,arguments)},i._Elu=function(){return(i._Elu=i.asm.Elu).apply(null,arguments)},i._EluGrad=function(){return(i._EluGrad=i.asm.EluGrad).apply(null,arguments)},i._Equal=function(){return(i._Equal=i.asm.Equal).apply(null,arguments)},i._Erf=function(){return(i._Erf=i.asm.Erf).apply(null,arguments)},i._Exp=function(){return(i._Exp=i.asm.Exp).apply(null,arguments)},i._Expm1=function(){return(i._Expm1=i.asm.Expm1).apply(null,arguments)},i._FlipLeftRight=function(){return(i._FlipLeftRight=i.asm.FlipLeftRight).apply(null,arguments)},i._Floor=function(){return(i._Floor=i.asm.Floor).apply(null,arguments)},i._FloorDiv=function(){return(i._FloorDiv=i.asm.FloorDiv).apply(null,arguments)},i._FusedBatchNorm=function(){return(i._FusedBatchNorm=i.asm.FusedBatchNorm).apply(null,arguments)},i._FusedConv2D=function(){return(i._FusedConv2D=i.asm.FusedConv2D).apply(null,arguments)},i._FusedDepthwiseConv2D=function(){return(i._FusedDepthwiseConv2D=i.asm.FusedDepthwiseConv2D).apply(null,arguments)},i._Gather=function(){return(i._Gather=i.asm.Gather).apply(null,arguments)},i._GatherNd=function(){return(i._GatherNd=i.asm.GatherNd).apply(null,arguments)},i._Greater=function(){return(i._Greater=i.asm.Greater).apply(null,arguments)},i._GreaterEqual=function(){return(i._GreaterEqual=i.asm.GreaterEqual).apply(null,arguments)},i._IsFinite=function(){return(i._IsFinite=i.asm.IsFinite).apply(null,arguments)},i._IsInf=function(){return(i._IsInf=i.asm.IsInf).apply(null,arguments)},i._IsNan=function(){return(i._IsNan=i.asm.IsNan).apply(null,arguments)},i._LRN=function(){return(i._LRN=i.asm.LRN).apply(null,arguments)},i._LRNGrad=function(){return(i._LRNGrad=i.asm.LRNGrad).apply(null,arguments)},i._LeakyRelu=function(){return(i._LeakyRelu=i.asm.LeakyRelu).apply(null,arguments)},i._Less=function(){return(i._Less=i.asm.Less).apply(null,arguments)},i._LessEqual=function(){return(i._LessEqual=i.asm.LessEqual).apply(null,arguments)},i._LinSpace=function(){return(i._LinSpace=i.asm.LinSpace).apply(null,arguments)},i._Log=function(){return(i._Log=i.asm.Log).apply(null,arguments)},i._Log1p=function(){return(i._Log1p=i.asm.Log1p).apply(null,arguments)},i._LogicalAnd=function(){return(i._LogicalAnd=i.asm.LogicalAnd).apply(null,arguments)},i._LogicalNot=function(){return(i._LogicalNot=i.asm.LogicalNot).apply(null,arguments)},i._LogicalOr=function(){return(i._LogicalOr=i.asm.LogicalOr).apply(null,arguments)},i._LogicalXor=function(){return(i._LogicalXor=i.asm.LogicalXor).apply(null,arguments)},i._Max=function(){return(i._Max=i.asm.Max).apply(null,arguments)},i._MaxPool=function(){return(i._MaxPool=i.asm.MaxPool).apply(null,arguments)},i._MaxPool3D=function(){return(i._MaxPool3D=i.asm.MaxPool3D).apply(null,arguments)},i._MaxPool3DGrad=function(){return(i._MaxPool3DGrad=i.asm.MaxPool3DGrad).apply(null,arguments)},i._MaxPoolGrad=function(){return(i._MaxPoolGrad=i.asm.MaxPoolGrad).apply(null,arguments)},i._MaxPoolWithArgmax=function(){return(i._MaxPoolWithArgmax=i.asm.MaxPoolWithArgmax).apply(null,arguments)},i._Maximum=function(){return(i._Maximum=i.asm.Maximum).apply(null,arguments)},i._Mean=function(){return(i._Mean=i.asm.Mean).apply(null,arguments)},i._Min=function(){return(i._Min=i.asm.Min).apply(null,arguments)},i._Minimum=function(){return(i._Minimum=i.asm.Minimum).apply(null,arguments)},i._MirrorPad=function(){return(i._MirrorPad=i.asm.MirrorPad).apply(null,arguments)},i._Mod=function(){return(i._Mod=i.asm.Mod).apply(null,arguments)},i._Multinomial=function(){return(i._Multinomial=i.asm.Multinomial).apply(null,arguments)},i._Multiply=function(){return(i._Multiply=i.asm.Multiply).apply(null,arguments)},i._Neg=function(){return(i._Neg=i.asm.Neg).apply(null,arguments)},i._NonMaxSuppressionV3=function(){return(i._NonMaxSuppressionV3=i.asm.NonMaxSuppressionV3).apply(null,arguments)},i._NonMaxSuppressionV4=function(){return(i._NonMaxSuppressionV4=i.asm.NonMaxSuppressionV4).apply(null,arguments)},i._NonMaxSuppressionV5=function(){return(i._NonMaxSuppressionV5=i.asm.NonMaxSuppressionV5).apply(null,arguments)},i._NotEqual=function(){return(i._NotEqual=i.asm.NotEqual).apply(null,arguments)},i._OneHot=function(){return(i._OneHot=i.asm.OneHot).apply(null,arguments)},i._PadV2=function(){return(i._PadV2=i.asm.PadV2).apply(null,arguments)},i._Pow=function(){return(i._Pow=i.asm.Pow).apply(null,arguments)},i._Prelu=function(){return(i._Prelu=i.asm.Prelu).apply(null,arguments)},i._Prod=function(){return(i._Prod=i.asm.Prod).apply(null,arguments)},i._RealDiv=function(){return(i._RealDiv=i.asm.RealDiv).apply(null,arguments)},i._Reciprocal=function(){return(i._Reciprocal=i.asm.Reciprocal).apply(null,arguments)},i._Relu=function(){return(i._Relu=i.asm.Relu).apply(null,arguments)},i._Relu6=function(){return(i._Relu6=i.asm.Relu6).apply(null,arguments)},i._ResizeBilinear=function(){return(i._ResizeBilinear=i.asm.ResizeBilinear).apply(null,arguments)},i._ResizeBilinearGrad=function(){return(i._ResizeBilinearGrad=i.asm.ResizeBilinearGrad).apply(null,arguments)},i._ResizeNearestNeighbor=function(){return(i._ResizeNearestNeighbor=i.asm.ResizeNearestNeighbor).apply(null,arguments)},i._ResizeNearestNeighborGrad=function(){return(i._ResizeNearestNeighborGrad=i.asm.ResizeNearestNeighborGrad).apply(null,arguments)},i._Reverse=function(){return(i._Reverse=i.asm.Reverse).apply(null,arguments)},i._RotateWithOffset=function(){return(i._RotateWithOffset=i.asm.RotateWithOffset).apply(null,arguments)},i._Round=function(){return(i._Round=i.asm.Round).apply(null,arguments)},i._Rsqrt=function(){return(i._Rsqrt=i.asm.Rsqrt).apply(null,arguments)},i._ScatterNd=function(){return(i._ScatterNd=i.asm.ScatterNd).apply(null,arguments)},i._SearchSorted=function(){return(i._SearchSorted=i.asm.SearchSorted).apply(null,arguments)},i._SelectV2=function(){return(i._SelectV2=i.asm.SelectV2).apply(null,arguments)},i._Selu=function(){return(i._Selu=i.asm.Selu).apply(null,arguments)},i._Sigmoid=function(){return(i._Sigmoid=i.asm.Sigmoid).apply(null,arguments)},i._Sign=function(){return(i._Sign=i.asm.Sign).apply(null,arguments)},i._Sin=function(){return(i._Sin=i.asm.Sin).apply(null,arguments)},i._Sinh=function(){return(i._Sinh=i.asm.Sinh).apply(null,arguments)},i._Softmax=function(){return(i._Softmax=i.asm.Softmax).apply(null,arguments)},i._Softplus=function(){return(i._Softplus=i.asm.Softplus).apply(null,arguments)},i._SparseFillEmptyRows=function(){return(i._SparseFillEmptyRows=i.asm.SparseFillEmptyRows).apply(null,arguments)},i._SparseReshape=function(){return(i._SparseReshape=i.asm.SparseReshape).apply(null,arguments)},i._SparseSegmentReduction=function(){return(i._SparseSegmentReduction=i.asm.SparseSegmentReduction).apply(null,arguments)},i._SparseToDense=function(){return(i._SparseToDense=i.asm.SparseToDense).apply(null,arguments)},i._Sqrt=function(){return(i._Sqrt=i.asm.Sqrt).apply(null,arguments)},i._Square=function(){return(i._Square=i.asm.Square).apply(null,arguments)},i._SquaredDifference=function(){return(i._SquaredDifference=i.asm.SquaredDifference).apply(null,arguments)},i._Step=function(){return(i._Step=i.asm.Step).apply(null,arguments)},i._StridedSlice=function(){return(i._StridedSlice=i.asm.StridedSlice).apply(null,arguments)},i._Sub=function(){return(i._Sub=i.asm.Sub).apply(null,arguments)},i._Sum=function(){return(i._Sum=i.asm.Sum).apply(null,arguments)},i._Tan=function(){return(i._Tan=i.asm.Tan).apply(null,arguments)},i._Tanh=function(){return(i._Tanh=i.asm.Tanh).apply(null,arguments)},i._TensorScatterUpdate=function(){return(i._TensorScatterUpdate=i.asm.TensorScatterUpdate).apply(null,arguments)},i._Tile=function(){return(i._Tile=i.asm.Tile).apply(null,arguments)},i._TopK=function(){return(i._TopK=i.asm.TopK).apply(null,arguments)},i._Transform=function(){return(i._Transform=i.asm.Transform).apply(null,arguments)},i._Transpose=function(){return(i._Transpose=i.asm.Transpose).apply(null,arguments)},i.__FusedMatMul=function(){return(i.__FusedMatMul=i.asm._FusedMatMul).apply(null,arguments)},i._malloc=function(){return(i._malloc=i.asm.malloc).apply(null,arguments)},i._free=function(){return(i._free=i.asm.free).apply(null,arguments)},i.___errno_location=function(){return(i.___errno_location=i.asm.__errno_location).apply(null,arguments)},i.stackSave=function(){return(re=i.stackSave=i.asm.stackSave).apply(null,arguments)}),ae=i.stackRestore=function(){return(ae=i.stackRestore=i.asm.stackRestore).apply(null,arguments)},oe=i.stackAlloc=function(){return(oe=i.stackAlloc=i.asm.stackAlloc).apply(null,arguments)};i.dynCall_iijjiiii=function(){return(i.dynCall_iijjiiii=i.asm.dynCall_iijjiiii).apply(null,arguments)},i.dynCall_jiji=function(){return(i.dynCall_jiji=i.asm.dynCall_jiji).apply(null,arguments)};function ie(e){function t(){Z||(Z=!0,i.calledRun=!0,x||(K(F),r(i),i.onRuntimeInitialized&&i.onRuntimeInitialized(),function(){if(i.postRun)for("function"==typeof i.postRun&&(i.postRun=[i.postRun]);i.postRun.length;)P(i.postRun.shift());K(R)}()))}e=e||d,L>0||(!function(){if(i.preRun)for("function"==typeof i.preRun&&(i.preRun=[i.preRun]);i.preRun.length;)D(i.preRun.shift());K(O)}(),L>0||(i.setStatus?(i.setStatus("Running..."),setTimeout(function(){setTimeout(function(){i.setStatus("")},1),t()},1)):t()))}if(i.cwrap=function(e,t,n,r){var a=(n=n||[]).every(e=>"number"===e||"boolean"===e);return"string"!==t&&a&&!r?X(e):function(){return J(e,t,n,arguments)}},B=function e(){Z||ie(),Z||(B=e)},i.preInit)for("function"==typeof i.preInit&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();if(ie(),o&&(ee={uncaughtException:process.listeners("uncaughtException").filter(function(e){return!o.uncaughtException.indexOf(e)>-1}),unhandledRejection:process.listeners("unhandledRejection").filter(function(e){return!o.unhandledRejection.indexOf(e)>-1})}),"undefined"!==typeof t)te=t;else{if("undefined"===typeof WasmBackendModuleThreadedSimd)throw new Error("Could not find wasm module in post.js");te=WasmBackendModuleThreadedSimd}if(ee){var se=te._dispose;te._dispose=function(){se(),ee.uncaughtException.forEach(function(e){process.removeListener("uncaughtException",e)}),ee.unhandledRejection.forEach(function(e){process.removeListener("unhandledRejection",e)})}}return t.ready}})();e.exports=r},1540:e=>{var t="\\ud800-\\udfff",n="\\u2700-\\u27bf",r="a-z\\xdf-\\xf6\\xf8-\\xff",a="A-Z\\xc0-\\xd6\\xd8-\\xde",o="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",i="["+o+"]",s="\\d+",l="["+n+"]",u="["+r+"]",c="[^"+t+o+s+n+r+a+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",h="["+a+"]",f="(?:"+u+"|"+c+")",m="(?:"+h+"|"+c+")",g="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",v="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",y="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",b="[\\ufe0e\\ufe0f]?",w=b+y+("(?:\\u200d(?:"+["[^"+t+"]",d,p].join("|")+")"+b+y+")*"),k="(?:"+[l,d,p].join("|")+")"+w,S=RegExp([h+"?"+u+"+"+g+"(?="+[i,h,"$"].join("|")+")",m+"+"+v+"(?="+[i,h+f,"$"].join("|")+")",h+"?"+f+"+"+g,h+"+"+v,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",s,k].join("|"),"g");e.exports=function(e){return e.match(S)||[]}},2037:e=>{e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},2330:(e,t,n)=>{"use strict";var r=n(5043);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=r.useState,i=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!a(e,n)}catch(r){return!0}}var c="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),a=r[0].inst,c=r[1];return s(function(){a.value=n,a.getSnapshot=t,u(a)&&c({inst:a})},[e,n,t]),i(function(){return u(a)&&c({inst:a}),e(function(){u(a)&&c({inst:a})})},[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},2430:function(e,t,n){var r;!function(a,o,i){var s,l=256,u=i.pow(l,6),c=i.pow(2,52),d=2*c,p=255;function h(e,t,n){var r=[],p=v(g((t=1==t?{entropy:!0}:t||{}).entropy?[e,y(o)]:null==e?function(){try{var e;return s&&(e=s.randomBytes)?e=e(l):(e=new Uint8Array(l),(a.crypto||a.msCrypto).getRandomValues(e)),y(e)}catch(r){var t=a.navigator,n=t&&t.plugins;return[+new Date,a,n,a.screen,y(o)]}}():e,3),r),h=new f(r),b=function(){for(var e=h.g(6),t=u,n=0;e<c;)e=(e+n)*l,t*=l,n=h.g(1);for(;e>=d;)e/=2,t/=2,n>>>=1;return(e+n)/t};return b.int32=function(){return 0|h.g(4)},b.quick=function(){return h.g(4)/4294967296},b.double=b,v(y(h.S),o),(t.pass||n||function(e,t,n,r){return r&&(r.S&&m(r,h),e.state=function(){return m(h,{})}),n?(i.random=e,t):e})(b,p,"global"in t?t.global:this==i,t.state)}function f(e){var t,n=e.length,r=this,a=0,o=r.i=r.j=0,i=r.S=[];for(n||(e=[n++]);a<l;)i[a]=a++;for(a=0;a<l;a++)i[a]=i[o=p&o+e[a%n]+(t=i[a])],i[o]=t;(r.g=function(e){for(var t,n=0,a=r.i,o=r.j,i=r.S;e--;)t=i[a=p&a+1],n=n*l+i[p&(i[a]=i[o=p&o+t])+(i[o]=t)];return r.i=a,r.j=o,n})(l)}function m(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function g(e,t){var n,r=[],a=typeof e;if(t&&"object"==a)for(n in e)try{r.push(g(e[n],t-1))}catch(o){}return r.length?r:"string"==a?e:e+"\0"}function v(e,t){for(var n,r=e+"",a=0;a<r.length;)t[p&a]=p&(n^=19*t[p&a])+r.charCodeAt(a++);return y(t)}function y(e){return String.fromCharCode.apply(0,e)}if(v(i.random(),o),e.exports){e.exports=h;try{s=n(1234)}catch(b){}}else void 0===(r=function(){return h}.call(t,n,t,e))||(e.exports=r)}("undefined"!==typeof self?self:this,[],Math)},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element");function r(e,t,r){var a=null;if(void 0!==r&&(a=""+r),void 0!==t.key&&(a=""+t.key),"key"in t)for(var o in r={},t)"key"!==o&&(r[o]=t[o]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:a,ref:void 0!==t?t:null,props:r}}Symbol.for("react.fragment"),t.jsx=r,t.jsxs=r},3086:(e,t,n)=>{var r=n(2037)({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"});e.exports=r},3556:()=>{},4052:e=>{var t=Array.isArray;e.exports=t},4288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),f=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||m}function b(){}function w(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||m}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=y.prototype;var k=w.prototype=new b;k.constructor=w,g(k,y.prototype),k.isPureReactComponent=!0;var S=Array.isArray;function x(){}var I={H:null,A:null,T:null,S:null},_=Object.prototype.hasOwnProperty;function E(e,t,r){var a=r.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==a?a:null,props:r}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var N=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function M(e,t,a,o,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,u,c=!1;if(null===e)c=!0;else switch(s){case"bigint":case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0;break;case p:return M((c=e._init)(e._payload),t,a,o,i)}}if(c)return i=i(e),c=""===o?"."+C(e,0):o,S(i)?(a="",null!=c&&(a=c.replace(N,"$&/")+"/"),M(i,t,a,"",function(e){return e})):null!=i&&(T(i)&&(l=i,u=a+(null==i.key||e&&e.key===i.key?"":(""+i.key).replace(N,"$&/")+"/")+c,i=E(l.type,u,l.props)),t.push(i)),1;c=0;var d,h=""===o?".":o+":";if(S(e))for(var m=0;m<e.length;m++)c+=M(o=e[m],t,a,s=h+C(o,m),i);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(o=e.next()).done;)c+=M(o=o.value,t,a,s=h+C(o,m++),i);else if("object"===s){if("function"===typeof e.then)return M(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(x,x):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,a,o,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return c}function A(e,t,n){if(null==e)return e;var r=[],a=0;return M(e,r,"","",function(e){return t.call(n,e,a++)}),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var F="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},R={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=h,t.Children=R,t.Component=y,t.Fragment=a,t.Profiler=i,t.PureComponent=w,t.StrictMode=o,t.Suspense=c,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return I.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),a=e.key;if(null!=t)for(o in void 0!==t.key&&(a=""+t.key),t)!_.call(t,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===t.ref||(r[o]=t[o]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var i=Array(o),s=0;s<o;s++)i[s]=arguments[s+2];r.children=i}return E(e.type,a,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,n){var r,a={},o=null;if(null!=t)for(r in void 0!==t.key&&(o=""+t.key),t)_.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(a[r]=t[r]);var i=arguments.length-2;if(1===i)a.children=n;else if(1<i){for(var s=Array(i),l=0;l<i;l++)s[l]=arguments[l+2];a.children=s}if(e&&e.defaultProps)for(r in i=e.defaultProps)void 0===a[r]&&(a[r]=i[r]);return E(e,o,a)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=I.T,n={};I.T=n;try{var r=e(),a=I.S;null!==a&&a(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(x,F)}catch(o){F(o)}finally{null!==t&&null!==n.types&&(t.types=n.types),I.T=t}},t.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},t.use=function(e){return I.H.use(e)},t.useActionState=function(e,t,n){return I.H.useActionState(e,t,n)},t.useCallback=function(e,t){return I.H.useCallback(e,t)},t.useContext=function(e){return I.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return I.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return I.H.useEffect(e,t)},t.useEffectEvent=function(e){return I.H.useEffectEvent(e)},t.useId=function(){return I.H.useId()},t.useImperativeHandle=function(e,t,n){return I.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return I.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return I.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return I.H.useMemo(e,t)},t.useOptimistic=function(e,t){return I.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return I.H.useReducer(e,t,n)},t.useRef=function(e){return I.H.useRef(e)},t.useState=function(e){return I.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return I.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return I.H.useTransition()},t.version="19.2.0"},4334:(e,t,n)=>{var r=n(7359),a=n(7066),o=n(9016),i=n(9538),s=n(6288),l=n(5262),u=n(2430);u.alea=r,u.xor128=a,u.xorwow=o,u.xorshift7=i,u.xor4096=s,u.tychei=l,e.exports=u},4391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(7004)},4552:(e,t,n)=>{var r=n(9812),a=Object.prototype,o=a.hasOwnProperty,i=a.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(l){}var a=i.call(e);return r&&(t?e[s]=n:delete e[s]),a}},4971:(e,t,n)=>{var r=n(3086),a=n(1069),o=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,i=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=a(e))&&e.replace(o,r).replace(i,"")}},5043:(e,t,n)=>{"use strict";e.exports=n(4288)},5262:function(e,t,n){var r;!function(e,a){function o(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,a=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^a,a=a-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^a,t.a=a-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function i(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function s(e,t){var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&i(r,n),a.state=function(){return i(n,{})}),a}a&&a.exports?a.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,a))||(a.exports=r):this.tychei=s}(0,e=n.nmd(e),n.amdD)},5281:()=>{},5615:function(e,t,n){(function(){"use strict";var e;function t(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var r="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var a=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")}(this);function o(e,t){if(t)e:{var n=a;e=e.split(".");for(var o=0;o<e.length-1;o++){var i=e[o];if(!(i in n))break e;n=n[i]}(t=t(o=n[e=e[e.length-1]]))!=o&&null!=t&&r(n,e,{configurable:!0,writable:!0,value:t})}}function i(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function s(e){var n="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return n?n.call(e):{next:t(e)}}function l(e){if(!(e instanceof Array)){e=s(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}o("Symbol",function(e){function t(e,t){this.g=e,r(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.g};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",a=0;return function e(r){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t(n+(r||"")+"_"+a++,r)}}),o("Symbol.iterator",function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var n="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),o=0;o<n.length;o++){var s=a[n[o]];"function"===typeof s&&"function"!=typeof s.prototype[e]&&r(s.prototype,e,{configurable:!0,writable:!0,value:function(){return i(t(this))}})}return e});var u,c="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)u=Object.setPrototypeOf;else{var d;e:{var p={};try{p.__proto__={a:!0},d=p.a;break e}catch(Gt){}d=!1}u=d?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var h=u;function f(e,t){if(e.prototype=c(t.prototype),e.prototype.constructor=e,h)h(e,t);else for(var n in t)if("prototype"!=n)if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(t,n);r&&Object.defineProperty(e,n,r)}else e[n]=t[n];e.na=t.prototype}function m(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.u=this.o=0,this.j=null}function g(e){if(e.l)throw new TypeError("Generator is already running");e.l=!0}function v(e,t){e.j={da:t,ea:!0},e.g=e.o||e.u}function y(e,t,n){return e.g=n,{value:t}}function b(e){this.g=new m,this.h=e}function w(e,t,n,r){try{var a=t.call(e.g.i,n);if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");if(!a.done)return e.g.l=!1,a;var o=a.value}catch(i){return e.g.i=null,v(e.g,i),k(e)}return e.g.i=null,r.call(e.g,o),k(e)}function k(e){for(;e.g.g;)try{var t=e.h(e.g);if(t)return e.g.l=!1,{value:t.value,done:!1}}catch(n){e.g.h=void 0,v(e.g,n)}if(e.g.l=!1,e.g.j){if(t=e.g.j,e.g.j=null,t.ea)throw t.da;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function S(e){this.next=function(t){return g(e.g),e.g.i?t=w(e,e.g.i.next,t,e.g.s):(e.g.s(t),t=k(e)),t},this.throw=function(t){return g(e.g),e.g.i?t=w(e,e.g.i.throw,t,e.g.s):(v(e.g,t),t=k(e)),t},this.return=function(t){return function(e,t){g(e.g);var n=e.g.i;return n?w(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.g.return):(e.g.return(t),k(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function x(e){return function(e){function t(t){return e.next(t)}function n(t){return e.throw(t)}return new Promise(function(r,a){!function e(o){o.done?r(o.value):Promise.resolve(o.value).then(t,n).then(e,a)}(e.next())})}(new S(new b(e)))}m.prototype.s=function(e){this.h=e},m.prototype.return=function(e){this.j={return:e},this.g=this.u},o("Promise",function(e){function t(e){this.h=0,this.i=void 0,this.g=[],this.s=!1;var t=this.j();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.g=null}function r(e){return e instanceof t?e:new t(function(t){t(e)})}if(e)return e;n.prototype.h=function(e){if(null==this.g){this.g=[];var t=this;this.i(function(){t.l()})}this.g.push(e)};var o=a.setTimeout;n.prototype.i=function(e){o(e,0)},n.prototype.l=function(){for(;this.g&&this.g.length;){var e=this.g;this.g=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.j(r)}}}this.g=null},n.prototype.j=function(e){this.i(function(){throw e})},t.prototype.j=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.D),reject:e(this.l)}},t.prototype.D=function(e){if(e===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.H(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.A(e):this.o(e)}},t.prototype.A=function(e){var t=void 0;try{t=e.then}catch(n){return void this.l(n)}"function"==typeof t?this.I(t,e):this.o(e)},t.prototype.l=function(e){this.u(2,e)},t.prototype.o=function(e){this.u(1,e)},t.prototype.u=function(e,t){if(0!=this.h)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.h);this.h=e,this.i=t,2===this.h&&this.G(),this.B()},t.prototype.G=function(){var e=this;o(function(){if(e.C()){var t=a.console;"undefined"!==typeof t&&t.error(e.i)}},1)},t.prototype.C=function(){if(this.s)return!1;var e=a.CustomEvent,t=a.Event,n=a.dispatchEvent;return"undefined"===typeof n||("function"===typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"===typeof t?e=new t("unhandledrejection",{cancelable:!0}):(e=a.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,e),e.promise=this,e.reason=this.i,n(e))},t.prototype.B=function(){if(null!=this.g){for(var e=0;e<this.g.length;++e)i.h(this.g[e]);this.g=null}};var i=new n;return t.prototype.H=function(e){var t=this.j();e.M(t.resolve,t.reject)},t.prototype.I=function(e,t){var n=this.j();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{a(e(t))}catch(n){o(n)}}:t}var a,o,i=new t(function(e,t){a=e,o=t});return this.M(r(e,a),r(n,o)),i},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.M=function(e,t){function n(){switch(r.h){case 1:e(r.i);break;case 2:t(r.i);break;default:throw Error("Unexpected state: "+r.h)}}var r=this;null==this.g?i.h(n):this.g.push(n),this.s=!0},t.resolve=r,t.reject=function(e){return new t(function(t,n){n(e)})},t.race=function(e){return new t(function(t,n){for(var a=s(e),o=a.next();!o.done;o=a.next())r(o.value).M(t,n)})},t.all=function(e){var n=s(e),a=n.next();return a.done?r([]):new t(function(e,t){function o(t){return function(n){i[t]=n,0==--s&&e(i)}}var i=[],s=0;do{i.push(void 0),s++,r(a.value).M(o(i.length-1),t),a=n.next()}while(!a.done)})},t});var I="function"==typeof Object.assign?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};o("Object.assign",function(e){return e||I}),o("Object.is",function(e){return e||function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}}),o("Array.prototype.includes",function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var r=n.length;for(0>(t=t||0)&&(t=Math.max(t+r,0));t<r;t++){var a=n[t];if(a===e||Object.is(a,e))return!0}return!1}}),o("String.prototype.includes",function(e){return e||function(e,t){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==this.indexOf(e,t||0)}}),o("Array.prototype.keys",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,a={next:function(){if(!r&&n<e.length){var a=n++;return{value:t(a,e[a]),done:!1}}return r=!0,{done:!0,value:void 0}}};return a[Symbol.iterator]=function(){return a},a}(this,function(e){return e})}});var _=this||self;function E(e,t){e=e.split(".");var n,r=_;e[0]in r||"undefined"==typeof r.execScript||r.execScript("var "+e[0]);for(;e.length&&(n=e.shift());)e.length||void 0===t?r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}:r[n]=t}function T(){throw Error("Invalid UTF8")}function N(e,t){return t=String.fromCharCode.apply(null,t),null==e?t:e+t}var C,M,A="undefined"!==typeof TextDecoder,O="undefined"!==typeof TextEncoder,F={},R=null;function D(e){var t;void 0===t&&(t=0),L(),t=F[t];for(var n=Array(Math.floor(e.length/3)),r=t[64]||"",a=0,o=0;a<e.length-2;a+=3){var i=e[a],s=e[a+1],l=e[a+2],u=t[i>>2];i=t[(3&i)<<4|s>>4],s=t[(15&s)<<2|l>>6],l=t[63&l],n[o++]=u+i+s+l}switch(u=0,l=r,e.length-a){case 2:l=t[(15&(u=e[a+1]))<<2]||r;case 1:e=e[a],n[o]=t[e>>2]+t[(3&e)<<4|u>>4]+l+r}return n.join("")}function P(e){var t=e.length,n=3*t/4;n%3?n=Math.floor(n):-1!="=.".indexOf(e[t-1])&&(n=-1!="=.".indexOf(e[t-2])?n-2:n-1);var r=new Uint8Array(n),a=0;return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),a=R[n];if(null!=a)return a;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}L();for(var r=0;;){var a=n(-1),o=n(0),i=n(64),s=n(64);if(64===s&&-1===a)break;t(a<<2|o>>4),64!=i&&(t(o<<4&240|i>>2),64!=s&&t(i<<6&192|s))}}(e,function(e){r[a++]=e}),a!==n?r.subarray(0,a):r}function L(){if(!R){R={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++){var r=e.concat(t[n].split(""));F[n]=r;for(var a=0;a<r.length;a++){var o=r[a];void 0===R[o]&&(R[o]=a)}}}}var z,B="function"===typeof Uint8Array;function W(e){return B&&null!=e&&e instanceof Uint8Array}function U(e){if(this.L=e,null!==e&&0===e.length)throw Error("ByteString should be constructed with non-empty values")}var j="function"===typeof Uint8Array.prototype.slice,H=0;function V(e,t){return Error("Invalid wire type: "+e+" (at position "+t+")")}function q(){return Error("Failed to read varint, encoding is invalid.")}function G(e,t){t=void 0!==(t=void 0===t?{}:t).v&&t.v,this.h=null,this.g=this.i=this.j=0,this.v=t,e&&K(this,e)}function K(e,t){e.h=function(e,t){if(e.constructor===Uint8Array)return e;if(e.constructor===ArrayBuffer)return new Uint8Array(e);if(e.constructor===Array)return new Uint8Array(e);if(e.constructor===String)return P(e);if(e.constructor===U)return!t&&(t=e.L)&&t.constructor===Uint8Array?t:(t=null==(t=e.L)||W(t)?t:"string"===typeof t?P(t):null,(e=e.L=t)?new Uint8Array(e):z||(z=new Uint8Array(0)));if(e instanceof Uint8Array)return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, or Array of numbers")}(t,e.v),e.j=0,e.i=e.h.length,e.g=e.j}function $(e){if(e.g>e.i)throw Error("Tried to read past the end of the data "+e.g+" > "+e.i)}function Y(e){var t=e.h,n=t[e.g],r=127&n;if(128>n)return e.g+=1,$(e),r;if(r|=(127&(n=t[e.g+1]))<<7,128>n)return e.g+=2,$(e),r;if(r|=(127&(n=t[e.g+2]))<<14,128>n)return e.g+=3,$(e),r;if(r|=(127&(n=t[e.g+3]))<<21,128>n)return e.g+=4,$(e),r;if(n=t[e.g+4],e.g+=5,r|=(15&n)<<28,128>n)return $(e),r;if(128<=t[e.g++]&&128<=t[e.g++]&&128<=t[e.g++]&&128<=t[e.g++]&&128<=t[e.g++])throw q();return $(e),r}G.prototype.reset=function(){this.g=this.j};var Q=[];function X(){this.g=[]}function J(e,t){for(;127<t;)e.g.push(127&t|128),t>>>=7;e.g.push(t)}function Z(e){var t={},n=void 0!==t.W&&t.W;this.l={v:void 0!==t.v&&t.v},this.W=n,t=this.l,Q.length?(n=Q.pop(),t&&(n.v=t.v),e&&K(n,e),e=n):e=new G(e,t),this.g=e,this.j=this.g.g,this.h=this.i=-1}function ee(e){var t=e.g;if(t.g==t.i)return!1;e.j=e.g.g;var n=Y(e.g)>>>0;if(t=n>>>3,!(0<=(n&=7)&&5>=n))throw V(n,e.j);if(1>t)throw Error("Invalid field number: "+t+" (at position "+e.j+")");return e.i=t,e.h=n,!0}function te(e){switch(e.h){case 0:if(0!=e.h)te(e);else e:{for(var t=(e=e.g).g,n=t+10;t<n;)if(0===(128&e.h[t++])){e.g=t,$(e);break e}throw q()}break;case 1:(e=e.g).g+=8,$(e);break;case 2:2!=e.h?te(e):(t=Y(e.g)>>>0,(e=e.g).g+=t,$(e));break;case 5:(e=e.g).g+=4,$(e);break;case 3:for(t=e.i;;){if(!ee(e))throw Error("Unmatched start-group tag: stream EOF");if(4==e.h){if(e.i!=t)throw Error("Unmatched end-group tag");break}te(e)}break;default:throw V(e.h,e.j)}}X.prototype.length=function(){return this.g.length},X.prototype.end=function(){var e=this.g;return this.g=[],e},Z.prototype.reset=function(){this.g.reset(),this.j=this.g.g,this.h=this.i=-1};var ne=[];function re(){this.i=[],this.h=0,this.g=new X}function ae(e,t){0!==t.length&&(e.i.push(t),e.h+=t.length)}var oe="function"===typeof Symbol&&"symbol"===typeof Symbol()?Symbol(void 0):void 0;function ie(e,t){Object.isFrozen(e)||(oe?e[oe]|=t:void 0!==e.N?e.N|=t:Object.defineProperties(e,{N:{value:t,configurable:!0,writable:!0,enumerable:!1}}))}function se(e){var t;return null==(t=oe?e[oe]:e.N)?0:t}function le(e){return ie(e,1),e}function ue(e){return!!Array.isArray(e)&&!!(2&se(e))}function ce(e){if(!Array.isArray(e))throw Error("cannot mark non-array as immutable");ie(e,2)}function de(e){return null!==e&&"object"===typeof e&&!Array.isArray(e)&&e.constructor===Object}var pe=Object.freeze(le([]));function he(e){if(ue(e.m))throw Error("Cannot mutate an immutable Message")}var fe,me="undefined"!=typeof Symbol&&"undefined"!=typeof Symbol.hasInstance;function ge(e){return{value:e,configurable:!1,writable:!1,enumerable:!1}}function ve(e,t,n){return-1===t?null:t>=e.i?e.g?e.g[t]:void 0:void 0!==n&&n&&e.g&&null!=(n=e.g[t])?n:e.m[t+e.h]}function ye(e,t,n,r){r=void 0!==r&&r,he(e),t<e.i&&!r?e.m[t+e.h]=n:(e.g||(e.g=e.m[e.i+e.h]={}))[t]=n}function be(e,t,n,r){n=void 0===n||n;var a=ve(e,t,r=void 0!==r&&r);return null==a&&(a=pe),ue(e.m)?n&&(ce(a),Object.freeze(a)):(a===pe||ue(a))&&ye(e,t,a=le(a.slice()),r),a}function we(e,t,n){return null==(e=null==(e=ve(e,t))?e:+e)?void 0===n?0:n:e}function ke(e,t,n,r){e.j||(e.j={});var a=ue(e.m),o=e.j[n];if(!o){r=be(e,n,!0,void 0!==r&&r),o=[],a=a||ue(r);for(var i=0;i<r.length;i++)o[i]=new t(r[i]),a&&ce(o[i].m);a&&(ce(o),Object.freeze(o)),e.j[n]=o}return o}function Se(e,t,n,r,a){var o=void 0!==o&&o;return he(e),o=ke(e,n,t,o),n=r||new n,e=be(e,t),void 0!=a?(o.splice(a,0,n),e.splice(a,0,n.m)):(o.push(n),e.push(n.m)),n}function xe(e,t){return null==(e=ve(e,t))?0:e}function Ie(e,t){return null==(e=ve(e,t))?"":e}function _e(e){var t=Ne;return Te(e,t=void 0===t?Ce:t)}function Ee(e,t){if(null!=e){if(Array.isArray(e))e=Te(e,t);else if(de(e)){var n,r={};for(n in e)r[n]=Ee(e[n],t);e=r}else e=t(e);return e}}function Te(e,t){for(var n=e.slice(),r=0;r<n.length;r++)n[r]=Ee(n[r],t);return Array.isArray(e)&&1&se(e)&&le(n),n}function Ne(e){return e&&"object"==typeof e&&e.toJSON?e.toJSON():(e=function(e){switch(typeof e){case"number":return isFinite(e)?e:String(e);case"object":if(e&&!Array.isArray(e)){if(W(e))return D(e);if(e instanceof U){var t=e.L;return t=null==t||"string"===typeof t?t:B&&t instanceof Uint8Array?D(t):null,(e.L=t)||""}}}return e}(e),Array.isArray(e)?_e(e):e)}function Ce(e){return W(e)?new Uint8Array(e):e}function Me(e,t,n){e||(e=fe),fe=null;var r=this.constructor.h;if(e||(e=r?[r]:[]),this.h=(r?0:-1)-(this.constructor.g||0),this.j=void 0,this.m=e,e=(r=this.m.length)-1,r&&de(r=this.m[e])?(this.i=e-this.h,this.g=r):void 0!==t&&-1<t?(this.i=Math.max(t,e+1-this.h),this.g=void 0):this.i=Number.MAX_VALUE,n)for(t=0;t<n.length;t++)if((e=n[t])<this.i)e+=this.h,(r=this.m[e])?Array.isArray(r)&&le(r):this.m[e]=pe;else{var a=(r=this.g||(this.g=this.m[this.i+this.h]={}))[e];a?Array.isArray(a)&&le(a):r[e]=pe}}function Ae(){Me.apply(this,arguments)}if(Me.prototype.toJSON=function(){return _e(this.m)},Me.prototype.toString=function(){return this.m.toString()},f(Ae,Me),me){var Oe={};Object.defineProperties(Ae,(Oe[Symbol.hasInstance]=ge(function(){throw Error("Cannot perform instanceof checks for MutableMessage")}),Oe))}function Fe(e,t,n){if(n){var r,a={};for(r in n){var o=n[r],i=o.ha;i||(a.F=o.la||o.fa.P,o.aa?(a.U=We(o.aa),i=function(e){return function(t,n,r){return e.F(t,n,r,e.U)}}(a)):o.ca?(a.T=Ue(o.X.g,o.ca),i=function(e){return function(t,n,r){return e.F(t,n,r,e.T)}}(a)):i=a.F,o.ha=i),i(t,e,o.X),a={F:a.F,U:a.U,T:a.T}}}!function(e,t){if(t=t.ba){ae(e,e.g.end());for(var n=0;n<t.length;n++)ae(e,t[n])}}(t,e)}var Re=Symbol();function De(e,t,n){return e[Re]||(e[Re]=function(e,r){return t(e,r,n)})}function Pe(e){var t=e[Re];if(!t){var n=Ze(e);t=function(e,t){return et(e,t,n)},e[Re]=t}return t}function Le(e){var t=function(e){var t=e.aa;return t?Pe(t):(t=e.ka)?De(e.X.g,t,e.ca):void 0}(e),n=e.X,r=e.fa.O;return t?function(e,a){return r(e,a,n,t)}:function(e,t){return r(e,t,n)}}function ze(e,t,n,r,a,o){var i=0;for((e=e()).length&&"number"!==typeof e[0]&&(n(t,e[0]),i++);i<e.length;){n=e[i++];for(var s=i+1;s<e.length&&"number"!==typeof e[s];)s++;var l=e[i++];switch(s-=i){case 0:r(t,n,l);break;case 1:r(t,n,l,e[i++]);break;case 2:a(t,n,l,e[i++],e[i++]);break;case 3:s=e[i++];var u=e[i++],c=e[i++];Array.isArray(c)?a(t,n,l,s,u,c):o(t,n,l,s,u,c);break;case 4:o(t,n,l,e[i++],e[i++],e[i++],e[i++]);break;default:throw Error("unexpected number of binary field arguments: "+s)}}return t}var Be=Symbol();function We(e){var t=e[Be];if(!t){var n=Ke(e);t=function(e,t){return nt(e,t,n)},e[Be]=t}return t}function Ue(e,t){var n=e[Be];return n||(n=function(e,n){return Fe(e,n,t)},e[Be]=n),n}var je=Symbol();function He(e,t){e.push(t)}function Ve(e,t,n){e.push(t,n.P)}function qe(e,t,n,r,a){var o=We(a),i=n.P;e.push(t,function(e,t,n){return i(e,t,n,r,o)})}function Ge(e,t,n,r,a,o){var i=Ue(r,o),s=n.P;e.push(t,function(e,t,n){return s(e,t,n,r,i)})}function Ke(e){var t=e[je];return t||ze(e,e[je]=[],He,Ve,qe,Ge)}var $e=Symbol();function Ye(e,t){e[0]=t}function Qe(e,t,n,r){var a=n.O;e[t]=r?function(e,t,n){return a(e,t,n,r)}:a}function Xe(e,t,n,r,a,o){var i=n.O,s=Pe(a);e[t]=function(e,t,n){return i(e,t,n,r,s,o)}}function Je(e,t,n,r,a,o,i){var s=n.O,l=De(r,a,o);e[t]=function(e,t,n){return s(e,t,n,r,l,i)}}function Ze(e){var t=e[$e];return t||ze(e,e[$e]={},Ye,Qe,Xe,Je)}function et(e,t,n){for(;ee(t)&&4!=t.h;){var r=t.i,a=n[r];if(!a){var o=n[0];o&&(o=o[r])&&(a=n[r]=Le(o))}if((!a||!a(t,e,r))&&(r=e,o=(a=t).j,te(a),!a.W)){var i=a.g.h;a=o===(a=a.g.g)?z||(z=new Uint8Array(0)):j?i.slice(o,a):new Uint8Array(i.subarray(o,a)),(o=r.ba)?o.push(a):r.ba=[a]}}return e}function tt(e,t,n){if(ne.length){var r=ne.pop();e&&(K(r.g,e),r.i=-1,r.h=-1),e=r}else e=new Z(e);try{return et(new t,e,Ze(n))}finally{(t=e.g).h=null,t.j=0,t.i=0,t.g=0,t.v=!1,e.i=-1,e.h=-1,100>ne.length&&ne.push(e)}}function nt(e,t,n){for(var r=n.length,a=1==r%2,o=a?1:0;o<r;o+=2)(0,n[o+1])(t,e,n[o]);Fe(e,t,a?n[0]:void 0)}function rt(e,t){var n=new re;nt(e,n,Ke(t)),ae(n,n.g.end()),e=new Uint8Array(n.h);for(var r=(t=n.i).length,a=0,o=0;o<r;o++){var i=t[o];e.set(i,a),a+=i.length}return n.i=[e],e}function at(e,t){return{O:e,P:t}}var ot=at(function(e,t,n){if(5!==e.h)return!1;var r=(e=e.g).h[e.g],a=e.h[e.g+1],o=e.h[e.g+2],i=e.h[e.g+3];return e.g+=4,$(e),e=2*((a=(r|a<<8|o<<16|i<<24)>>>0)>>31)+1,r=a>>>23&255,a&=8388607,ye(t,n,255==r?a?NaN:1/0*e:0==r?e*Math.pow(2,-149)*a:e*Math.pow(2,r-150)*(a+Math.pow(2,23))),!0},function(e,t,n){if(null!=(t=ve(t,n))){J(e.g,8*n+5),e=e.g;var r=t;0===(r=(n=0>r?1:0)?-r:r)?0<1/r?H=0:H=2147483648:isNaN(r)?H=2147483647:34028234663852886e22<r?H=(n<<31|2139095040)>>>0:11754943508222875e-54>r?(r=Math.round(r/Math.pow(2,-149)),H=(n<<31|r)>>>0):(t=Math.floor(Math.log(r)/Math.LN2),r*=Math.pow(2,-t),16777216<=(r=Math.round(8388608*r))&&++t,H=(n<<31|t+127<<23|8388607&r)>>>0),n=H,e.g.push(n>>>0&255),e.g.push(n>>>8&255),e.g.push(n>>>16&255),e.g.push(n>>>24&255)}}),it=at(function(e,t,n){if(0!==e.h)return!1;for(var r=e.g,a=128,o=0,i=e=0;4>i&&128<=a;i++)a=r.h[r.g++],$(r),o|=(127&a)<<7*i;if(128<=a&&(a=r.h[r.g++],$(r),o|=(127&a)<<28,e|=(127&a)>>4),128<=a)for(i=0;5>i&&128<=a;i++)a=r.h[r.g++],$(r),e|=(127&a)<<7*i+3;if(!(128>a))throw q();return r=o>>>0,(e=2147483648&(a=e>>>0))&&(a=~a>>>0,0==(r=1+~r>>>0)&&(a=a+1>>>0)),r=4294967296*a+(r>>>0),ye(t,n,e?-r:r),!0},function(e,t,n){if(null!=(t=ve(t,n))&&null!=t){J(e.g,8*n),e=e.g;var r=t;for(n=0>r,t=(r=Math.abs(r))>>>0,r=Math.floor((r-t)/4294967296),r>>>=0,n&&(r=~r>>>0,4294967295<(t=(~t>>>0)+1)&&(t=0,4294967295<++r&&(r=0))),n=H=t,t=r;0<t||127<n;)e.g.push(127&n|128),n=(n>>>7|t<<25)>>>0,t>>>=7;e.g.push(n)}}),st=at(function(e,t,n){return 0===e.h&&(ye(t,n,Y(e.g)),!0)},function(e,t,n){if(null!=(t=ve(t,n))&&null!=t)if(J(e.g,8*n),e=e.g,0<=(n=t))J(e,n);else{for(t=0;9>t;t++)e.g.push(127&n|128),n>>=7;e.g.push(1)}}),lt=at(function(e,t,n){if(2!==e.h)return!1;var r,a=Y(e.g)>>>0,o=(e=e.g).g;if(e.g+=a,$(e),e=e.h,A)(r=C)||(r=C=new TextDecoder("utf-8",{fatal:!0})),r=r.decode(e.subarray(o,o+a));else{a=o+a;for(var i,s,l,u=[],c=null;o<a;)128>(i=e[o++])?u.push(i):224>i?o>=a?T():(s=e[o++],194>i||128!==(192&s)?(o--,T()):u.push((31&i)<<6|63&s)):240>i?o>=a-1?T():128!==(192&(s=e[o++]))||224===i&&160>s||237===i&&160<=s||128!==(192&(r=e[o++]))?(o--,T()):u.push((15&i)<<12|(63&s)<<6|63&r):244>=i?o>=a-2?T():128!==(192&(s=e[o++]))||0!==s-144+(i<<28)>>30||128!==(192&(r=e[o++]))||128!==(192&(l=e[o++]))?(o--,T()):(i=(7&i)<<18|(63&s)<<12|(63&r)<<6|63&l,i-=65536,u.push(55296+(i>>10&1023),56320+(1023&i))):T(),8192<=u.length&&(c=N(c,u),u.length=0);r=N(c,u)}return ye(t,n,r),!0},function(e,t,n){if(null!=(t=ve(t,n))){var r=!1;if(r=void 0!==r&&r,O){if(r&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test(t))throw Error("Found an unpaired surrogate");t=(M||(M=new TextEncoder)).encode(t)}else{for(var a=0,o=new Uint8Array(3*t.length),i=0;i<t.length;i++){var s=t.charCodeAt(i);if(128>s)o[a++]=s;else{if(2048>s)o[a++]=s>>6|192;else{if(55296<=s&&57343>=s){if(56319>=s&&i<t.length){var l=t.charCodeAt(++i);if(56320<=l&&57343>=l){s=1024*(s-55296)+l-56320+65536,o[a++]=s>>18|240,o[a++]=s>>12&63|128,o[a++]=s>>6&63|128,o[a++]=63&s|128;continue}i--}if(r)throw Error("Found an unpaired surrogate");s=65533}o[a++]=s>>12|224,o[a++]=s>>6&63|128}o[a++]=63&s|128}}t=o.subarray(0,a)}J(e.g,8*n+2),J(e.g,t.length),ae(e,e.g.end()),ae(e,t)}}),ut=at(function(e,t,n,r,a){if(2!==e.h)return!1;t=Se(t,n,r),n=e.g.i,r=Y(e.g)>>>0;var o=e.g.g+r,i=o-n;if(0>=i&&(e.g.i=o,a(t,e),i=o-e.g.g),i)throw Error("Message parsing ended unexpectedly. Expected to read "+r+" bytes, instead read "+(r-i)+" bytes, either the data ended unexpectedly or the message misreported its own length");return e.g.g=o,e.g.i=n,!0},function(e,t,n,r,a){if(null!=(t=ke(t,r,n)))for(r=0;r<t.length;r++){var o=e;J(o.g,8*n+2);var i=o.g.end();ae(o,i),i.push(o.h),o=i,a(t[r],e),i=e;var s=o.pop();for(s=i.h+i.g.length()-s;127<s;)o.push(127&s|128),s>>>=7,i.h++;o.push(s),i.h++}});function ct(){Ae.apply(this,arguments)}if(f(ct,Ae),me){var dt={};Object.defineProperties(ct,(dt[Symbol.hasInstance]=ge(Object[Symbol.hasInstance]),dt))}function pt(e){ct.call(this,e)}function ht(){return[1,st,2,ot,3,lt,4,lt]}function ft(e){ct.call(this,e,-1,gt)}function mt(){return[1,ut,pt,ht]}f(pt,ct),f(ft,ct),ft.prototype.addClassification=function(e,t){return Se(this,1,pt,e,t),this};var gt=[1];function vt(e){ct.call(this,e)}function yt(){return[1,ot,2,ot,3,ot,4,ot,5,ot]}function bt(e){ct.call(this,e,-1,kt)}function wt(){return[1,ut,vt,yt]}f(vt,ct),f(bt,ct);var kt=[1];function St(e){ct.call(this,e)}function xt(){return[1,ot,2,ot,3,ot,4,ot,5,ot,6,it]}f(St,ct);var It=[[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]],_t=[[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]],Et=[[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]],Tt=[[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]],Nt=[[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]],Ct=[[10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]],Mt=[].concat(l(It),l(_t),l(Et),l(Tt),l(Nt),l(Ct));function At(e,t,n){if(n=e.createShader(0===n?e.VERTEX_SHADER:e.FRAGMENT_SHADER),e.shaderSource(n,t),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw Error("Could not compile WebGL shader.\n\n"+e.getShaderInfoLog(n));return n}function Ot(e){return ke(e,pt,1).map(function(e){return{index:xe(e,1),ga:we(e,2),label:null!=ve(e,3)?Ie(e,3):void 0,displayName:null!=ve(e,4)?Ie(e,4):void 0}})}function Ft(e){return{x:we(e,1),y:we(e,2),z:we(e,3),visibility:null!=ve(e,4)?we(e,4):void 0}}function Rt(e,t){this.h=e,this.g=t,this.l=0}function Dt(e,t,n){return function(e,t){var n=e.g;if(void 0===e.o){var r=At(n,"\n  attribute vec2 aVertex;\n  attribute vec2 aTex;\n  varying vec2 vTex;\n  void main(void) {\n    gl_Position = vec4(aVertex, 0.0, 1.0);\n    vTex = aTex;\n  }",0),a=At(n,"\n  precision mediump float;\n  varying vec2 vTex;\n  uniform sampler2D sampler0;\n  void main(){\n    gl_FragColor = texture2D(sampler0, vTex);\n  }",1),o=n.createProgram();if(n.attachShader(o,r),n.attachShader(o,a),n.linkProgram(o),!n.getProgramParameter(o,n.LINK_STATUS))throw Error("Could not compile WebGL program.\n\n"+n.getProgramInfoLog(o));r=e.o=o,n.useProgram(r),a=n.getUniformLocation(r,"sampler0"),e.j={K:n.getAttribLocation(r,"aVertex"),J:n.getAttribLocation(r,"aTex"),ma:a},e.u=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.u),n.enableVertexAttribArray(e.j.K),n.vertexAttribPointer(e.j.K,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),e.s=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.s),n.enableVertexAttribArray(e.j.J),n.vertexAttribPointer(e.j.J,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),n.uniform1i(a,0)}r=e.j,n.useProgram(e.o),n.canvas.width=t.width,n.canvas.height=t.height,n.viewport(0,0,t.width,t.height),n.activeTexture(n.TEXTURE0),e.h.bindTexture2d(t.glName),n.enableVertexAttribArray(r.K),n.bindBuffer(n.ARRAY_BUFFER,e.u),n.vertexAttribPointer(r.K,2,n.FLOAT,!1,0,0),n.enableVertexAttribArray(r.J),n.bindBuffer(n.ARRAY_BUFFER,e.s),n.vertexAttribPointer(r.J,2,n.FLOAT,!1,0,0),n.bindFramebuffer(n.DRAW_FRAMEBUFFER?n.DRAW_FRAMEBUFFER:n.FRAMEBUFFER,null),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.colorMask(!0,!0,!0,!0),n.drawArrays(n.TRIANGLE_FAN,0,4),n.disableVertexAttribArray(r.K),n.disableVertexAttribArray(r.J),n.bindBuffer(n.ARRAY_BUFFER,null),e.h.bindTexture2d(0)}(e,t),"function"===typeof e.g.canvas.transferToImageBitmap?Promise.resolve(e.g.canvas.transferToImageBitmap()):n?Promise.resolve(e.g.canvas):"function"===typeof createImageBitmap?createImageBitmap(e.g.canvas):(void 0===e.i&&(e.i=document.createElement("canvas")),new Promise(function(t){e.i.height=e.g.canvas.height,e.i.width=e.g.canvas.width,e.i.getContext("2d",{}).drawImage(e.g.canvas,0,0,e.g.canvas.width,e.g.canvas.height),t(e.i)}))}function Pt(e){this.g=e}var Lt=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function zt(e,t){return t+e}function Bt(e,t){window[e]=t}function Wt(e){if(this.g=e,this.listeners={},this.j={},this.H={},this.o={},this.u={},this.I=this.s=this.Z=!0,this.D=Promise.resolve(),this.Y="",this.C={},this.locateFile=e&&e.locateFile||zt,"object"===typeof window)var t=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else{if("undefined"===typeof location)throw Error("solutions can only be loaded on a web page or in a web worker");t=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/"}if(this.$=t,e.options)for(var n=(t=s(Object.keys(e.options))).next();!n.done;n=t.next()){n=n.value;var r=e.options[n].default;void 0!==r&&(this.j[n]="function"===typeof r?r():r)}}function Ut(e){var t,n,r,a,o,i,s,u,c,d,p;return x(function(h){switch(h.g){case 1:return e.Z?(t=void 0===e.g.files?[]:"function"===typeof e.g.files?e.g.files(e.j):e.g.files,y(h,x(function(e){switch(e.g){case 1:return e.o=2,y(e,WebAssembly.instantiate(Lt),4);case 4:e.g=3,e.o=0;break;case 2:return e.o=0,e.j=null,e.return(!1);case 3:return e.return(!0)}}),2)):h.return();case 2:if(n=h.h,"object"===typeof window)return Bt("createMediapipeSolutionsWasm",{locateFile:e.locateFile}),Bt("createMediapipeSolutionsPackedAssets",{locateFile:e.locateFile}),i=t.filter(function(e){return void 0!==e.data}),s=t.filter(function(e){return void 0===e.data}),u=Promise.all(i.map(function(t){var n=jt(e,t.url);if(void 0!==t.path){var r=t.path;n=n.then(function(t){return e.overrideFile(r,t),Promise.resolve(t)})}return n})),c=Promise.all(s.map(function(t){return void 0===t.simd||t.simd&&n||!t.simd&&!n?function(e){var t=document.createElement("script");return t.setAttribute("src",e),t.setAttribute("crossorigin","anonymous"),new Promise(function(e){t.addEventListener("load",function(){e()},!1),t.addEventListener("error",function(){e()},!1),document.body.appendChild(t)})}(e.locateFile(t.url,e.$)):Promise.resolve()})).then(function(){var t,n,r;return x(function(a){if(1==a.g)return t=window.createMediapipeSolutionsWasm,n=window.createMediapipeSolutionsPackedAssets,r=e,y(a,t(n),2);r.h=a.h,a.g=0})}),d=x(function(t){return e.g.graph&&e.g.graph.url?t=y(t,jt(e,e.g.graph.url),0):(t.g=0,t=void 0),t}),y(h,Promise.all([c,u,d]),7);if("function"!==typeof importScripts)throw Error("solutions can only be loaded on a web page or in a web worker");return r=t.filter(function(e){return void 0===e.simd||e.simd&&n||!e.simd&&!n}).map(function(t){return e.locateFile(t.url,e.$)}),importScripts.apply(null,l(r)),a=e,y(h,createMediapipeSolutionsWasm(Module),6);case 6:a.h=h.h,e.l=new OffscreenCanvas(1,1),e.h.canvas=e.l,o=e.h.GL.createContext(e.l,{antialias:!1,alpha:!1,ja:"undefined"!==typeof WebGL2RenderingContext?2:1}),e.h.GL.makeContextCurrent(o),h.g=4;break;case 7:if(e.l=document.createElement("canvas"),!(p=e.l.getContext("webgl2",{}))&&!(p=e.l.getContext("webgl",{})))return alert("Failed to create WebGL canvas context when passing video frame."),h.return();e.G=p,e.h.canvas=e.l,e.h.createContext(e.l,!0,!0,{});case 4:e.i=new e.h.SolutionWasm,e.Z=!1,h.g=0}})}function jt(e,t){var n,r;return x(function(a){return t in e.H?a.return(e.H[t]):(n=e.locateFile(t,""),r=fetch(n).then(function(e){return e.arrayBuffer()}),e.H[t]=r,a.return(r))})}function Ht(e,t,n){var r,a,o,i,l,u,c,d,p,h,f,m,g,v;return x(function(b){switch(b.g){case 1:if(!n)return b.return(t);for(r={},a=0,o=s(Object.keys(n)),i=o.next();!i.done;i=o.next())l=i.value,"string"!==typeof(u=n[l])&&"texture"===u.type&&void 0!==t[u.stream]&&++a;1<a&&(e.I=!1),c=s(Object.keys(n)),i=c.next();case 2:if(i.done){b.g=4;break}if(d=i.value,"string"===typeof(p=n[d]))return g=r,v=d,y(b,function(e,t,n){var r;return x(function(a){return"number"===typeof n||n instanceof Uint8Array||n instanceof e.h.Uint8BlobList?a.return(n):n instanceof e.h.Texture2dDataOut?((r=e.u[t])||(r=new Rt(e.h,e.G),e.u[t]=r),a.return(Dt(r,n,e.I))):a.return(void 0)})}(e,d,t[p]),14);if(h=t[p.stream],"detection_list"===p.type){if(h){for(var w=h.getRectList(),k=h.getLandmarksList(),S=h.getClassificationsList(),I=[],_=0;_<w.size();++_){var E=tt(w.get(_),St,xt);E={boundingBox:{xCenter:we(E,1),yCenter:we(E,2),height:we(E,3),width:we(E,4),rotation:we(E,5,0),rectId:xe(E,6)},landmarks:ke(tt(k.get(_),bt,wt),vt,1).map(Ft),V:Ot(tt(S.get(_),ft,mt))},I.push(E)}w=I}else w=[];r[d]=w,b.g=7;break}if("proto_list"===p.type){if(h){for(w=Array(h.size()),k=0;k<h.size();k++)w[k]=h.get(k);h.delete()}else w=[];r[d]=w,b.g=7;break}if(void 0===h){b.g=3;break}if("float_list"===p.type){r[d]=h,b.g=7;break}if("proto"===p.type){r[d]=h,b.g=7;break}if("texture"!==p.type)throw Error("Unknown output config type: '"+p.type+"'");return(f=e.u[d])||(f=new Rt(e.h,e.G),e.u[d]=f),y(b,Dt(f,h,e.I),13);case 13:m=b.h,r[d]=m;case 7:p.transform&&r[d]&&(r[d]=p.transform(r[d])),b.g=3;break;case 14:g[v]=b.h;case 3:i=c.next(),b.g=2;break;case 4:return b.return(r)}})}function Vt(e,t){for(var n=t.name||"$",r=[].concat(l(t.wants)),a=new e.h.StringList,o=s(t.wants),i=o.next();!i.done;i=o.next())a.push_back(i.value);o=e.h.PacketListener.implement({onResults:function(a){for(var o={},i=0;i<t.wants.length;++i)o[r[i]]=a.get(i);var s=e.listeners[n];s&&(e.D=Ht(e,o,t.outs).then(function(n){n=s(n);for(var a=0;a<t.wants.length;++a){var i=o[r[a]];"object"===typeof i&&i.hasOwnProperty&&i.hasOwnProperty("delete")&&i.delete()}n&&(e.D=n)}))}}),e.i.attachMultiListener(a,o),a.delete()}function qt(e){var t=this;e=e||{};var n={url:"face_detection_short.binarypb"},r={type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}};this.g=new Wt({locateFile:e.locateFile,files:[{data:!0,url:"face_detection_short.binarypb"},{data:!0,url:"face_detection_short_range.tflite"},{simd:!0,url:"face_detection_solution_simd_wasm_bin.js"},{simd:!1,url:"face_detection_solution_wasm_bin.js"}],graph:n,listeners:[{wants:["detections","image_transformed"],outs:{image:"image_transformed",detections:{type:"detection_list",stream:"detections"}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"object"===typeof window&&void 0!==window.navigator&&("iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document)},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},model:{type:0,onChange:function(e){var a,o,i,l,u;return x(function(c){switch(c.g){case 1:a=s("short"===e?["face_detection_short_range.tflite"]:["face_detection_full_range_sparse.tflite"]),o=a.next();case 2:if(o.done){c.g=4;break}return i=o.value,l="third_party/mediapipe/modules/face_detection/"+i,y(c,jt(t.g,i),5);case 5:u=c.h,t.g.overrideFile(l,u),o=a.next(),c.g=2;break;case 4:return n.url="short"===e?"face_detection_short.binarypb":"face_detection_full.binarypb",r.graphOptionXref.calculatorName="short"===e?"facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator":"facedetectionfullrangegpu__facedetectionfullrangecommon__TensorsToDetectionsCalculator",c.return(!0)}})}},minDetectionConfidence:r}})}(e=Wt.prototype).close=function(){return this.i&&this.i.delete(),Promise.resolve()},e.reset=function(){var e=this;return x(function(t){e.i&&(e.i.reset(),e.o={},e.u={}),t.g=0})},e.setOptions=function(e,t){var n=this;if(t=t||this.g.options){for(var r=[],a=[],o={},i=s(Object.keys(e)),l=i.next();!l.done;o={R:o.R,S:o.S},l=i.next()){var u=l.value;u in this.j&&this.j[u]===e[u]||(this.j[u]=e[u],void 0!==(l=t[u])&&(l.onChange&&(o.R=l.onChange,o.S=e[u],r.push(function(e){return function(){return x(function(t){if(1==t.g)return y(t,e.R(e.S),2);!0===t.h&&(n.s=!0),t.g=0})}}(o))),l.graphOptionXref&&(u={valueNumber:1===l.type?e[u]:0,valueBoolean:0===l.type&&e[u],valueString:2===l.type?e[u]:""},l=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),l.graphOptionXref),u),a.push(l))))}0===r.length&&0===a.length||(this.s=!0,this.B=(void 0===this.B?[]:this.B).concat(a),this.A=(void 0===this.A?[]:this.A).concat(r))}},e.initialize=function(){var e=this;return x(function(t){return 1==t.g?y(t,Ut(e),2):3!=t.g?y(t,function(e){var t,n,r,a,o,i,l,u;return x(function(c){if(1==c.g)return e.g.graph&&e.g.graph.url&&e.Y===e.g.graph.url?c.return():(e.s=!0,e.g.graph&&e.g.graph.url?(e.Y=e.g.graph.url,y(c,jt(e,e.g.graph.url),3)):void(c.g=2));for(2!=c.g&&(t=c.h,e.i.loadGraph(t)),n=s(Object.keys(e.C)),r=n.next();!r.done;r=n.next())a=r.value,e.i.overrideFile(a,e.C[a]);if(e.C={},e.g.listeners)for(o=s(e.g.listeners),i=o.next();!i.done;i=o.next())l=i.value,Vt(e,l);u=e.j,e.j={},e.setOptions(u),c.g=0})}(e),3):y(t,function(e){var t,n,r,a,o,i;return x(function(l){switch(l.g){case 1:if(!e.s)return l.return();if(!e.A){l.g=2;break}t=s(e.A),n=t.next();case 3:if(n.done){l.g=5;break}return y(l,(0,n.value)(),4);case 4:n=t.next(),l.g=3;break;case 5:e.A=void 0;case 2:if(e.B){for(r=new e.h.GraphOptionChangeRequestList,a=s(e.B),o=a.next();!o.done;o=a.next())i=o.value,r.push_back(i);e.i.changeOptions(r),r.delete(),e.B=void 0}e.s=!1,l.g=0}})}(e),0)})},e.overrideFile=function(e,t){this.i?this.i.overrideFile(e,t):this.C[e]=t},e.clearOverriddenFiles=function(){this.C={},this.i&&this.i.clearOverriddenFiles()},e.send=function(e,t){var n,r,a,o,i,l,u,c,d,p=this;return x(function(h){switch(h.g){case 1:return p.g.inputs?(n=1e3*(void 0===t||null===t?performance.now():t),y(h,p.D,2)):h.return();case 2:return y(h,p.initialize(),3);case 3:for(r=new p.h.PacketDataList,a=s(Object.keys(e)),o=a.next();!o.done;o=a.next())if(i=o.value,l=p.g.inputs[i]){e:{var f=e[i];switch(l.type){case"video":var m=p.o[l.stream];if(m||(m=new Rt(p.h,p.G),p.o[l.stream]=m),0===m.l&&(m.l=m.h.createTexture()),"undefined"!==typeof HTMLVideoElement&&f instanceof HTMLVideoElement)var g=f.videoWidth,v=f.videoHeight;else"undefined"!==typeof HTMLImageElement&&f instanceof HTMLImageElement?(g=f.naturalWidth,v=f.naturalHeight):(g=f.width,v=f.height);v={glName:m.l,width:g,height:v},(g=m.g).canvas.width=v.width,g.canvas.height=v.height,g.activeTexture(g.TEXTURE0),m.h.bindTexture2d(m.l),g.texImage2D(g.TEXTURE_2D,0,g.RGBA,g.RGBA,g.UNSIGNED_BYTE,f),m.h.bindTexture2d(0),m=v;break e;case"detections":for((m=p.o[l.stream])||(m=new Pt(p.h),p.o[l.stream]=m),m.data||(m.data=new m.g.DetectionListData),m.data.reset(f.length),v=0;v<f.length;++v){g=f[v];var b=m.data,w=b.setBoundingBox,k=v,S=g.boundingBox,x=new St;if(ye(x,1,S.xCenter),ye(x,2,S.yCenter),ye(x,3,S.height),ye(x,4,S.width),ye(x,5,S.rotation),ye(x,6,S.rectId),S=rt(x,xt),w.call(b,k,S),g.landmarks)for(b=0;b<g.landmarks.length;++b){var I=!!(x=g.landmarks[b]).visibility;k=(w=m.data).addNormalizedLandmark,S=v,x=Object.assign(Object.assign({},x),{visibility:I?x.visibility:0}),ye(I=new vt,1,x.x),ye(I,2,x.y),ye(I,3,x.z),x.visibility&&ye(I,4,x.visibility),x=rt(I,yt),k.call(w,S,x)}if(g.V)for(b=0;b<g.V.length;++b)k=(w=m.data).addClassification,S=v,x=g.V[b],ye(I=new pt,2,x.ga),x.index&&ye(I,1,x.index),x.label&&ye(I,3,x.label),x.displayName&&ye(I,4,x.displayName),x=rt(I,ht),k.call(w,S,x)}m=m.data;break e;default:m={}}}switch(u=m,c=l.stream,l.type){case"video":r.pushTexture2d(Object.assign(Object.assign({},u),{stream:c,timestamp:n}));break;case"detections":(d=u).stream=c,d.timestamp=n,r.pushDetectionList(d);break;default:throw Error("Unknown input config type: '"+l.type+"'")}}return p.i.send(r),y(h,p.D,4);case 4:r.delete(),h.g=0}})},e.onResults=function(e,t){this.listeners[t||"$"]=e},E("Solution",Wt),E("OptionType",{BOOL:0,NUMBER:1,ia:2,0:"BOOL",1:"NUMBER",2:"STRING"}),(e=qt.prototype).close=function(){return this.g.close(),Promise.resolve()},e.onResults=function(e){this.g.onResults(e)},e.initialize=function(){var e=this;return x(function(t){return y(t,e.g.initialize(),0)})},e.reset=function(){this.g.reset()},e.send=function(e){var t=this;return x(function(n){return y(n,t.g.send(e),0)})},e.setOptions=function(e){this.g.setOptions(e)},E("FaceDetection",qt),E("FACEDETECTION_LIPS",It),E("FACEDETECTION_LEFT_EYE",_t),E("FACEDETECTION_LEFT_EYEBROW",Et),E("FACEDETECTION_RIGHT_EYE",Tt),E("FACEDETECTION_RIGHT_EYEBROW",Nt),E("FACEDETECTION_FACE_OVAL",Ct),E("FACEDETECTION_CONTOURS",Mt),E("FACEDETECTION_TESSELATION",[[127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]]),E("VERSION","0.4.1646425229")}).call(this)},5817:()=>{},5896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<o(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,i=a>>>1;r<i;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>o(l,n))u<a&&0>o(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<a&&0>o(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],d=1,p=null,h=3,f=!1,m=!1,g=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(c);null!==t;){if(null===t.callback)a(c);else{if(!(t.startTime<=e))break;a(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function S(e){if(g=!1,k(e),!m)if(null!==r(u))m=!0,I||(I=!0,x());else{var t=r(c);null!==t&&O(S,t.startTime-e)}}var x,I=!1,_=-1,E=5,T=-1;function N(){return!!v||!(t.unstable_now()-T<E)}function C(){if(v=!1,I){var e=t.unstable_now();T=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(_),_=-1),f=!0;var o=h;try{t:{for(k(e),p=r(u);null!==p&&!(p.expirationTime>e&&N());){var i=p.callback;if("function"===typeof i){p.callback=null,h=p.priorityLevel;var s=i(p.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){p.callback=s,k(e),n=!0;break t}p===r(u)&&a(u),k(e)}else a(u);p=r(u)}if(null!==p)n=!0;else{var l=r(c);null!==l&&O(S,l.startTime-e),n=!1}}break e}finally{p=null,h=o,f=!1}n=void 0}}finally{n?x():I=!1}}}if("function"===typeof w)x=function(){w(C)};else if("undefined"!==typeof MessageChannel){var M=new MessageChannel,A=M.port2;M.port1.onmessage=C,x=function(){A.postMessage(null)}}else x=function(){y(C,0)};function O(e,n){_=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,a,o){var i=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?i+o:i:o=i,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>i?(e.sortIndex=o,n(c,e),null===r(u)&&e===r(c)&&(g?(b(_),_=-1):g=!0,O(S,o-i))):(e.sortIndex=s,n(u,e),m||f||(m=!0,I||(I=!0,x()))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},5967:e=>{var t=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return t.test(e)}},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},6288:function(e,t,n){var r;!function(e,a){function o(e){var t=this;t.next=function(){var e,n,r=t.w,a=t.X,o=t.i;return t.w=r=r+1640531527|0,n=a[o+34&127],e=a[o=o+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=a[o]=n^e,t.i=o,n+(r^r>>>16)|0},function(e,t){var n,r,a,o,i,s=[],l=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,l=Math.max(l,t.length)),a=0,o=-32;o<l;++o)t&&(r^=t.charCodeAt((o+32)%t.length)),0===o&&(i=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,o>=0&&(i=i+1640531527|0,a=0==(n=s[127&o]^=r+i)?a+1:0);for(a>=128&&(s[127&(t&&t.length||0)]=-1),a=127,o=512;o>0;--o)r=s[a+34&127],n=s[a=a+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[a]=r^n;e.w=i,e.X=s,e.i=a}(t,e)}function i(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function s(e,t){null==e&&(e=+new Date);var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&(r.X&&i(r,n),a.state=function(){return i(n,{})}),a}a&&a.exports?a.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,a))||(a.exports=r):this.xor4096=s}(0,e=n.nmd(e),n.amdD)},6552:(e,t,n)=>{var r=n(7105),a="object"==typeof self&&self&&self.Object===Object&&self,o=r||a||Function("return this")();e.exports=o},6672:(e,t,n)=>{"use strict";var r=n(5043);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var i={d:{f:o,r:function(){throw Error(a(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},s=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(a(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=i.p;try{if(l.T=null,i.p=2,e)return e()}finally{l.T=t,i.p=n,i.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,i.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&i.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=u(n,t.crossOrigin),a="string"===typeof t.integrity?t.integrity:void 0,o="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?i.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:o}):"script"===n&&i.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:o,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=u(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&i.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=u(n,t.crossOrigin);i.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=u(t.as,t.crossOrigin);i.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else i.d.m(e)},t.requestFormReset=function(e){i.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.2.0"},6882:(e,t,n)=>{var r=n(9421),a=n(4971),o=n(7676),i=RegExp("['\u2019]","g");e.exports=function(e){return function(t){return r(o(a(t).replace(i,"")),e,"")}}},6913:(e,t,n)=>{var r=n(9812),a=n(4552),o=n(6095),i=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?a(e):o(e)}},7004:(e,t,n)=>{"use strict";var r=n(8853),a=n(5043),o=n(7950);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function u(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function c(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(l(e)!==e)throw Error(i(188))}function p(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=p(e)))return t;e=e.sibling}return null}var h=Object.assign,f=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),k=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy");Symbol.for("react.scope");var T=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var N=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var C=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=C&&e[C]||e["@@iterator"])?e:null}var A=Symbol.for("react.client.reference");function O(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===A?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case v:return"Fragment";case b:return"Profiler";case y:return"StrictMode";case x:return"Suspense";case I:return"SuspenseList";case T:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case k:return e.displayName||"Context";case w:return(e._context.displayName||"Context")+".Consumer";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case _:return null!==(t=e.displayName||null)?t:O(e.type)||"Memo";case E:t=e._payload,e=e._init;try{return O(e(t))}catch(n){}}return null}var F=Array.isArray,R=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P={pending:!1,data:null,method:null,action:null},L=[],z=-1;function B(e){return{current:e}}function W(e){0>z||(e.current=L[z],L[z]=null,z--)}function U(e,t){z++,L[z]=e.current,e.current=t}var j,H,V=B(null),q=B(null),G=B(null),K=B(null);function $(e,t){switch(U(G,t),U(q,e),U(V,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?vd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=yd(t=vd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}W(V),U(V,e)}function Y(){W(V),W(q),W(G)}function Q(e){null!==e.memoizedState&&U(K,e);var t=V.current,n=yd(t,e.type);t!==n&&(U(q,e),U(V,n))}function X(e){q.current===e&&(W(V),W(q)),K.current===e&&(W(K),cp._currentValue=P)}function J(e){if(void 0===j)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||"",H=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+j+e+H}var Z=!1;function ee(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(a){var r=a}Reflect.construct(e,[],n)}else{try{n.call()}catch(o){r=o}e.call(n.prototype)}}else{try{throw Error()}catch(i){r=i}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(s){if(s&&r&&"string"===typeof s.stack)return[s.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),i=o[0],s=o[1];if(i&&s){var l=i.split("\n"),u=s.split("\n");for(a=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;a<u.length&&!u[a].includes("DetermineComponentFrameRoot");)a++;if(r===l.length||a===u.length)for(r=l.length-1,a=u.length-1;1<=r&&0<=a&&l[r]!==u[a];)a--;for(;1<=r&&0<=a;r--,a--)if(l[r]!==u[a]){if(1!==r||1!==a)do{if(r--,0>--a||l[r]!==u[a]){var c="\n"+l[r].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=r&&0<=a);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?J(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return J(e.type);case 16:return J("Lazy");case 13:return e.child!==t&&null!==t?J("Suspense Fallback"):J("Suspense");case 19:return J("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return J("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}var re=Object.prototype.hasOwnProperty,ae=r.unstable_scheduleCallback,oe=r.unstable_cancelCallback,ie=r.unstable_shouldYield,se=r.unstable_requestPaint,le=r.unstable_now,ue=r.unstable_getCurrentPriorityLevel,ce=r.unstable_ImmediatePriority,de=r.unstable_UserBlockingPriority,pe=r.unstable_NormalPriority,he=r.unstable_LowPriority,fe=r.unstable_IdlePriority,me=r.log,ge=r.unstable_setDisableYieldValue,ve=null,ye=null;function be(e){if("function"===typeof me&&ge(e),ye&&"function"===typeof ye.setStrictMode)try{ye.setStrictMode(ve,e)}catch(t){}}var we=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ke(e)/Se|0)|0},ke=Math.log,Se=Math.LN2;var xe=256,Ie=262144,_e=4194304;function Ee(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Te(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var a=0,o=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var s=134217727&r;return 0!==s?0!==(r=s&~o)?a=Ee(r):0!==(i&=s)?a=Ee(i):n||0!==(n=s&~e)&&(a=Ee(n)):0!==(s=r&~o)?a=Ee(s):0!==i?a=Ee(i):n||0!==(n=r&~e)&&(a=Ee(n)),0===a?0:0!==t&&t!==a&&0===(t&o)&&((o=a&-a)>=(n=t&-t)||32===o&&0!==(4194048&n))?t:a}function Ne(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ce(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Me(){var e=_e;return 0===(62914560&(_e<<=1))&&(_e=4194304),e}function Ae(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Oe(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Fe(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-we(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function Re(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-we(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}function De(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:Pe(n))&(e.suspendedLanes|t))?0:n}function Pe(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Le(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function ze(){var e=D.p;return 0!==e?e:void 0===(e=window.event)?32:Ep(e.type)}function Be(e,t){var n=D.p;try{return D.p=e,t()}finally{D.p=n}}var We=Math.random().toString(36).slice(2),Ue="__reactFiber$"+We,je="__reactProps$"+We,He="__reactContainer$"+We,Ve="__reactEvents$"+We,qe="__reactListeners$"+We,Ge="__reactHandles$"+We,Ke="__reactResources$"+We,$e="__reactMarker$"+We;function Ye(e){delete e[Ue],delete e[je],delete e[Ve],delete e[qe],delete e[Ge]}function Qe(e){var t=e[Ue];if(t)return t;for(var n=e.parentNode;n;){if(t=n[He]||n[Ue]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Pd(e);null!==e;){if(n=e[Ue])return n;e=Pd(e)}return t}n=(e=n).parentNode}return null}function Xe(e){if(e=e[Ue]||e[He]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Je(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(i(33))}function Ze(e){var t=e[Ke];return t||(t=e[Ke]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[$e]=!0}var tt=new Set,nt={};function rt(e,t){at(e,t),at(e+"Capture",t)}function at(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var ot=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),it={},st={};function lt(e,t,n){if(a=t,re.call(st,a)||!re.call(it,a)&&(ot.test(a)?st[a]=!0:(it[a]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var a}function ut(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ct(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function pt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ht(e){if(!e._valueTracker){var t=pt(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var a=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function ft(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=pt(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function mt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function vt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function yt(e,t,n,r,a,o,i,s){e.name="",null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i?e.type=i:e.removeAttribute("type"),null!=t?"number"===i?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==i&&"reset"!==i||e.removeAttribute("value"),null!=t?wt(e,i,dt(t)):null!=n?wt(e,i,dt(n)):null!=r&&e.removeAttribute("value"),null==a&&null!=o&&(e.defaultChecked=!!o),null!=a&&(e.checked=a&&"function"!==typeof a&&"symbol"!==typeof a),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+dt(s):e.removeAttribute("name")}function bt(e,t,n,r,a,o,i,s){if(null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.type=o),null!=t||null!=n){if(!("submit"!==o&&"reset"!==o||void 0!==t&&null!==t))return void ht(e);n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:a)&&"symbol"!==typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.name=i),ht(e)}function wt(e,t,n){"number"===t&&mt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function kt(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function St(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function xt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(i(92));if(F(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),ht(e)}function It(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var _t=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Et(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||_t.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Tt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(i(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&Et(e,a,r)}else for(var o in t)t.hasOwnProperty(o)&&Et(e,o,t[o])}function Nt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ct=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function At(e){return Mt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ot(){}var Ft=null;function Rt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Dt=null,Pt=null;function Lt(e){var t=Xe(e);if(t&&(e=t.stateNode)){var n=e[je]||null;e:switch(e=t.stateNode,t.type){case"input":if(yt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+vt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[je]||null;if(!a)throw Error(i(90));yt(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ft(r)}break e;case"textarea":St(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&kt(e,!!n.multiple,t,!1)}}}var zt=!1;function Bt(e,t,n){if(zt)return e(t,n);zt=!0;try{return e(t)}finally{if(zt=!1,(null!==Dt||null!==Pt)&&(Zu(),Dt&&(t=Dt,e=Pt,Pt=Dt=null,Lt(t),e)))for(t=0;t<e.length;t++)Lt(e[t])}}function Wt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[je]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Ut=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),jt=!1;if(Ut)try{var Ht={};Object.defineProperty(Ht,"passive",{get:function(){jt=!0}}),window.addEventListener("test",Ht,Ht),window.removeEventListener("test",Ht,Ht)}catch(Xp){jt=!1}var Vt=null,qt=null,Gt=null;function Kt(){if(Gt)return Gt;var e,t,n=qt,r=n.length,a="value"in Vt?Vt.value:Vt.textContent,o=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[o-t];t++);return Gt=a.slice(e,1<t?1-t:void 0)}function $t(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Yt(){return!0}function Qt(){return!1}function Xt(e){function t(t,n,r,a,o){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?Yt:Qt,this.isPropagationStopped=Qt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Yt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Yt)},persist:function(){},isPersistent:Yt}),t}var Jt,Zt,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=Xt(tn),rn=h({},tn,{view:0,detail:0}),an=Xt(rn),on=h({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?(Jt=e.screenX-en.screenX,Zt=e.screenY-en.screenY):Zt=Jt=0,en=e),Jt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),sn=Xt(on),ln=Xt(h({},on,{dataTransfer:0})),un=Xt(h({},rn,{relatedTarget:0})),cn=Xt(h({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),dn=Xt(h({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),pn=Xt(h({},tn,{data:0})),hn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=mn[e])&&!!t[e]}function vn(){return gn}var yn=Xt(h({},rn,{key:function(e){if(e.key){var t=hn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=$t(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?fn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vn,charCode:function(e){return"keypress"===e.type?$t(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?$t(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),bn=Xt(h({},on,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),wn=Xt(h({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vn})),kn=Xt(h({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Sn=Xt(h({},on,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),xn=Xt(h({},tn,{newState:0,oldState:0})),In=[9,13,27,32],_n=Ut&&"CompositionEvent"in window,En=null;Ut&&"documentMode"in document&&(En=document.documentMode);var Tn=Ut&&"TextEvent"in window&&!En,Nn=Ut&&(!_n||En&&8<En&&11>=En),Cn=String.fromCharCode(32),Mn=!1;function An(e,t){switch(e){case"keyup":return-1!==In.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function On(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Fn=!1;var Rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Rn[e.type]:"textarea"===t}function Pn(e,t,n,r){Dt?Pt?Pt.push(r):Pt=[r]:Dt=r,0<(t=rd(t,"onChange")).length&&(n=new nn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ln=null,zn=null;function Bn(e){Yc(e,0)}function Wn(e){if(ft(Je(e)))return e}function Un(e,t){if("change"===e)return t}var jn=!1;if(Ut){var Hn;if(Ut){var Vn="oninput"in document;if(!Vn){var qn=document.createElement("div");qn.setAttribute("oninput","return;"),Vn="function"===typeof qn.oninput}Hn=Vn}else Hn=!1;jn=Hn&&(!document.documentMode||9<document.documentMode)}function Gn(){Ln&&(Ln.detachEvent("onpropertychange",Kn),zn=Ln=null)}function Kn(e){if("value"===e.propertyName&&Wn(zn)){var t=[];Pn(t,zn,e,Rt(e)),Bt(Bn,t)}}function $n(e,t,n){"focusin"===e?(Gn(),zn=n,(Ln=t).attachEvent("onpropertychange",Kn)):"focusout"===e&&Gn()}function Yn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Wn(zn)}function Qn(e,t){if("click"===e)return Wn(t)}function Xn(e,t){if("input"===e||"change"===e)return Wn(t)}var Jn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Zn(e,t){if(Jn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!re.call(t,a)||!Jn(e[a],t[a]))return!1}return!0}function er(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tr(e,t){var n,r=er(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=er(r)}}function nr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?nr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function rr(e){for(var t=mt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=mt((e=t.contentWindow).document)}return t}function ar(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var or=Ut&&"documentMode"in document&&11>=document.documentMode,ir=null,sr=null,lr=null,ur=!1;function cr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ur||null==ir||ir!==mt(r)||("selectionStart"in(r=ir)&&ar(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},lr&&Zn(lr,r)||(lr=r,0<(r=rd(sr,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ir)))}function dr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var pr={animationend:dr("Animation","AnimationEnd"),animationiteration:dr("Animation","AnimationIteration"),animationstart:dr("Animation","AnimationStart"),transitionrun:dr("Transition","TransitionRun"),transitionstart:dr("Transition","TransitionStart"),transitioncancel:dr("Transition","TransitionCancel"),transitionend:dr("Transition","TransitionEnd")},hr={},fr={};function mr(e){if(hr[e])return hr[e];if(!pr[e])return e;var t,n=pr[e];for(t in n)if(n.hasOwnProperty(t)&&t in fr)return hr[e]=n[t];return e}Ut&&(fr=document.createElement("div").style,"AnimationEvent"in window||(delete pr.animationend.animation,delete pr.animationiteration.animation,delete pr.animationstart.animation),"TransitionEvent"in window||delete pr.transitionend.transition);var gr=mr("animationend"),vr=mr("animationiteration"),yr=mr("animationstart"),br=mr("transitionrun"),wr=mr("transitionstart"),kr=mr("transitioncancel"),Sr=mr("transitionend"),xr=new Map,Ir="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _r(e,t){xr.set(e,t),rt(t,[e])}Ir.push("scrollEnd");var Er="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Tr=[],Nr=0,Cr=0;function Mr(){for(var e=Nr,t=Cr=Nr=0;t<e;){var n=Tr[t];Tr[t++]=null;var r=Tr[t];Tr[t++]=null;var a=Tr[t];Tr[t++]=null;var o=Tr[t];if(Tr[t++]=null,null!==r&&null!==a){var i=r.pending;null===i?a.next=a:(a.next=i.next,i.next=a),r.pending=a}0!==o&&Rr(n,a,o)}}function Ar(e,t,n,r){Tr[Nr++]=e,Tr[Nr++]=t,Tr[Nr++]=n,Tr[Nr++]=r,Cr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Or(e,t,n,r){return Ar(e,t,n,r),Dr(e)}function Fr(e,t){return Ar(e,null,null,t),Dr(e)}function Rr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var a=!1,o=e.return;null!==o;)o.childLanes|=n,null!==(r=o.alternate)&&(r.childLanes|=n),22===o.tag&&(null===(e=o.stateNode)||1&e._visibility||(a=!0)),e=o,o=o.return;return 3===e.tag?(o=e.stateNode,a&&null!==t&&(a=31-we(n),null===(r=(e=o.hiddenUpdates)[a])?e[a]=[t]:r.push(t),t.lane=536870912|n),o):null}function Dr(e){if(50<Vu)throw Vu=0,qu=null,Error(i(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Pr={};function Lr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(e,t,n,r){return new Lr(e,t,n,r)}function Br(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Wr(e,t){var n=e.alternate;return null===n?((n=zr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ur(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function jr(e,t,n,r,a,o){var s=0;if(r=e,"function"===typeof e)Br(e)&&(s=1);else if("string"===typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,V.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case T:return(e=zr(31,n,t,a)).elementType=T,e.lanes=o,e;case v:return Hr(n.children,a,o,t);case y:s=8,a|=24;break;case b:return(e=zr(12,n,t,2|a)).elementType=b,e.lanes=o,e;case x:return(e=zr(13,n,t,a)).elementType=x,e.lanes=o,e;case I:return(e=zr(19,n,t,a)).elementType=I,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:s=10;break e;case w:s=9;break e;case S:s=11;break e;case _:s=14;break e;case E:s=16,r=null;break e}s=29,n=Error(i(130,null===e?"null":typeof e,"")),r=null}return(t=zr(s,n,t,a)).elementType=e,t.type=r,t.lanes=o,t}function Hr(e,t,n,r){return(e=zr(7,e,r,t)).lanes=n,e}function Vr(e,t,n){return(e=zr(6,e,null,t)).lanes=n,e}function qr(e){var t=zr(18,null,null,0);return t.stateNode=e,t}function Gr(e,t,n){return(t=zr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Kr=new WeakMap;function $r(e,t){if("object"===typeof e&&null!==e){var n=Kr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},Kr.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var Yr=[],Qr=0,Xr=null,Jr=0,Zr=[],ea=0,ta=null,na=1,ra="";function aa(e,t){Yr[Qr++]=Jr,Yr[Qr++]=Xr,Xr=e,Jr=t}function oa(e,t,n){Zr[ea++]=na,Zr[ea++]=ra,Zr[ea++]=ta,ta=e;var r=na;e=ra;var a=32-we(r)-1;r&=~(1<<a),n+=1;var o=32-we(t)+a;if(30<o){var i=a-a%5;o=(r&(1<<i)-1).toString(32),r>>=i,a-=i,na=1<<32-we(t)+a|n<<a|r,ra=o+e}else na=1<<o|n<<a|r,ra=e}function ia(e){null!==e.return&&(aa(e,1),oa(e,1,0))}function sa(e){for(;e===Xr;)Xr=Yr[--Qr],Yr[Qr]=null,Jr=Yr[--Qr],Yr[Qr]=null;for(;e===ta;)ta=Zr[--ea],Zr[ea]=null,ra=Zr[--ea],Zr[ea]=null,na=Zr[--ea],Zr[ea]=null}function la(e,t){Zr[ea++]=na,Zr[ea++]=ra,Zr[ea++]=ta,na=t.id,ra=t.overflow,ta=e}var ua=null,ca=null,da=!1,pa=null,ha=!1,fa=Error(i(519));function ma(e){throw ka($r(Error(i(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),fa}function ga(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ue]=e,t[je]=r,n){case"dialog":Qc("cancel",t),Qc("close",t);break;case"iframe":case"object":case"embed":Qc("load",t);break;case"video":case"audio":for(n=0;n<Kc.length;n++)Qc(Kc[n],t);break;case"source":Qc("error",t);break;case"img":case"image":case"link":Qc("error",t),Qc("load",t);break;case"details":Qc("toggle",t);break;case"input":Qc("invalid",t),bt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Qc("invalid",t);break;case"textarea":Qc("invalid",t),xt(t,r.value,r.defaultValue,r.children)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||ud(t.textContent,n)?(null!=r.popover&&(Qc("beforetoggle",t),Qc("toggle",t)),null!=r.onScroll&&Qc("scroll",t),null!=r.onScrollEnd&&Qc("scrollend",t),null!=r.onClick&&(t.onclick=Ot),t=!0):t=!1,t||ma(e,!0)}function va(e){for(ua=e.return;ua;)switch(ua.tag){case 5:case 31:case 13:return void(ha=!1);case 27:case 3:return void(ha=!0);default:ua=ua.return}}function ya(e){if(e!==ua)return!1;if(!da)return va(e),da=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||bd(e.type,e.memoizedProps)),t=!t),t&&ca&&ma(e),va(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));ca=Dd(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));ca=Dd(e)}else 27===n?(n=ca,Ed(e.type)?(e=Rd,Rd=null,ca=e):ca=n):ca=ua?Fd(e.stateNode.nextSibling):null;return!0}function ba(){ca=ua=null,da=!1}function wa(){var e=pa;return null!==e&&(null===Mu?Mu=e:Mu.push.apply(Mu,e),pa=null),e}function ka(e){null===pa?pa=[e]:pa.push(e)}var Sa=B(null),xa=null,Ia=null;function _a(e,t,n){U(Sa,t._currentValue),t._currentValue=n}function Ea(e){e._currentValue=Sa.current,W(Sa)}function Ta(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Na(e,t,n,r){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var o=a.dependencies;if(null!==o){var s=a.child;o=o.firstContext;e:for(;null!==o;){var l=o;o=a;for(var u=0;u<t.length;u++)if(l.context===t[u]){o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ta(o.return,n,e),r||(s=null);break e}o=l.next}}else if(18===a.tag){if(null===(s=a.return))throw Error(i(341));s.lanes|=n,null!==(o=s.alternate)&&(o.lanes|=n),Ta(s,n,e),s=null}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===e){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}}function Ca(e,t,n,r){e=null;for(var a=t,o=!1;null!==a;){if(!o)if(0!==(524288&a.flags))o=!0;else if(0!==(262144&a.flags))break;if(10===a.tag){var s=a.alternate;if(null===s)throw Error(i(387));if(null!==(s=s.memoizedProps)){var l=a.type;Jn(a.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(a===K.current){if(null===(s=a.alternate))throw Error(i(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(cp):e=[cp])}a=a.return}null!==e&&Na(t,e,n,r),t.flags|=262144}function Ma(e){for(e=e.firstContext;null!==e;){if(!Jn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Aa(e){xa=e,Ia=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Oa(e){return Ra(xa,e)}function Fa(e,t){return null===xa&&Aa(e),Ra(e,t)}function Ra(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Ia){if(null===e)throw Error(i(308));Ia=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ia=Ia.next=t;return n}var Da="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Pa=r.unstable_scheduleCallback,La=r.unstable_NormalPriority,za={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ba(){return{controller:new Da,data:new Map,refCount:0}}function Wa(e){e.refCount--,0===e.refCount&&Pa(La,function(){e.controller.abort()})}var Ua=null,ja=0,Ha=0,Va=null;function qa(){if(0===--ja&&null!==Ua){null!==Va&&(Va.status="fulfilled");var e=Ua;Ua=null,Ha=0,Va=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ga=R.S;R.S=function(e,t){Fu=le(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Ua){var n=Ua=[];ja=0,Ha=jc(),Va={status:"pending",value:void 0,then:function(e){n.push(e)}}}ja++,t.then(qa,qa)}(0,t),null!==Ga&&Ga(e,t)};var Ka=B(null);function $a(){var e=Ka.current;return null!==e?e:fu.pooledCache}function Ya(e,t){U(Ka,null===t?Ka.current:t.pool)}function Qa(){var e=$a();return null===e?null:{parent:za._currentValue,pool:e}}var Xa=Error(i(460)),Ja=Error(i(474)),Za=Error(i(542)),eo={then:function(){}};function to(e){return"fulfilled"===(e=e.status)||"rejected"===e}function no(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Ot,Ot),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw io(e=t.reason),e;default:if("string"===typeof t.status)t.then(Ot,Ot);else{if(null!==(e=fu)&&100<e.shellSuspendCounter)throw Error(i(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw io(e=t.reason),e}throw ao=t,Xa}}function ro(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"===typeof t&&"function"===typeof t.then)throw ao=t,Xa;throw t}}var ao=null;function oo(){if(null===ao)throw Error(i(459));var e=ao;return ao=null,e}function io(e){if(e===Xa||e===Za)throw Error(i(483))}var so=null,lo=0;function uo(e){var t=lo;return lo+=1,null===so&&(so=[]),no(so,e,t)}function co(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function po(e,t){if(t.$$typeof===f)throw Error(i(525));throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ho(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=Wr(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Vr(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function u(e,t,n,r){var o=n.type;return o===v?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===E&&ro(o)===t.type)?(co(t=a(t,n.props),n),t.return=e,t):(co(t=jr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Gr(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Hr(n,e.mode,r,o)).return=e,t):((t=a(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Vr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case m:return co(n=jr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=Gr(t,e.mode,n)).return=e,t;case E:return p(e,t=ro(t),n)}if(F(t)||M(t))return(t=Hr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return p(e,uo(t),n);if(t.$$typeof===k)return p(e,Fa(e,t),n);po(e,t)}return null}function h(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case m:return n.key===a?u(e,t,n,r):null;case g:return n.key===a?c(e,t,n,r):null;case E:return h(e,t,n=ro(n),r)}if(F(n)||M(n))return null!==a?null:d(e,t,n,r,null);if("function"===typeof n.then)return h(e,t,uo(n),r);if(n.$$typeof===k)return h(e,t,Fa(e,n),r);po(e,n)}return null}function f(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case g:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case E:return f(e,t,n,r=ro(r),a)}if(F(r)||M(r))return d(t,e=e.get(n)||null,r,a,null);if("function"===typeof r.then)return f(e,t,n,uo(r),a);if(r.$$typeof===k)return f(e,t,n,Fa(t,r),a);po(t,r)}return null}function y(l,u,c,d){if("object"===typeof c&&null!==c&&c.type===v&&null===c.key&&(c=c.props.children),"object"===typeof c&&null!==c){switch(c.$$typeof){case m:e:{for(var b=c.key;null!==u;){if(u.key===b){if((b=c.type)===v){if(7===u.tag){n(l,u.sibling),(d=a(u,c.props.children)).return=l,l=d;break e}}else if(u.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===E&&ro(b)===u.type){n(l,u.sibling),co(d=a(u,c.props),c),d.return=l,l=d;break e}n(l,u);break}t(l,u),u=u.sibling}c.type===v?((d=Hr(c.props.children,l.mode,d,c.key)).return=l,l=d):(co(d=jr(c.type,c.key,c.props,null,l.mode,d),c),d.return=l,l=d)}return s(l);case g:e:{for(b=c.key;null!==u;){if(u.key===b){if(4===u.tag&&u.stateNode.containerInfo===c.containerInfo&&u.stateNode.implementation===c.implementation){n(l,u.sibling),(d=a(u,c.children||[])).return=l,l=d;break e}n(l,u);break}t(l,u),u=u.sibling}(d=Gr(c,l.mode,d)).return=l,l=d}return s(l);case E:return y(l,u,c=ro(c),d)}if(F(c))return function(a,i,s,l){for(var u=null,c=null,d=i,m=i=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=h(a,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(a,d),i=o(v,i,m),null===c?u=v:c.sibling=v,c=v,d=g}if(m===s.length)return n(a,d),da&&aa(a,m),u;if(null===d){for(;m<s.length;m++)null!==(d=p(a,s[m],l))&&(i=o(d,i,m),null===c?u=d:c.sibling=d,c=d);return da&&aa(a,m),u}for(d=r(d);m<s.length;m++)null!==(g=f(d,a,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=o(g,i,m),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach(function(e){return t(a,e)}),da&&aa(a,m),u}(l,u,c,d);if(M(c)){if("function"!==typeof(b=M(c)))throw Error(i(150));return function(a,s,l,u){if(null==l)throw Error(i(151));for(var c=null,d=null,m=s,g=s=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=h(a,m,y.value,u);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(a,m),s=o(b,s,g),null===d?c=b:d.sibling=b,d=b,m=v}if(y.done)return n(a,m),da&&aa(a,g),c;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=p(a,y.value,u))&&(s=o(y,s,g),null===d?c=y:d.sibling=y,d=y);return da&&aa(a,g),c}for(m=r(m);!y.done;g++,y=l.next())null!==(y=f(m,a,g,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=o(y,s,g),null===d?c=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(a,e)}),da&&aa(a,g),c}(l,u,c=b.call(c),d)}if("function"===typeof c.then)return y(l,u,uo(c),d);if(c.$$typeof===k)return y(l,u,Fa(l,c),d);po(l,c)}return"string"===typeof c&&""!==c||"number"===typeof c||"bigint"===typeof c?(c=""+c,null!==u&&6===u.tag?(n(l,u.sibling),(d=a(u,c)).return=l,l=d):(n(l,u),(d=Vr(c,l.mode,d)).return=l,l=d),s(l)):n(l,u)}return function(e,t,n,r){try{lo=0;var a=y(e,t,n,r);return so=null,a}catch(i){if(i===Xa||i===Za)throw i;var o=zr(29,i,null,e.mode);return o.lanes=r,o.return=e,o}}}var fo=ho(!0),mo=ho(!1),go=!1;function vo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function bo(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function wo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&hu)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,t=Dr(e),Rr(e,null,n),t}return Ar(e,r,t,n),Dr(e)}function ko(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Re(e,n)}}function So(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var i={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===o?a=o=i:o=o.next=i,n=n.next}while(null!==n);null===o?a=o=t:o=o.next=t}else a=o=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var xo=!1;function Io(){if(xo){if(null!==Va)throw Va}}function _o(e,t,n,r){xo=!1;var a=e.updateQueue;go=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var l=s,u=l.next;l.next=null,null===i?o=u:i.next=u,i=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==i&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==o){var d=a.baseState;for(i=0,c=u=l=null,s=o;;){var p=-536870913&s.lane,f=p!==s.lane;if(f?(gu&p)===p:(r&p)===p){0!==p&&p===Ha&&(xo=!0),null!==c&&(c=c.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var m=e,g=s;p=t;var v=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(v,d,p);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(p="function"===typeof(m=g.payload)?m.call(v,d,p):m)||void 0===p)break e;d=h({},d,p);break e;case 2:go=!0}}null!==(p=s.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=a.callbacks)?a.callbacks=[p]:f.push(p))}else f={lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=f,l=d):c=c.next=f,i|=p;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(f=s).next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}null===c&&(l=d),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=c,null===o&&(a.shared.lanes=0),Iu|=i,e.lanes=i,e.memoizedState=d}}function Eo(e,t){if("function"!==typeof e)throw Error(i(191,e));e.call(t)}function To(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Eo(n[e],t)}var No=B(null),Co=B(0);function Mo(e,t){U(Co,e=Su),U(No,t),Su=e|t.baseLanes}function Ao(){U(Co,Su),U(No,No.current)}function Oo(){Su=Co.current,W(No),W(Co)}var Fo=B(null),Ro=null;function Do(e){var t=e.alternate;U(Wo,1&Wo.current),U(Fo,e),null===Ro&&(null===t||null!==No.current||null!==t.memoizedState)&&(Ro=e)}function Po(e){U(Wo,Wo.current),U(Fo,e),null===Ro&&(Ro=e)}function Lo(e){22===e.tag?(U(Wo,Wo.current),U(Fo,e),null===Ro&&(Ro=e)):zo()}function zo(){U(Wo,Wo.current),U(Fo,Fo.current)}function Bo(e){W(Fo),Ro===e&&(Ro=null),W(Wo)}var Wo=B(0);function Uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Ad(n)||Od(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jo=0,Ho=null,Vo=null,qo=null,Go=!1,Ko=!1,$o=!1,Yo=0,Qo=0,Xo=null,Jo=0;function Zo(){throw Error(i(321))}function ei(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jn(e[n],t[n]))return!1;return!0}function ti(e,t,n,r,a,o){return jo=o,Ho=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=null===e||null===e.memoizedState?gs:vs,$o=!1,o=n(r,a),$o=!1,Ko&&(o=ri(t,n,r,a)),ni(e),o}function ni(e){R.H=ms;var t=null!==Vo&&null!==Vo.next;if(jo=0,qo=Vo=Ho=null,Go=!1,Qo=0,Xo=null,t)throw Error(i(300));null===e||Fs||null!==(e=e.dependencies)&&Ma(e)&&(Fs=!0)}function ri(e,t,n,r){Ho=e;var a=0;do{if(Ko&&(Xo=null),Qo=0,Ko=!1,25<=a)throw Error(i(301));if(a+=1,qo=Vo=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}R.H=ys,o=t(n,r)}while(Ko);return o}function ai(){var e=R.H,t=e.useState()[0];return t="function"===typeof t.then?ci(t):t,e=e.useState()[0],(null!==Vo?Vo.memoizedState:null)!==e&&(Ho.flags|=1024),t}function oi(){var e=0!==Yo;return Yo=0,e}function ii(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function si(e){if(Go){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Go=!1}jo=0,qo=Vo=Ho=null,Ko=!1,Qo=Yo=0,Xo=null}function li(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===qo?Ho.memoizedState=qo=e:qo=qo.next=e,qo}function ui(){if(null===Vo){var e=Ho.alternate;e=null!==e?e.memoizedState:null}else e=Vo.next;var t=null===qo?Ho.memoizedState:qo.next;if(null!==t)qo=t,Vo=e;else{if(null===e){if(null===Ho.alternate)throw Error(i(467));throw Error(i(310))}e={memoizedState:(Vo=e).memoizedState,baseState:Vo.baseState,baseQueue:Vo.baseQueue,queue:Vo.queue,next:null},null===qo?Ho.memoizedState=qo=e:qo=qo.next=e}return qo}function ci(e){var t=Qo;return Qo+=1,null===Xo&&(Xo=[]),e=no(Xo,e,t),t=Ho,null===(null===qo?t.memoizedState:qo.next)&&(t=t.alternate,R.H=null===t||null===t.memoizedState?gs:vs),e}function di(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return ci(e);if(e.$$typeof===k)return Oa(e)}throw Error(i(438,String(e)))}function pi(e){var t=null,n=Ho.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Ho.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Ho.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=N;return t.index++,n}function hi(e,t){return"function"===typeof t?t(e):t}function fi(e){return mi(ui(),Vo,e)}function mi(e,t,n){var r=e.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=n;var a=e.baseQueue,o=r.pending;if(null!==o){if(null!==a){var s=a.next;a.next=o.next,o.next=s}t.baseQueue=a=o,r.pending=null}if(o=e.baseState,null===a)e.memoizedState=o;else{var l=s=null,u=null,c=t=a.next,d=!1;do{var p=-536870913&c.lane;if(p!==c.lane?(gu&p)===p:(jo&p)===p){var h=c.revertLane;if(0===h)null!==u&&(u=u.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),p===Ha&&(d=!0);else{if((jo&h)===h){c=c.next,h===Ha&&(d=!0);continue}p={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=p,s=o):u=u.next=p,Ho.lanes|=h,Iu|=h}p=c.action,$o&&n(o,p),o=c.hasEagerState?c.eagerState:n(o,p)}else h={lane:p,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=h,s=o):u=u.next=h,Ho.lanes|=p,Iu|=p;c=c.next}while(null!==c&&c!==t);if(null===u?s=o:u.next=l,!Jn(o,e.memoizedState)&&(Fs=!0,d&&null!==(n=Va)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=u,r.lastRenderedState=o}return null===a&&(r.lanes=0),[e.memoizedState,r.dispatch]}function gi(e){var t=ui(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{o=e(o,s.action),s=s.next}while(s!==a);Jn(o,t.memoizedState)||(Fs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function vi(e,t,n){var r=Ho,a=ui(),o=da;if(o){if(void 0===n)throw Error(i(407));n=n()}else n=t();var s=!Jn((Vo||a).memoizedState,n);if(s&&(a.memoizedState=n,Fs=!0),a=a.queue,ji(wi.bind(null,r,a,e),[e]),a.getSnapshot!==t||s||null!==qo&&1&qo.memoizedState.tag){if(r.flags|=2048,Li(9,{destroy:void 0},bi.bind(null,r,a,n,t),null),null===fu)throw Error(i(349));o||0!==(127&jo)||yi(r,t,n)}return n}function yi(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Ho.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Ho.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function bi(e,t,n,r){t.value=n,t.getSnapshot=r,ki(t)&&Si(e)}function wi(e,t,n){return n(function(){ki(t)&&Si(e)})}function ki(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jn(e,n)}catch(r){return!0}}function Si(e){var t=Fr(e,2);null!==t&&$u(t,e,2)}function xi(e){var t=li();if("function"===typeof e){var n=e;if(e=n(),$o){be(!0);try{n()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:e},t}function Ii(e,t,n,r){return e.baseState=n,mi(e,Vo,"function"===typeof r?r:hi)}function _i(e,t,n,r,a){if(ps(e))throw Error(i(485));if(null!==(e=t.action)){var o={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==R.T?n(!0):o.isTransition=!1,r(o),null===(n=t.pending)?(o.next=t.pending=o,Ei(t,o)):(o.next=n.next,t.pending=n.next=o)}}function Ei(e,t){var n=t.action,r=t.payload,a=e.state;if(t.isTransition){var o=R.T,i={};R.T=i;try{var s=n(a,r),l=R.S;null!==l&&l(i,s),Ti(e,t,s)}catch(u){Ci(e,t,u)}finally{null!==o&&null!==i.types&&(o.types=i.types),R.T=o}}else try{Ti(e,t,o=n(a,r))}catch(c){Ci(e,t,c)}}function Ti(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){Ni(e,t,n)},function(n){return Ci(e,t,n)}):Ni(e,t,n)}function Ni(e,t,n){t.status="fulfilled",t.value=n,Mi(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Ei(e,n)))}function Ci(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Mi(t),t=t.next}while(t!==r)}e.action=null}function Mi(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ai(e,t){return t}function Oi(e,t){if(da){var n=fu.formState;if(null!==n){e:{var r=Ho;if(da){if(ca){t:{for(var a=ca,o=ha;8!==a.nodeType;){if(!o){a=null;break t}if(null===(a=Fd(a.nextSibling))){a=null;break t}}a="F!"===(o=a.data)||"F"===o?a:null}if(a){ca=Fd(a.nextSibling),r="F!"===a.data;break e}}ma(r)}r=!1}r&&(t=n[0])}}return(n=li()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:t},n.queue=r,n=us.bind(null,Ho,r),r.dispatch=n,r=xi(!1),o=ds.bind(null,Ho,!1,r.queue),a={state:t,dispatch:null,action:e,pending:null},(r=li()).queue=a,n=_i.bind(null,Ho,a,o,n),a.dispatch=n,r.memoizedState=e,[t,n,!1]}function Fi(e){return Ri(ui(),Vo,e)}function Ri(e,t,n){if(t=mi(e,t,Ai)[0],e=fi(hi)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=ci(t)}catch(i){if(i===Xa)throw Za;throw i}else r=t;var a=(t=ui()).queue,o=a.dispatch;return n!==t.memoizedState&&(Ho.flags|=2048,Li(9,{destroy:void 0},Di.bind(null,a,n),null)),[r,o,e]}function Di(e,t){e.action=t}function Pi(e){var t=ui(),n=Vo;if(null!==n)return Ri(t,n,e);ui(),t=t.memoizedState;var r=(n=ui()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Li(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=Ho.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Ho.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function zi(){return ui().memoizedState}function Bi(e,t,n,r){var a=li();Ho.flags|=e,a.memoizedState=Li(1|t,{destroy:void 0},n,void 0===r?null:r)}function Wi(e,t,n,r){var a=ui();r=void 0===r?null:r;var o=a.memoizedState.inst;null!==Vo&&null!==r&&ei(r,Vo.memoizedState.deps)?a.memoizedState=Li(t,o,n,r):(Ho.flags|=e,a.memoizedState=Li(1|t,o,n,r))}function Ui(e,t){Bi(8390656,8,e,t)}function ji(e,t){Wi(2048,8,e,t)}function Hi(e){var t=ui().memoizedState;return function(e){Ho.flags|=4;var t=Ho.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Ho.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&hu))throw Error(i(440));return t.impl.apply(void 0,arguments)}}function Vi(e,t){return Wi(4,2,e,t)}function qi(e,t){return Wi(4,4,e,t)}function Gi(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Ki(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Wi(4,4,Gi.bind(null,t,e),n)}function $i(){}function Yi(e,t){var n=ui();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&ei(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qi(e,t){var n=ui();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&ei(t,r[1]))return r[0];if(r=e(),$o){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r}function Xi(e,t,n){return void 0===n||0!==(1073741824&jo)&&0===(261930&gu)?e.memoizedState=t:(e.memoizedState=n,e=Ku(),Ho.lanes|=e,Iu|=e,n)}function Ji(e,t,n,r){return Jn(n,t)?n:null!==No.current?(e=Xi(e,n,r),Jn(e,t)||(Fs=!0),e):0===(42&jo)||0!==(1073741824&jo)&&0===(261930&gu)?(Fs=!0,e.memoizedState=n):(e=Ku(),Ho.lanes|=e,Iu|=e,t)}function Zi(e,t,n,r,a){var o=D.p;D.p=0!==o&&8>o?o:8;var i=R.T,s={};R.T=s,ds(e,!1,t,n);try{var l=a(),u=R.S;if(null!==u&&u(s,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)cs(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Gu());else cs(e,t,r,Gu())}catch(c){cs(e,t,{then:function(){},status:"rejected",reason:c},Gu())}finally{D.p=o,null!==i&&null!==s.types&&(i.types=s.types),R.T=i}}function es(){}function ts(e,t,n,r){if(5!==e.tag)throw Error(i(476));var a=ns(e).queue;Zi(e,a,t,P,null===n?es:function(){return rs(e),n(r)})}function ns(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:P,baseState:P,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:P},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function rs(e){var t=ns(e);null===t.next&&(t=e.alternate.memoizedState),cs(e,t.next.queue,{},Gu())}function as(){return Oa(cp)}function os(){return ui().memoizedState}function is(){return ui().memoizedState}function ss(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Gu(),r=wo(t,e=bo(n),n);return null!==r&&($u(r,t,n),ko(r,t,n)),t={cache:Ba()},void(e.payload=t)}t=t.return}}function ls(e,t,n){var r=Gu();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},ps(e)?hs(t,n):null!==(n=Or(e,t,n,r))&&($u(n,e,r),fs(n,t,r))}function us(e,t,n){cs(e,t,n,Gu())}function cs(e,t,n,r){var a={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(ps(e))hs(t,a);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var i=t.lastRenderedState,s=o(i,n);if(a.hasEagerState=!0,a.eagerState=s,Jn(s,i))return Ar(e,t,a,0),null===fu&&Mr(),!1}catch(l){}if(null!==(n=Or(e,t,a,r)))return $u(n,e,r),fs(n,t,r),!0}return!1}function ds(e,t,n,r){if(r={lane:2,revertLane:jc(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},ps(e)){if(t)throw Error(i(479))}else null!==(t=Or(e,n,r,2))&&$u(t,e,2)}function ps(e){var t=e.alternate;return e===Ho||null!==t&&t===Ho}function hs(e,t){Ko=Go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function fs(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Re(e,n)}}var ms={readContext:Oa,use:di,useCallback:Zo,useContext:Zo,useEffect:Zo,useImperativeHandle:Zo,useLayoutEffect:Zo,useInsertionEffect:Zo,useMemo:Zo,useReducer:Zo,useRef:Zo,useState:Zo,useDebugValue:Zo,useDeferredValue:Zo,useTransition:Zo,useSyncExternalStore:Zo,useId:Zo,useHostTransitionStatus:Zo,useFormState:Zo,useActionState:Zo,useOptimistic:Zo,useMemoCache:Zo,useCacheRefresh:Zo};ms.useEffectEvent=Zo;var gs={readContext:Oa,use:di,useCallback:function(e,t){return li().memoizedState=[e,void 0===t?null:t],e},useContext:Oa,useEffect:Ui,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Bi(4194308,4,Gi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bi(4194308,4,e,t)},useInsertionEffect:function(e,t){Bi(4,2,e,t)},useMemo:function(e,t){var n=li();t=void 0===t?null:t;var r=e();if($o){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=li();if(void 0!==n){var a=n(t);if($o){be(!0);try{n(t)}finally{be(!1)}}}else a=t;return r.memoizedState=r.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},r.queue=e,e=e.dispatch=ls.bind(null,Ho,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},li().memoizedState=e},useState:function(e){var t=(e=xi(e)).queue,n=us.bind(null,Ho,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:$i,useDeferredValue:function(e,t){return Xi(li(),e,t)},useTransition:function(){var e=xi(!1);return e=Zi.bind(null,Ho,e.queue,!0,!1),li().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Ho,a=li();if(da){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===fu)throw Error(i(349));0!==(127&gu)||yi(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,Ui(wi.bind(null,r,o,e),[e]),r.flags|=2048,Li(9,{destroy:void 0},bi.bind(null,r,o,n,t),null),n},useId:function(){var e=li(),t=fu.identifierPrefix;if(da){var n=ra;t="_"+t+"R_"+(n=(na&~(1<<32-we(na)-1)).toString(32)+n),0<(n=Yo++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Jo++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:as,useFormState:Oi,useActionState:Oi,useOptimistic:function(e){var t=li();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ds.bind(null,Ho,!0,n),n.dispatch=t,[e,t]},useMemoCache:pi,useCacheRefresh:function(){return li().memoizedState=ss.bind(null,Ho)},useEffectEvent:function(e){var t=li(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&hu))throw Error(i(440));return n.impl.apply(void 0,arguments)}}},vs={readContext:Oa,use:di,useCallback:Yi,useContext:Oa,useEffect:ji,useImperativeHandle:Ki,useInsertionEffect:Vi,useLayoutEffect:qi,useMemo:Qi,useReducer:fi,useRef:zi,useState:function(){return fi(hi)},useDebugValue:$i,useDeferredValue:function(e,t){return Ji(ui(),Vo.memoizedState,e,t)},useTransition:function(){var e=fi(hi)[0],t=ui().memoizedState;return["boolean"===typeof e?e:ci(e),t]},useSyncExternalStore:vi,useId:os,useHostTransitionStatus:as,useFormState:Fi,useActionState:Fi,useOptimistic:function(e,t){return Ii(ui(),0,e,t)},useMemoCache:pi,useCacheRefresh:is};vs.useEffectEvent=Hi;var ys={readContext:Oa,use:di,useCallback:Yi,useContext:Oa,useEffect:ji,useImperativeHandle:Ki,useInsertionEffect:Vi,useLayoutEffect:qi,useMemo:Qi,useReducer:gi,useRef:zi,useState:function(){return gi(hi)},useDebugValue:$i,useDeferredValue:function(e,t){var n=ui();return null===Vo?Xi(n,e,t):Ji(n,Vo.memoizedState,e,t)},useTransition:function(){var e=gi(hi)[0],t=ui().memoizedState;return["boolean"===typeof e?e:ci(e),t]},useSyncExternalStore:vi,useId:os,useHostTransitionStatus:as,useFormState:Pi,useActionState:Pi,useOptimistic:function(e,t){var n=ui();return null!==Vo?Ii(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:pi,useCacheRefresh:is};function bs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}ys.useEffectEvent=Hi;var ws={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Gu(),a=bo(r);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=wo(e,a,r))&&($u(t,e,r),ko(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Gu(),a=bo(r);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=wo(e,a,r))&&($u(t,e,r),ko(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Gu(),r=bo(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=wo(e,r,n))&&($u(t,e,n),ko(t,e,n))}};function ks(e,t,n,r,a,o,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,i):!t.prototype||!t.prototype.isPureReactComponent||(!Zn(n,r)||!Zn(a,o))}function Ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ws.enqueueReplaceState(t,t.state,null)}function xs(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var a in n===t&&(n=h({},n)),e)void 0===n[a]&&(n[a]=e[a]);return n}function Is(e){Er(e)}function _s(e){console.error(e)}function Es(e){Er(e)}function Ts(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Ns(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Cs(e,t,n){return(n=bo(n)).tag=3,n.payload={element:null},n.callback=function(){Ts(e,t)},n}function Ms(e){return(e=bo(e)).tag=3,e}function As(e,t,n,r){var a=n.type.getDerivedStateFromError;if("function"===typeof a){var o=r.value;e.payload=function(){return a(o)},e.callback=function(){Ns(t,n,r)}}var i=n.stateNode;null!==i&&"function"===typeof i.componentDidCatch&&(e.callback=function(){Ns(t,n,r),"function"!==typeof a&&(null===Pu?Pu=new Set([this]):Pu.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Os=Error(i(461)),Fs=!1;function Rs(e,t,n,r){t.child=null===e?mo(t,null,n,r):fo(t,e.child,n,r)}function Ds(e,t,n,r,a){n=n.render;var o=t.ref;if("ref"in r){var i={};for(var s in r)"ref"!==s&&(i[s]=r[s])}else i=r;return Aa(t),r=ti(e,t,n,i,o,a),s=oi(),null===e||Fs?(da&&s&&ia(t),t.flags|=1,Rs(e,t,r,a),t.child):(ii(e,t,a),al(e,t,a))}function Ps(e,t,n,r,a){if(null===e){var o=n.type;return"function"!==typeof o||Br(o)||void 0!==o.defaultProps||null!==n.compare?((e=jr(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ls(e,t,o,r,a))}if(o=e.child,!ol(e,a)){var i=o.memoizedProps;if((n=null!==(n=n.compare)?n:Zn)(i,r)&&e.ref===t.ref)return al(e,t,a)}return t.flags|=1,(e=Wr(o,r)).ref=t.ref,e.return=t,t.child=e}function Ls(e,t,n,r,a){if(null!==e){var o=e.memoizedProps;if(Zn(o,r)&&e.ref===t.ref){if(Fs=!1,t.pendingProps=r=o,!ol(e,a))return t.lanes=e.lanes,al(e,t,a);0!==(131072&e.flags)&&(Fs=!0)}}return Vs(e,t,n,r,a)}function zs(e,t,n,r){var a=r.children,o=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(0!==(128&t.flags)){if(o=null!==o?o.baseLanes|n:n,null!==e){for(r=t.child=e.child,a=0;null!==r;)a=a|r.lanes|r.childLanes,r=r.sibling;r=a&~o}else r=0,t.child=null;return Ws(e,t,o,n,r)}if(0===(536870912&n))return r=t.lanes=536870912,Ws(e,t,null!==o?o.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ya(0,null!==o?o.cachePool:null),null!==o?Mo(t,o):Ao(),Lo(t)}else null!==o?(Ya(0,o.cachePool),Mo(t,o),zo(),t.memoizedState=null):(null!==e&&Ya(0,null),Ao(),zo());return Rs(e,t,a,n),t.child}function Bs(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Ws(e,t,n,r,a){var o=$a();return o=null===o?null:{parent:za._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},null!==e&&Ya(0,null),Ao(),Lo(t),null!==e&&Ca(e,t,r,!0),t.childLanes=a,null}function Us(e,t){return(t=Zs({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function js(e,t,n){return fo(t,e.child,null,n),(e=Us(t,t.pendingProps)).flags|=2,Bo(t),t.memoizedState=null,e}function Hs(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(i(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Vs(e,t,n,r,a){return Aa(t),n=ti(e,t,n,r,void 0,a),r=oi(),null===e||Fs?(da&&r&&ia(t),t.flags|=1,Rs(e,t,n,a),t.child):(ii(e,t,a),al(e,t,a))}function qs(e,t,n,r,a,o){return Aa(t),t.updateQueue=null,n=ri(t,r,n,a),ni(e),r=oi(),null===e||Fs?(da&&r&&ia(t),t.flags|=1,Rs(e,t,n,o),t.child):(ii(e,t,o),al(e,t,o))}function Gs(e,t,n,r,a){if(Aa(t),null===t.stateNode){var o=Pr,i=n.contextType;"object"===typeof i&&null!==i&&(o=Oa(i)),o=new n(r,o),t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=ws,t.stateNode=o,o._reactInternals=t,(o=t.stateNode).props=r,o.state=t.memoizedState,o.refs={},vo(t),i=n.contextType,o.context="object"===typeof i&&null!==i?Oa(i):Pr,o.state=t.memoizedState,"function"===typeof(i=n.getDerivedStateFromProps)&&(bs(t,n,i,r),o.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(i=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),i!==o.state&&ws.enqueueReplaceState(o,o.state,null),_o(t,r,o,a),Io(),o.state=t.memoizedState),"function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){o=t.stateNode;var s=t.memoizedProps,l=xs(n,s);o.props=l;var u=o.context,c=n.contextType;i=Pr,"object"===typeof c&&null!==c&&(i=Oa(c));var d=n.getDerivedStateFromProps;c="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate,s=t.pendingProps!==s,c||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s||u!==i)&&Ss(t,o,r,i),go=!1;var p=t.memoizedState;o.state=p,_o(t,r,o,a),Io(),u=t.memoizedState,s||p!==u||go?("function"===typeof d&&(bs(t,n,d,r),u=t.memoizedState),(l=go||ks(t,n,l,r,p,u,i))?(c||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=i,r=l):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,yo(e,t),c=xs(n,i=t.memoizedProps),o.props=c,d=t.pendingProps,p=o.context,u=n.contextType,l=Pr,"object"===typeof u&&null!==u&&(l=Oa(u)),(u="function"===typeof(s=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(i!==d||p!==l)&&Ss(t,o,r,l),go=!1,p=t.memoizedState,o.state=p,_o(t,r,o,a),Io();var h=t.memoizedState;i!==d||p!==h||go||null!==e&&null!==e.dependencies&&Ma(e.dependencies)?("function"===typeof s&&(bs(t,n,s,r),h=t.memoizedState),(c=go||ks(t,n,c,r,p,h,l)||null!==e&&null!==e.dependencies&&Ma(e.dependencies))?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,h,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,h,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,Hs(e,t),r=0!==(128&t.flags),o||r?(o=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:o.render(),t.flags|=1,null!==e&&r?(t.child=fo(t,e.child,null,a),t.child=fo(t,null,n,a)):Rs(e,t,n,a),t.memoizedState=o.state,e=t.child):e=al(e,t,a),e}function Ks(e,t,n,r){return ba(),t.flags|=256,Rs(e,t,n,r),t.child}var $s={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ys(e){return{baseLanes:e,cachePool:Qa()}}function Qs(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Tu),e}function Xs(e,t,n){var r,a=t.pendingProps,o=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Wo.current)),r&&(o=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(da){if(o?Do(t):zo(),(e=ca)?null!==(e=null!==(e=Md(e,ha))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ta?{id:na,overflow:ra}:null,retryLane:536870912,hydrationErrors:null},(n=qr(e)).return=t,t.child=n,ua=t,ca=null):e=null,null===e)throw ma(t);return Od(e)?t.lanes=32:t.lanes=536870912,null}var l=a.children;return a=a.fallback,o?(zo(),l=Zs({mode:"hidden",children:l},o=t.mode),a=Hr(a,o,n,null),l.return=t,a.return=t,l.sibling=a,t.child=l,(a=t.child).memoizedState=Ys(n),a.childLanes=Qs(e,r,n),t.memoizedState=$s,Bs(null,a)):(Do(t),Js(t,l))}var u=e.memoizedState;if(null!==u&&null!==(l=u.dehydrated)){if(s)256&t.flags?(Do(t),t.flags&=-257,t=el(e,t,n)):null!==t.memoizedState?(zo(),t.child=e.child,t.flags|=128,t=null):(zo(),l=a.fallback,o=t.mode,a=Zs({mode:"visible",children:a.children},o),(l=Hr(l,o,n,null)).flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,fo(t,e.child,null,n),(a=t.child).memoizedState=Ys(n),a.childLanes=Qs(e,r,n),t.memoizedState=$s,t=Bs(null,a));else if(Do(t),Od(l)){if(r=l.nextSibling&&l.nextSibling.dataset)var c=r.dgst;r=c,(a=Error(i(419))).stack="",a.digest=r,ka({value:a,source:null,stack:null}),t=el(e,t,n)}else if(Fs||Ca(e,t,n,!1),r=0!==(n&e.childLanes),Fs||r){if(null!==(r=fu)&&(0!==(a=De(r,n))&&a!==u.retryLane))throw u.retryLane=a,Fr(e,a),$u(r,e,a),Os;Ad(l)||ic(),t=el(e,t,n)}else Ad(l)?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,ca=Fd(l.nextSibling),ua=t,da=!0,pa=null,ha=!1,null!==e&&la(t,e),(t=Js(t,a.children)).flags|=4096);return t}return o?(zo(),l=a.fallback,o=t.mode,c=(u=e.child).sibling,(a=Wr(u,{mode:"hidden",children:a.children})).subtreeFlags=65011712&u.subtreeFlags,null!==c?l=Wr(c,l):(l=Hr(l,o,n,null)).flags|=2,l.return=t,a.return=t,a.sibling=l,t.child=a,Bs(null,a),a=t.child,null===(l=e.child.memoizedState)?l=Ys(n):(null!==(o=l.cachePool)?(u=za._currentValue,o=o.parent!==u?{parent:u,pool:u}:o):o=Qa(),l={baseLanes:l.baseLanes|n,cachePool:o}),a.memoizedState=l,a.childLanes=Qs(e,r,n),t.memoizedState=$s,Bs(e.child,a)):(Do(t),e=(n=e.child).sibling,(n=Wr(n,{mode:"visible",children:a.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Js(e,t){return(t=Zs({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Zs(e,t){return(e=zr(22,e,null,t)).lanes=0,e}function el(e,t,n){return fo(t,e.child,null,n),(e=Js(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function tl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ta(e.return,t,n)}function nl(e,t,n,r,a,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a,treeForkCount:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a,i.treeForkCount=o)}function rl(e,t,n){var r=t.pendingProps,a=r.revealOrder,o=r.tail;r=r.children;var i=Wo.current,s=0!==(2&i);if(s?(i=1&i|2,t.flags|=128):i&=1,U(Wo,i),Rs(e,t,r,n),r=da?Jr:0,!s&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&tl(e,n,t);else if(19===e.tag)tl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===Uo(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),nl(t,!1,a,n,o,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===Uo(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}nl(t,!0,n,null,o,r);break;case"together":nl(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function al(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Iu|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ca(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Wr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Wr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ol(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ma(e))}function il(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Fs=!0;else{if(!ol(e,n)&&0===(128&t.flags))return Fs=!1,function(e,t,n){switch(t.tag){case 3:$(t,t.stateNode.containerInfo),_a(0,za,e.memoizedState.cache),ba();break;case 27:case 5:Q(t);break;case 4:$(t,t.stateNode.containerInfo);break;case 10:_a(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Po(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Do(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Xs(e,t,n):(Do(t),null!==(e=al(e,t,n))?e.sibling:null);Do(t);break;case 19:var a=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Ca(e,t,n,!1),r=0!==(n&t.childLanes)),a){if(r)return rl(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),U(Wo,Wo.current),r)break;return null;case 22:return t.lanes=0,zs(e,t,n,t.pendingProps);case 24:_a(0,za,e.memoizedState.cache)}return al(e,t,n)}(e,t,n);Fs=0!==(131072&e.flags)}else Fs=!1,da&&0!==(1048576&t.flags)&&oa(t,Jr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=ro(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var a=e.$$typeof;if(a===S){t.tag=11,t=Ds(null,t,e,r,n);break e}if(a===_){t.tag=14,t=Ps(null,t,e,r,n);break e}}throw t=O(e)||e,Error(i(306,t,""))}Br(e)?(r=xs(e,r),t.tag=1,t=Gs(null,t,e,r,n)):(t.tag=0,t=Vs(null,t,e,r,n))}return t;case 0:return Vs(e,t,t.type,t.pendingProps,n);case 1:return Gs(e,t,r=t.type,a=xs(r,t.pendingProps),n);case 3:e:{if($(t,t.stateNode.containerInfo),null===e)throw Error(i(387));r=t.pendingProps;var o=t.memoizedState;a=o.element,yo(e,t),_o(t,r,null,n);var s=t.memoizedState;if(r=s.cache,_a(0,za,r),r!==o.cache&&Na(t,[za],n,!0),Io(),r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ks(e,t,r,n);break e}if(r!==a){ka(a=$r(Error(i(424)),t)),t=Ks(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ca=Fd(e.firstChild),ua=t,da=!0,pa=null,ha=!0,n=mo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ba(),r===a){t=al(e,t,n);break e}Rs(e,t,r,n)}t=t.child}return t;case 26:return Hs(e,t),null===e?(n=qd(t.type,null,t.pendingProps,null))?t.memoizedState=n:da||(n=t.type,e=t.pendingProps,(r=gd(G.current).createElement(n))[Ue]=t,r[je]=e,pd(r,n,e),et(r),t.stateNode=r):t.memoizedState=qd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Q(t),null===e&&da&&(r=t.stateNode=Ld(t.type,t.pendingProps,G.current),ua=t,ha=!0,a=ca,Ed(t.type)?(Rd=a,ca=Fd(r.firstChild)):ca=a),Rs(e,t,t.pendingProps.children,n),Hs(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&da&&((a=r=ca)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[$e])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(o=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(o!==a.rel||e.getAttribute("href")!==(null==a.href||""===a.href?null:a.href)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin)||e.getAttribute("title")!==(null==a.title?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((o=e.getAttribute("src"))!==(null==a.src?null:a.src)||e.getAttribute("type")!==(null==a.type?null:a.type)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var o=null==a.name?null:""+a.name;if("hidden"===a.type&&e.getAttribute("name")===o)return e}if(null===(e=Fd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,ha))?(t.stateNode=r,ua=t,ca=Fd(r.firstChild),ha=!1,a=!0):a=!1),a||ma(t)),Q(t),a=t.type,o=t.pendingProps,s=null!==e?e.memoizedProps:null,r=o.children,bd(a,o)?r=null:null!==s&&bd(a,s)&&(t.flags|=32),null!==t.memoizedState&&(a=ti(e,t,ai,null,null,n),cp._currentValue=a),Hs(e,t),Rs(e,t,r,n),t.child;case 6:return null===e&&da&&((e=n=ca)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Fd(e.nextSibling)))return null}return e}(n,t.pendingProps,ha))?(t.stateNode=n,ua=t,ca=null,e=!0):e=!1),e||ma(t)),null;case 13:return Xs(e,t,n);case 4:return $(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=fo(t,null,r,n):Rs(e,t,r,n),t.child;case 11:return Ds(e,t,t.type,t.pendingProps,n);case 7:return Rs(e,t,t.pendingProps,n),t.child;case 8:case 12:return Rs(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,_a(0,t.type,r.value),Rs(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,Aa(t),r=r(a=Oa(a)),t.flags|=1,Rs(e,t,r,n),t.child;case 14:return Ps(e,t,t.type,t.pendingProps,n);case 15:return Ls(e,t,t.type,t.pendingProps,n);case 19:return rl(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,a=0!==(128&t.flags);if(t.flags&=-129,null===e){if(da){if("hidden"===r.mode)return e=Us(t,r),t.lanes=536870912,Bs(null,e);if(Po(t),(e=ca)?null!==(e=null!==(e=Md(e,ha))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ta?{id:na,overflow:ra}:null,retryLane:536870912,hydrationErrors:null},(n=qr(e)).return=t,t.child=n,ua=t,ca=null):e=null,null===e)throw ma(t);return t.lanes=536870912,null}return Us(t,r)}var o=e.memoizedState;if(null!==o){var s=o.dehydrated;if(Po(t),a)if(256&t.flags)t.flags&=-257,t=js(e,t,n);else{if(null===t.memoizedState)throw Error(i(558));t.child=e.child,t.flags|=128,t=null}else if(Fs||Ca(e,t,n,!1),a=0!==(n&e.childLanes),Fs||a){if(null!==(r=fu)&&0!==(s=De(r,n))&&s!==o.retryLane)throw o.retryLane=s,Fr(e,s),$u(r,e,s),Os;ic(),t=js(e,t,n)}else e=o.treeContext,ca=Fd(s.nextSibling),ua=t,da=!0,pa=null,ha=!1,null!==e&&la(t,e),(t=Us(t,r)).flags|=4096;return t}return(e=Wr(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return zs(e,t,n,t.pendingProps);case 24:return Aa(t),r=Oa(za),null===e?(null===(a=$a())&&(a=fu,o=Ba(),a.pooledCache=o,o.refCount++,null!==o&&(a.pooledCacheLanes|=n),a=o),t.memoizedState={parent:r,cache:a},vo(t),_a(0,za,a)):(0!==(e.lanes&n)&&(yo(e,t),_o(t,null,null,n),Io()),a=e.memoizedState,o=t.memoizedState,a.parent!==r?(a={parent:r,cache:r},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),_a(0,za,r)):(r=o.cache,_a(0,za,r),r!==a.cache&&Na(t,[za],n,!0))),Rs(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function sl(e){e.flags|=4}function ll(e,t,n,r,a){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&a)===a)if(e.stateNode.complete)e.flags|=8192;else{if(!rc())throw ao=eo,Ja;e.flags|=8192}}else e.flags&=-16777217}function ul(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!ap(t)){if(!rc())throw ao=eo,Ja;e.flags|=8192}}function cl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Me():536870912,e.lanes|=t,Nu|=t)}function dl(e,t){if(!da)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function pl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=65011712&a.subtreeFlags,r|=65011712&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function hl(e,t,n){var r=t.pendingProps;switch(sa(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return pl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Ea(za),Y(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ya(t)?sl(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,wa())),pl(t),null;case 26:var a=t.type,o=t.memoizedState;return null===e?(sl(t),null!==o?(pl(t),ul(t,o)):(pl(t),ll(t,a,0,0,n))):o?o!==e.memoizedState?(sl(t),pl(t),ul(t,o)):(pl(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&sl(t),pl(t),ll(t,a,0,0,n)),null;case 27:if(X(t),n=G.current,a=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&sl(t);else{if(!r){if(null===t.stateNode)throw Error(i(166));return pl(t),null}e=V.current,ya(t)?ga(t):(e=Ld(a,r,n),t.stateNode=e,sl(t))}return pl(t),null;case 5:if(X(t),a=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&sl(t);else{if(!r){if(null===t.stateNode)throw Error(i(166));return pl(t),null}if(o=V.current,ya(t))ga(t);else{var s=gd(G.current);switch(o){case 1:o=s.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:o=s.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":o=s.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":o=s.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":(o=s.createElement("div")).innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o="string"===typeof r.is?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?o.multiple=!0:r.size&&(o.size=r.size);break;default:o="string"===typeof r.is?s.createElement(a,{is:r.is}):s.createElement(a)}}o[Ue]=t,o[je]=r;e:for(s=t.child;null!==s;){if(5===s.tag||6===s.tag)o.appendChild(s.stateNode);else if(4!==s.tag&&27!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;null===s.sibling;){if(null===s.return||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=o;e:switch(pd(o,a,r),a){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&sl(t)}}return pl(t),ll(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&sl(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(e=G.current,ya(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(a=ua))switch(a.tag){case 27:case 5:r=a.memoizedProps}e[Ue]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||ud(e.nodeValue,n)))||ma(t,!0)}else(e=gd(e).createTextNode(r))[Ue]=t,t.stateNode=e}return pl(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=ya(t),null!==n){if(null===e){if(!r)throw Error(i(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(i(557));e[Ue]=t}else ba(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;pl(t),e=!1}else n=wa(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Bo(t),t):(Bo(t),null);if(0!==(128&t.flags))throw Error(i(558))}return pl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=ya(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[Ue]=t}else ba(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;pl(t),a=!1}else a=wa(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(Bo(t),t):(Bo(t),null)}return Bo(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(a=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(a=r.alternate.memoizedState.cachePool.pool),o=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),cl(t,t.updateQueue),pl(t),null);case 4:return Y(),null===e&&Zc(t.stateNode.containerInfo),pl(t),null;case 10:return Ea(t.type),pl(t),null;case 19:if(W(Wo),null===(r=t.memoizedState))return pl(t),null;if(a=0!==(128&t.flags),null===(o=r.rendering))if(a)dl(r,!1);else{if(0!==xu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=Uo(e))){for(t.flags|=128,dl(r,!1),e=o.updateQueue,t.updateQueue=e,cl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Ur(n,e),n=n.sibling;return U(Wo,1&Wo.current|2),da&&aa(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&le()>Ru&&(t.flags|=128,a=!0,dl(r,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=Uo(o))){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,cl(t,e),dl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!o.alternate&&!da)return pl(t),null}else 2*le()-r.renderingStartTime>Ru&&536870912!==n&&(t.flags|=128,a=!0,dl(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=r.last)?e.sibling=o:t.child=o,r.last=o)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=le(),e.sibling=null,n=Wo.current,U(Wo,a?1&n|2:1&n),da&&aa(t,r.treeForkCount),e):(pl(t),null);case 22:case 23:return Bo(t),Oo(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(pl(t),6&t.subtreeFlags&&(t.flags|=8192)):pl(t),null!==(n=t.updateQueue)&&cl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&W(Ka),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ea(za),pl(t),null;case 25:case 30:return null}throw Error(i(156,t.tag))}function fl(e,t){switch(sa(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ea(za),Y(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return X(t),null;case 31:if(null!==t.memoizedState){if(Bo(t),null===t.alternate)throw Error(i(340));ba()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Bo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));ba()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return W(Wo),null;case 4:return Y(),null;case 10:return Ea(t.type),null;case 22:case 23:return Bo(t),Oo(),null!==e&&W(Ka),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Ea(za),null;default:return null}}function ml(e,t){switch(sa(t),t.tag){case 3:Ea(za),Y();break;case 26:case 27:case 5:X(t);break;case 4:Y();break;case 31:null!==t.memoizedState&&Bo(t);break;case 13:Bo(t);break;case 19:W(Wo);break;case 10:Ea(t.type);break;case 22:case 23:Bo(t),Oo(),null!==e&&W(Ka);break;case 24:Ea(za)}}function gl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var a=r.next;n=a;do{if((n.tag&e)===e){r=void 0;var o=n.create,i=n.inst;r=o(),i.destroy=r}n=n.next}while(n!==a)}}catch(s){xc(t,t.return,s)}}function vl(e,t,n){try{var r=t.updateQueue,a=null!==r?r.lastEffect:null;if(null!==a){var o=a.next;r=o;do{if((r.tag&e)===e){var i=r.inst,s=i.destroy;if(void 0!==s){i.destroy=void 0,a=t;var l=n,u=s;try{u()}catch(c){xc(a,l,c)}}}r=r.next}while(r!==o)}}catch(c){xc(t,t.return,c)}}function yl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{To(t,n)}catch(r){xc(e,e.return,r)}}}function bl(e,t,n){n.props=xs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){xc(e,t,r)}}function wl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(a){xc(e,t,a)}}function kl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(a){xc(e,t,a)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(o){xc(e,t,o)}else n.current=null}function Sl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(a){xc(e,e.return,a)}}function xl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,o=null,s=null,l=null,u=null,c=null,d=null;for(f in n){var p=n[f];if(n.hasOwnProperty(f)&&null!=p)switch(f){case"checked":case"value":break;case"defaultValue":u=p;default:r.hasOwnProperty(f)||cd(e,t,f,null,r,p)}}for(var h in r){var f=r[h];if(p=n[h],r.hasOwnProperty(h)&&(null!=f||null!=p))switch(h){case"type":o=f;break;case"name":a=f;break;case"checked":c=f;break;case"defaultChecked":d=f;break;case"value":s=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(i(137,t));break;default:f!==p&&cd(e,t,h,f,r,p)}}return void yt(e,s,l,u,c,d,o,a);case"select":for(o in f=s=l=h=null,n)if(u=n[o],n.hasOwnProperty(o)&&null!=u)switch(o){case"value":break;case"multiple":f=u;default:r.hasOwnProperty(o)||cd(e,t,o,null,r,u)}for(a in r)if(o=r[a],u=n[a],r.hasOwnProperty(a)&&(null!=o||null!=u))switch(a){case"value":h=o;break;case"defaultValue":l=o;break;case"multiple":s=o;default:o!==u&&cd(e,t,a,o,r,u)}return t=l,n=s,r=f,void(null!=h?kt(e,!!n,h,!1):!!r!==!!n&&(null!=t?kt(e,!!n,t,!0):kt(e,!!n,n?[]:"",!1)));case"textarea":for(l in f=h=null,n)if(a=n[l],n.hasOwnProperty(l)&&null!=a&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:cd(e,t,l,null,r,a)}for(s in r)if(a=r[s],o=n[s],r.hasOwnProperty(s)&&(null!=a||null!=o))switch(s){case"value":h=a;break;case"defaultValue":f=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(i(91));break;default:a!==o&&cd(e,t,s,a,r,o)}return void St(e,h,f);case"option":for(var m in n)if(h=n[m],n.hasOwnProperty(m)&&null!=h&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else cd(e,t,m,null,r,h);for(u in r)if(h=r[u],f=n[u],r.hasOwnProperty(u)&&h!==f&&(null!=h||null!=f))if("selected"===u)e.selected=h&&"function"!==typeof h&&"symbol"!==typeof h;else cd(e,t,u,h,r,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)h=n[g],n.hasOwnProperty(g)&&null!=h&&!r.hasOwnProperty(g)&&cd(e,t,g,null,r,h);for(c in r)if(h=r[c],f=n[c],r.hasOwnProperty(c)&&h!==f&&(null!=h||null!=f))switch(c){case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(i(137,t));break;default:cd(e,t,c,h,r,f)}return;default:if(Nt(t)){for(var v in n)h=n[v],n.hasOwnProperty(v)&&void 0!==h&&!r.hasOwnProperty(v)&&dd(e,t,v,void 0,r,h);for(d in r)h=r[d],f=n[d],!r.hasOwnProperty(d)||h===f||void 0===h&&void 0===f||dd(e,t,d,h,r,f);return}}for(var y in n)h=n[y],n.hasOwnProperty(y)&&null!=h&&!r.hasOwnProperty(y)&&cd(e,t,y,null,r,h);for(p in r)h=r[p],f=n[p],!r.hasOwnProperty(p)||h===f||null==h&&null==f||cd(e,t,p,h,r,f)}(r,e.type,n,t),r[je]=t}catch(a){xc(e,e.return,a)}}function Il(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Ed(e.type)||4===e.tag}function _l(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Ed(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function El(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ot));else if(4!==r&&(27===r&&Ed(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(El(e,t,n),e=e.sibling;null!==e;)El(e,t,n),e=e.sibling}function Tl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Ed(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Tl(e,t,n),e=e.sibling;null!==e;)Tl(e,t,n),e=e.sibling}function Nl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);pd(t,r,n),t[Ue]=e,t[je]=n}catch(o){xc(e,e.return,o)}}var Cl=!1,Ml=!1,Al=!1,Ol="function"===typeof WeakSet?WeakSet:Set,Fl=null;function Rl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:$l(e,n),4&r&&gl(5,n);break;case 1:if($l(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(i){xc(n,n.return,i)}else{var a=xs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){xc(n,n.return,s)}}64&r&&yl(n),512&r&&wl(n,n.return);break;case 3:if($l(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{To(e,t)}catch(i){xc(n,n.return,i)}}break;case 27:null===t&&4&r&&Nl(n);case 26:case 5:$l(e,n),null===t&&4&r&&Sl(n),512&r&&wl(n,n.return);break;case 12:$l(e,n);break;case 31:$l(e,n),4&r&&Wl(e,n);break;case 13:$l(e,n),4&r&&Ul(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Tc.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Cl)){t=null!==t&&null!==t.memoizedState||Ml,a=Cl;var o=Ml;Cl=r,(Ml=t)&&!o?Ql(e,n,0!==(8772&n.subtreeFlags)):$l(e,n),Cl=a,Ml=o}break;case 30:break;default:$l(e,n)}}function Dl(e){var t=e.alternate;null!==t&&(e.alternate=null,Dl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ye(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Pl=null,Ll=!1;function zl(e,t,n){for(n=n.child;null!==n;)Bl(e,t,n),n=n.sibling}function Bl(e,t,n){if(ye&&"function"===typeof ye.onCommitFiberUnmount)try{ye.onCommitFiberUnmount(ve,n)}catch(o){}switch(n.tag){case 26:Ml||kl(n,t),zl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Ml||kl(n,t);var r=Pl,a=Ll;Ed(n.type)&&(Pl=n.stateNode,Ll=!1),zl(e,t,n),zd(n.stateNode),Pl=r,Ll=a;break;case 5:Ml||kl(n,t);case 6:if(r=Pl,a=Ll,Pl=null,zl(e,t,n),Ll=a,null!==(Pl=r))if(Ll)try{(9===Pl.nodeType?Pl.body:"HTML"===Pl.nodeName?Pl.ownerDocument.body:Pl).removeChild(n.stateNode)}catch(i){xc(n,t,i)}else try{Pl.removeChild(n.stateNode)}catch(i){xc(n,t,i)}break;case 18:null!==Pl&&(Ll?(Td(9===(e=Pl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Vp(e)):Td(Pl,n.stateNode));break;case 4:r=Pl,a=Ll,Pl=n.stateNode.containerInfo,Ll=!0,zl(e,t,n),Pl=r,Ll=a;break;case 0:case 11:case 14:case 15:vl(2,n,t),Ml||vl(4,n,t),zl(e,t,n);break;case 1:Ml||(kl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&bl(n,t,r)),zl(e,t,n);break;case 21:zl(e,t,n);break;case 22:Ml=(r=Ml)||null!==n.memoizedState,zl(e,t,n),Ml=r;break;default:zl(e,t,n)}}function Wl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Vp(e)}catch(n){xc(t,t.return,n)}}}function Ul(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Vp(e)}catch(n){xc(t,t.return,n)}}function jl(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Ol),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Ol),t;default:throw Error(i(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Nc.bind(null,e,t);t.then(r,r)}})}function Hl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r],o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:if(Ed(l.type)){Pl=l.stateNode,Ll=!1;break e}break;case 5:Pl=l.stateNode,Ll=!1;break e;case 3:case 4:Pl=l.stateNode.containerInfo,Ll=!0;break e}l=l.return}if(null===Pl)throw Error(i(160));Bl(o,s,a),Pl=null,Ll=!1,null!==(o=a.alternate)&&(o.return=null),a.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)ql(t,e),t=t.sibling}var Vl=null;function ql(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Hl(t,e),Gl(e),4&r&&(vl(3,e,e.return),gl(3,e),vl(5,e,e.return));break;case 1:Hl(t,e),Gl(e),512&r&&(Ml||null===n||kl(n,n.return)),64&r&&Cl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var a=Vl;if(Hl(t,e),Gl(e),512&r&&(Ml||null===n||kl(n,n.return)),4&r){var o=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(r){case"title":(!(o=a.getElementsByTagName("title")[0])||o[$e]||o[Ue]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=a.createElement(r),a.head.insertBefore(o,a.querySelector("head > title"))),pd(o,r,n),o[Ue]=e,et(o),r=o;break e;case"link":var s=np("link","href",a).get(r+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((o=s[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&o.getAttribute("rel")===(null==n.rel?null:n.rel)&&o.getAttribute("title")===(null==n.title?null:n.title)&&o.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}pd(o=a.createElement(r),r,n),a.head.appendChild(o);break;case"meta":if(s=np("meta","content",a).get(r+(n.content||"")))for(l=0;l<s.length;l++)if((o=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&o.getAttribute("name")===(null==n.name?null:n.name)&&o.getAttribute("property")===(null==n.property?null:n.property)&&o.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&o.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}pd(o=a.createElement(r),r,n),a.head.appendChild(o);break;default:throw Error(i(468,r))}o[Ue]=e,et(o),r=o}e.stateNode=r}else rp(a,e.type,e.stateNode);else e.stateNode=Xd(a,r,e.memoizedProps);else o!==r?(null===o?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):o.count--,null===r?rp(a,e.type,e.stateNode):Xd(a,r,e.memoizedProps)):null===r&&null!==e.stateNode&&xl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Hl(t,e),Gl(e),512&r&&(Ml||null===n||kl(n,n.return)),null!==n&&4&r&&xl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Hl(t,e),Gl(e),512&r&&(Ml||null===n||kl(n,n.return)),32&e.flags){a=e.stateNode;try{It(a,"")}catch(m){xc(e,e.return,m)}}4&r&&null!=e.stateNode&&xl(e,a=e.memoizedProps,null!==n?n.memoizedProps:a),1024&r&&(Al=!0);break;case 6:if(Hl(t,e),Gl(e),4&r){if(null===e.stateNode)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(m){xc(e,e.return,m)}}break;case 3:if(tp=null,a=Vl,Vl=Ud(t.containerInfo),Hl(t,e),Vl=a,Gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vp(t.containerInfo)}catch(m){xc(e,e.return,m)}Al&&(Al=!1,Kl(e));break;case 4:r=Vl,Vl=Ud(e.stateNode.containerInfo),Hl(t,e),Gl(e),Vl=r;break;case 12:default:Hl(t,e),Gl(e);break;case 31:case 19:Hl(t,e),Gl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,jl(e,r)));break;case 13:Hl(t,e),Gl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Ou=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,jl(e,r)));break;case 22:a=null!==e.memoizedState;var u=null!==n&&null!==n.memoizedState,c=Cl,d=Ml;if(Cl=c||a,Ml=d||u,Hl(t,e),Ml=d,Cl=c,Gl(e),8192&r)e:for(t=e.stateNode,t._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===n||u||Cl||Ml||Yl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){u=n=t;try{if(o=u.stateNode,a)"function"===typeof(s=o.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{l=u.stateNode;var p=u.memoizedProps.style,h=void 0!==p&&null!==p&&p.hasOwnProperty("display")?p.display:null;l.style.display=null==h||"boolean"===typeof h?"":(""+h).trim()}}catch(m){xc(u,u.return,m)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=a?"":u.memoizedProps}catch(m){xc(u,u.return,m)}}}else if(18===t.tag){if(null===n){u=t;try{var f=u.stateNode;a?Nd(f,!0):Nd(u.stateNode,!1)}catch(m){xc(u,u.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,jl(e,n))));case 30:case 21:}}function Gl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(Il(r)){n=r;break}r=r.return}if(null==n)throw Error(i(160));switch(n.tag){case 27:var a=n.stateNode;Tl(e,_l(e),a);break;case 5:var o=n.stateNode;32&n.flags&&(It(o,""),n.flags&=-33),Tl(e,_l(e),o);break;case 3:case 4:var s=n.stateNode.containerInfo;El(e,_l(e),s);break;default:throw Error(i(161))}}catch(l){xc(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Kl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Kl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function $l(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Rl(e,t.alternate,t),t=t.sibling}function Yl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:vl(4,t,t.return),Yl(t);break;case 1:kl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&bl(t,t.return,n),Yl(t);break;case 27:zd(t.stateNode);case 26:case 5:kl(t,t.return),Yl(t);break;case 22:null===t.memoizedState&&Yl(t);break;default:Yl(t)}e=e.sibling}}function Ql(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,a=e,o=t,i=o.flags;switch(o.tag){case 0:case 11:case 15:Ql(a,o,n),gl(4,o);break;case 1:if(Ql(a,o,n),"function"===typeof(a=(r=o).stateNode).componentDidMount)try{a.componentDidMount()}catch(u){xc(r,r.return,u)}if(null!==(a=(r=o).updateQueue)){var s=r.stateNode;try{var l=a.shared.hiddenCallbacks;if(null!==l)for(a.shared.hiddenCallbacks=null,a=0;a<l.length;a++)Eo(l[a],s)}catch(u){xc(r,r.return,u)}}n&&64&i&&yl(o),wl(o,o.return);break;case 27:Nl(o);case 26:case 5:Ql(a,o,n),n&&null===r&&4&i&&Sl(o),wl(o,o.return);break;case 12:Ql(a,o,n);break;case 31:Ql(a,o,n),n&&4&i&&Wl(a,o);break;case 13:Ql(a,o,n),n&&4&i&&Ul(a,o);break;case 22:null===o.memoizedState&&Ql(a,o,n),wl(o,o.return);break;case 30:break;default:Ql(a,o,n)}t=t.sibling}}function Xl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Wa(n))}function Jl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Wa(e))}function Zl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)eu(e,t,n,r),t=t.sibling}function eu(e,t,n,r){var a=t.flags;switch(t.tag){case 0:case 11:case 15:Zl(e,t,n,r),2048&a&&gl(9,t);break;case 1:case 31:case 13:default:Zl(e,t,n,r);break;case 3:Zl(e,t,n,r),2048&a&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Wa(e)));break;case 12:if(2048&a){Zl(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,i=o.id,s=o.onPostCommit;"function"===typeof s&&s(i,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){xc(t,t.return,l)}}else Zl(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,i=t.alternate,null!==t.memoizedState?2&o._visibility?Zl(e,t,n,r):nu(e,t):2&o._visibility?Zl(e,t,n,r):(o._visibility|=2,tu(e,t,n,r,0!==(10256&t.subtreeFlags)||!1)),2048&a&&Xl(i,t);break;case 24:Zl(e,t,n,r),2048&a&&Jl(t.alternate,t)}}function tu(e,t,n,r,a){for(a=a&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var o=e,i=t,s=n,l=r,u=i.flags;switch(i.tag){case 0:case 11:case 15:tu(o,i,s,l,a),gl(8,i);break;case 23:break;case 22:var c=i.stateNode;null!==i.memoizedState?2&c._visibility?tu(o,i,s,l,a):nu(o,i):(c._visibility|=2,tu(o,i,s,l,a)),a&&2048&u&&Xl(i.alternate,i);break;case 24:tu(o,i,s,l,a),a&&2048&u&&Jl(i.alternate,i);break;default:tu(o,i,s,l,a)}t=t.sibling}}function nu(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,a=r.flags;switch(r.tag){case 22:nu(n,r),2048&a&&Xl(r.alternate,r);break;case 24:nu(n,r),2048&a&&Jl(r.alternate,r);break;default:nu(n,r)}t=t.sibling}}var ru=8192;function au(e,t,n){if(e.subtreeFlags&ru)for(e=e.child;null!==e;)ou(e,t,n),e=e.sibling}function ou(e,t,n){switch(e.tag){case 26:au(e,t,n),e.flags&ru&&null!==e.memoizedState&&function(e,t,n,r){if("stylesheet"===n.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var a=Gd(r.href),o=t.querySelector(Kd(a));if(o)return null!==(t=o._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=ip.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=o,void et(o);o=t.ownerDocument||t,r=$d(r),(a=Bd.get(a))&&Zd(r,a),et(o=o.createElement("link"));var i=o;i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),pd(o,"link",r),n.instance=o}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=ip.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Vl,e.memoizedState,e.memoizedProps);break;case 5:default:au(e,t,n);break;case 3:case 4:var r=Vl;Vl=Ud(e.stateNode.containerInfo),au(e,t,n),Vl=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=ru,ru=16777216,au(e,t,n),ru=r):au(e,t,n))}}function iu(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function su(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Fl=r,cu(r,e)}iu(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)lu(e),e=e.sibling}function lu(e){switch(e.tag){case 0:case 11:case 15:su(e),2048&e.flags&&vl(9,e,e.return);break;case 3:case 12:default:su(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,uu(e)):su(e)}}function uu(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Fl=r,cu(r,e)}iu(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:vl(8,t,t.return),uu(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,uu(t));break;default:uu(t)}e=e.sibling}}function cu(e,t){for(;null!==Fl;){var n=Fl;switch(n.tag){case 0:case 11:case 15:vl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Wa(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Fl=r;else e:for(n=e;null!==Fl;){var a=(r=Fl).sibling,o=r.return;if(Dl(r),r===n){Fl=null;break e}if(null!==a){a.return=o,Fl=a;break e}Fl=o}}}var du={getCacheForType:function(e){var t=Oa(za),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Oa(za).controller.signal}},pu="function"===typeof WeakMap?WeakMap:Map,hu=0,fu=null,mu=null,gu=0,vu=0,yu=null,bu=!1,wu=!1,ku=!1,Su=0,xu=0,Iu=0,_u=0,Eu=0,Tu=0,Nu=0,Cu=null,Mu=null,Au=!1,Ou=0,Fu=0,Ru=1/0,Du=null,Pu=null,Lu=0,zu=null,Bu=null,Wu=0,Uu=0,ju=null,Hu=null,Vu=0,qu=null;function Gu(){return 0!==(2&hu)&&0!==gu?gu&-gu:null!==R.T?jc():ze()}function Ku(){if(0===Tu)if(0===(536870912&gu)||da){var e=Ie;0===(3932160&(Ie<<=1))&&(Ie=262144),Tu=e}else Tu=536870912;return null!==(e=Fo.current)&&(e.flags|=32),Tu}function $u(e,t,n){(e!==fu||2!==vu&&9!==vu)&&null===e.cancelPendingCommit||(tc(e,0),Ju(e,gu,Tu,!1)),Oe(e,n),0!==(2&hu)&&e===fu||(e===fu&&(0===(2&hu)&&(_u|=n),4===xu&&Ju(e,gu,Tu,!1)),Dc(e))}function Yu(e,t,n){if(0!==(6&hu))throw Error(i(327));for(var r=!n&&0===(127&t)&&0===(t&e.expiredLanes)||Ne(e,t),a=r?function(e,t){var n=hu;hu|=2;var r=ac(),a=oc();fu!==e||gu!==t?(Du=null,Ru=le()+500,tc(e,t)):wu=Ne(e,t);e:for(;;)try{if(0!==vu&&null!==mu){t=mu;var o=yu;t:switch(vu){case 1:vu=0,yu=null,pc(e,t,o,1);break;case 2:case 9:if(to(o)){vu=0,yu=null,dc(t);break}t=function(){2!==vu&&9!==vu||fu!==e||(vu=7),Dc(e)},o.then(t,t);break e;case 3:vu=7;break e;case 4:vu=5;break e;case 7:to(o)?(vu=0,yu=null,dc(t)):(vu=0,yu=null,pc(e,t,o,7));break;case 5:var s=null;switch(mu.tag){case 26:s=mu.memoizedState;case 5:case 27:var l=mu;if(s?ap(s):l.stateNode.complete){vu=0,yu=null;var u=l.sibling;if(null!==u)mu=u;else{var c=l.return;null!==c?(mu=c,hc(c)):mu=null}break t}}vu=0,yu=null,pc(e,t,o,5);break;case 6:vu=0,yu=null,pc(e,t,o,6);break;case 8:ec(),xu=6;break e;default:throw Error(i(462))}}uc();break}catch(d){nc(e,d)}return Ia=xa=null,R.H=r,R.A=a,hu=n,null!==mu?0:(fu=null,gu=0,Mr(),xu)}(e,t):sc(e,t,!0),o=r;;){if(0===a){wu&&!r&&Ju(e,t,0,!1);break}if(n=e.current.alternate,!o||Xu(n)){if(2===a){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;a=Cu;var u=l.current.memoizedState.isDehydrated;if(u&&(tc(l,s).flags|=256),2!==(s=sc(l,s,!1))){if(ku&&!u){l.errorRecoveryDisabledLanes|=o,_u|=o,a=4;break e}o=Mu,Mu=a,null!==o&&(null===Mu?Mu=o:Mu.push.apply(Mu,o))}a=s}if(o=!1,2!==a)continue}}if(1===a){tc(e,0),Ju(e,t,0,!0);break}e:{switch(r=e,o=a){case 0:case 1:throw Error(i(345));case 4:if((4194048&t)!==t)break;case 6:Ju(r,t,Tu,!bu);break e;case 2:Mu=null;break;case 3:case 5:break;default:throw Error(i(329))}if((62914560&t)===t&&10<(a=Ou+300-le())){if(Ju(r,t,Tu,!bu),0!==Te(r,0,!0))break e;Wu=t,r.timeoutHandle=kd(Qu.bind(null,r,n,Mu,Du,Au,t,Tu,_u,Nu,bu,o,"Throttled",-0,0),a)}else Qu(r,n,Mu,Du,Au,t,Tu,_u,Nu,bu,o,null,-0,0)}break}a=sc(e,t,!1),o=!1}Dc(e)}function Qu(e,t,n,r,a,o,i,s,l,u,c,d,p,h){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||16785408===(16785408&d)){ou(t,o,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ot});var f=(62914560&o)===o?Ou-le():(4194048&o)===o?Fu-le():0;if(null!==(f=function(e,t){return e.stylesheets&&0===e.count&&lp(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&lp(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===op&&(op=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var a=n[r],o=a.transferSize,i=a.initiatorType,s=a.duration;if(o&&s&&hd(i)){for(i=0,s=a.responseEnd,r+=1;r<n.length;r++){var l=n[r],u=l.startTime;if(u>s)break;var c=l.transferSize,d=l.initiatorType;c&&hd(d)&&(i+=c*((l=l.responseEnd)<s?1:(s-u)/(l-u)))}if(--r,t+=8*(o+i)/(a.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"===typeof(e=navigator.connection.downlink)?e:5}());var a=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&lp(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>op?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(a)}}:null}(d,f)))return Wu=o,e.cancelPendingCommit=f(mc.bind(null,e,t,o,n,r,a,i,s,l,c,d,null,p,h)),void Ju(e,o,i,!u)}mc(e,t,o,n,r,a,i,s,l)}function Xu(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var a=n[r],o=a.getSnapshot;a=a.value;try{if(!Jn(o(),a))return!1}catch(i){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ju(e,t,n,r){t&=~Eu,t&=~_u,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var a=t;0<a;){var o=31-we(a),i=1<<o;r[o]=-1,a&=~i}0!==n&&Fe(e,n,t)}function Zu(){return 0!==(6&hu)||(Pc(0,!1),!1)}function ec(){if(null!==mu){if(0===vu)var e=mu.return;else Ia=xa=null,si(e=mu),so=null,lo=0,e=mu;for(;null!==e;)ml(e.alternate,e),e=e.return;mu=null}}function tc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,Sd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Wu=0,ec(),fu=e,mu=n=Wr(e.current,null),gu=t,vu=0,yu=null,bu=!1,wu=Ne(e,t),ku=!1,Nu=Tu=Eu=_u=Iu=xu=0,Mu=Cu=null,Au=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var a=31-we(r),o=1<<a;t|=e[a],r&=~o}return Su=t,Mr(),n}function nc(e,t){Ho=null,R.H=ms,t===Xa||t===Za?(t=oo(),vu=3):t===Ja?(t=oo(),vu=4):vu=t===Os?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,yu=t,null===mu&&(xu=1,Ts(e,$r(t,e.current)))}function rc(){var e=Fo.current;return null===e||((4194048&gu)===gu?null===Ro:((62914560&gu)===gu||0!==(536870912&gu))&&e===Ro)}function ac(){var e=R.H;return R.H=ms,null===e?ms:e}function oc(){var e=R.A;return R.A=du,e}function ic(){xu=4,bu||(4194048&gu)!==gu&&null!==Fo.current||(wu=!0),0===(134217727&Iu)&&0===(134217727&_u)||null===fu||Ju(fu,gu,Tu,!1)}function sc(e,t,n){var r=hu;hu|=2;var a=ac(),o=oc();fu===e&&gu===t||(Du=null,tc(e,t)),t=!1;var i=xu;e:for(;;)try{if(0!==vu&&null!==mu){var s=mu,l=yu;switch(vu){case 8:ec(),i=6;break e;case 3:case 2:case 9:case 6:null===Fo.current&&(t=!0);var u=vu;if(vu=0,yu=null,pc(e,s,l,u),n&&wu){i=0;break e}break;default:u=vu,vu=0,yu=null,pc(e,s,l,u)}}lc(),i=xu;break}catch(c){nc(e,c)}return t&&e.shellSuspendCounter++,Ia=xa=null,hu=r,R.H=a,R.A=o,null===mu&&(fu=null,gu=0,Mr()),i}function lc(){for(;null!==mu;)cc(mu)}function uc(){for(;null!==mu&&!ie();)cc(mu)}function cc(e){var t=il(e.alternate,e,Su);e.memoizedProps=e.pendingProps,null===t?hc(e):mu=t}function dc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=qs(n,t,t.pendingProps,t.type,void 0,gu);break;case 11:t=qs(n,t,t.pendingProps,t.type.render,t.ref,gu);break;case 5:si(t);default:ml(n,t),t=il(n,t=mu=Ur(t,Su),Su)}e.memoizedProps=e.pendingProps,null===t?hc(e):mu=t}function pc(e,t,n,r){Ia=xa=null,si(t),so=null,lo=0;var a=t.return;try{if(function(e,t,n,r,a){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Ca(t,n,a,!0),null!==(n=Fo.current)){switch(n.tag){case 31:case 13:return null===Ro?ic():null===n.alternate&&0===xu&&(xu=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===eo?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),Ic(e,r,a)),!1;case 22:return n.flags|=65536,r===eo?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),Ic(e,r,a)),!1}throw Error(i(435,n.tag))}return Ic(e,r,a),ic(),!1}if(da)return null!==(t=Fo.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==fa&&ka($r(e=Error(i(422),{cause:r}),n))):(r!==fa&&ka($r(t=Error(i(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,r=$r(r,n),So(e,a=Cs(e.stateNode,r,a)),4!==xu&&(xu=2)),!1;var o=Error(i(520),{cause:r});if(o=$r(o,n),null===Cu?Cu=[o]:Cu.push(o),4!==xu&&(xu=2),null===t)return!0;r=$r(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,So(n,e=Cs(n.stateNode,r,e)),!1;case 1:if(t=n.type,o=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==o&&"function"===typeof o.componentDidCatch&&(null===Pu||!Pu.has(o))))return n.flags|=65536,a&=-a,n.lanes|=a,As(a=Ms(a),e,n,r),So(n,a),!1}n=n.return}while(null!==n);return!1}(e,a,t,n,gu))return xu=1,Ts(e,$r(n,e.current)),void(mu=null)}catch(o){if(null!==a)throw mu=a,o;return xu=1,Ts(e,$r(n,e.current)),void(mu=null)}32768&t.flags?(da||1===r?e=!0:wu||0!==(536870912&gu)?e=!1:(bu=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=Fo.current)&&13===r.tag&&(r.flags|=16384))),fc(t,e)):hc(t)}function hc(e){var t=e;do{if(0!==(32768&t.flags))return void fc(t,bu);e=t.return;var n=hl(t.alternate,t,Su);if(null!==n)return void(mu=n);if(null!==(t=t.sibling))return void(mu=t);mu=t=e}while(null!==t);0===xu&&(xu=5)}function fc(e,t){do{var n=fl(e.alternate,e);if(null!==n)return n.flags&=32767,void(mu=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(mu=e);mu=e=n}while(null!==e);xu=6,mu=null}function mc(e,t,n,r,a,o,s,l,u){e.cancelPendingCommit=null;do{wc()}while(0!==Lu);if(0!==(6&hu))throw Error(i(327));if(null!==t){if(t===e.current)throw Error(i(177));if(o=t.lanes|t.childLanes,function(e,t,n,r,a,o){var i=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,u=e.hiddenUpdates;for(n=i&~n;0<n;){var c=31-we(n),d=1<<c;s[c]=0,l[c]=-1;var p=u[c];if(null!==p)for(u[c]=null,c=0;c<p.length;c++){var h=p[c];null!==h&&(h.lane&=-536870913)}n&=~d}0!==r&&Fe(e,r,0),0!==o&&0===a&&0!==e.tag&&(e.suspendedLanes|=o&~(i&~t))}(e,n,o|=Cr,s,l,u),e===fu&&(mu=fu=null,gu=0),Bu=t,zu=e,Wu=n,Uu=o,ju=a,Hu=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,ae(pe,function(){return kc(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=R.T,R.T=null,a=D.p,D.p=2,s=hu,hu|=4;try{!function(e,t){if(e=e.containerInfo,fd=bp,ar(e=rr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(g){n=null;break e}var s=0,l=-1,u=-1,c=0,d=0,p=e,h=null;t:for(;;){for(var f;p!==n||0!==a&&3!==p.nodeType||(l=s+a),p!==o||0!==r&&3!==p.nodeType||(u=s+r),3===p.nodeType&&(s+=p.nodeValue.length),null!==(f=p.firstChild);)h=p,p=f;for(;;){if(p===e)break t;if(h===n&&++c===a&&(l=s),h===o&&++d===r&&(u=s),null!==(f=p.nextSibling))break;h=(p=h).parentNode}p=f}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(md={focusedElem:e,selectionRange:n},bp=!1,Fl=t;null!==Fl;)if(e=(t=Fl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Fl=e;else for(;null!==Fl;){switch(o=(t=Fl).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(a=e[n]).ref.impl=a.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==o){e=void 0,n=t,a=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var m=xs(n.type,a);e=r.getSnapshotBeforeUpdate(m,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(v){xc(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))Cd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Cd(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(i(163))}if(null!==(e=t.sibling)){e.return=t.return,Fl=e;break}Fl=t.return}}(e,t)}finally{hu=s,D.p=a,R.T=r}}Lu=1,gc(),vc(),yc()}}function gc(){if(1===Lu){Lu=0;var e=zu,t=Bu,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=R.T,R.T=null;var r=D.p;D.p=2;var a=hu;hu|=4;try{ql(t,e);var o=md,i=rr(e.containerInfo),s=o.focusedElem,l=o.selectionRange;if(i!==s&&s&&s.ownerDocument&&nr(s.ownerDocument.documentElement,s)){if(null!==l&&ar(s)){var u=l.start,c=l.end;if(void 0===c&&(c=u),"selectionStart"in s)s.selectionStart=u,s.selectionEnd=Math.min(c,s.value.length);else{var d=s.ownerDocument||document,p=d&&d.defaultView||window;if(p.getSelection){var h=p.getSelection(),f=s.textContent.length,m=Math.min(l.start,f),g=void 0===l.end?m:Math.min(l.end,f);!h.extend&&m>g&&(i=g,g=m,m=i);var v=tr(s,m),y=tr(s,g);if(v&&y&&(1!==h.rangeCount||h.anchorNode!==v.node||h.anchorOffset!==v.offset||h.focusNode!==y.node||h.focusOffset!==y.offset)){var b=d.createRange();b.setStart(v.node,v.offset),h.removeAllRanges(),m>g?(h.addRange(b),h.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),h.addRange(b))}}}}for(d=[],h=s;h=h.parentNode;)1===h.nodeType&&d.push({element:h,left:h.scrollLeft,top:h.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<d.length;s++){var w=d[s];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}bp=!!fd,md=fd=null}finally{hu=a,D.p=r,R.T=n}}e.current=t,Lu=2}}function vc(){if(2===Lu){Lu=0;var e=zu,t=Bu,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=R.T,R.T=null;var r=D.p;D.p=2;var a=hu;hu|=4;try{Rl(e,t.alternate,t)}finally{hu=a,D.p=r,R.T=n}}Lu=3}}function yc(){if(4===Lu||3===Lu){Lu=0,se();var e=zu,t=Bu,n=Wu,r=Hu;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Lu=5:(Lu=0,Bu=zu=null,bc(e,e.pendingLanes));var a=e.pendingLanes;if(0===a&&(Pu=null),Le(n),t=t.stateNode,ye&&"function"===typeof ye.onCommitFiberRoot)try{ye.onCommitFiberRoot(ve,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=R.T,a=D.p,D.p=2,R.T=null;try{for(var o=e.onRecoverableError,i=0;i<r.length;i++){var s=r[i];o(s.value,{componentStack:s.stack})}}finally{R.T=t,D.p=a}}0!==(3&Wu)&&wc(),Dc(e),a=e.pendingLanes,0!==(261930&n)&&0!==(42&a)?e===qu?Vu++:(Vu=0,qu=e):Vu=0,Pc(0,!1)}}function bc(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Wa(t)))}function wc(){return gc(),vc(),yc(),kc()}function kc(){if(5!==Lu)return!1;var e=zu,t=Uu;Uu=0;var n=Le(Wu),r=R.T,a=D.p;try{D.p=32>n?32:n,R.T=null,n=ju,ju=null;var o=zu,s=Wu;if(Lu=0,Bu=zu=null,Wu=0,0!==(6&hu))throw Error(i(331));var l=hu;if(hu|=4,lu(o.current),eu(o,o.current,s,n),hu=l,Pc(0,!1),ye&&"function"===typeof ye.onPostCommitFiberRoot)try{ye.onPostCommitFiberRoot(ve,o)}catch(u){}return!0}finally{D.p=a,R.T=r,bc(e,t)}}function Sc(e,t,n){t=$r(n,t),null!==(e=wo(e,t=Cs(e.stateNode,t,2),2))&&(Oe(e,2),Dc(e))}function xc(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Pu||!Pu.has(r))){e=$r(n,e),null!==(r=wo(t,n=Ms(2),2))&&(As(n,r,t,e),Oe(r,2),Dc(r));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new pu;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(ku=!0,a.add(n),e=_c.bind(null,e,t,n),t.then(e,e))}function _c(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,fu===e&&(gu&n)===n&&(4===xu||3===xu&&(62914560&gu)===gu&&300>le()-Ou?0===(2&hu)&&tc(e,0):Eu|=n,Nu===gu&&(Nu=0)),Dc(e)}function Ec(e,t){0===t&&(t=Me()),null!==(e=Fr(e,t))&&(Oe(e,t),Dc(e))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}null!==r&&r.delete(t),Ec(e,n)}var Cc=null,Mc=null,Ac=!1,Oc=!1,Fc=!1,Rc=0;function Dc(e){e!==Mc&&null===e.next&&(null===Mc?Cc=Mc=e:Mc=Mc.next=e),Oc=!0,Ac||(Ac=!0,Id(function(){0!==(6&hu)?ae(ce,Lc):zc()}))}function Pc(e,t){if(!Fc&&Oc){Fc=!0;do{for(var n=!1,r=Cc;null!==r;){if(!t)if(0!==e){var a=r.pendingLanes;if(0===a)var o=0;else{var i=r.suspendedLanes,s=r.pingedLanes;o=(1<<31-we(42|e)+1)-1,o=201326741&(o&=a&~(i&~s))?201326741&o|1:o?2|o:0}0!==o&&(n=!0,Uc(r,o))}else o=gu,0===(3&(o=Te(r,r===fu?o:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Ne(r,o)||(n=!0,Uc(r,o));r=r.next}}while(n);Fc=!1}}function Lc(){zc()}function zc(){Oc=Ac=!1;var e=0;0!==Rc&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==wd&&(wd=e,!0);return wd=null,!1}()&&(e=Rc);for(var t=le(),n=null,r=Cc;null!==r;){var a=r.next,o=Bc(r,t);0===o?(r.next=null,null===n?Cc=a:n.next=a,null===a&&(Mc=n)):(n=r,(0!==e||0!==(3&o))&&(Oc=!0)),r=a}0!==Lu&&5!==Lu||Pc(e,!1),0!==Rc&&(Rc=0)}function Bc(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,o=-62914561&e.pendingLanes;0<o;){var i=31-we(o),s=1<<i,l=a[i];-1===l?0!==(s&n)&&0===(s&r)||(a[i]=Ce(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}if(n=gu,n=Te(e,e===(t=fu)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===vu||9===vu)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&oe(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Ne(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&oe(r),Le(n)){case 2:case 8:n=de;break;case 32:default:n=pe;break;case 268435456:n=fe}return r=Wc.bind(null,e),n=ae(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&oe(r),e.callbackPriority=2,e.callbackNode=null,2}function Wc(e,t){if(0!==Lu&&5!==Lu)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var r=gu;return 0===(r=Te(e,e===fu?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Yu(e,r,t),Bc(e,le()),null!=e.callbackNode&&e.callbackNode===n?Wc.bind(null,e):null)}function Uc(e,t){if(wc())return null;Yu(e,t,!0)}function jc(){if(0===Rc){var e=Ha;0===e&&(e=xe,0===(261888&(xe<<=1))&&(xe=256)),Rc=e}return Rc}function Hc(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:At(""+e)}function Vc(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var qc=0;qc<Ir.length;qc++){var Gc=Ir[qc];_r(Gc.toLowerCase(),"on"+(Gc[0].toUpperCase()+Gc.slice(1)))}_r(gr,"onAnimationEnd"),_r(vr,"onAnimationIteration"),_r(yr,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(br,"onTransitionRun"),_r(wr,"onTransitionStart"),_r(kr,"onTransitionCancel"),_r(Sr,"onTransitionEnd"),at("onMouseEnter",["mouseout","mouseover"]),at("onMouseLeave",["mouseout","mouseover"]),at("onPointerEnter",["pointerout","pointerover"]),at("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$c=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kc));function Yc(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var s=r[i],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&a.isPropagationStopped())break e;o=s,a.currentTarget=u;try{o(a)}catch(c){Er(c)}a.currentTarget=null,o=l}else for(i=0;i<r.length;i++){if(l=(s=r[i]).instance,u=s.currentTarget,s=s.listener,l!==o&&a.isPropagationStopped())break e;o=s,a.currentTarget=u;try{o(a)}catch(c){Er(c)}a.currentTarget=null,o=l}}}}function Qc(e,t){var n=t[Ve];void 0===n&&(n=t[Ve]=new Set);var r=e+"__bubble";n.has(r)||(ed(t,e,2,!1),n.add(r))}function Xc(e,t,n){var r=0;t&&(r|=4),ed(n,e,r,t)}var Jc="_reactListening"+Math.random().toString(36).slice(2);function Zc(e){if(!e[Jc]){e[Jc]=!0,tt.forEach(function(t){"selectionchange"!==t&&($c.has(t)||Xc(t,!1,e),Xc(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Jc]||(t[Jc]=!0,Xc("selectionchange",!1,t))}}function ed(e,t,n,r){switch(Ep(t)){case 2:var a=wp;break;case 8:a=kp;break;default:a=Sp}n=a.bind(null,t,n,e),a=void 0,!jt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function td(e,t,n,r,a){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var s=r.stateNode.containerInfo;if(s===a)break;if(4===i)for(i=r.return;null!==i;){var u=i.tag;if((3===u||4===u)&&i.stateNode.containerInfo===a)return;i=i.return}for(;null!==s;){if(null===(i=Qe(s)))return;if(5===(u=i.tag)||6===u||26===u||27===u){r=o=i;continue e}s=s.parentNode}}r=r.return}Bt(function(){var r=o,a=Rt(n),i=[];e:{var s=xr.get(e);if(void 0!==s){var u=nn,c=e;switch(e){case"keypress":if(0===$t(n))break e;case"keydown":case"keyup":u=yn;break;case"focusin":c="focus",u=un;break;case"focusout":c="blur",u=un;break;case"beforeblur":case"afterblur":u=un;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=ln;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=wn;break;case gr:case vr:case yr:u=cn;break;case Sr:u=kn;break;case"scroll":case"scrollend":u=an;break;case"wheel":u=Sn;break;case"copy":case"cut":case"paste":u=dn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=bn;break;case"toggle":case"beforetoggle":u=xn}var d=0!==(4&t),p=!d&&("scroll"===e||"scrollend"===e),h=d?null!==s?s+"Capture":null:s;d=[];for(var f,m=r;null!==m;){var g=m;if(f=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===f||null===h||null!=(g=Wt(m,h))&&d.push(nd(m,g,f)),p)break;m=m.return}0<d.length&&(s=new u(s,c,null,n,a),i.push({event:s,listeners:d}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Ft||!(c=n.relatedTarget||n.fromElement)||!Qe(c)&&!c[He])&&(u||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?Qe(c):null)&&(p=l(c),d=c.tag,c!==p||5!==d&&27!==d&&6!==d)&&(c=null)):(u=null,c=r),u!==c)){if(d=sn,g="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=bn,g="onPointerLeave",h="onPointerEnter",m="pointer"),p=null==u?s:Je(u),f=null==c?s:Je(c),(s=new d(g,m+"leave",u,n,a)).target=p,s.relatedTarget=f,g=null,Qe(a)===r&&((d=new d(h,m+"enter",c,n,a)).target=f,d.relatedTarget=p,g=d),p=g,u&&c)e:{for(d=ad,m=c,f=0,g=h=u;g;g=d(g))f++;g=0;for(var v=m;v;v=d(v))g++;for(;0<f-g;)h=d(h),f--;for(;0<g-f;)m=d(m),g--;for(;f--;){if(h===m||null!==m&&h===m.alternate){d=h;break e}h=d(h),m=d(m)}d=null}else d=null;null!==u&&od(i,s,u,d,!1),null!==c&&null!==p&&od(i,p,c,d,!0)}if("select"===(u=(s=r?Je(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var y=Un;else if(Dn(s))if(jn)y=Xn;else{y=Yn;var b=$n}else!(u=s.nodeName)||"input"!==u.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?r&&Nt(r.elementType)&&(y=Un):y=Qn;switch(y&&(y=y(e,r))?Pn(i,y,n,a):(b&&b(e,s,r),"focusout"===e&&r&&"number"===s.type&&null!=r.memoizedProps.value&&wt(s,"number",s.value)),b=r?Je(r):window,e){case"focusin":(Dn(b)||"true"===b.contentEditable)&&(ir=b,sr=r,lr=null);break;case"focusout":lr=sr=ir=null;break;case"mousedown":ur=!0;break;case"contextmenu":case"mouseup":case"dragend":ur=!1,cr(i,n,a);break;case"selectionchange":if(or)break;case"keydown":case"keyup":cr(i,n,a)}var w;if(_n)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Fn?An(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Nn&&"ko"!==n.locale&&(Fn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Fn&&(w=Kt()):(qt="value"in(Vt=a)?Vt.value:Vt.textContent,Fn=!0)),0<(b=rd(r,k)).length&&(k=new pn(k,e,null,n,a),i.push({event:k,listeners:b}),w?k.data=w:null!==(w=On(n))&&(k.data=w))),(w=Tn?function(e,t){switch(e){case"compositionend":return On(t);case"keypress":return 32!==t.which?null:(Mn=!0,Cn);case"textInput":return(e=t.data)===Cn&&Mn?null:e;default:return null}}(e,n):function(e,t){if(Fn)return"compositionend"===e||!_n&&An(e,t)?(e=Kt(),Gt=qt=Vt=null,Fn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(k=rd(r,"onBeforeInput")).length&&(b=new pn("onBeforeInput","beforeinput",null,n,a),i.push({event:b,listeners:k}),b.data=w)),function(e,t,n,r,a){if("submit"===t&&n&&n.stateNode===a){var o=Hc((a[je]||null).action),i=r.submitter;i&&null!==(t=(t=i[je]||null)?Hc(t.formAction):i.getAttribute("formAction"))&&(o=t,i=null);var s=new nn("action","action",null,r,a);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Rc){var e=i?Vc(a,i):new FormData(a);ts(n,{pending:!0,data:e,method:a.method,action:o},null,e)}}else"function"===typeof o&&(s.preventDefault(),e=i?Vc(a,i):new FormData(a),ts(n,{pending:!0,data:e,method:a.method,action:o},o,e))},currentTarget:a}]})}}(i,e,r,n,a)}Yc(i,t)})}function nd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function rd(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,o=a.stateNode;if(5!==(a=a.tag)&&26!==a&&27!==a||null===o||(null!=(a=Wt(e,n))&&r.unshift(nd(e,a,o)),null!=(a=Wt(e,t))&&r.push(nd(e,a,o))),3===e.tag)return r;e=e.return}return[]}function ad(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function od(e,t,n,r,a){for(var o=t._reactName,i=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(s=s.tag,null!==l&&l===r)break;5!==s&&26!==s&&27!==s||null===u||(l=u,a?null!=(u=Wt(n,o))&&i.unshift(nd(n,u,l)):a||null!=(u=Wt(n,o))&&i.push(nd(n,u,l))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var id=/\r\n?/g,sd=/\u0000|\uFFFD/g;function ld(e){return("string"===typeof e?e:""+e).replace(id,"\n").replace(sd,"")}function ud(e,t){return t=ld(t),ld(e)===t}function cd(e,t,n,r,a,o){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||It(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&It(e,""+r);break;case"className":ut(e,"class",r);break;case"tabIndex":ut(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ut(e,n,r);break;case"style":Tt(e,r,o);break;case"data":if("object"!==t){ut(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=At(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof o&&("formAction"===n?("input"!==t&&cd(e,t,"name",a.name,a,null),cd(e,t,"formEncType",a.formEncType,a,null),cd(e,t,"formMethod",a.formMethod,a,null),cd(e,t,"formTarget",a.formTarget,a,null)):(cd(e,t,"encType",a.encType,a,null),cd(e,t,"method",a.method,a,null),cd(e,t,"target",a.target,a,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=At(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Ot);break;case"onScroll":null!=r&&Qc("scroll",e);break;case"onScrollEnd":null!=r&&Qc("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(i(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=At(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Qc("beforetoggle",e),Qc("toggle",e),lt(e,"popover",r);break;case"xlinkActuate":ct(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ct(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ct(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ct(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ct(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ct(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ct(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ct(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ct(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":lt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&lt(e,n=Ct.get(n)||n,r)}}function dd(e,t,n,r,a,o){switch(n){case"style":Tt(e,r,o);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(i(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(i(60));e.innerHTML=n}}break;case"children":"string"===typeof r?It(e,r):("number"===typeof r||"bigint"===typeof r)&&It(e,""+r);break;case"onScroll":null!=r&&Qc("scroll",e);break;case"onScrollEnd":null!=r&&Qc("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Ot);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),"function"===typeof(o=null!=(o=e[je]||null)?o[n]:null)&&e.removeEventListener(t,o,a),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):lt(e,n,r):("function"!==typeof o&&null!==o&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a)))}}function pd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qc("error",e),Qc("load",e);var r,a=!1,o=!1;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(null!=s)switch(r){case"src":a=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:cd(e,t,r,s,n,null)}}return o&&cd(e,t,"srcSet",n.srcSet,n,null),void(a&&cd(e,t,"src",n.src,n,null));case"input":Qc("invalid",e);var l=r=s=o=null,u=null,c=null;for(a in n)if(n.hasOwnProperty(a)){var d=n[a];if(null!=d)switch(a){case"name":o=d;break;case"type":s=d;break;case"checked":u=d;break;case"defaultChecked":c=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(i(137,t));break;default:cd(e,t,a,d,n,null)}}return void bt(e,r,l,u,c,s,o,!1);case"select":for(o in Qc("invalid",e),a=s=r=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":r=l;break;case"defaultValue":s=l;break;case"multiple":a=l;default:cd(e,t,o,l,n,null)}return t=r,n=s,e.multiple=!!a,void(null!=t?kt(e,!!a,t,!1):null!=n&&kt(e,!!a,n,!0));case"textarea":for(s in Qc("invalid",e),r=o=a=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":a=l;break;case"defaultValue":o=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(i(91));break;default:cd(e,t,s,l,n,null)}return void xt(e,a,o,r);case"option":for(u in n)if(n.hasOwnProperty(u)&&null!=(a=n[u]))if("selected"===u)e.selected=a&&"function"!==typeof a&&"symbol"!==typeof a;else cd(e,t,u,a,n,null);return;case"dialog":Qc("beforetoggle",e),Qc("toggle",e),Qc("cancel",e),Qc("close",e);break;case"iframe":case"object":Qc("load",e);break;case"video":case"audio":for(a=0;a<Kc.length;a++)Qc(Kc[a],e);break;case"image":Qc("error",e),Qc("load",e);break;case"details":Qc("toggle",e);break;case"embed":case"source":case"link":Qc("error",e),Qc("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&null!=(a=n[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:cd(e,t,c,a,n,null)}return;default:if(Nt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(a=n[d])&&dd(e,t,d,a,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(a=n[l])&&cd(e,t,l,a,n,null))}function hd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var fd=null,md=null;function gd(e){return 9===e.nodeType?e:e.ownerDocument}function vd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function bd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var wd=null;var kd="function"===typeof setTimeout?setTimeout:void 0,Sd="function"===typeof clearTimeout?clearTimeout:void 0,xd="function"===typeof Promise?Promise:void 0,Id="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof xd?function(e){return xd.resolve(null).then(e).catch(_d)}:kd;function _d(e){setTimeout(function(){throw e})}function Ed(e){return"head"===e}function Td(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)||"/&"===n){if(0===r)return e.removeChild(a),void Vp(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)zd(e.ownerDocument.documentElement);else if("head"===n){zd(n=e.ownerDocument.head);for(var o=n.firstChild;o;){var i=o.nextSibling,s=o.nodeName;o[$e]||"SCRIPT"===s||"STYLE"===s||"LINK"===s&&"stylesheet"===o.rel.toLowerCase()||n.removeChild(o),o=i}}else"body"===n&&zd(e.ownerDocument.body);n=a}while(n);Vp(t)}function Nd(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Cd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Cd(n),Ye(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Md(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Fd(e.nextSibling)))return null}return e}function Ad(e){return"$?"===e.data||"$~"===e.data}function Od(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Fd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Rd=null;function Dd(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Fd(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Pd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Ld(e,t,n){switch(t=gd(n),e){case"html":if(!(e=t.documentElement))throw Error(i(452));return e;case"head":if(!(e=t.head))throw Error(i(453));return e;case"body":if(!(e=t.body))throw Error(i(454));return e;default:throw Error(i(451))}}function zd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ye(e)}var Bd=new Map,Wd=new Set;function Ud(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var jd=D.d;D.d={f:function(){var e=jd.f(),t=Zu();return e||t},r:function(e){var t=Xe(e);null!==t&&5===t.tag&&"form"===t.type?rs(t):jd.r(e)},D:function(e){jd.D(e),Vd("dns-prefetch",e,null)},C:function(e,t){jd.C(e,t),Vd("preconnect",e,t)},L:function(e,t,n){jd.L(e,t,n);var r=Hd;if(r&&e&&t){var a='link[rel="preload"][as="'+vt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(a+='[imagesrcset="'+vt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(a+='[imagesizes="'+vt(n.imageSizes)+'"]')):a+='[href="'+vt(e)+'"]';var o=a;switch(t){case"style":o=Gd(e);break;case"script":o=Yd(e)}Bd.has(o)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Bd.set(o,e),null!==r.querySelector(a)||"style"===t&&r.querySelector(Kd(o))||"script"===t&&r.querySelector(Qd(o))||(pd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}},m:function(e,t){jd.m(e,t);var n=Hd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",a='link[rel="modulepreload"][as="'+vt(r)+'"][href="'+vt(e)+'"]',o=a;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Yd(e)}if(!Bd.has(o)&&(e=h({rel:"modulepreload",href:e},t),Bd.set(o,e),null===n.querySelector(a))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Qd(o)))return}pd(r=n.createElement("link"),"link",e),et(r),n.head.appendChild(r)}}},X:function(e,t){jd.X(e,t);var n=Hd;if(n&&e){var r=Ze(n).hoistableScripts,a=Yd(e),o=r.get(a);o||((o=n.querySelector(Qd(a)))||(e=h({src:e,async:!0},t),(t=Bd.get(a))&&ep(e,t),et(o=n.createElement("script")),pd(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(a,o))}},S:function(e,t,n){jd.S(e,t,n);var r=Hd;if(r&&e){var a=Ze(r).hoistableStyles,o=Gd(e);t=t||"default";var i=a.get(o);if(!i){var s={loading:0,preload:null};if(i=r.querySelector(Kd(o)))s.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Bd.get(o))&&Zd(e,n);var l=i=r.createElement("link");et(l),pd(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,Jd(i,t,r)}i={type:"stylesheet",instance:i,count:1,state:s},a.set(o,i)}}},M:function(e,t){jd.M(e,t);var n=Hd;if(n&&e){var r=Ze(n).hoistableScripts,a=Yd(e),o=r.get(a);o||((o=n.querySelector(Qd(a)))||(e=h({src:e,async:!0,type:"module"},t),(t=Bd.get(a))&&ep(e,t),et(o=n.createElement("script")),pd(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(a,o))}}};var Hd="undefined"===typeof document?null:document;function Vd(e,t,n){var r=Hd;if(r&&"string"===typeof t&&t){var a=vt(t);a='link[rel="'+e+'"][href="'+a+'"]',"string"===typeof n&&(a+='[crossorigin="'+n+'"]'),Wd.has(a)||(Wd.add(a),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(a)&&(pd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}}function qd(e,t,n,r){var a,o,s,l,u=(u=G.current)?Ud(u):null;if(!u)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Gd(n.href),(r=(n=Ze(u).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Gd(n.href);var c=Ze(u).hoistableStyles,d=c.get(e);if(d||(u=u.ownerDocument||u,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,d),(c=u.querySelector(Kd(e)))&&!c._p&&(d.instance=c,d.state.loading=5),Bd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Bd.set(e,n),c||(a=u,o=e,s=n,l=d.state,a.querySelector('link[rel="preload"][as="style"]['+o+"]")?l.loading=1:(o=a.createElement("link"),l.preload=o,o.addEventListener("load",function(){return l.loading|=1}),o.addEventListener("error",function(){return l.loading|=2}),pd(o,"link",s),et(o),a.head.appendChild(o))))),t&&null===r)throw Error(i(528,""));return d}if(t&&null!==r)throw Error(i(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Yd(n),(r=(n=Ze(u).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Gd(e){return'href="'+vt(e)+'"'}function Kd(e){return'link[rel="stylesheet"]['+e+"]"}function $d(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Yd(e){return'[src="'+vt(e)+'"]'}function Qd(e){return"script[async]"+e}function Xd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+vt(n.href)+'"]');if(r)return t.instance=r,et(r),r;var a=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(r=(e.ownerDocument||e).createElement("style")),pd(r,"style",a),Jd(r,n.precedence,e),t.instance=r;case"stylesheet":a=Gd(n.href);var o=e.querySelector(Kd(a));if(o)return t.state.loading|=4,t.instance=o,et(o),o;r=$d(n),(a=Bd.get(a))&&Zd(r,a),et(o=(e.ownerDocument||e).createElement("link"));var s=o;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),pd(o,"link",r),t.state.loading|=4,Jd(o,n.precedence,e),t.instance=o;case"script":return o=Yd(n.src),(a=e.querySelector(Qd(o)))?(t.instance=a,et(a),a):(r=n,(a=Bd.get(o))&&ep(r=h({},n),a),et(a=(e=e.ownerDocument||e).createElement("script")),pd(a,"link",r),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(i(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Jd(r,n.precedence,e));return t.instance}function Jd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=r.length?r[r.length-1]:null,o=a,i=0;i<r.length;i++){var s=r[i];if(s.dataset.precedence===t)o=s;else if(o!==a)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Zd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function ep(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var tp=null;function np(e,t,n){if(null===tp){var r=new Map,a=tp=new Map;a.set(n,r)}else(r=(a=tp).get(n))||(r=new Map,a.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var o=n[a];if(!(o[$e]||o[Ue]||"link"===e&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var i=o.getAttribute(t)||"";i=e+i;var s=r.get(i);s?s.push(o):r.set(i,[o])}}return r}function rp(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function ap(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var op=0;function ip(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)lp(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var sp=null;function lp(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,sp=new Map,t.forEach(up,e),sp=null,ip.call(e))}function up(e,t){if(!(4&t.state.loading)){var n=sp.get(e);if(n)var r=n.get(null);else{n=new Map,sp.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<a.length;o++){var i=a[o];"LINK"!==i.nodeName&&"not all"===i.getAttribute("media")||(n.set(i.dataset.precedence,i),r=i)}r&&n.set(null,r)}i=(a=t.instance).getAttribute("data-precedence"),(o=n.get(i)||r)===r&&n.set(null,a),n.set(i,a),this.count++,r=ip.bind(this),a.addEventListener("load",r),a.addEventListener("error",r),o?o.parentNode.insertBefore(a,o.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(a,e.firstChild),t.state.loading|=4}}var cp={$$typeof:k,Provider:null,Consumer:null,_currentValue:P,_currentValue2:P,_threadCount:0};function dp(e,t,n,r,a,o,i,s,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ae(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ae(0),this.hiddenUpdates=Ae(null),this.identifierPrefix=r,this.onUncaughtError=a,this.onCaughtError=o,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function pp(e,t,n,r,a,o,i,s,l,u,c,d){return e=new dp(e,t,n,i,l,u,c,d,s),t=1,!0===o&&(t|=24),o=zr(3,null,null,t),e.current=o,o.stateNode=e,(t=Ba()).refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},vo(o),e}function hp(e){return e?e=Pr:Pr}function fp(e,t,n,r,a,o){a=hp(a),null===r.context?r.context=a:r.pendingContext=a,(r=bo(t)).payload={element:n},null!==(o=void 0===o?null:o)&&(r.callback=o),null!==(n=wo(e,r,t))&&($u(n,0,t),ko(n,e,t))}function mp(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function gp(e,t){mp(e,t),(e=e.alternate)&&mp(e,t)}function vp(e){if(13===e.tag||31===e.tag){var t=Fr(e,67108864);null!==t&&$u(t,0,67108864),gp(e,67108864)}}function yp(e){if(13===e.tag||31===e.tag){var t=Gu(),n=Fr(e,t=Pe(t));null!==n&&$u(n,0,t),gp(e,t)}}var bp=!0;function wp(e,t,n,r){var a=R.T;R.T=null;var o=D.p;try{D.p=2,Sp(e,t,n,r)}finally{D.p=o,R.T=a}}function kp(e,t,n,r){var a=R.T;R.T=null;var o=D.p;try{D.p=8,Sp(e,t,n,r)}finally{D.p=o,R.T=a}}function Sp(e,t,n,r){if(bp){var a=xp(r);if(null===a)td(e,t,r,Ip,n),Dp(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Np=Pp(Np,e,t,n,r,a),!0;case"dragenter":return Cp=Pp(Cp,e,t,n,r,a),!0;case"mouseover":return Mp=Pp(Mp,e,t,n,r,a),!0;case"pointerover":var o=a.pointerId;return Ap.set(o,Pp(Ap.get(o)||null,e,t,n,r,a)),!0;case"gotpointercapture":return o=a.pointerId,Op.set(o,Pp(Op.get(o)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Dp(e,r),4&t&&-1<Rp.indexOf(e)){for(;null!==a;){var o=Xe(a);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var i=Ee(o.pendingLanes);if(0!==i){var s=o;for(s.pendingLanes|=2,s.entangledLanes|=2;i;){var l=1<<31-we(i);s.entanglements[1]|=l,i&=~l}Dc(o),0===(6&hu)&&(Ru=le()+500,Pc(0,!1))}}break;case 31:case 13:null!==(s=Fr(o,2))&&$u(s,0,2),Zu(),gp(o,2)}if(null===(o=xp(r))&&td(e,t,r,Ip,n),o===a)break;a=o}null!==a&&r.stopPropagation()}else td(e,t,r,null,n)}}function xp(e){return _p(e=Rt(e))}var Ip=null;function _p(e){if(Ip=null,null!==(e=Qe(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=u(t)))return e;e=null}else if(31===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ip=e,null}function Ep(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ue()){case ce:return 2;case de:return 8;case pe:case he:return 32;case fe:return 268435456;default:return 32}default:return 32}}var Tp=!1,Np=null,Cp=null,Mp=null,Ap=new Map,Op=new Map,Fp=[],Rp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dp(e,t){switch(e){case"focusin":case"focusout":Np=null;break;case"dragenter":case"dragleave":Cp=null;break;case"mouseover":case"mouseout":Mp=null;break;case"pointerover":case"pointerout":Ap.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Op.delete(t.pointerId)}}function Pp(e,t,n,r,a,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},null!==t&&(null!==(t=Xe(t))&&vp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Lp(e){var t=Qe(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=u(n)))return e.blockedOn=t,void Be(e.priority,function(){yp(n)})}else if(31===t){if(null!==(t=c(n)))return e.blockedOn=t,void Be(e.priority,function(){yp(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zp(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=xp(e.nativeEvent);if(null!==n)return null!==(t=Xe(n))&&vp(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Ft=r,n.target.dispatchEvent(r),Ft=null,t.shift()}return!0}function Bp(e,t,n){zp(e)&&n.delete(t)}function Wp(){Tp=!1,null!==Np&&zp(Np)&&(Np=null),null!==Cp&&zp(Cp)&&(Cp=null),null!==Mp&&zp(Mp)&&(Mp=null),Ap.forEach(Bp),Op.forEach(Bp)}function Up(e,t){e.blockedOn===t&&(e.blockedOn=null,Tp||(Tp=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Wp)))}var jp=null;function Hp(e){jp!==e&&(jp=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){jp===e&&(jp=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],a=e[t+2];if("function"!==typeof r){if(null===_p(r||n))continue;break}var o=Xe(n);null!==o&&(e.splice(t,3),t-=3,ts(o,{pending:!0,data:a,method:n.method,action:r},r,a))}}))}function Vp(e){function t(t){return Up(t,e)}null!==Np&&Up(Np,e),null!==Cp&&Up(Cp,e),null!==Mp&&Up(Mp,e),Ap.forEach(t),Op.forEach(t);for(var n=0;n<Fp.length;n++){var r=Fp[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Fp.length&&null===(n=Fp[0]).blockedOn;)Lp(n),null===n.blockedOn&&Fp.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var a=n[r],o=n[r+1],i=a[je]||null;if("function"===typeof o)i||Hp(n);else if(i){var s=null;if(o&&o.hasAttribute("formAction")){if(a=o,i=o[je]||null)s=i.formAction;else if(null!==_p(a))continue}else s=i.action;"function"===typeof s?n[r+1]=s:(n.splice(r,3),r-=3),Hp(n)}}}function qp(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return a=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==a&&(a(),a=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var r=!1,a=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==a&&(a(),a=null)}}}function Gp(e){this._internalRoot=e}function Kp(e){this._internalRoot=e}Kp.prototype.render=Gp.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));fp(t.current,Gu(),e,t,null,null)},Kp.prototype.unmount=Gp.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fp(e.current,2,null,e,null,null),Zu(),t[He]=null}},Kp.prototype.unstable_scheduleHydration=function(e){if(e){var t=ze();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Fp.length&&0!==t&&t<Fp[n].priority;n++);Fp.splice(n,0,e),0===n&&Lp(e)}};var $p=a.version;if("19.2.0"!==$p)throw Error(i(527,$p,"19.2.0"));D.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(r=a.return)){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return d(a),e;if(o===r)return d(a),t;o=o.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=o;else{for(var s=!1,u=a.child;u;){if(u===n){s=!0,n=a,r=o;break}if(u===r){s=!0,r=a,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=a;break}if(u===r){s=!0,r=o,n=a;break}u=u.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?p(e):null)?null:e.stateNode};var Yp={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Qp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qp.isDisabled&&Qp.supportsFiber)try{ve=Qp.inject(Yp),ye=Qp}catch(Jp){}}t.createRoot=function(e,t){if(!s(e))throw Error(i(299));var n=!1,r="",a=Is,o=_s,l=Es;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=pp(e,1,!1,null,0,n,r,null,a,o,l,qp),e[He]=t.current,Zc(e),new Gp(t)},t.hydrateRoot=function(e,t,n){if(!s(e))throw Error(i(299));var r=!1,a="",o=Is,l=_s,u=Es,c=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(u=n.onRecoverableError),void 0!==n.formState&&(c=n.formState)),(t=pp(e,1,!0,t,0,r,a,c,o,l,u,qp)).context=hp(null),n=t.current,(a=bo(r=Pe(r=Gu()))).callback=null,wo(n,a,r),n=r,t.current.lanes=n,Oe(t,n),Dc(t),e[He]=t.current,Zc(e),new Kp(t)},t.version="19.2.0"},7066:function(e,t,n){var r;!function(e,a){function o(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function i(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function s(e,t){var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&i(r,n),a.state=function(){return i(n,{})}),a}a&&a.exports?a.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,a))||(a.exports=r):this.xor128=s}(0,e=n.nmd(e),n.amdD)},7105:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},7244:()=>{},7353:e=>{e.exports=n;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(_){}function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function r(e){return!0===(e&&e.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=r;var a={},o={};function i(e,t){var n,r,i;return t?(i=0<=(e>>>=0)&&e<256)&&(r=o[e])?r:(n=l(e,(0|e)<0?-1:0,!0),i&&(o[e]=n),n):(i=-128<=(e|=0)&&e<128)&&(r=a[e])?r:(n=l(e,e<0?-1:0,!1),i&&(a[e]=n),n)}function s(e,t){if(isNaN(e))return t?v:g;if(t){if(e<0)return v;if(e>=h)return S}else{if(e<=-f)return x;if(e+1>=f)return k}return e<0?s(-e,t).neg():l(e%p|0,e/p|0,t)}function l(e,t,r){return new n(e,t,r)}n.fromInt=i,n.fromNumber=s,n.fromBits=l;var u=Math.pow;function c(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return g;if("number"===typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return c(e.substring(1),t,n).neg();for(var a=s(u(n,8)),o=g,i=0;i<e.length;i+=8){var l=Math.min(8,e.length-i),d=parseInt(e.substring(i,i+l),n);if(l<8){var p=s(u(n,l));o=o.mul(p).add(s(d))}else o=(o=o.mul(a)).add(s(d))}return o.unsigned=t,o}function d(e,t){return"number"===typeof e?s(e,t):"string"===typeof e?c(e,t):l(e.low,e.high,"boolean"===typeof t?t:e.unsigned)}n.fromString=c,n.fromValue=d;var p=4294967296,h=p*p,f=h/2,m=i(1<<24),g=i(0);n.ZERO=g;var v=i(0,!0);n.UZERO=v;var y=i(1);n.ONE=y;var b=i(1,!0);n.UONE=b;var w=i(-1);n.NEG_ONE=w;var k=l(-1,2147483647,!1);n.MAX_VALUE=k;var S=l(-1,-1,!0);n.MAX_UNSIGNED_VALUE=S;var x=l(0,-2147483648,!1);n.MIN_VALUE=x;var I=n.prototype;I.toInt=function(){return this.unsigned?this.low>>>0:this.low},I.toNumber=function(){return this.unsigned?(this.high>>>0)*p+(this.low>>>0):this.high*p+(this.low>>>0)},I.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(x)){var t=s(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var a=s(u(e,6),this.unsigned),o=this,i="";;){var l=o.div(a),c=(o.sub(l.mul(a)).toInt()>>>0).toString(e);if((o=l).isZero())return c+i;for(;c.length<6;)c="0"+c;i=""+c+i}},I.getHighBits=function(){return this.high},I.getHighBitsUnsigned=function(){return this.high>>>0},I.getLowBits=function(){return this.low},I.getLowBitsUnsigned=function(){return this.low>>>0},I.getNumBitsAbs=function(){if(this.isNegative())return this.eq(x)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},I.isZero=function(){return 0===this.high&&0===this.low},I.eqz=I.isZero,I.isNegative=function(){return!this.unsigned&&this.high<0},I.isPositive=function(){return this.unsigned||this.high>=0},I.isOdd=function(){return 1===(1&this.low)},I.isEven=function(){return 0===(1&this.low)},I.equals=function(e){return r(e)||(e=d(e)),(this.unsigned===e.unsigned||this.high>>>31!==1||e.high>>>31!==1)&&(this.high===e.high&&this.low===e.low)},I.eq=I.equals,I.notEquals=function(e){return!this.eq(e)},I.neq=I.notEquals,I.ne=I.notEquals,I.lessThan=function(e){return this.comp(e)<0},I.lt=I.lessThan,I.lessThanOrEqual=function(e){return this.comp(e)<=0},I.lte=I.lessThanOrEqual,I.le=I.lessThanOrEqual,I.greaterThan=function(e){return this.comp(e)>0},I.gt=I.greaterThan,I.greaterThanOrEqual=function(e){return this.comp(e)>=0},I.gte=I.greaterThanOrEqual,I.ge=I.greaterThanOrEqual,I.compare=function(e){if(r(e)||(e=d(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},I.comp=I.compare,I.negate=function(){return!this.unsigned&&this.eq(x)?x:this.not().add(y)},I.neg=I.negate,I.add=function(e){r(e)||(e=d(e));var t=this.high>>>16,n=65535&this.high,a=this.low>>>16,o=65535&this.low,i=e.high>>>16,s=65535&e.high,u=e.low>>>16,c=0,p=0,h=0,f=0;return h+=(f+=o+(65535&e.low))>>>16,p+=(h+=a+u)>>>16,c+=(p+=n+s)>>>16,c+=t+i,l((h&=65535)<<16|(f&=65535),(c&=65535)<<16|(p&=65535),this.unsigned)},I.subtract=function(e){return r(e)||(e=d(e)),this.add(e.neg())},I.sub=I.subtract,I.multiply=function(e){if(this.isZero())return g;if(r(e)||(e=d(e)),t)return l(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return g;if(this.eq(x))return e.isOdd()?x:g;if(e.eq(x))return this.isOdd()?x:g;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(m)&&e.lt(m))return s(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,a=65535&this.high,o=this.low>>>16,i=65535&this.low,u=e.high>>>16,c=65535&e.high,p=e.low>>>16,h=65535&e.low,f=0,v=0,y=0,b=0;return y+=(b+=i*h)>>>16,v+=(y+=o*h)>>>16,y&=65535,v+=(y+=i*p)>>>16,f+=(v+=a*h)>>>16,v&=65535,f+=(v+=o*p)>>>16,v&=65535,f+=(v+=i*c)>>>16,f+=n*h+a*p+o*c+i*u,l((y&=65535)<<16|(b&=65535),(f&=65535)<<16|(v&=65535),this.unsigned)},I.mul=I.multiply,I.divide=function(e){if(r(e)||(e=d(e)),e.isZero())throw Error("division by zero");var n,a,o;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?l((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?v:g;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return v;if(e.gt(this.shru(1)))return b;o=v}else{if(this.eq(x))return e.eq(y)||e.eq(w)?x:e.eq(x)?y:(n=this.shr(1).div(e).shl(1)).eq(g)?e.isNegative()?y:w:(a=this.sub(e.mul(n)),o=n.add(a.div(e)));if(e.eq(x))return this.unsigned?v:g;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=g}for(a=this;a.gte(e);){n=Math.max(1,Math.floor(a.toNumber()/e.toNumber()));for(var i=Math.ceil(Math.log(n)/Math.LN2),c=i<=48?1:u(2,i-48),p=s(n),h=p.mul(e);h.isNegative()||h.gt(a);)h=(p=s(n-=c,this.unsigned)).mul(e);p.isZero()&&(p=y),o=o.add(p),a=a.sub(h)}return o},I.div=I.divide,I.modulo=function(e){return r(e)||(e=d(e)),t?l((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},I.mod=I.modulo,I.rem=I.modulo,I.not=function(){return l(~this.low,~this.high,this.unsigned)},I.and=function(e){return r(e)||(e=d(e)),l(this.low&e.low,this.high&e.high,this.unsigned)},I.or=function(e){return r(e)||(e=d(e)),l(this.low|e.low,this.high|e.high,this.unsigned)},I.xor=function(e){return r(e)||(e=d(e)),l(this.low^e.low,this.high^e.high,this.unsigned)},I.shiftLeft=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?l(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):l(0,this.low<<e-32,this.unsigned)},I.shl=I.shiftLeft,I.shiftRight=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?l(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):l(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},I.shr=I.shiftRight,I.shiftRightUnsigned=function(e){if(r(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?l(this.low>>>e|t<<32-e,t>>>e,this.unsigned):l(32===e?t:t>>>e-32,0,this.unsigned)},I.shru=I.shiftRightUnsigned,I.shr_u=I.shiftRightUnsigned,I.toSigned=function(){return this.unsigned?l(this.low,this.high,!1):this},I.toUnsigned=function(){return this.unsigned?this:l(this.low,this.high,!0)},I.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},I.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},I.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,r){return r?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},7359:function(e,t,n){var r;!function(e,a){function o(e){var t=this,n=function(){var e=4022871197,t=function(t){t=String(t);for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)};return t}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function i(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function s(e,t){var n=new o(e),r=t&&t.state,a=n.next;return a.int32=function(){return 4294967296*n.next()|0},a.double=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.quick=a,r&&("object"==typeof r&&i(r,n),a.state=function(){return i(n,{})}),a}a&&a.exports?a.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,a))||(a.exports=r):this.alea=s}(0,e=n.nmd(e),n.amdD)},7676:(e,t,n)=>{var r=n(9648),a=n(5967),o=n(1069),i=n(1540);e.exports=function(e,t,n){return e=o(e),void 0===(t=n?void 0:t)?a(e)?i(e):r(e):e.match(t)||[]}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(6672)},8074:()=>{},8443:(e,t,n)=>{"use strict";e.exports=n(9717)},8541:(e,t,n)=>{var r=n(9812),a=n(149),o=n(4052),i=n(9841),s=r?r.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return a(t,e)+"";if(i(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},8562:e=>{e.exports.$='"use strict";var Module={};var ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads");var parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",data=>onmessage({data:data}));var fs=require("fs");Object.assign(global,{self:global,require:require,Module:Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:function(f){(0,eval)(fs.readFileSync(f,"utf8")+"//# sourceURL="+f)},postMessage:function(msg){parentPort.postMessage(msg)},performance:global.performance||{now:function(){return Date.now()}}})}var initializedJS=false;var pendingNotifiedProxyingQueues=[];function threadPrintErr(){var text=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,text+"\n");return}console.error(text)}function threadAlert(){var text=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:text,threadId:Module["_pthread_self"]()})}var err=threadPrintErr;self.alert=threadAlert;Module["instantiateWasm"]=(info,receiveInstance)=>{var instance=new WebAssembly.Instance(Module["wasmModule"],info);receiveInstance(instance);Module["wasmModule"]=null;return instance.exports};self.onunhandledrejection=e=>{throw e.reason??e};self.startWorker=instance=>{Module=instance;postMessage({"cmd":"loaded"})};self.onmessage=e=>{try{if(e.data.cmd==="load"){Module["wasmModule"]=e.data.wasmModule;for(const handler of e.data.handlers){Module[handler]=function(){postMessage({cmd:"callHandler",handler:handler,args:[...arguments]})}}Module["wasmMemory"]=e.data.wasmMemory;Module["buffer"]=Module["wasmMemory"].buffer;Module["ENVIRONMENT_IS_PTHREAD"]=true;if(typeof e.data.urlOrBlob=="string"){importScripts(e.data.urlOrBlob)}else{var objectUrl=URL.createObjectURL(e.data.urlOrBlob);importScripts(objectUrl);URL.revokeObjectURL(objectUrl)}WasmBackendModuleThreadedSimd(Module)}else if(e.data.cmd==="run"){Module["__emscripten_thread_init"](e.data.pthread_ptr,0,0,1);Module["establishStackSpace"]();Module["PThread"].receiveObjectTransfer(e.data);Module["PThread"].threadInitTLS();if(!initializedJS){pendingNotifiedProxyingQueues.forEach(queue=>{Module["executeNotifiedProxyingQueue"](queue)});pendingNotifiedProxyingQueues=[];initializedJS=true}try{Module["invokeEntryPoint"](e.data.start_routine,e.data.arg)}catch(ex){if(ex!="unwind"){if(ex instanceof Module["ExitStatus"]){if(Module["keepRuntimeAlive"]()){}else{Module["__emscripten_thread_exit"](ex.status)}}else{throw ex}}}}else if(e.data.cmd==="cancel"){if(Module["_pthread_self"]()){Module["__emscripten_thread_exit"](-1)}}else if(e.data.target==="setimmediate"){}else if(e.data.cmd==="processProxyingQueue"){if(initializedJS){Module["executeNotifiedProxyingQueue"](e.data.queue)}else{pendingNotifiedProxyingQueues.push(e.data.queue)}}else if(e.data.cmd){err("worker.js received unknown command "+e.data.cmd);err(e.data)}}catch(ex){if(Module["__emscripten_thread_crashed"]){Module["__emscripten_thread_crashed"]()}throw ex}};'},8590:()=>{},8853:(e,t,n)=>{"use strict";e.exports=n(5896)},9016:function(e,t,n){var r;!function(e,a){function o(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function i(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function s(e,t){var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&i(r,n),a.state=function(){return i(n,{})}),a}a&&a.exports?a.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,a))||(a.exports=r):this.xorwow=s}(0,e=n.nmd(e),n.amdD)},9421:e=>{e.exports=function(e,t,n,r){var a=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++a]);++a<o;)n=t(n,e[a],a,e);return n}},9461:(e,t,n)=>{"use strict";e.exports=n(2330)},9538:function(e,t,n){var r;!function(e,a){function o(e){var t=this;t.next=function(){var e,n,r=t.x,a=t.i;return e=r[a],n=(e^=e>>>7)^e<<24,n^=(e=r[a+1&7])^e>>>10,n^=(e=r[a+3&7])^e>>>3,n^=(e=r[a+4&7])^e<<7,e=r[a+7&7],n^=(e^=e<<13)^e<<9,r[a]=n,t.i=a+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function i(e,t){return t.x=e.x.slice(),t.i=e.i,t}function s(e,t){null==e&&(e=+new Date);var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&(r.x&&i(r,n),a.state=function(){return i(n,{})}),a}a&&a.exports?a.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,a))||(a.exports=r):this.xorshift7=s}(0,e=n.nmd(e),n.amdD)},9648:e=>{var t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(t)||[]}},9717:(e,t,n)=>{"use strict";var r=n(5043),a=n(9461);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=a.useSyncExternalStore,s=r.useRef,l=r.useEffect,u=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var d=s(null);if(null===d.current){var p={hasValue:!1,value:null};d.current=p}else p=d.current;d=u(function(){function e(e){if(!l){if(l=!0,i=e,e=r(e),void 0!==a&&p.hasValue){var t=p.value;if(a(t,e))return s=t}return s=e}if(t=s,o(i,e))return t;var n=r(e);return void 0!==a&&a(t,n)?(i=e,t):(i=e,s=n)}var i,s,l=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]},[t,n,r,a]);var h=i(e,d[0],d[1]);return l(function(){p.hasValue=!0,p.value=h},[h]),c(h),h}},9764:(e,t,n)=>{var r=(()=>{var e="undefined"!==typeof document&&document.currentScript?document.currentScript.src:void 0;return e=e||"/index.js",function(t){function r(){return A.buffer!=P&&q(A.buffer),L}function a(){return A.buffer!=P&&q(A.buffer),z}function o(){return A.buffer!=P&&q(A.buffer),B}function i(){return A.buffer!=P&&q(A.buffer),W}function s(){return A.buffer!=P&&q(A.buffer),U}var l,u,c,d="undefined"!=typeof(t=t||{})?t:{};d.ready=new Promise(function(e,t){l=e,u=t}),"undefined"!==typeof process&&process.listeners&&(c={uncaughtException:process.listeners("uncaughtException"),unhandledRejection:process.listeners("unhandledRejection")});var p,h,f,m=Object.assign({},d),g=[],v=(e,t)=>{throw t},y="object"==typeof window,b="function"==typeof importScripts,w="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,k=d.ENVIRONMENT_IS_PTHREAD||!1,S="";function x(e){return d.locateFile?d.locateFile(e,S):S+e}if(w){var I=n(9893),_=n(5281);let e;S=b?_.dirname(S)+"/":"//",p=(e,t)=>(e=se(e)?new URL(e):_.normalize(e),I.readFileSync(e,t?void 0:"utf8")),f=e=>{var t=p(e,!0);return t.buffer||(t=new Uint8Array(t)),t},h=(e,t,n)=>{e=se(e)?new URL(e):_.normalize(e),I.readFile(e,function(e,r){e?n(e):t(r.buffer)})},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),g=process.argv.slice(2),process.on("uncaughtException",function(e){if(!(e instanceof ce))throw e}),process.on("unhandledRejection",function(e){throw e}),v=(e,t)=>{if(X())throw process.exitCode=e,t;!function(e){if(e instanceof ce)return;C("exiting due to exception: "+e)}(t),process.exit(e)},d.inspect=function(){return"[Emscripten Module object]"};try{e=n(3556)}catch(Xe){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),Xe}n.g.Worker=e.Worker}else(y||b)&&(b?S=self.location.href:"undefined"!=typeof document&&document.currentScript&&(S=document.currentScript.src),"undefined"!==typeof e&&e&&(S=e),S=0!==S.indexOf("blob:")?S.substr(0,S.replace(/[?#].*/,"").lastIndexOf("/")+1):"",w||(p=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},b&&(f=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),h=(e,t,n)=>{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)}),e=>document.title=e);w&&"undefined"==typeof performance&&(n.g.performance=n(7244).performance);var E=console.log.bind(console),T=console.warn.bind(console);w&&(E=e=>I.writeSync(1,e+"\n"),T=e=>I.writeSync(2,e+"\n"));var N=d.print||E,C=d.printErr||T;Object.assign(d,m),m=null,d.arguments&&(g=d.arguments),d.thisProgram&&d.thisProgram,d.quit&&(v=d.quit);var M;Atomics.load,Atomics.store,Atomics.compareExchange;d.wasmBinary&&(M=d.wasmBinary);var A,O,F=d.noExitRuntime||!0;"object"!=typeof WebAssembly&&ae("no native wasm support detected");var R,D=!1;var P,L,z,B,W,U,j="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function H(e,t,n){for(var r=(t>>>=0)+n,a=t;e[a]&&!(a>=r);)++a;if(a-t>16&&e.buffer&&j)return j.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,a):e.subarray(t,a));for(var o="";t<a;){var i=e[t++];if(128&i){var s=63&e[t++];if(192!=(224&i)){var l=63&e[t++];if((i=224==(240&i)?(15&i)<<12|s<<6|l:(7&i)<<18|s<<12|l<<6|63&e[t++])<65536)o+=String.fromCharCode(i);else{var u=i-65536;o+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else o+=String.fromCharCode((31&i)<<6|s)}else o+=String.fromCharCode(i)}return o}function V(e,t){return(e>>>=0)?H(a(),e,t):""}function q(e){P=e,d.HEAP8=L=new Int8Array(e),d.HEAP16=new Int16Array(e),d.HEAP32=B=new Int32Array(e),d.HEAPU8=z=new Uint8Array(e),d.HEAPU16=new Uint16Array(e),d.HEAPU32=W=new Uint32Array(e),d.HEAPF32=new Float32Array(e),d.HEAPF64=U=new Float64Array(e)}k&&(P=d.buffer);var G,K=d.INITIAL_MEMORY||16777216;if(k)A=d.wasmMemory,P=d.buffer;else if(d.wasmMemory)A=d.wasmMemory;else if(!((A=new WebAssembly.Memory({initial:K/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw C("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),w&&C("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");A&&(P=A.buffer),K=P.byteLength,q(P);var $=[],Y=[],Q=[];function X(){return F}function J(){k||ge(Y)}function Z(e){$.unshift(e)}function ee(e){Q.unshift(e)}var te=0,ne=null,re=null;function ae(e){d.onAbort&&d.onAbort(e),C(e="Aborted("+e+")"),D=!0,R=1,e+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(e);throw u(t),t}var oe;function ie(e){return e.startsWith("data:application/octet-stream;base64,")}function se(e){return e.startsWith("file://")}function le(e){try{if(e==oe&&M)return new Uint8Array(M);if(f)return f(e);throw"both async and sync fetching of the wasm failed"}catch(C){ae(C)}}ie(oe="tfjs-backend-wasm-threaded-simd.wasm")||(oe=x(oe));var ue={};function ce(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function de(e){var t,n=me.pthreads[e];n||ae(t),me.returnWorkerToPool(n)}function pe(e){var t=me.getNewWorker();if(!t)return 6;me.runningWorkers.push(t),me.pthreads[e.pthread_ptr]=t,t.pthread_ptr=e.pthread_ptr;var n={cmd:"run",start_routine:e.startRoutine,arg:e.arg,pthread_ptr:e.pthread_ptr};return t.runPthread=()=>{w&&t.ref(),t.postMessage(n,e.transferList),delete t.runPthread},t.loaded&&t.runPthread(),0}function he(e){if(k)return Ie(1,1,e);R=e,X()||(me.terminateAllThreads(),d.onExit&&d.onExit(e),D=!0),v(e,new ce(e))}var fe=function(e,t){if(R=e,!t&&k)throw ve(e),"unwind";he(e)};var me={unusedWorkers:[],runningWorkers:[],tlsInitFunctions:[],pthreads:{},init:function(){k?me.initWorker():me.initMainThread()},initMainThread:function(){for(var e=8;e--;)me.allocateUnusedWorker()},initWorker:function(){F=!1},setExitStatus:function(e){R=e},terminateAllThreads:function(){for(var e of Object.values(me.pthreads))me.returnWorkerToPool(e);for(var e of me.unusedWorkers)e.terminate();me.unusedWorkers=[]},returnWorkerToPool:function(e){var t=e.pthread_ptr;delete me.pthreads[t],me.unusedWorkers.push(e),me.runningWorkers.splice(me.runningWorkers.indexOf(e),1),e.pthread_ptr=0,w&&e.unref(),He(t)},receiveObjectTransfer:function(e){},threadInitTLS:function(){me.tlsInitFunctions.forEach(e=>e())},loadWasmModuleToWorker:function(t,n){t.onmessage=e=>{var r,a=e.data,o=a.cmd;if(t.pthread_ptr&&(me.currentProxiedOperationCallerThread=t.pthread_ptr),a.targetThread&&a.targetThread!=Be()){var i=me.pthreads[a.targetThread];return i?i.postMessage(a,a.transferList):C('Internal error! Worker sent a message "'+o+'" to target pthread '+a.targetThread+", but that thread no longer exists!"),void(me.currentProxiedOperationCallerThread=void 0)}"processProxyingQueue"===o?Se(a.queue):"spawnThread"===o?pe(a):"cleanupThread"===o?de(a.thread):"killThread"===o?function(e){var t=me.pthreads[e];delete me.pthreads[e],t.terminate(),He(e),me.runningWorkers.splice(me.runningWorkers.indexOf(t),1),t.pthread_ptr=0}(a.thread):"cancelThread"===o?(r=a.thread,me.pthreads[r].postMessage({cmd:"cancel"})):"loaded"===o?(t.loaded=!0,w&&t.unref(),n&&n(t),t.runPthread&&t.runPthread()):"print"===o?N("Thread "+a.threadId+": "+a.text):"printErr"===o?C("Thread "+a.threadId+": "+a.text):"alert"===o?alert("Thread "+a.threadId+": "+a.text):"setimmediate"===a.target?t.postMessage(a):"callHandler"===o?d[a.handler](...a.args):o&&C("worker sent an unknown command "+o),me.currentProxiedOperationCallerThread=void 0},t.onerror=e=>{throw C("worker sent an error! "+e.filename+":"+e.lineno+": "+e.message),e},w&&(t.on("message",function(e){t.onmessage({data:e})}),t.on("error",function(e){t.onerror(e)}),t.on("detachedExit",function(){}));var r=[];for(var a of["onExit","onAbort","print","printErr"])d.hasOwnProperty(a)&&r.push(a);t.postMessage({cmd:"load",handlers:r,urlOrBlob:d.mainScriptUrlOrBlob||e,wasmMemory:A,wasmModule:O})},allocateUnusedWorker:function(){var e,t=x("tfjs-backend-wasm-threaded-simd.worker.js");e=new Worker(t),me.unusedWorkers.push(e)},getNewWorker:function(){return 0==me.unusedWorkers.length&&(me.allocateUnusedWorker(),me.loadWasmModuleToWorker(me.unusedWorkers[0])),me.unusedWorkers.pop()}};function ge(e){for(;e.length>0;)e.shift()(d)}function ve(e){if(k)return Ie(2,0,e);try{fe(e)}catch(Xe){!function(e){if(e instanceof ce||"unwind"==e)return R;v(1,e)}(Xe)}}d.PThread=me,d.establishStackSpace=function(){var e=Be(),t=o()[e+52>>>2],n=o()[e+56>>>2];qe(t,t-n),Ke(t)};var ye=[];function be(e,t,n,r){return k?Ie(3,1,e,t,n,r):we(e,t,n,r)}function we(e,t,n,r){if("undefined"==typeof SharedArrayBuffer)return C("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var a=[];if(k&&0===a.length)return be(e,t,n,r);var o={startRoutine:n,pthread_ptr:e,arg:r,transferList:a};return k?(o.cmd="spawnThread",postMessage(o,a),0):pe(o)}d.invokeEntryPoint=function(e,t){var n=function(e){var t=ye[e];return t||(e>=ye.length&&(ye.length=e+1),ye[e]=t=G.get(e)),t}(e)(t);X()?me.setExitStatus(n):Ve(n)};var ke;function Se(e){Atomics.store(o(),e>>2,1),Be()&&je(e),Atomics.compareExchange(o(),e>>2,1,0)}function xe(e){xe.shown||(xe.shown={}),xe.shown[e]||(xe.shown[e]=1,w&&(e="warning: "+e),C(e))}function Ie(e,t){var n=arguments.length-2,r=arguments;return function(e){var t=Ge(),n=e();return Ke(t),n}(()=>{for(var a=n,o=$e(8*a),i=o>>3,l=0;l<n;l++){var u=r[2+l];s()[i+l>>>0]=u}return Ue(e,a,o,t)})}d.executeNotifiedProxyingQueue=Se,ke=w?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:()=>performance.timeOrigin+performance.now();var _e=[];function Ee(e){try{return A.grow(e-P.byteLength+65535>>>16),q(A.buffer),1}catch(Xe){}}function Te(e){return k?Ie(4,1,e):52}function Ne(e,t,n,r,a){return k?Ie(5,1,e,t,n,r,a):70}var Ce=[null,[],[]];function Me(e,t){var n=Ce[e];0===t||10===t?((1===e?N:C)(H(n,0)),n.length=0):n.push(t)}function Ae(e,t,n,r){if(k)return Ie(6,1,e,t,n,r);for(var o=0,s=0;s<n;s++){var l=i()[t>>>2],u=i()[t+4>>>2];t+=8;for(var c=0;c<u;c++)Me(e,a()[l+c>>>0]);o+=u}return i()[r>>>2]=o,0}function Oe(e){return d["_"+e]}function Fe(e,t,n,o,i){var s={string:e=>{var t=0;if(null!==e&&void 0!==e&&0!==e){var n=1+(e.length<<2);(function(e,t,n){(function(e,t,n,r){if(!(r>0))return 0;for(var a=n>>>=0,o=n+r-1,i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++i)),s<=127){if(n>=o)break;t[n++>>>0]=s}else if(s<=2047){if(n+1>=o)break;t[n++>>>0]=192|s>>6,t[n++>>>0]=128|63&s}else if(s<=65535){if(n+2>=o)break;t[n++>>>0]=224|s>>12,t[n++>>>0]=128|s>>6&63,t[n++>>>0]=128|63&s}else{if(n+3>=o)break;t[n++>>>0]=240|s>>18,t[n++>>>0]=128|s>>12&63,t[n++>>>0]=128|s>>6&63,t[n++>>>0]=128|63&s}}t[n>>>0]=0})(e,a(),t,n)})(e,t=$e(n),n)}return t},array:e=>{var t=$e(e.length);return function(e,t){r().set(e,t>>>0)}(e,t),t}};var l=Oe(e),u=[],c=0;if(o)for(var d=0;d<o.length;d++){var p=s[n[d]];p?(0===c&&(c=Ge()),u[d]=p(o[d])):u[d]=o[d]}var h=l.apply(null,u);return h=function(e){return 0!==c&&Ke(c),function(e){return"string"===t?V(e):"boolean"===t?Boolean(e):e}(e)}(h)}me.init();var Re,De,Pe,Le=[null,he,ve,be,Te,Ne,Ae],ze={__emscripten_init_main_thread_js:function(e){We(e,!b,1,!y),me.threadInitTLS()},__emscripten_thread_cleanup:function(e){k?postMessage({cmd:"cleanupThread",thread:e}):de(e)},__pthread_create_js:we,_emscripten_default_pthread_stack_size:function(){return 65536},_emscripten_get_now_is_monotonic:function(){return true},_emscripten_notify_task_queue:function(e,t,n,r){if(e==t)setTimeout(()=>Se(r));else if(k)postMessage({targetThread:e,cmd:"processProxyingQueue",queue:r});else{var a=me.pthreads[e];if(!a)return;a.postMessage({cmd:"processProxyingQueue",queue:r})}return 1},_emscripten_set_offscreencanvas_size:function(e,t,n){return-1},abort:function(){ae("")},emscripten_check_blocking_allowed:function(){w||b||xe("Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread")},emscripten_date_now:function(){return Date.now()},emscripten_get_heap_max:function(){return 4294901760},emscripten_get_now:ke,emscripten_memcpy_big:function(e,t,n){a().copyWithin(e>>>0,t>>>0,t+n>>>0)},emscripten_num_logical_cores:function(){return w?n(8074).cpus().length:navigator.hardwareConcurrency},emscripten_receive_on_main_thread_js:function(e,t,n){_e.length=t;for(var r=n>>3,a=0;a<t;a++)_e[a]=s()[r+a>>>0];return(e<0?ue[-e-1]:Le[e]).apply(null,_e)},emscripten_resize_heap:function(e){var t=a().length;if((e>>>=0)<=t)return!1;var n=4294901760;if(e>n)return!1;let r=(e,t)=>e+(t-e%t)%t;for(var o=1;o<=4;o*=2){var i=t*(1+.2/o);if(i=Math.min(i,e+100663296),Ee(Math.min(n,r(Math.max(e,i),65536))))return!0}return!1},emscripten_unwind_to_js_event_loop:function(){throw"unwind"},exit:fe,fd_close:Te,fd_seek:Ne,fd_write:Ae,memory:A||d.wasmMemory},Be=(function(){var e={env:ze,wasi_snapshot_preview1:ze};function t(e,t){var n,r,a=e.exports;if(d.asm=a,n=d.asm._emscripten_tls_init,me.tlsInitFunctions.push(n),G=d.asm.__indirect_function_table,r=d.asm.__wasm_call_ctors,Y.unshift(r),O=t,!k){var o=me.unusedWorkers.length;me.unusedWorkers.forEach(function(e){me.loadWasmModuleToWorker(e,function(){--o||function(){if(te--,d.monitorRunDependencies&&d.monitorRunDependencies(te),0==te&&(null!==ne&&(clearInterval(ne),ne=null),re)){var e=re;re=null,e()}}()})})}}function n(e){t(e.instance,e.module)}function r(t){return function(){if(!M&&(y||b)){if("function"==typeof fetch&&!se(oe))return fetch(oe,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+oe+"'";return e.arrayBuffer()}).catch(function(){return le(oe)});if(h)return new Promise(function(e,t){h(oe,function(t){e(new Uint8Array(t))},t)})}return Promise.resolve().then(function(){return le(oe)})}().then(function(t){return WebAssembly.instantiate(t,e)}).then(function(e){return e}).then(t,function(e){C("failed to asynchronously prepare wasm: "+e),ae(e)})}if(k||(te++,d.monitorRunDependencies&&d.monitorRunDependencies(te)),d.instantiateWasm)try{return d.instantiateWasm(e,t)}catch(Xe){C("Module.instantiateWasm callback failed with error: "+Xe),u(Xe)}(M||"function"!=typeof WebAssembly.instantiateStreaming||ie(oe)||se(oe)||w||"function"!=typeof fetch?r(n):fetch(oe,{credentials:"same-origin"}).then(function(t){return WebAssembly.instantiateStreaming(t,e).then(n,function(e){return C("wasm streaming compile failed: "+e),C("falling back to ArrayBuffer instantiation"),r(n)})})).catch(u)}(),d.___wasm_call_ctors=function(){return(d.___wasm_call_ctors=d.asm.__wasm_call_ctors).apply(null,arguments)},d._init=function(){return(d._init=d.asm.init).apply(null,arguments)},d._init_with_threads_count=function(){return(d._init_with_threads_count=d.asm.init_with_threads_count).apply(null,arguments)},d._get_threads_count=function(){return(d._get_threads_count=d.asm.get_threads_count).apply(null,arguments)},d._register_tensor=function(){return(d._register_tensor=d.asm.register_tensor).apply(null,arguments)},d._dispose_data=function(){return(d._dispose_data=d.asm.dispose_data).apply(null,arguments)},d._dispose=function(){return(d._dispose=d.asm.dispose).apply(null,arguments)},d._Abs=function(){return(d._Abs=d.asm.Abs).apply(null,arguments)},d._Acos=function(){return(d._Acos=d.asm.Acos).apply(null,arguments)},d._Acosh=function(){return(d._Acosh=d.asm.Acosh).apply(null,arguments)},d._Add=function(){return(d._Add=d.asm.Add).apply(null,arguments)},d._AddN=function(){return(d._AddN=d.asm.AddN).apply(null,arguments)},d._All=function(){return(d._All=d.asm.All).apply(null,arguments)},d._Any=function(){return(d._Any=d.asm.Any).apply(null,arguments)},d._ArgMax=function(){return(d._ArgMax=d.asm.ArgMax).apply(null,arguments)},d._ArgMin=function(){return(d._ArgMin=d.asm.ArgMin).apply(null,arguments)},d._Asin=function(){return(d._Asin=d.asm.Asin).apply(null,arguments)},d._Asinh=function(){return(d._Asinh=d.asm.Asinh).apply(null,arguments)},d._Atan=function(){return(d._Atan=d.asm.Atan).apply(null,arguments)},d._Atan2=function(){return(d._Atan2=d.asm.Atan2).apply(null,arguments)},d._Atanh=function(){return(d._Atanh=d.asm.Atanh).apply(null,arguments)},d._AvgPool=function(){return(d._AvgPool=d.asm.AvgPool).apply(null,arguments)},d._AvgPool3D=function(){return(d._AvgPool3D=d.asm.AvgPool3D).apply(null,arguments)},d._AvgPool3DGrad=function(){return(d._AvgPool3DGrad=d.asm.AvgPool3DGrad).apply(null,arguments)},d._AvgPoolGrad=function(){return(d._AvgPoolGrad=d.asm.AvgPoolGrad).apply(null,arguments)},d._BatchMatMul=function(){return(d._BatchMatMul=d.asm.BatchMatMul).apply(null,arguments)},d._Bincount=function(){return(d._Bincount=d.asm.Bincount).apply(null,arguments)},d._BitwiseAnd=function(){return(d._BitwiseAnd=d.asm.BitwiseAnd).apply(null,arguments)},d._Ceil=function(){return(d._Ceil=d.asm.Ceil).apply(null,arguments)},d._ClipByValue=function(){return(d._ClipByValue=d.asm.ClipByValue).apply(null,arguments)},d._Conv2D=function(){return(d._Conv2D=d.asm.Conv2D).apply(null,arguments)},d._Conv2DBackpropInput=function(){return(d._Conv2DBackpropInput=d.asm.Conv2DBackpropInput).apply(null,arguments)},d._Conv3D=function(){return(d._Conv3D=d.asm.Conv3D).apply(null,arguments)},d._Conv3DBackpropFilterV2=function(){return(d._Conv3DBackpropFilterV2=d.asm.Conv3DBackpropFilterV2).apply(null,arguments)},d._Conv3DBackpropInputV2=function(){return(d._Conv3DBackpropInputV2=d.asm.Conv3DBackpropInputV2).apply(null,arguments)},d._Cos=function(){return(d._Cos=d.asm.Cos).apply(null,arguments)},d._Cosh=function(){return(d._Cosh=d.asm.Cosh).apply(null,arguments)},d._CropAndResize=function(){return(d._CropAndResize=d.asm.CropAndResize).apply(null,arguments)},d._Cumprod=function(){return(d._Cumprod=d.asm.Cumprod).apply(null,arguments)},d._Cumsum=function(){return(d._Cumsum=d.asm.Cumsum).apply(null,arguments)},d._DenseBincount=function(){return(d._DenseBincount=d.asm.DenseBincount).apply(null,arguments)},d._DepthToSpace=function(){return(d._DepthToSpace=d.asm.DepthToSpace).apply(null,arguments)},d._DepthwiseConv2dNative=function(){return(d._DepthwiseConv2dNative=d.asm.DepthwiseConv2dNative).apply(null,arguments)},d._Diag=function(){return(d._Diag=d.asm.Diag).apply(null,arguments)},d._Dilation2D=function(){return(d._Dilation2D=d.asm.Dilation2D).apply(null,arguments)},d._Dilation2DBackpropFilter=function(){return(d._Dilation2DBackpropFilter=d.asm.Dilation2DBackpropFilter).apply(null,arguments)},d._Dilation2DBackpropInput=function(){return(d._Dilation2DBackpropInput=d.asm.Dilation2DBackpropInput).apply(null,arguments)},d._Elu=function(){return(d._Elu=d.asm.Elu).apply(null,arguments)},d._EluGrad=function(){return(d._EluGrad=d.asm.EluGrad).apply(null,arguments)},d._Equal=function(){return(d._Equal=d.asm.Equal).apply(null,arguments)},d._Erf=function(){return(d._Erf=d.asm.Erf).apply(null,arguments)},d._Exp=function(){return(d._Exp=d.asm.Exp).apply(null,arguments)},d._Expm1=function(){return(d._Expm1=d.asm.Expm1).apply(null,arguments)},d._FlipLeftRight=function(){return(d._FlipLeftRight=d.asm.FlipLeftRight).apply(null,arguments)},d._Floor=function(){return(d._Floor=d.asm.Floor).apply(null,arguments)},d._FloorDiv=function(){return(d._FloorDiv=d.asm.FloorDiv).apply(null,arguments)},d._FusedBatchNorm=function(){return(d._FusedBatchNorm=d.asm.FusedBatchNorm).apply(null,arguments)},d._FusedConv2D=function(){return(d._FusedConv2D=d.asm.FusedConv2D).apply(null,arguments)},d._FusedDepthwiseConv2D=function(){return(d._FusedDepthwiseConv2D=d.asm.FusedDepthwiseConv2D).apply(null,arguments)},d._Gather=function(){return(d._Gather=d.asm.Gather).apply(null,arguments)},d._GatherNd=function(){return(d._GatherNd=d.asm.GatherNd).apply(null,arguments)},d._Greater=function(){return(d._Greater=d.asm.Greater).apply(null,arguments)},d._GreaterEqual=function(){return(d._GreaterEqual=d.asm.GreaterEqual).apply(null,arguments)},d._IsFinite=function(){return(d._IsFinite=d.asm.IsFinite).apply(null,arguments)},d._IsInf=function(){return(d._IsInf=d.asm.IsInf).apply(null,arguments)},d._IsNan=function(){return(d._IsNan=d.asm.IsNan).apply(null,arguments)},d._LRN=function(){return(d._LRN=d.asm.LRN).apply(null,arguments)},d._LRNGrad=function(){return(d._LRNGrad=d.asm.LRNGrad).apply(null,arguments)},d._LeakyRelu=function(){return(d._LeakyRelu=d.asm.LeakyRelu).apply(null,arguments)},d._Less=function(){return(d._Less=d.asm.Less).apply(null,arguments)},d._LessEqual=function(){return(d._LessEqual=d.asm.LessEqual).apply(null,arguments)},d._LinSpace=function(){return(d._LinSpace=d.asm.LinSpace).apply(null,arguments)},d._Log=function(){return(d._Log=d.asm.Log).apply(null,arguments)},d._Log1p=function(){return(d._Log1p=d.asm.Log1p).apply(null,arguments)},d._LogicalAnd=function(){return(d._LogicalAnd=d.asm.LogicalAnd).apply(null,arguments)},d._LogicalNot=function(){return(d._LogicalNot=d.asm.LogicalNot).apply(null,arguments)},d._LogicalOr=function(){return(d._LogicalOr=d.asm.LogicalOr).apply(null,arguments)},d._LogicalXor=function(){return(d._LogicalXor=d.asm.LogicalXor).apply(null,arguments)},d._Max=function(){return(d._Max=d.asm.Max).apply(null,arguments)},d._MaxPool=function(){return(d._MaxPool=d.asm.MaxPool).apply(null,arguments)},d._MaxPool3D=function(){return(d._MaxPool3D=d.asm.MaxPool3D).apply(null,arguments)},d._MaxPool3DGrad=function(){return(d._MaxPool3DGrad=d.asm.MaxPool3DGrad).apply(null,arguments)},d._MaxPoolGrad=function(){return(d._MaxPoolGrad=d.asm.MaxPoolGrad).apply(null,arguments)},d._MaxPoolWithArgmax=function(){return(d._MaxPoolWithArgmax=d.asm.MaxPoolWithArgmax).apply(null,arguments)},d._Maximum=function(){return(d._Maximum=d.asm.Maximum).apply(null,arguments)},d._Mean=function(){return(d._Mean=d.asm.Mean).apply(null,arguments)},d._Min=function(){return(d._Min=d.asm.Min).apply(null,arguments)},d._Minimum=function(){return(d._Minimum=d.asm.Minimum).apply(null,arguments)},d._MirrorPad=function(){return(d._MirrorPad=d.asm.MirrorPad).apply(null,arguments)},d._Mod=function(){return(d._Mod=d.asm.Mod).apply(null,arguments)},d._Multinomial=function(){return(d._Multinomial=d.asm.Multinomial).apply(null,arguments)},d._Multiply=function(){return(d._Multiply=d.asm.Multiply).apply(null,arguments)},d._Neg=function(){return(d._Neg=d.asm.Neg).apply(null,arguments)},d._NonMaxSuppressionV3=function(){return(d._NonMaxSuppressionV3=d.asm.NonMaxSuppressionV3).apply(null,arguments)},d._NonMaxSuppressionV4=function(){return(d._NonMaxSuppressionV4=d.asm.NonMaxSuppressionV4).apply(null,arguments)},d._NonMaxSuppressionV5=function(){return(d._NonMaxSuppressionV5=d.asm.NonMaxSuppressionV5).apply(null,arguments)},d._NotEqual=function(){return(d._NotEqual=d.asm.NotEqual).apply(null,arguments)},d._OneHot=function(){return(d._OneHot=d.asm.OneHot).apply(null,arguments)},d._PadV2=function(){return(d._PadV2=d.asm.PadV2).apply(null,arguments)},d._Pow=function(){return(d._Pow=d.asm.Pow).apply(null,arguments)},d._Prelu=function(){return(d._Prelu=d.asm.Prelu).apply(null,arguments)},d._Prod=function(){return(d._Prod=d.asm.Prod).apply(null,arguments)},d._RealDiv=function(){return(d._RealDiv=d.asm.RealDiv).apply(null,arguments)},d._Reciprocal=function(){return(d._Reciprocal=d.asm.Reciprocal).apply(null,arguments)},d._Relu=function(){return(d._Relu=d.asm.Relu).apply(null,arguments)},d._Relu6=function(){return(d._Relu6=d.asm.Relu6).apply(null,arguments)},d._ResizeBilinear=function(){return(d._ResizeBilinear=d.asm.ResizeBilinear).apply(null,arguments)},d._ResizeBilinearGrad=function(){return(d._ResizeBilinearGrad=d.asm.ResizeBilinearGrad).apply(null,arguments)},d._ResizeNearestNeighbor=function(){return(d._ResizeNearestNeighbor=d.asm.ResizeNearestNeighbor).apply(null,arguments)},d._ResizeNearestNeighborGrad=function(){return(d._ResizeNearestNeighborGrad=d.asm.ResizeNearestNeighborGrad).apply(null,arguments)},d._Reverse=function(){return(d._Reverse=d.asm.Reverse).apply(null,arguments)},d._RotateWithOffset=function(){return(d._RotateWithOffset=d.asm.RotateWithOffset).apply(null,arguments)},d._Round=function(){return(d._Round=d.asm.Round).apply(null,arguments)},d._Rsqrt=function(){return(d._Rsqrt=d.asm.Rsqrt).apply(null,arguments)},d._ScatterNd=function(){return(d._ScatterNd=d.asm.ScatterNd).apply(null,arguments)},d._SearchSorted=function(){return(d._SearchSorted=d.asm.SearchSorted).apply(null,arguments)},d._SelectV2=function(){return(d._SelectV2=d.asm.SelectV2).apply(null,arguments)},d._Selu=function(){return(d._Selu=d.asm.Selu).apply(null,arguments)},d._Sigmoid=function(){return(d._Sigmoid=d.asm.Sigmoid).apply(null,arguments)},d._Sign=function(){return(d._Sign=d.asm.Sign).apply(null,arguments)},d._Sin=function(){return(d._Sin=d.asm.Sin).apply(null,arguments)},d._Sinh=function(){return(d._Sinh=d.asm.Sinh).apply(null,arguments)},d._Softmax=function(){return(d._Softmax=d.asm.Softmax).apply(null,arguments)},d._Softplus=function(){return(d._Softplus=d.asm.Softplus).apply(null,arguments)},d._SparseFillEmptyRows=function(){return(d._SparseFillEmptyRows=d.asm.SparseFillEmptyRows).apply(null,arguments)},d._SparseReshape=function(){return(d._SparseReshape=d.asm.SparseReshape).apply(null,arguments)},d._SparseSegmentReduction=function(){return(d._SparseSegmentReduction=d.asm.SparseSegmentReduction).apply(null,arguments)},d._SparseToDense=function(){return(d._SparseToDense=d.asm.SparseToDense).apply(null,arguments)},d._Sqrt=function(){return(d._Sqrt=d.asm.Sqrt).apply(null,arguments)},d._Square=function(){return(d._Square=d.asm.Square).apply(null,arguments)},d._SquaredDifference=function(){return(d._SquaredDifference=d.asm.SquaredDifference).apply(null,arguments)},d._Step=function(){return(d._Step=d.asm.Step).apply(null,arguments)},d._StridedSlice=function(){return(d._StridedSlice=d.asm.StridedSlice).apply(null,arguments)},d._Sub=function(){return(d._Sub=d.asm.Sub).apply(null,arguments)},d._Sum=function(){return(d._Sum=d.asm.Sum).apply(null,arguments)},d._Tan=function(){return(d._Tan=d.asm.Tan).apply(null,arguments)},d._Tanh=function(){return(d._Tanh=d.asm.Tanh).apply(null,arguments)},d._TensorScatterUpdate=function(){return(d._TensorScatterUpdate=d.asm.TensorScatterUpdate).apply(null,arguments)},d._Tile=function(){return(d._Tile=d.asm.Tile).apply(null,arguments)},d._TopK=function(){return(d._TopK=d.asm.TopK).apply(null,arguments)},d._Transform=function(){return(d._Transform=d.asm.Transform).apply(null,arguments)},d._Transpose=function(){return(d._Transpose=d.asm.Transpose).apply(null,arguments)},d.__FusedMatMul=function(){return(d.__FusedMatMul=d.asm._FusedMatMul).apply(null,arguments)},d._malloc=function(){return(d._malloc=d.asm.malloc).apply(null,arguments)},d._free=function(){return(d._free=d.asm.free).apply(null,arguments)},d.__emscripten_tls_init=function(){return(d.__emscripten_tls_init=d.asm._emscripten_tls_init).apply(null,arguments)},d._pthread_self=function(){return(Be=d._pthread_self=d.asm.pthread_self).apply(null,arguments)}),We=(d.___errno_location=function(){return(d.___errno_location=d.asm.__errno_location).apply(null,arguments)},d.__emscripten_thread_init=function(){return(We=d.__emscripten_thread_init=d.asm._emscripten_thread_init).apply(null,arguments)}),Ue=(d.__emscripten_thread_crashed=function(){return(d.__emscripten_thread_crashed=d.asm._emscripten_thread_crashed).apply(null,arguments)},d._emscripten_main_thread_process_queued_calls=function(){return(d._emscripten_main_thread_process_queued_calls=d.asm.emscripten_main_thread_process_queued_calls).apply(null,arguments)},d._emscripten_main_browser_thread_id=function(){return(d._emscripten_main_browser_thread_id=d.asm.emscripten_main_browser_thread_id).apply(null,arguments)},d._emscripten_run_in_main_runtime_thread_js=function(){return(Ue=d._emscripten_run_in_main_runtime_thread_js=d.asm.emscripten_run_in_main_runtime_thread_js).apply(null,arguments)}),je=(d._emscripten_dispatch_to_thread_=function(){return(d._emscripten_dispatch_to_thread_=d.asm.emscripten_dispatch_to_thread_).apply(null,arguments)},d.__emscripten_proxy_execute_task_queue=function(){return(je=d.__emscripten_proxy_execute_task_queue=d.asm._emscripten_proxy_execute_task_queue).apply(null,arguments)}),He=d.__emscripten_thread_free_data=function(){return(He=d.__emscripten_thread_free_data=d.asm._emscripten_thread_free_data).apply(null,arguments)},Ve=d.__emscripten_thread_exit=function(){return(Ve=d.__emscripten_thread_exit=d.asm._emscripten_thread_exit).apply(null,arguments)},qe=d._emscripten_stack_set_limits=function(){return(qe=d._emscripten_stack_set_limits=d.asm.emscripten_stack_set_limits).apply(null,arguments)},Ge=d.stackSave=function(){return(Ge=d.stackSave=d.asm.stackSave).apply(null,arguments)},Ke=d.stackRestore=function(){return(Ke=d.stackRestore=d.asm.stackRestore).apply(null,arguments)},$e=d.stackAlloc=function(){return($e=d.stackAlloc=d.asm.stackAlloc).apply(null,arguments)};d.dynCall_iijjiiii=function(){return(d.dynCall_iijjiiii=d.asm.dynCall_iijjiiii).apply(null,arguments)},d.dynCall_jiji=function(){return(d.dynCall_jiji=d.asm.dynCall_jiji).apply(null,arguments)};function Ye(e){if(e=e||g,!(te>0)){if(k)return l(d),J(),void startWorker(d);!function(){if(d.preRun)for("function"==typeof d.preRun&&(d.preRun=[d.preRun]);d.preRun.length;)Z(d.preRun.shift());ge($)}(),te>0||(d.setStatus?(d.setStatus("Running..."),setTimeout(function(){setTimeout(function(){d.setStatus("")},1),t()},1)):t())}function t(){Re||(Re=!0,d.calledRun=!0,D||(J(),l(d),d.onRuntimeInitialized&&d.onRuntimeInitialized(),function(){if(!k){if(d.postRun)for("function"==typeof d.postRun&&(d.postRun=[d.postRun]);d.postRun.length;)ee(d.postRun.shift());ge(Q)}}()))}}if(d.keepRuntimeAlive=X,d.wasmMemory=A,d.cwrap=function(e,t,n,r){var a=(n=n||[]).every(e=>"number"===e||"boolean"===e);return"string"!==t&&a&&!r?Oe(e):function(){return Fe(e,t,n,arguments)}},d.ExitStatus=ce,d.PThread=me,re=function e(){Re||Ye(),Re||(re=e)},d.preInit)for("function"==typeof d.preInit&&(d.preInit=[d.preInit]);d.preInit.length>0;)d.preInit.pop()();if(Ye(),c&&(De={uncaughtException:process.listeners("uncaughtException").filter(function(e){return!c.uncaughtException.indexOf(e)>-1}),unhandledRejection:process.listeners("unhandledRejection").filter(function(e){return!c.unhandledRejection.indexOf(e)>-1})}),"undefined"!==typeof WasmBackendModule)Pe=WasmBackendModule;else{if("undefined"===typeof t)throw new Error("Could not find wasm module in post.js");Pe=t}if(De){var Qe=Pe._dispose;Pe._dispose=function(){Qe(),De.uncaughtException.forEach(function(e){process.removeListener("uncaughtException",e)}),De.unhandledRejection.forEach(function(e){process.removeListener("unhandledRejection",e)})}}return t.ready}})();e.exports=r},9812:(e,t,n)=>{var r=n(6552).Symbol;e.exports=r},9841:(e,t,n)=>{var r=n(6913),a=n(2761);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==r(e)}},9893:()=>{}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.amdD=function(){throw new Error("define cannot be used indirect")},n.amdO={},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var i={};e=e||[null,t({}),t([]),t(t)];for(var s=2&a&&r;("object"==typeof s||"function"==typeof s)&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>i[e]=()=>r[e]);return i.default=()=>r,n.d(o,i),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".5b56b904.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="liveness-bridge:";n.l=(r,a,o,i)=>{if(e[r])e[r].push(a);else{var s,l;if(void 0!==o)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[a];var p=(t,n)=>{s.onerror=s.onload=null,clearTimeout(h);var a=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach(e=>e(n)),t)return t(n)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/liveness-bridge/",(()=>{var e={792:0};n.f.j=(t,r)=>{var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var o=new Promise((n,r)=>a=e[t]=[n,r]);r.push(a[2]=o);var i=n.p+n.u(t),s=new Error;n.l(i,r=>{if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var o=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",s.name="ChunkLoadError",s.type=o,s.request=i,a[1](s)}},"chunk-"+t,t)}};var t=(t,r)=>{var a,o,[i,s,l]=r,u=0;if(i.some(t=>0!==e[t])){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(l)l(n)}for(t&&t(r);u<i.length;u++)o=i[u],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkliveness_bridge=self.webpackChunkliveness_bridge||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{CompositeArrayBuffer:()=>Ol,browserFiles:()=>fc,browserHTTPRequest:()=>xc,concatenateArrayBuffers:()=>Bl,copyModel:()=>_u,decodeWeights:()=>Dl,encodeWeights:()=>Rl,fromMemory:()=>Tc,fromMemorySync:()=>Nc,getLoadHandlers:()=>Xl,getModelArtifactsForJSON:()=>Hl,getModelArtifactsForJSONSync:()=>jl,getModelArtifactsInfoForJSON:()=>Vl,getSaveHandlers:()=>Ql,getWeightSpecs:()=>ql,http:()=>Sc,isHTTPScheme:()=>wc,listModels:()=>xu,loadWeights:()=>vc,moveModel:()=>Eu,registerLoadRouter:()=>Yl,registerSaveRouter:()=>$l,removeModel:()=>Iu,weightsLoaderFactory:()=>yc,withSaveHandler:()=>Cc,withSaveHandlerSync:()=>Mc});var t={};n.r(t),n.d(t,{conv2d:()=>tm,depthwiseConv2d:()=>am,matMul:()=>om});var r={};n.r(r),n.d(r,{json:()=>tv});var a={};n.r(a),n.d(a,{json:()=>nv});var o={};n.r(o),n.d(o,{json:()=>rv});var i={};n.r(i),n.d(i,{json:()=>av});var s={};n.r(s),n.d(s,{json:()=>ov});var l={};n.r(l),n.d(l,{json:()=>iv});var u={};n.r(u),n.d(u,{json:()=>sv});var c={};n.r(c),n.d(c,{json:()=>lv});var d={};n.r(d),n.d(d,{json:()=>uv});var p={};n.r(p),n.d(p,{json:()=>cv});var h={};n.r(h),n.d(h,{json:()=>dv});var f={};n.r(f),n.d(f,{json:()=>pv});var m={};n.r(m),n.d(m,{json:()=>hv});var g={};n.r(g),n.d(g,{json:()=>fv});var v={};n.r(v),n.d(v,{json:()=>mv});var y={};n.r(y),n.d(y,{json:()=>gv});var b={};n.r(b),n.d(b,{json:()=>vv});var w={};n.r(w),n.d(w,{json:()=>yv});var k={};n.r(k),n.d(k,{json:()=>bv});var S={};n.r(S),n.d(S,{OP_SCOPE_SUFFIX:()=>El,abs:()=>oc,acos:()=>Kc,acosh:()=>$c,add:()=>Uu,addN:()=>Yc,all:()=>Qc,any:()=>Xc,argMax:()=>Jc,argMin:()=>Zc,asin:()=>ed,asinh:()=>td,atan:()=>nd,atan2:()=>rd,atanh:()=>ad,avgPool:()=>kd,avgPool3d:()=>Sd,basicLSTMCell:()=>Nd,batchNorm:()=>Md,batchNorm2d:()=>Ad,batchNorm3d:()=>Od,batchNorm4d:()=>Fd,batchToSpaceND:()=>Cd,bincount:()=>Rd,bitwiseAnd:()=>Dd,booleanMaskAsync:()=>Wf,broadcastArgs:()=>Pd,broadcastTo:()=>Ld,buffer:()=>Au,cast:()=>Ou,ceil:()=>zd,clipByValue:()=>Bd,clone:()=>Fu,complex:()=>Nl,concat:()=>xd,concat1d:()=>Wd,concat2d:()=>Ud,concat3d:()=>jd,concat4d:()=>Hd,conv1d:()=>qd,conv2d:()=>Vd,conv2dTranspose:()=>Kd,conv3d:()=>$d,conv3dTranspose:()=>Qd,cos:()=>Xd,cosh:()=>Jd,cosineWindow:()=>$f,cumprod:()=>Zd,cumsum:()=>ep,denseBincount:()=>tp,depthToSpace:()=>np,depthwiseConv2d:()=>rp,diag:()=>ap,dilation2d:()=>op,div:()=>Hu,divNoNan:()=>lp,dot:()=>up,dropout:()=>Gf,einsum:()=>cp,elu:()=>dp,enclosingPowerOfTwo:()=>Kf,ensureShape:()=>pp,equal:()=>ip,erf:()=>hp,euclideanNorm:()=>Ep,exp:()=>Tp,expandDims:()=>Np,expm1:()=>Cp,eye:()=>Ap,fft:()=>ff,fill:()=>nc,floor:()=>Op,floorDiv:()=>ju,fused:()=>t,gather:()=>Fp,gatherND:()=>qf,greater:()=>Rp,greaterEqual:()=>Dp,ifft:()=>mf,imag:()=>Pp,image:()=>og,inTopKAsync:()=>Yf,irfft:()=>gf,isFinite:()=>Lp,isInf:()=>zp,isNaN:()=>Bp,leakyRelu:()=>Wp,less:()=>Up,lessEqual:()=>jp,linalg:()=>ig,linspace:()=>Hp,localResponseNormalization:()=>Vp,log:()=>qp,log1p:()=>Gp,logSigmoid:()=>Yp,logSoftmax:()=>Qp,logSumExp:()=>Xp,logicalAnd:()=>Jp,logicalNot:()=>Zp,logicalOr:()=>eh,logicalXor:()=>th,losses:()=>sg,lowerBound:()=>ah,matMul:()=>Id,max:()=>kp,maxPool:()=>oh,maxPool3d:()=>ih,maxPoolWithArgmax:()=>sh,maximum:()=>lc,mean:()=>lh,meshgrid:()=>dh,min:()=>Sp,minimum:()=>ph,mirrorPad:()=>hh,mod:()=>fh,moments:()=>mh,movingAverage:()=>jf,mul:()=>Vu,multiRNNCell:()=>gh,multinomial:()=>vh,neg:()=>Kp,norm:()=>_p,notEqual:()=>yh,oneHot:()=>bh,ones:()=>ch,onesLike:()=>wh,op:()=>Tl,outerProduct:()=>kh,pad:()=>Sh,pad1d:()=>xh,pad2d:()=>Ih,pad3d:()=>_h,pad4d:()=>Eh,pool:()=>Nh,pow:()=>rc,prelu:()=>Ch,print:()=>Ru,prod:()=>Mh,raggedGather:()=>Ah,raggedRange:()=>Oh,raggedTensorToTensor:()=>Fh,rand:()=>Rh,randomGamma:()=>Bh,randomNormal:()=>Wh,randomStandardNormal:()=>Uh,randomUniform:()=>jh,randomUniformInt:()=>Hh,range:()=>Vh,real:()=>qh,reciprocal:()=>Gh,relu:()=>Kh,relu6:()=>$h,reshape:()=>wd,reverse:()=>Yh,reverse1d:()=>Qh,reverse2d:()=>Xh,reverse3d:()=>Jh,reverse4d:()=>Zh,rfft:()=>yf,round:()=>ef,rsqrt:()=>tf,scalar:()=>Yu,scatterND:()=>Hf,searchSorted:()=>rh,selu:()=>nf,separableConv2d:()=>rf,setdiff1dAsync:()=>af,sigmoid:()=>_d,sign:()=>of,signal:()=>ag,sin:()=>sf,sinh:()=>lf,slice:()=>Ed,slice1d:()=>uf,slice2d:()=>cf,slice3d:()=>df,slice4d:()=>pf,softmax:()=>hf,softplus:()=>$p,spaceToBatchND:()=>Th,sparse:()=>lg,sparseToDense:()=>Vf,spectral:()=>rg,split:()=>vf,sqrt:()=>qu,square:()=>Gu,squaredDifference:()=>bf,squeeze:()=>wf,stack:()=>kf,step:()=>Sf,stridedSlice:()=>xf,string:()=>ug,sub:()=>ac,sum:()=>xp,tan:()=>If,tanh:()=>Td,tensor:()=>Ml,tensor1d:()=>_f,tensor2d:()=>Ef,tensor3d:()=>Ac,tensor4d:()=>Tf,tensor5d:()=>Nf,tensor6d:()=>Cf,tensorScatterUpdate:()=>Mf,tile:()=>Mp,topk:()=>Af,transpose:()=>Uf,truncatedNormal:()=>Of,unique:()=>Ff,unsortedSegmentSum:()=>Rf,unstack:()=>Df,upperBound:()=>Pf,variable:()=>Lf,where:()=>sp,whereAsync:()=>Bf,zeros:()=>uh,zerosLike:()=>Ku});var x=n(5043),I=n.t(x,2),_=n(4391);function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function T(e){var t=function(e,t){if("object"!=E(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=E(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==E(t)?t:t+""}function N(e,t,n){return(t=T(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach(function(t){N(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function A(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var O;!function(e){e.DEBUG="DEBUG",e.ERROR="ERROR",e.INFO="INFO",e.WARN="WARN",e.VERBOSE="VERBOSE",e.NONE="NONE"}(O||(O={}));const F={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5,NONE:6};class R{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O.WARN;this.name=e,this.level=t,this._pluggables=[]}_padding(e){return e<10?"0"+e:""+e}_ts(){const e=new Date;return[this._padding(e.getMinutes()),this._padding(e.getSeconds())].join(":")+"."+e.getMilliseconds()}configure(e){return e?(this._config=e,this._config):this._config}_log(e){let t=this.level;R.LOG_LEVEL&&(t=R.LOG_LEVEL),"undefined"!==typeof window&&window.LOG_LEVEL&&(t=window.LOG_LEVEL);if(!(F[e]>=F[t]))return;let n=console.log.bind(console);e===O.ERROR&&console.error&&(n=console.error.bind(console)),e===O.WARN&&console.warn&&(n=console.warn.bind(console)),R.BIND_ALL_LOG_LEVELS&&(e===O.INFO&&console.info&&(n=console.info.bind(console)),e===O.DEBUG&&console.debug&&(n=console.debug.bind(console)));const r="[".concat(e,"] ").concat(this._ts()," ").concat(this.name);let a="";for(var o=arguments.length,i=new Array(o>1?o-1:0),s=1;s<o;s++)i[s-1]=arguments[s];if(1===i.length&&"string"===typeof i[0])a="".concat(r," - ").concat(i[0]),n(a);else if(1===i.length)a="".concat(r," ").concat(i[0]),n(r,i[0]);else if("string"===typeof i[0]){let e=i.slice(1);1===e.length&&(e=e[0]),a="".concat(r," - ").concat(i[0]," ").concat(e),n("".concat(r," - ").concat(i[0]),e)}else a="".concat(r," ").concat(i),n(r,i);for(const l of this._pluggables){const e={message:a,timestamp:Date.now()};l.pushLogs([e])}}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log(O.INFO,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log(O.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log(O.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log(O.ERROR,...t)}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log(O.DEBUG,...t)}verbose(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log(O.VERBOSE,...t)}addPluggable(e){e&&"Logging"===e.getCategoryName()&&(this._pluggables.push(e),e.configure(this._config))}listPluggables(){return this._pluggables}}R.LOG_LEVEL=null,R.BIND_ALL_LOG_LEVELS=!1;class D extends Error{constructor(e){let{message:t,name:n,recoverySuggestion:r,underlyingError:a,metadata:o}=e;if(super(t),this.name=n,this.underlyingError=a,this.recoverySuggestion=r,o){const{extendedRequestId:e,httpStatusCode:t,requestId:n}=o;this.metadata={extendedRequestId:e,httpStatusCode:t,requestId:n}}this.constructor=D,Object.setPrototypeOf(this,D.prototype)}}const P="undefined"!==typeof Symbol?Symbol("amplify_default"):"@@amplify_default",L=new R("Hub");class z{constructor(e){this.listeners=new Map,this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=e}_remove(e,t){const n=this.listeners.get(e);n?this.listeners.set(e,[...n.filter(e=>{let{callback:n}=e;return n!==t})]):L.warn("No listeners for ".concat(e))}dispatch(e,t,n,r){if("string"===typeof e&&this.protectedChannels.indexOf(e)>-1){r===P||L.warn("WARNING: ".concat(e," is protected and dispatching on it can have unintended consequences"))}const a={channel:e,payload:M({},t),source:n,patternInfo:[]};try{this._toListeners(a)}catch(ID){L.error(ID)}}listen(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"noname";if("function"!==typeof t)throw new D({name:"NoHubcallbackProvidedException",message:"No callback supplied to Hub"});n=t;let a=this.listeners.get(e);return a||(a=[],this.listeners.set(e,a)),a.push({name:r,callback:n}),()=>{this._remove(e,n)}}_toListeners(e){const{channel:t,payload:n}=e,r=this.listeners.get(t);r&&r.forEach(r=>{L.debug("Dispatching to ".concat(t," with "),n);try{r.callback(e)}catch(ID){L.error(ID)}})}}const B=new z("__default__"),W=(new z("internal-hub"),e=>{const t=Reflect.ownKeys(e);for(const n of t){const t=e[n];(t&&"object"===typeof t||"function"===typeof t)&&W(t)}return Object.freeze(e)}),U=Symbol("oauth-listener"),j=new R("parseAWSExports"),H={API_KEY:"apiKey",AWS_IAM:"iam",AMAZON_COGNITO_USER_POOLS:"userPool",OPENID_CONNECT:"oidc",NONE:"none",AWS_LAMBDA:"lambda",LAMBDA:"lambda"},V=e=>{var t;return null!==(t=null===e||void 0===e?void 0:e.split(","))&&void 0!==t?t:[]},q=e=>{let{domain:t,scope:n,redirectSignIn:r,redirectSignOut:a,responseType:o}=e;return{domain:t,scopes:n,redirectSignIn:V(r),redirectSignOut:V(a),responseType:o}},G=e=>e.map(e=>{const t=e.toLowerCase();return t.charAt(0).toUpperCase()+t.slice(1)});function K(e){const t={};if(e.storage&&(t.Storage=function(e){if(!e)return;const{bucket_name:t,aws_region:n,buckets:r}=e;return{S3:{bucket:t,region:n,buckets:r&&Z(r)}}}(e.storage)),e.auth&&(t.Auth=function(e){if(!e)return;const{user_pool_id:t,user_pool_client_id:n,identity_pool_id:r,password_policy:a,mfa_configuration:o,mfa_methods:i,unauthenticated_identities_enabled:s,oauth:l,username_attributes:u,standard_required_attributes:c,groups:d}=e,p={Cognito:{userPoolId:t,userPoolClientId:n,groups:d}};var h;return r&&(p.Cognito=M(M({},p.Cognito),{},{identityPoolId:r})),a&&(p.Cognito.passwordFormat={requireLowercase:a.require_lowercase,requireNumbers:a.require_numbers,requireUppercase:a.require_uppercase,requireSpecialCharacters:a.require_symbols,minLength:null!==(h=a.min_length)&&void 0!==h?h:6}),o&&(p.Cognito.mfa={status:J(o),smsEnabled:null===i||void 0===i?void 0:i.includes("SMS"),totpEnabled:null===i||void 0===i?void 0:i.includes("TOTP")}),s&&(p.Cognito.allowGuestAccess=s),l&&(p.Cognito.loginWith={oauth:{domain:l.domain,redirectSignIn:l.redirect_sign_in_uri,redirectSignOut:l.redirect_sign_out_uri,responseType:"token"===l.response_type?"token":"code",scopes:l.scopes,providers:X(l.identity_providers)}}),u&&(p.Cognito.loginWith=M(M({},p.Cognito.loginWith),{},{email:u.includes("email"),phone:u.includes("phone_number"),username:u.includes("username")})),c&&(p.Cognito.userAttributes=c.reduce((e,t)=>M(M({},e),{},{[t]:{required:!0}}),{})),p}(e.auth)),e.analytics&&(t.Analytics=function(e){if(null===e||void 0===e||!e.amazon_pinpoint)return;const{amazon_pinpoint:t}=e;return{Pinpoint:{appId:t.app_id,region:t.aws_region}}}(e.analytics)),e.geo&&(t.Geo=function(e){if(!e)return;const{aws_region:t,geofence_collections:n,maps:r,search_indices:a}=e;return{LocationService:{region:t,searchIndices:a,geofenceCollections:n,maps:r}}}(e.geo)),e.data&&(t.API=function(e){if(!e)return;const{aws_region:t,default_authorization_type:n,url:r,api_key:a,model_introspection:o}=e;return{GraphQL:{endpoint:r,defaultAuthMode:Y(n),region:t,apiKey:a,modelIntrospection:o}}}(e.data)),e.custom){const n=function(e){if(null===e||void 0===e||!e.events)return;const{url:t,aws_region:n,api_key:r,default_authorization_type:a}=e.events;return{Events:{endpoint:t,defaultAuthMode:Y(a),region:n,apiKey:r}}}(e.custom);n&&"Events"in n&&(t.API=M(M({},t.API),n))}return e.notifications&&(t.Notifications=function(e){if(!e)return;const{aws_region:t,channels:n,amazon_pinpoint_app_id:r}=e,a=n.includes("IN_APP_MESSAGING"),o=n.includes("APNS")||n.includes("FCM");if(!a&&!o)return;const i={};return a&&(i.InAppMessaging={Pinpoint:{appId:r,region:t}}),o&&(i.PushNotification={Pinpoint:{appId:r,region:t}}),i}(e.notifications)),t}const $={AMAZON_COGNITO_USER_POOLS:"userPool",API_KEY:"apiKey",AWS_IAM:"iam",AWS_LAMBDA:"lambda",OPENID_CONNECT:"oidc"};function Y(e){return $[e]}const Q={GOOGLE:"Google",LOGIN_WITH_AMAZON:"Amazon",FACEBOOK:"Facebook",SIGN_IN_WITH_APPLE:"Apple"};function X(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((e,t)=>(void 0!==Q[t]&&e.push(Q[t]),e),[])}function J(e){return"OPTIONAL"===e?"optional":"REQUIRED"===e?"on":"off"}function Z(e){const t={};return e.forEach(e=>{let{name:n,bucket_name:r,aws_region:a,paths:o}=e;if(n in t)throw new Error("Duplicate friendly name found: ".concat(n,". Name must be unique."));const i=o?Object.entries(o).reduce((e,t)=>{let[n,r]=t;return void 0!==r&&(e[n]=r),e},{}):void 0;t[n]={bucketName:r,region:a,paths:i}}),t}const ee=e=>Object.keys(e).some(e=>e.startsWith("aws_"))?function(){var e,t,n,r,a,o,i,s,l,u,c,d;let p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Object.prototype.hasOwnProperty.call(p,"aws_project_region"))throw new D({name:"InvalidParameterException",message:"Invalid config parameter.",recoverySuggestion:"Ensure passing the config object imported from  `amplifyconfiguration.json`."});const{aws_appsync_apiKey:h,aws_appsync_authenticationType:f,aws_appsync_graphqlEndpoint:m,aws_appsync_region:g,aws_bots_config:v,aws_cognito_identity_pool_id:y,aws_cognito_sign_up_verification_method:b,aws_cognito_mfa_configuration:w,aws_cognito_mfa_types:k,aws_cognito_password_protection_settings:S,aws_cognito_verification_mechanisms:x,aws_cognito_signup_attributes:I,aws_cognito_social_providers:_,aws_cognito_username_attributes:E,aws_mandatory_sign_in:T,aws_mobile_analytics_app_id:N,aws_mobile_analytics_app_region:C,aws_user_files_s3_bucket:A,aws_user_files_s3_bucket_region:O,aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing:F,aws_user_pools_id:R,aws_user_pools_web_client_id:P,geo:L,oauth:z,predictions:B,aws_cloud_logic_custom:W,Notifications:U,modelIntrospection:V}=p,K={};N&&(K.Analytics={Pinpoint:{appId:N,region:C}});const{InAppMessaging:$,Push:Y}=null!==U&&void 0!==U?U:{};if(null!==$&&void 0!==$&&$.AWSPinpoint||null!==Y&&void 0!==Y&&Y.AWSPinpoint){if(null!==$&&void 0!==$&&$.AWSPinpoint){const{appId:e,region:t}=$.AWSPinpoint;K.Notifications={InAppMessaging:{Pinpoint:{appId:e,region:t}}}}if(null!==Y&&void 0!==Y&&Y.AWSPinpoint){const{appId:e,region:t}=Y.AWSPinpoint;K.Notifications=M(M({},K.Notifications),{},{PushNotification:{Pinpoint:{appId:e,region:t}}})}}if(Array.isArray(v)&&(K.Interactions={LexV1:Object.fromEntries(v.map(e=>[e.name,e]))}),m){const e=H[f];e||j.debug("Invalid authentication type ".concat(f,". Falling back to IAM.")),K.API={GraphQL:{endpoint:m,apiKey:h,region:g,defaultAuthMode:null!==e&&void 0!==e?e:"iam"}},V&&(K.API.GraphQL.modelIntrospection=V)}const Q=w?{status:w&&w.toLowerCase(),totpEnabled:null!==(e=null===k||void 0===k?void 0:k.includes("TOTP"))&&void 0!==e&&e,smsEnabled:null!==(t=null===k||void 0===k?void 0:k.includes("SMS"))&&void 0!==t&&t}:void 0,X=S?{minLength:S.passwordPolicyMinLength,requireLowercase:null!==(n=null===(r=S.passwordPolicyCharacters)||void 0===r?void 0:r.includes("REQUIRES_LOWERCASE"))&&void 0!==n&&n,requireUppercase:null!==(a=null===(o=S.passwordPolicyCharacters)||void 0===o?void 0:o.includes("REQUIRES_UPPERCASE"))&&void 0!==a&&a,requireNumbers:null!==(i=null===(s=S.passwordPolicyCharacters)||void 0===s?void 0:s.includes("REQUIRES_NUMBERS"))&&void 0!==i&&i,requireSpecialCharacters:null!==(l=null===(u=S.passwordPolicyCharacters)||void 0===u?void 0:u.includes("REQUIRES_SYMBOLS"))&&void 0!==l&&l}:void 0,J=Array.from(new Set([...null!==x&&void 0!==x?x:[],...null!==I&&void 0!==I?I:[]])).reduce((e,t)=>M(M({},e),{},{[t.toLowerCase()]:{required:!0}}),{}),Z=null!==(c=null===E||void 0===E?void 0:E.includes("EMAIL"))&&void 0!==c&&c,ee=null!==(d=null===E||void 0===E?void 0:E.includes("PHONE_NUMBER"))&&void 0!==d&&d;(y||R)&&(K.Auth={Cognito:{identityPoolId:y,allowGuestAccess:"enable"!==T,signUpVerificationMethod:b,userAttributes:J,userPoolClientId:P,userPoolId:R,mfa:Q,passwordFormat:X,loginWith:{username:!(Z||ee),email:Z,phone:ee}}});const te=!!z&&Object.keys(z).length>0,ne=!!_&&_.length>0;if(K.Auth&&te&&(K.Auth.Cognito.loginWith=M(M({},K.Auth.Cognito.loginWith),{},{oauth:M(M({},q(z)),ne&&{providers:G(_)})})),A&&(K.Storage={S3:{bucket:A,region:O,dangerouslyConnectToHttpEndpointForTesting:F}}),L){const{amazon_location_service:e}=L;K.Geo={LocationService:{maps:e.maps,geofenceCollections:e.geofenceCollections,searchIndices:e.search_indices,region:e.region}}}if(W&&(K.API=M(M({},K.API),{},{REST:W.reduce((e,t)=>{const{name:n,endpoint:r,region:a,service:o}=t;return M(M({},e),{},{[n]:M(M({endpoint:r},o?{service:o}:void 0),a?{region:a}:void 0)})},{})})),B){var re,ae;const{VoiceId:e}=null!==(re=null===B||void 0===B||null===(ae=B.convert)||void 0===ae||null===(ae=ae.speechGenerator)||void 0===ae?void 0:ae.defaults)&&void 0!==re?re:{};K.Predictions=e?M(M({},B),{},{convert:M(M({},B.convert),{},{speechGenerator:M(M({},B.convert.speechGenerator),{},{defaults:{voiceId:e}})})}):B}return K}(e):function(e){const{version:t}=e;return!!t&&t.startsWith("1")}(e)?K(e):e;function te(e,t,n,r){return new(n||(n=Promise))(function(a,o){function i(e){try{l(r.next(e))}catch(ID){o(ID)}}function s(e){try{l(r.throw(e))}catch(ID){o(ID)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,s)}l((r=r.apply(e,t||[])).next())})}function ne(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){o.label=s[1];break}if(6===s[0]&&o.label<a[1]){o.label=a[1],a=s;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(s);break}a[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(ID){s=[6,ID],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}Object.create;function re(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}Object.create;function ae(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function oe(e,t,n,r,a){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?a.call(e,n):a?a.value=n:t.set(e,n),n}"function"===typeof SuppressedError&&SuppressedError;var ie=64,se=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),le=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],ue=Math.pow(2,53)-1,ce=function(){function e(){this.state=Int32Array.from(le),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>ue)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===ie&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%ie>=56){for(var r=this.bufferLength;r<ie;r++)t.setUint8(r,0);this.hashBuffer(),this.bufferLength=0}for(r=this.bufferLength;r<56;r++)t.setUint8(r,0);t.setUint32(56,Math.floor(e/4294967296),!0),t.setUint32(60,e),this.hashBuffer(),this.finished=!0}var a=new Uint8Array(32);for(r=0;r<8;r++)a[4*r]=this.state[r]>>>24&255,a[4*r+1]=this.state[r]>>>16&255,a[4*r+2]=this.state[r]>>>8&255,a[4*r+3]=this.state[r]>>>0&255;return a},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],r=t[1],a=t[2],o=t[3],i=t[4],s=t[5],l=t[6],u=t[7],c=0;c<ie;c++){if(c<16)this.temp[c]=(255&e[4*c])<<24|(255&e[4*c+1])<<16|(255&e[4*c+2])<<8|255&e[4*c+3];else{var d=this.temp[c-2],p=(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,h=((d=this.temp[c-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3;this.temp[c]=(p+this.temp[c-7]|0)+(h+this.temp[c-16]|0)}var f=(((i>>>6|i<<26)^(i>>>11|i<<21)^(i>>>25|i<<7))+(i&s^~i&l)|0)+(u+(se[c]+this.temp[c]|0)|0)|0,m=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&r^n&a^r&a)|0;u=l,l=s,s=i,i=o+f|0,o=a,a=r,r=n,n=f+m|0}t[0]+=n,t[1]+=r,t[2]+=a,t[3]+=o,t[4]+=i,t[5]+=s,t[6]+=l,t[7]+=u},e}();var de="undefined"!==typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:e=>(new TextEncoder).encode(e);function pe(e){return e instanceof Uint8Array?e:"string"===typeof e?de(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}function he(e){return"string"===typeof e?0===e.length:0===e.byteLength}var fe=function(){function e(e){this.secret=e,this.hash=new ce,this.reset()}return e.prototype.update=function(e){if(!he(e)&&!this.error)try{this.hash.update(pe(e))}catch(ID){this.error=ID}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return te(this,void 0,void 0,function(){return ne(this,function(e){return[2,this.digestSync()]})})},e.prototype.reset=function(){if(this.hash=new ce,this.secret){this.outer=new ce;var e=function(e){var t=pe(e);if(t.byteLength>ie){var n=new ce;n.update(t),t=n.digest()}var r=new Uint8Array(ie);return r.set(t),r}(this.secret),t=new Uint8Array(ie);t.set(e);for(var n=0;n<ie;n++)e[n]^=54,t[n]^=92;this.hash.update(e),this.outer.update(t);for(n=0;n<e.byteLength;n++)e[n]=0}},e}();const me={},ge={};for(let n=0;n<256;n++){let e=n.toString(16).toLowerCase();1===e.length&&(e="0".concat(e)),me[n]=e,ge[e]=n}const ve=new R("Auth");class ye{configure(e,t){var n,r;this.authConfig=e,this.authOptions=t,e&&null!==(n=e.Cognito)&&void 0!==n&&n.userPoolEndpoint&&ve.warn(be("Amazon Cognito User Pool")),e&&null!==(r=e.Cognito)&&void 0!==r&&r.identityPoolEndpoint&&ve.warn(be("Amazon Cognito Identity Pool"))}async fetchAuthSession(){var e,t;let n,r,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const o=await this.getTokens(a);var i,s,l;o?(r=null===(i=o.accessToken)||void 0===i||null===(i=i.payload)||void 0===i?void 0:i.sub,n=await(null===(s=this.authOptions)||void 0===s||null===(s=s.credentialsProvider)||void 0===s?void 0:s.getCredentialsAndIdentityId({authConfig:this.authConfig,tokens:o,authenticated:!0,forceRefresh:a.forceRefresh}))):n=await(null===(l=this.authOptions)||void 0===l||null===(l=l.credentialsProvider)||void 0===l?void 0:l.getCredentialsAndIdentityId({authConfig:this.authConfig,authenticated:!1,forceRefresh:a.forceRefresh}));return{tokens:o,credentials:null===(e=n)||void 0===e?void 0:e.credentials,identityId:null===(t=n)||void 0===t?void 0:t.identityId,userSub:r}}async clearCredentials(){var e;await(null===(e=this.authOptions)||void 0===e||null===(e=e.credentialsProvider)||void 0===e?void 0:e.clearCredentialsAndIdentityId())}async getTokens(e){var t,n;return null!==(t=await(null===(n=this.authOptions)||void 0===n||null===(n=n.tokenProvider)||void 0===n?void 0:n.getTokens(e)))&&void 0!==t?t:void 0}}const be=e=>"You are using a custom Amazon ".concat(e," endpoint, ensure the endpoint is correct.");const we=new class{constructor(){this.oAuthListener=void 0,this.isConfigured=!1,this.resourcesConfig={},this.libraryOptions={},this.Auth=new ye}configure(e,t){const n=ee(e);this.resourcesConfig=n,t&&(this.libraryOptions=t),this.resourcesConfig=W(this.resourcesConfig),this.Auth.configure(this.resourcesConfig.Auth,this.libraryOptions.Auth),B.dispatch("core",{event:"configure",data:this.resourcesConfig},"Configure",P),this.notifyOAuthListener(),this.isConfigured=!0}getConfig(){return this.isConfigured||console.warn("Amplify has not been configured. Please call Amplify.configure() before using this service."),this.resourcesConfig}[U](e){var t,n;null!==(t=this.resourcesConfig.Auth)&&void 0!==t&&null!==(t=t.Cognito.loginWith)&&void 0!==t&&t.oauth?e(null===(n=this.resourcesConfig.Auth)||void 0===n?void 0:n.Cognito):this.oAuthListener=e}notifyOAuthListener(){var e,t;null!==(e=this.resourcesConfig.Auth)&&void 0!==e&&null!==(e=e.Cognito.loginWith)&&void 0!==e&&e.oauth&&this.oAuthListener&&(this.oAuthListener(null===(t=this.resourcesConfig.Auth)||void 0===t?void 0:t.Cognito),this.oAuthListener=void 0)}},ke=e=>((e,t)=>e.Auth.fetchAuthSession(t))(we,e);var Se,xe,Ie=x.useLayoutEffect,_e=function(){return _e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},_e.apply(this,arguments)};function Ee(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}function Te(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ne(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i}function Ce(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}!function(e){e.Start="xstate.start",e.Stop="xstate.stop",e.Raise="xstate.raise",e.Send="xstate.send",e.Cancel="xstate.cancel",e.NullEvent="",e.Assign="xstate.assign",e.After="xstate.after",e.DoneState="done.state",e.DoneInvoke="done.invoke",e.Log="xstate.log",e.Init="xstate.init",e.Invoke="xstate.invoke",e.ErrorExecution="error.execution",e.ErrorCommunication="error.communication",e.ErrorPlatform="error.platform",e.ErrorCustom="xstate.error",e.Update="xstate.update",e.Pure="xstate.pure",e.Choose="xstate.choose"}(Se||(Se={})),function(e){e.Parent="#_parent",e.Internal="#_internal"}(xe||(xe={}));var Me,Ae={},Oe="xstate.guard",Fe=Se.Start,Re=Se.Stop,De=Se.Raise,Pe=Se.Send,Le=Se.Cancel,ze=Se.NullEvent,Be=Se.Assign,We=(Se.After,Se.DoneState,Se.Log),Ue=Se.Init,je=Se.Invoke,He=(Se.ErrorExecution,Se.ErrorPlatform),Ve=Se.ErrorCustom,qe=Se.Update,Ge=Se.Choose,Ke=Se.Pure;function $e(e,t,n){void 0===n&&(n=".");var r=Xe(e,n),a=Xe(t,n);return ht(a)?!!ht(r)&&a===r:ht(r)?r in a:Object.keys(r).every(function(e){return e in a&&$e(r[e],a[e])})}function Ye(e){try{return ht(e)||"number"===typeof e?"".concat(e):e.type}catch(ID){throw new Error("Events must be strings or objects with a string event.type property.")}}function Qe(e,t){try{return dt(e)?e:e.toString().split(t)}catch(ID){throw new Error("'".concat(e,"' is not a valid state path."))}}function Xe(e,t){return"object"===typeof(n=e)&&"value"in n&&"context"in n&&"event"in n&&"_event"in n?e.value:dt(e)?Je(e):"string"!==typeof e?e:Je(Qe(e,t));var n}function Je(e){if(1===e.length)return e[0];for(var t={},n=t,r=0;r<e.length-1;r++)r===e.length-2?n[e[r]]=e[r+1]:(n[e[r]]={},n=n[e[r]]);return t}function Ze(e,t){for(var n={},r=Object.keys(e),a=0;a<r.length;a++){var o=r[a];n[o]=t(e[o],o,e,a)}return n}function et(e,t,n){var r,a,o={};try{for(var i=Te(Object.keys(e)),s=i.next();!s.done;s=i.next()){var l=s.value,u=e[l];n(u)&&(o[l]=t(u,l,e))}}catch(c){r={error:c}}finally{try{s&&!s.done&&(a=i.return)&&a.call(i)}finally{if(r)throw r.error}}return o}var tt=function(e){return function(t){var n,r,a=t;try{for(var o=Te(e),i=o.next();!i.done;i=o.next()){a=a[i.value]}}catch(s){n={error:s}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return a}};function nt(e){return e?ht(e)?[[e]]:rt(Object.keys(e).map(function(t){var n=e[t];return"string"===typeof n||n&&Object.keys(n).length?nt(e[t]).map(function(e){return[t].concat(e)}):[[t]]})):[[]]}function rt(e){var t;return(t=[]).concat.apply(t,Ce([],Ne(e),!1))}function at(e){return dt(e)?e:[e]}function ot(e){return void 0===e?[]:at(e)}function it(e,t,n){var r,a;if(pt(e))return e(t,n.data);var o={};try{for(var i=Te(Object.keys(e)),s=i.next();!s.done;s=i.next()){var l=s.value,u=e[l];pt(u)?o[l]=u(t,n.data):o[l]=u}}catch(c){r={error:c}}finally{try{s&&!s.done&&(a=i.return)&&a.call(i)}finally{if(r)throw r.error}}return o}function st(e){return e instanceof Promise||!(null===e||!pt(e)&&"object"!==typeof e||!pt(e.then))}function lt(e,t){return Ze(e.states,function(e,n){if(e){var r=(ht(t)?void 0:t[n])||(e?e.current:void 0);if(r)return{current:r,states:lt(e,r)}}})}function ut(e,t,n,r){var a=e?n.reduce(function(e,n){var a,o,i=n.assignment,s={state:r,action:n,_event:t},l={};if(pt(i))l=i(e,t.data,s);else try{for(var u=Te(Object.keys(i)),c=u.next();!c.done;c=u.next()){var d=c.value,p=i[d];l[d]=pt(p)?p(e,t.data,s):p}}catch(h){a={error:h}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(a)throw a.error}}return Object.assign({},e,l)},e):e;return a}var ct=function(){};function dt(e){return Array.isArray(e)}function pt(e){return"function"===typeof e}function ht(e){return"string"===typeof e}function ft(e,t){if(e)return ht(e)?{type:Oe,name:e,predicate:t?t[e]:void 0}:pt(e)?{type:Oe,name:e.name,predicate:e}:e}var mt=function(){return"function"===typeof Symbol&&Symbol.observable||"@@observable"}();(Me={})[mt]=function(){return this},Me[Symbol.observable]=function(){return this};function gt(e){return!!e&&"__xstatenode"in e}var vt=function(){var e=0;return function(){return(++e).toString(16)}}();function yt(e,t){return ht(e)||"number"===typeof e?_e({type:e},t):e}function bt(e,t){if(!ht(e)&&"$$type"in e&&"scxml"===e.$$type)return e;var n=yt(e);return _e({name:n.type,data:n,$$type:"scxml",type:"external"},t)}function wt(e,t){return at(t).map(function(t){return"undefined"===typeof t||"string"===typeof t||gt(t)?{target:t,event:e}:_e(_e({},t),{event:e})})}function kt(e,t,n,r,a){var o=e.options.guards,i={state:a,cond:t,_event:r};if(t.type===Oe)return((null===o||void 0===o?void 0:o[t.name])||t.predicate)(n,r.data,i);var s=null===o||void 0===o?void 0:o[t.type];if(!s)throw new Error("Guard '".concat(t.type,"' is not implemented on machine '").concat(e.id,"'."));return s(n,r.data,i)}function St(e){return"string"===typeof e?{type:e}:e}function xt(e,t,n){var r=function(){},a="object"===typeof e,o=a?e:null;return{next:((a?e.next:e)||r).bind(o),error:((a?e.error:t)||r).bind(o),complete:((a?e.complete:n)||r).bind(o)}}function It(e,t){return"".concat(e,":invocation[").concat(t,"]")}function _t(e){return(e.type===De||e.type===Pe&&e.to===xe.Internal)&&"number"!==typeof e.delay}var Et=function(e){return"atomic"===e.type||"final"===e.type};function Tt(e){return Object.keys(e.states).map(function(t){return e.states[t]})}function Nt(e){return Tt(e).filter(function(e){return"history"!==e.type})}function Ct(e){var t=[e];return Et(e)?t:t.concat(rt(Nt(e).map(Ct)))}function Mt(e,t){var n,r,a,o,i,s,l,u,c=Ot(new Set(e)),d=new Set(t);try{for(var p=Te(d),h=p.next();!h.done;h=p.next())for(var f=(x=h.value).parent;f&&!d.has(f);)d.add(f),f=f.parent}catch(I){n={error:I}}finally{try{h&&!h.done&&(r=p.return)&&r.call(p)}finally{if(n)throw n.error}}var m=Ot(d);try{for(var g=Te(d),v=g.next();!v.done;v=g.next()){if("compound"!==(x=v.value).type||m.get(x)&&m.get(x).length){if("parallel"===x.type)try{for(var y=(i=void 0,Te(Nt(x))),b=y.next();!b.done;b=y.next()){var w=b.value;d.has(w)||(d.add(w),c.get(w)?c.get(w).forEach(function(e){return d.add(e)}):w.initialStateNodes.forEach(function(e){return d.add(e)}))}}catch(_){i={error:_}}finally{try{b&&!b.done&&(s=y.return)&&s.call(y)}finally{if(i)throw i.error}}}else c.get(x)?c.get(x).forEach(function(e){return d.add(e)}):x.initialStateNodes.forEach(function(e){return d.add(e)})}}catch(E){a={error:E}}finally{try{v&&!v.done&&(o=g.return)&&o.call(g)}finally{if(a)throw a.error}}try{for(var k=Te(d),S=k.next();!S.done;S=k.next()){var x;for(f=(x=S.value).parent;f&&!d.has(f);)d.add(f),f=f.parent}}catch(T){l={error:T}}finally{try{S&&!S.done&&(u=k.return)&&u.call(k)}finally{if(l)throw l.error}}return d}function At(e,t){var n=t.get(e);if(!n)return{};if("compound"===e.type){var r=n[0];if(!r)return{};if(Et(r))return r.key}var a={};return n.forEach(function(e){a[e.key]=At(e,t)}),a}function Ot(e){var t,n,r=new Map;try{for(var a=Te(e),o=a.next();!o.done;o=a.next()){var i=o.value;r.has(i)||r.set(i,[]),i.parent&&(r.has(i.parent)||r.set(i.parent,[]),r.get(i.parent).push(i))}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return r}function Ft(e,t){return At(e,Ot(Mt([e],t)))}function Rt(e,t){return Array.isArray(e)?e.some(function(e){return e===t}):e instanceof Set&&e.has(t)}function Dt(e,t){return"compound"===t.type?Nt(t).some(function(t){return"final"===t.type&&Rt(e,t)}):"parallel"===t.type&&Nt(t).every(function(t){return Dt(e,t)})}function Pt(e){return new Set(rt(e.map(function(e){return e.tags})))}var Lt=bt({type:Ue});function zt(e,t){return t&&t[e]||void 0}function Bt(e,t){var n;if(ht(e)||"number"===typeof e)n=pt(r=zt(e,t))?{type:e,exec:r}:r||{type:e,exec:void 0};else if(pt(e))n={type:e.name||e.toString(),exec:e};else{var r;if(pt(r=zt(e.type,t)))n=_e(_e({},e),{exec:r});else if(r){var a=r.type||e.type;n=_e(_e(_e({},r),e),{type:a})}else n=e}return n}var Wt=function(e,t){return e?(dt(e)?e:[e]).map(function(e){return Bt(e,t)}):[]};function Ut(e){var t=Bt(e);return _e(_e({id:ht(e)?e:t.id},t),{type:t.type})}function jt(e,t){return{to:t?t.to:void 0,type:Pe,event:pt(e)?e:yt(e),delay:t?t.delay:void 0,id:t&&void 0!==t.id?t.id:pt(e)?e.name:Ye(e)}}var Ht=function(e){return{type:Le,sendId:e}};function Vt(e,t){var n="".concat(Se.DoneState,".").concat(e),r={type:n,data:t,toString:function(){return n}};return r}function qt(e,t){var n="".concat(Se.DoneInvoke,".").concat(e),r={type:n,data:t,toString:function(){return n}};return r}function Gt(e,t){var n="".concat(Se.ErrorPlatform,".").concat(e),r={type:n,data:t,toString:function(){return n}};return r}function Kt(e,t,n,r,a,o,i){void 0===i&&(i=!1);var s=i?[]:function(e){var t,n,r=[];try{for(var a=Te(e),o=a.next();!o.done;o=a.next())for(var i=o.value,s=0;s<i.actions.length;)i.actions[s].type!==Be?s++:(r.push(i.actions[s]),i.actions.splice(s,1))}catch(l){t={error:l}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return r}(a),l=s.length?ut(n,r,s,t):n,u=i?[n]:void 0,c=[];function d(a,s){var d;switch(s.type){case De:var p=function(e,t,n,r){var a,o={_event:n},i=bt(pt(e.event)?e.event(t,n.data,o):e.event);if(ht(e.delay)){var s=r&&r[e.delay];a=pt(s)?s(t,n.data,o):s}else a=pt(e.delay)?e.delay(t,n.data,o):e.delay;return _e(_e({},e),{type:De,_event:i,delay:a})}(s,l,r,e.options.delays);return o&&"number"===typeof p.delay&&o(p,l,r),p;case Pe:var h=function(e,t,n,r){var a,o={_event:n},i=bt(pt(e.event)?e.event(t,n.data,o):e.event);if(ht(e.delay)){var s=r&&r[e.delay];a=pt(s)?s(t,n.data,o):s}else a=pt(e.delay)?e.delay(t,n.data,o):e.delay;var l=pt(e.to)?e.to(t,n.data,o):e.to;return _e(_e({},e),{to:l,_event:i,event:i.data,delay:a})}(s,l,r,e.options.delays);return o&&h.to!==xe.Internal&&("entry"===a?c.push(h):o(h,l,r)),h;case We:var f=function(e,t,n){return _e(_e({},e),{value:ht(e.expr)?e.expr:e.expr(t,n.data,{_event:n})})}(s,l,r);return null===o||void 0===o||o(f,l,r),f;case Ge:if(!(y=null===(d=s.conds.find(function(n){var a=ft(n.cond,e.options.guards);return!a||kt(e,a,l,r,o?void 0:t)}))||void 0===d?void 0:d.actions))return[];var m=Ne(Kt(e,t,l,r,[{type:a,actions:Wt(ot(y),e.options.actions)}],o,i),2),g=m[0],v=m[1];return l=v,null===u||void 0===u||u.push(l),g;case Ke:var y;if(!(y=s.get(l,r.data)))return[];var b=Ne(Kt(e,t,l,r,[{type:a,actions:Wt(ot(y),e.options.actions)}],o,i),2),w=b[0],k=b[1];return l=k,null===u||void 0===u||u.push(l),w;case Re:f=function(e,t,n){var r=pt(e.activity)?e.activity(t,n.data):e.activity,a="string"===typeof r?{id:r}:r;return{type:Se.Stop,activity:a}}(s,l,r);return null===o||void 0===o||o(f,n,r),f;case Be:l=ut(l,r,[s],o?void 0:t),null===u||void 0===u||u.push(l);break;default:var S=Bt(s,e.options.actions),x=S.exec;if(o)o(S,l,r);else if(x&&u){var I=u.length-1,_=_e(_e({},S),{exec:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];x.apply(void 0,Ce([u[I]],Ne(t),!1))}});S=_}return S}}var p=rt(a.map(function(e){var t,n,a=[];try{for(var i=Te(e.actions),s=i.next();!s.done;s=i.next()){var u=s.value,p=d(e.type,u);p&&(a=a.concat(p))}}catch(h){t={error:h}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return c.forEach(function(e){o(e,l,r)}),c.length=0,a}));return[p,l]}function $t(e,t){if(e===t)return!0;if(void 0===e||void 0===t)return!1;if(ht(e)||ht(t))return e===t;var n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(function(n){return $t(e[n],t[n])})}function Yt(e){return"object"===typeof e&&null!==e&&("value"in e&&"_event"in e)}var Qt=function(){function e(e){var t,n,r=this;this.actions=[],this.activities=Ae,this.meta={},this.events=[],this.value=e.value,this.context=e.context,this._event=e._event,this._sessionid=e._sessionid,this.event=this._event.data,this.historyValue=e.historyValue,this.history=e.history,this.actions=e.actions||[],this.activities=e.activities||Ae,this.meta=(void 0===(n=e.configuration)&&(n=[]),n.reduce(function(e,t){return void 0!==t.meta&&(e[t.id]=t.meta),e},{})),this.events=e.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=e.configuration,this.transitions=e.transitions,this.children=e.children,this.done=!!e.done,this.tags=null!==(t=Array.isArray(e.tags)?new Set(e.tags):e.tags)&&void 0!==t?t:new Set,this.machine=e.machine,Object.defineProperty(this,"nextEvents",{get:function(){return function(e){return Ce([],Ne(new Set(rt(Ce([],Ne(e.map(function(e){return e.ownEvents})),!1)))),!1)}(r.configuration)}})}return e.from=function(t,n){return t instanceof e?t.context!==n?new e({value:t.value,context:n,_event:t._event,_sessionid:null,historyValue:t.historyValue,history:t.history,actions:[],activities:t.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):t:new e({value:t,context:n,_event:Lt,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},e.create=function(t){return new e(t)},e.inert=function(t,n){if(t instanceof e){if(!t.actions.length)return t;var r=Lt;return new e({value:t.value,context:n,_event:r,_sessionid:null,historyValue:t.historyValue,history:t.history,activities:t.activities,configuration:t.configuration,transitions:[],children:{}})}return e.from(t,n)},e.prototype.toStrings=function(e,t){var n=this;if(void 0===e&&(e=this.value),void 0===t&&(t="."),ht(e))return[e];var r=Object.keys(e);return r.concat.apply(r,Ce([],Ne(r.map(function(r){return n.toStrings(e[r],t).map(function(e){return r+t+e})})),!1))},e.prototype.toJSON=function(){var e=this;e.configuration,e.transitions;var t=e.tags;e.machine;var n=Ee(e,["configuration","transitions","tags","machine"]);return _e(_e({},n),{tags:Array.from(t)})},e.prototype.matches=function(e){return $e(e,this.value)},e.prototype.hasTag=function(e){return this.tags.has(e)},e.prototype.can=function(e){var t;ct(!!this.machine,"state.can(...) used outside of a machine-created State object; this will always return false.");var n=null===(t=this.machine)||void 0===t?void 0:t.getTransitionData(this,e);return!!(null===n||void 0===n?void 0:n.transitions.length)&&n.transitions.some(function(e){return void 0!==e.target||e.actions.length})},e}(),Xt={deferEvents:!1},Jt=function(){function e(e){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=_e(_e({},Xt),e)}return e.prototype.initialize=function(e){if(this.initialized=!0,e){if(!this.options.deferEvents)return void this.schedule(e);this.process(e)}this.flushEvents()},e.prototype.schedule=function(e){if(this.initialized&&!this.processingEvent){if(0!==this.queue.length)throw new Error("Event queue should be empty when it is not processing events");this.process(e),this.flushEvents()}else this.queue.push(e)},e.prototype.clear=function(){this.queue=[]},e.prototype.flushEvents=function(){for(var e=this.queue.shift();e;)this.process(e),e=this.queue.shift()},e.prototype.process=function(e){this.processingEvent=!0;try{e()}catch(ID){throw this.clear(),ID}finally{this.processingEvent=!1}},e}(),Zt=[],en=function(e,t){Zt.push(e);var n=t(e);return Zt.pop(),n};function tn(e){var t;return(t={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:e}}})[mt]=function(){return this},t}function nn(e,t,n){var r=tn(t);if(r.deferred=!0,gt(e)){var a=r.state=en(void 0,function(){return(n?e.withContext(n):e).initialState});r.getSnapshot=function(){return a}}return r}var rn=new Map,an=0,on=function(){return"x:".concat(an++)},sn=function(e,t){return rn.set(e,t),e},ln=function(e){return rn.get(e)},un=function(e){rn.delete(e)};function cn(){return"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:void 0}function dn(e){if(cn()){var t=function(){var e=cn();if(e&&"__xstate__"in e)return e.__xstate__}();t&&t.register(e)}}function pn(e,t){void 0===t&&(t={});var n=e.initialState,r=new Set,a=[],o=!1,i=function(e){var t;return _e(((t={subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}})[mt]=function(){return this},t),e)}({id:t.id,send:function(t){a.push(t),function(){if(!o){for(o=!0;a.length>0;){var t=a.shift();n=e.transition(n,t,s),r.forEach(function(e){return e.next(n)})}o=!1}}()},getSnapshot:function(){return n},subscribe:function(e,t,a){var o=xt(e,t,a);return r.add(o),o.next(n),{unsubscribe:function(){r.delete(o)}}}}),s={parent:t.parent,self:i,id:t.id||"anonymous",observers:r};return n=e.start?e.start(s):n,i}var hn,fn={sync:!1,autoForward:!1};!function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"}(hn||(hn={}));var mn=function(){function e(t,n){void 0===n&&(n=e.defaultOptions);var r=this;this.machine=t,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=hn.NotStarted,this.children=new Map,this.forwardTo=new Set,this._outgoingQueue=[],this.init=this.start,this.send=function(e,t){if(dt(e))return r.batch(e),r.state;var n=bt(yt(e,t));if(r.status===hn.Stopped)return r.state;if(r.status!==hn.Running&&!r.options.deferEvents)throw new Error('Event "'.concat(n.name,'" was sent to uninitialized service "').concat(r.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.\nEvent: ').concat(JSON.stringify(n.data)));return r.scheduler.schedule(function(){r.forward(n);var e=r._nextState(n);r.update(e,n)}),r._state},this.sendTo=function(e,t,n){var a,o=r.parent&&(t===xe.Parent||r.parent.id===t),i=o?r.parent:ht(t)?t===xe.Internal?r:r.children.get(t)||ln(t):(a=t)&&"function"===typeof a.send?t:void 0;if(i)if("machine"in i){if(r.status!==hn.Stopped||r.parent!==i||r.state.done){var s=_e(_e({},e),{name:e.name===Ve?"".concat(Gt(r.id)):e.name,origin:r.sessionId});!n&&r.machine.config.predictableActionArguments?r._outgoingQueue.push([i,s]):i.send(s)}}else!n&&r.machine.config.predictableActionArguments?r._outgoingQueue.push([i,e.data]):i.send(e.data);else if(!o)throw new Error("Unable to send event to child '".concat(t,"' from service '").concat(r.id,"'."))},this._exec=function(e,t,n,a){void 0===a&&(a=r.machine.options.actions);var o=e.exec||zt(e.type,a),i=pt(o)?o:o?o.exec:e.exec;if(i)try{return i(t,n.data,r.machine.config.predictableActionArguments?{action:e,_event:n}:{action:e,state:r.state,_event:n})}catch(k){throw r.parent&&r.parent.send({type:"xstate.error",data:k}),k}switch(e.type){case De:var s=e;r.defer(s);break;case Pe:var l=e;if("number"===typeof l.delay)return void r.defer(l);l.to?r.sendTo(l._event,l.to,n===Lt):r.send(l._event);break;case Le:r.cancel(e.sendId);break;case Fe:if(r.status!==hn.Running)return;var u=e.activity;if(!r.machine.config.predictableActionArguments&&!r.state.activities[u.id||u.type])break;if(u.type===Se.Invoke){var c=St(u.src),d=r.machine.options.services?r.machine.options.services[c.type]:void 0,p=u.id,h=u.data;0;var f="autoForward"in u?u.autoForward:!!u.forward;if(!d)return void 0;var m=h?it(h,t,n):void 0;if("string"===typeof d)return;var g=pt(d)?d(t,n.data,{data:m,src:c,meta:u.meta}):d;if(!g)return;var v=void 0;gt(g)&&(g=m?g.withContext(m):g,v={autoForward:f}),r.spawn(g,p,v)}else r.spawnActivity(u);break;case Re:r.stopChild(e.activity.id);break;case We:var y=e,b=y.label,w=y.value;b?r.logger(b,w):r.logger(w)}};var a=_e(_e({},e.defaultOptions),n),o=a.clock,i=a.logger,s=a.parent,l=a.id,u=void 0!==l?l:t.id;this.id=u,this.logger=i,this.clock=o,this.parent=s,this.options=a,this.scheduler=new Jt({deferEvents:this.options.deferEvents}),this.sessionId=on()}return Object.defineProperty(e.prototype,"initialState",{get:function(){var e=this;return this._initialState?this._initialState:en(this,function(){return e._initialState=e.machine.initialState,e._initialState})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),e.prototype.execute=function(e,t){var n,r;try{for(var a=Te(e.actions),o=a.next();!o.done;o=a.next()){var i=o.value;this.exec(i,e,t)}}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}},e.prototype.update=function(e,t){var n,r,a,o,i,s,l,u,c=this;if(e._sessionid=this.sessionId,this._state=e,this.machine.config.predictableActionArguments&&t!==Lt||!this.options.execute)for(var d=void 0;d=this._outgoingQueue.shift();)d[0].send(d[1]);else this.execute(this.state);if(this.children.forEach(function(e){c.state.children[e.id]=e}),this.devTools&&this.devTools.send(t.data,e),e.event)try{for(var p=Te(this.eventListeners),h=p.next();!h.done;h=p.next()){(0,h.value)(e.event)}}catch(S){n={error:S}}finally{try{h&&!h.done&&(r=p.return)&&r.call(p)}finally{if(n)throw n.error}}try{for(var f=Te(this.listeners),m=f.next();!m.done;m=f.next()){(0,m.value)(e,e.event)}}catch(x){a={error:x}}finally{try{m&&!m.done&&(o=f.return)&&o.call(f)}finally{if(a)throw a.error}}try{for(var g=Te(this.contextListeners),v=g.next();!v.done;v=g.next()){(0,v.value)(this.state.context,this.state.history?this.state.history.context:void 0)}}catch(I){i={error:I}}finally{try{v&&!v.done&&(s=g.return)&&s.call(g)}finally{if(i)throw i.error}}if(this.state.done){var y=e.configuration.find(function(e){return"final"===e.type&&e.parent===c.machine}),b=y&&y.doneData?it(y.doneData,e.context,t):void 0;this._doneEvent=qt(this.id,b);try{for(var w=Te(this.doneListeners),k=w.next();!k.done;k=w.next()){(0,k.value)(this._doneEvent)}}catch(_){l={error:_}}finally{try{k&&!k.done&&(u=w.return)&&u.call(w)}finally{if(l)throw l.error}}this._stop(),this._stopChildren(),un(this.sessionId)}},e.prototype.onTransition=function(e){return this.listeners.add(e),this.status===hn.Running&&e(this.state,this.state.event),this},e.prototype.subscribe=function(e,t,n){var r=this,a=xt(e,t,n);this.listeners.add(a.next),this.status!==hn.NotStarted&&a.next(this.state);var o=function(){r.doneListeners.delete(o),r.stopListeners.delete(o),a.complete()};return this.status===hn.Stopped?a.complete():(this.onDone(o),this.onStop(o)),{unsubscribe:function(){r.listeners.delete(a.next),r.doneListeners.delete(o),r.stopListeners.delete(o)}}},e.prototype.onEvent=function(e){return this.eventListeners.add(e),this},e.prototype.onSend=function(e){return this.sendListeners.add(e),this},e.prototype.onChange=function(e){return this.contextListeners.add(e),this},e.prototype.onStop=function(e){return this.stopListeners.add(e),this},e.prototype.onDone=function(e){return this.status===hn.Stopped&&this._doneEvent?e(this._doneEvent):this.doneListeners.add(e),this},e.prototype.off=function(e){return this.listeners.delete(e),this.eventListeners.delete(e),this.sendListeners.delete(e),this.stopListeners.delete(e),this.doneListeners.delete(e),this.contextListeners.delete(e),this},e.prototype.start=function(e){var t=this;if(this.status===hn.Running)return this;this.machine._init(),sn(this.sessionId,this),this.initialized=!0,this.status=hn.Running;var n=void 0===e?this.initialState:en(this,function(){return Yt(e)?t.machine.resolveState(e):t.machine.resolveState(Qt.from(e,t.machine.context))});return this.options.devTools&&this.attachDev(),this.scheduler.initialize(function(){t.update(n,Lt)}),this},e.prototype._stopChildren=function(){this.children.forEach(function(e){pt(e.stop)&&e.stop()}),this.children.clear()},e.prototype._stop=function(){var e,t,n,r,a,o,i,s,l,u;try{for(var c=Te(this.listeners),d=c.next();!d.done;d=c.next()){var p=d.value;this.listeners.delete(p)}}catch(S){e={error:S}}finally{try{d&&!d.done&&(t=c.return)&&t.call(c)}finally{if(e)throw e.error}}try{for(var h=Te(this.stopListeners),f=h.next();!f.done;f=h.next()){(p=f.value)(),this.stopListeners.delete(p)}}catch(x){n={error:x}}finally{try{f&&!f.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}try{for(var m=Te(this.contextListeners),g=m.next();!g.done;g=m.next()){p=g.value;this.contextListeners.delete(p)}}catch(I){a={error:I}}finally{try{g&&!g.done&&(o=m.return)&&o.call(m)}finally{if(a)throw a.error}}try{for(var v=Te(this.doneListeners),y=v.next();!y.done;y=v.next()){p=y.value;this.doneListeners.delete(p)}}catch(_){i={error:_}}finally{try{y&&!y.done&&(s=v.return)&&s.call(v)}finally{if(i)throw i.error}}if(!this.initialized)return this;this.initialized=!1,this.status=hn.Stopped,this._initialState=void 0;try{for(var b=Te(Object.keys(this.delayedEventsMap)),w=b.next();!w.done;w=b.next()){var k=w.value;this.clock.clearTimeout(this.delayedEventsMap[k])}}catch(E){l={error:E}}finally{try{w&&!w.done&&(u=b.return)&&u.call(b)}finally{if(l)throw l.error}}this.scheduler.clear(),this.scheduler=new Jt({deferEvents:this.options.deferEvents})},e.prototype.stop=function(){var e=this,t=this.scheduler;return this._stop(),t.schedule(function(){var t;if(!(null===(t=e._state)||void 0===t?void 0:t.done)){var n=bt({type:"xstate.stop"}),r=en(e,function(){var t=rt(Ce([],Ne(e.state.configuration),!1).sort(function(e,t){return t.order-e.order}).map(function(t){return Wt(t.onExit,e.machine.options.actions)})),r=Ne(Kt(e.machine,e.state,e.state.context,n,[{type:"exit",actions:t}],e.machine.config.predictableActionArguments?e._exec:void 0,e.machine.config.predictableActionArguments||e.machine.config.preserveActionOrder),2),a=r[0],o=r[1],i=new Qt({value:e.state.value,context:o,_event:n,_sessionid:e.sessionId,historyValue:void 0,history:e.state,actions:a.filter(function(e){return!_t(e)}),activities:{},events:[],configuration:[],transitions:[],children:{},done:e.state.done,tags:e.state.tags,machine:e.machine});return i.changed=!0,i});e.update(r,n),e._stopChildren(),un(e.sessionId)}}),this},e.prototype.batch=function(e){var t=this;if(this.status===hn.NotStarted&&this.options.deferEvents)0;else if(this.status!==hn.Running)throw new Error("".concat(e.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'));if(e.length){var n=!!this.machine.config.predictableActionArguments&&this._exec;this.scheduler.schedule(function(){var r,a,o=t.state,i=!1,s=[],l=function(e){var r=bt(e);t.forward(r),o=en(t,function(){return t.machine.transition(o,r,void 0,n||void 0)}),s.push.apply(s,Ce([],Ne(t.machine.config.predictableActionArguments?o.actions:o.actions.map(function(e){return function(e,t){var n=e.exec;return _e(_e({},e),{exec:void 0!==n?function(){return n(t.context,t.event,{action:e,state:t,_event:t._event})}:void 0})}(e,o)})),!1)),i=i||!!o.changed};try{for(var u=Te(e),c=u.next();!c.done;c=u.next()){l(c.value)}}catch(d){r={error:d}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(r)throw r.error}}o.changed=i,o.actions=s,t.update(o,bt(e[e.length-1]))})}},e.prototype.sender=function(e){return this.send.bind(this,e)},e.prototype._nextState=function(e,t){var n=this;void 0===t&&(t=!!this.machine.config.predictableActionArguments&&this._exec);var r=bt(e);if(0===r.name.indexOf(He)&&!this.state.nextEvents.some(function(e){return 0===e.indexOf(He)}))throw r.data.data;return en(this,function(){return n.machine.transition(n.state,r,void 0,t||void 0)})},e.prototype.nextState=function(e){return this._nextState(e,!1)},e.prototype.forward=function(e){var t,n;try{for(var r=Te(this.forwardTo),a=r.next();!a.done;a=r.next()){var o=a.value,i=this.children.get(o);if(!i)throw new Error("Unable to forward event '".concat(e,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(o,"'."));i.send(e)}}catch(s){t={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},e.prototype.defer=function(e){var t=this,n=this.clock.setTimeout(function(){"to"in e&&e.to?t.sendTo(e._event,e.to,!0):t.send(e._event)},e.delay);e.id&&(this.delayedEventsMap[e.id]=n)},e.prototype.cancel=function(e){this.clock.clearTimeout(this.delayedEventsMap[e]),delete this.delayedEventsMap[e]},e.prototype.exec=function(e,t,n){void 0===n&&(n=this.machine.options.actions),this._exec(e,t.context,t._event,n)},e.prototype.removeChild=function(e){var t;this.children.delete(e),this.forwardTo.delete(e),null===(t=this.state)||void 0===t||delete t.children[e]},e.prototype.stopChild=function(e){var t=this.children.get(e);t&&(this.removeChild(e),pt(t.stop)&&t.stop())},e.prototype.spawn=function(e,t,n){if(this.status!==hn.Running)return nn(e,t);if(st(e))return this.spawnPromise(Promise.resolve(e),t);if(pt(e))return this.spawnCallback(e,t);if(function(e){try{return"function"===typeof e.send}catch(ID){return!1}}(a=e)&&"id"in a)return this.spawnActor(e,t);if(function(e){try{return"subscribe"in e&&pt(e.subscribe)}catch(ID){return!1}}(e))return this.spawnObservable(e,t);if(gt(e))return this.spawnMachine(e,_e(_e({},n),{id:t}));if(null!==(r=e)&&"object"===typeof r&&"transition"in r&&"function"===typeof r.transition)return this.spawnBehavior(e,t);throw new Error('Unable to spawn entity "'.concat(t,'" of type "').concat(typeof e,'".'));var r,a},e.prototype.spawnMachine=function(t,n){var r=this;void 0===n&&(n={});var a=new e(t,_e(_e({},this.options),{parent:this,id:n.id||t.id})),o=_e(_e({},fn),n);o.sync&&a.onTransition(function(e){r.send(qe,{state:e,id:a.id})});var i=a;return this.children.set(a.id,i),o.autoForward&&this.forwardTo.add(a.id),a.onDone(function(e){r.removeChild(a.id),r.send(bt(e,{origin:a.id}))}).start(),i},e.prototype.spawnBehavior=function(e,t){var n=pn(e,{id:t,parent:this});return this.children.set(t,n),n},e.prototype.spawnPromise=function(e,t){var n,r,a=this,o=!1;e.then(function(e){o||(r=e,a.removeChild(t),a.send(bt(qt(t,e),{origin:t})))},function(e){if(!o){a.removeChild(t);var n=Gt(t,e);try{a.send(bt(n,{origin:t}))}catch(r){a.devTools&&a.devTools.send(n,a.state),a.machine.strict&&a.stop()}}});var i=((n={id:t,send:function(){},subscribe:function(t,n,r){var a=xt(t,n,r),o=!1;return e.then(function(e){o||(a.next(e),o||a.complete())},function(e){o||a.error(e)}),{unsubscribe:function(){return o=!0}}},stop:function(){o=!0},toJSON:function(){return{id:t}},getSnapshot:function(){return r}})[mt]=function(){return this},n);return this.children.set(t,i),i},e.prototype.spawnCallback=function(e,t){var n,r,a,o=this,i=!1,s=new Set,l=new Set;try{a=e(function(e){r=e,l.forEach(function(t){return t(e)}),i||o.send(bt(e,{origin:t}))},function(e){s.add(e)})}catch(c){this.send(Gt(t,c))}if(st(a))return this.spawnPromise(a,t);var u=((n={id:t,send:function(e){return s.forEach(function(t){return t(e)})},subscribe:function(e){var t=xt(e);return l.add(t.next),{unsubscribe:function(){l.delete(t.next)}}},stop:function(){i=!0,pt(a)&&a()},toJSON:function(){return{id:t}},getSnapshot:function(){return r}})[mt]=function(){return this},n);return this.children.set(t,u),u},e.prototype.spawnObservable=function(e,t){var n,r,a=this,o=e.subscribe(function(e){r=e,a.send(bt(e,{origin:t}))},function(e){a.removeChild(t),a.send(bt(Gt(t,e),{origin:t}))},function(){a.removeChild(t),a.send(bt(qt(t),{origin:t}))}),i=((n={id:t,send:function(){},subscribe:function(t,n,r){return e.subscribe(t,n,r)},stop:function(){return o.unsubscribe()},getSnapshot:function(){return r},toJSON:function(){return{id:t}}})[mt]=function(){return this},n);return this.children.set(t,i),i},e.prototype.spawnActor=function(e,t){return this.children.set(t,e),e},e.prototype.spawnActivity=function(e){var t=this.machine.options&&this.machine.options.activities?this.machine.options.activities[e.type]:void 0;if(t){var n=t(this.state.context,e);this.spawnEffect(e.id,n)}},e.prototype.spawnEffect=function(e,t){var n;this.children.set(e,((n={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:t||void 0,getSnapshot:function(){},toJSON:function(){return{id:e}}})[mt]=function(){return this},n))},e.prototype.attachDev=function(){var e=cn();if(this.options.devTools&&e){if(e.__REDUX_DEVTOOLS_EXTENSION__){var t="object"===typeof this.options.devTools?this.options.devTools:void 0;this.devTools=e.__REDUX_DEVTOOLS_EXTENSION__.connect(_e(_e({name:this.id,autoPause:!0,stateSanitizer:function(e){return{value:e.value,context:e.context,actions:e.actions}}},t),{features:_e({jump:!1,skip:!1},t?t.features:void 0)}),this.machine),this.devTools.init(this.state)}dn(this)}},e.prototype.toJSON=function(){return{id:this.id}},e.prototype[mt]=function(){return this},e.prototype.getSnapshot=function(){return this.status===hn.NotStarted?this.initialState:this._state},e.defaultOptions={execute:!0,deferEvents:!0,clock:{setTimeout:function(e,t){return setTimeout(e,t)},clearTimeout:function(e){return clearTimeout(e)}},logger:console.log.bind(console),devTools:!1},e.interpret=vn,e}();function gn(e,t){var n=function(e){return ht(e)?_e(_e({},fn),{name:e}):_e(_e(_e({},fn),{name:vt()}),e)}(t);return function(t){return t?t.spawn(e,n.name,n):nn(e,n.name)}(Zt[Zt.length-1])}function vn(e,t){return new mn(e,t)}function yn(e){var t=x.useRef();return t.current||(t.current={v:e()}),t.current.v}var bn=function(){return bn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},bn.apply(this,arguments)},wn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},kn=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i};function Sn(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=kn(t,2),a=r[0],o=void 0===a?{}:a,i=r[1],s=function(e,t){var n=yn(function(){return"function"===typeof e?e():e}),r=t.context,a=t.guards,o=t.actions,i=t.activities,s=t.services,l=t.delays,u=(t.state,wn(t,["context","guards","actions","activities","services","delays","state"])),c=yn(function(){var e={context:r,guards:a,actions:o,activities:i,services:s,delays:l};return vn(n.withConfig(e,function(){return bn(bn({},n.context),r)}),u)});return Ie(function(){Object.assign(c.machine.options.actions,o),Object.assign(c.machine.options.guards,a),Object.assign(c.machine.options.activities,i),Object.assign(c.machine.options.services,s),Object.assign(c.machine.options.delays,l)},[o,a,i,s,l]),c}(e,o);return(0,x.useEffect)(function(){if(i){var e=s.subscribe(xt(i));return function(){e.unsubscribe()}}},[i]),(0,x.useEffect)(function(){var e=o.state;return s.start(e?Qt.create(e):void 0),function(){s.stop(),s.status=hn.NotStarted}},[]),s}function xn(e){var t,n,r,a=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);a--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new In(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function In(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return In=function(e){this.s=e,this.n=e.next},In.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new In(e)}const _n={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let En;const Tn=new Uint8Array(16);const Nn=[];for(let n=0;n<256;++n)Nn.push((n+256).toString(16).slice(1));function Cn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(Nn[e[t+0]]+Nn[e[t+1]]+Nn[e[t+2]]+Nn[e[t+3]]+"-"+Nn[e[t+4]]+Nn[e[t+5]]+"-"+Nn[e[t+6]]+Nn[e[t+7]]+"-"+Nn[e[t+8]]+Nn[e[t+9]]+"-"+Nn[e[t+10]]+Nn[e[t+11]]+Nn[e[t+12]]+Nn[e[t+13]]+Nn[e[t+14]]+Nn[e[t+15]]).toLowerCase()}const Mn=function(e,t,n){var r,a,o,i;if(_n.randomUUID&&!t&&!e)return _n.randomUUID();const s=null!==(r=null!==(a=(e=e||{}).random)&&void 0!==a?a:null===(o=(i=e).rng)||void 0===o?void 0:o.call(i))&&void 0!==r?r:function(){if(!En){if("undefined"===typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");En=crypto.getRandomValues.bind(crypto)}return En(Tn)}();if(s.length<16)throw new Error("Random bytes length must be >= 16");if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){if((n=n||0)<0||n+16>t.length)throw new RangeError("UUID byte range ".concat(n,":").concat(n+15," is out of buffer bounds"));for(let e=0;e<16;++e)t[n+e]=s[e];return t}return Cn(s)};function An(e){if("string"===typeof e){var t={type:e,toString:function(){return e}};return t}return e}function On(e){return _e(_e({type:je},e),{toJSON:function(){e.onDone,e.onError;var t=Ee(e,["onDone","onError"]);return _e(_e({},t),{type:je,src:An(e.src)})}})}var Fn="",Rn="*",Dn={},Pn=function(e){return"#"===e[0]},Ln=function(){function e(t,n,r,a){void 0===r&&(r="context"in t?t.context:void 0);var o,i=this;this.config=t,this._context=r,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign({actions:{},guards:{},services:{},activities:{},delays:{}},n),this.parent=null===a||void 0===a?void 0:a.parent,this.key=this.config.key||(null===a||void 0===a?void 0:a.key)||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:"."),this.id=this.config.id||Ce([this.machine.key],Ne(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:null!==(o=this.config.schema)&&void 0!==o?o:{},this.description=this.config.description,this.initial=this.config.initial,this.states=this.config.states?Ze(this.config.states,function(t,n){var r,a=new e(t,{},void 0,{parent:i,key:n});return Object.assign(i.idMap,_e(((r={})[a.id]=a,r),a.idMap)),a}):Dn;var s=0;!function e(t){var n,r;t.order=s++;try{for(var a=Te(Tt(t)),o=a.next();!o.done;o=a.next()){e(o.value)}}catch(i){n={error:i}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}(this),this.history=!0===this.config.history?"shallow":this.config.history||!1,this._transient=!!this.config.always||!!this.config.on&&(Array.isArray(this.config.on)?this.config.on.some(function(e){return e.event===Fn}):Fn in this.config.on),this.strict=!!this.config.strict,this.onEntry=ot(this.config.entry||this.config.onEntry).map(function(e){return Bt(e)}),this.onExit=ot(this.config.exit||this.config.onExit).map(function(e){return Bt(e)}),this.meta=this.config.meta,this.doneData="final"===this.type?this.config.data:void 0,this.invoke=ot(this.config.invoke).map(function(e,t){var n,r;if(gt(e)){var a=It(i.id,t);return i.machine.options.services=_e(((n={})[a]=e,n),i.machine.options.services),On({src:a,id:a})}if(ht(e.src)){a=e.id||It(i.id,t);return On(_e(_e({},e),{id:a,src:e.src}))}if(gt(e.src)||pt(e.src)){a=e.id||It(i.id,t);return i.machine.options.services=_e(((r={})[a]=e.src,r),i.machine.options.services),On(_e(_e({id:a},e),{src:a}))}var o=e.src;return On(_e(_e({id:It(i.id,t)},e),{src:o}))}),this.activities=ot(this.config.activities).concat(this.invoke).map(function(e){return Ut(e)}),this.transition=this.transition.bind(this),this.tags=ot(this.config.tags)}return e.prototype._init=function(){this.__cache.transitions||Ct(this).forEach(function(e){return e.on})},e.prototype.withConfig=function(t,n){var r=this.options,a=r.actions,o=r.activities,i=r.guards,s=r.services,l=r.delays;return new e(this.config,{actions:_e(_e({},a),t.actions),activities:_e(_e({},o),t.activities),guards:_e(_e({},i),t.guards),services:_e(_e({},s),t.services),delays:_e(_e({},l),t.delays)},null!==n&&void 0!==n?n:this.context)},e.prototype.withContext=function(t){return new e(this.config,this.options,t)},Object.defineProperty(e.prototype,"context",{get:function(){return pt(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:Ze(this.states,function(e){return e.definition}),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){return this.definition},Object.defineProperty(e.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var e=this.transitions;return this.__cache.on=e.reduce(function(e,t){return e[t.eventType]=e[t.eventType]||[],e[t.eventType].push(t),e},{})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),e.prototype.getCandidates=function(e){if(this.__cache.candidates[e])return this.__cache.candidates[e];var t=e===Fn,n=this.transitions.filter(function(n){var r=n.eventType===e;return t?r:r||n.eventType===Rn});return this.__cache.candidates[e]=n,n},e.prototype.getDelayedTransitions=function(){var e=this,t=this.config.after;if(!t)return[];var n=function(t,n){var r=function(e,t){var n=t?"#".concat(t):"";return"".concat(Se.After,"(").concat(e,")").concat(n)}(pt(t)?"".concat(e.id,":delay[").concat(n,"]"):t,e.id);return e.onEntry.push(jt(r,{delay:t})),e.onExit.push(Ht(r)),r},r=dt(t)?t.map(function(e,t){var r=n(e.delay,t);return _e(_e({},e),{event:r})}):rt(Object.keys(t).map(function(e,r){var a=t[e],o=ht(a)?{target:a}:a,i=isNaN(+e)?e:+e,s=n(i,r);return ot(o).map(function(e){return _e(_e({},e),{event:s,delay:i})})}));return r.map(function(t){var n=t.delay;return _e(_e({},e.formatTransition(t)),{delay:n})})},e.prototype.getStateNodes=function(e){var t,n=this;if(!e)return[];var r=e instanceof Qt?e.value:Xe(e,this.delimiter);if(ht(r)){var a=this.getStateNode(r).initial;return void 0!==a?this.getStateNodes(((t={})[r]=a,t)):[this,this.states[r]]}var o=Object.keys(r),i=[this];return i.push.apply(i,Ce([],Ne(rt(o.map(function(e){return n.getStateNode(e).getStateNodes(r[e])}))),!1)),i},e.prototype.handles=function(e){var t=Ye(e);return this.events.includes(t)},e.prototype.resolveState=function(e){var t=e instanceof Qt?e:Qt.create(e),n=Array.from(Mt([],this.getStateNodes(t.value)));return new Qt(_e(_e({},t),{value:this.resolve(t.value),configuration:n,done:Dt(n,this),tags:Pt(n),machine:this.machine}))},e.prototype.transitionLeafNode=function(e,t,n){var r=this.getStateNode(e).next(t,n);return r&&r.transitions.length?r:this.next(t,n)},e.prototype.transitionCompoundNode=function(e,t,n){var r=Object.keys(e),a=this.getStateNode(r[0])._transition(e[r[0]],t,n);return a&&a.transitions.length?a:this.next(t,n)},e.prototype.transitionParallelNode=function(e,t,n){var r,a,o={};try{for(var i=Te(Object.keys(e)),s=i.next();!s.done;s=i.next()){var l=s.value,u=e[l];if(u){var c=this.getStateNode(l)._transition(u,t,n);c&&(o[l]=c)}}}catch(f){r={error:f}}finally{try{s&&!s.done&&(a=i.return)&&a.call(i)}finally{if(r)throw r.error}}var d=Object.keys(o).map(function(e){return o[e]}),p=rt(d.map(function(e){return e.transitions}));if(!d.some(function(e){return e.transitions.length>0}))return this.next(t,n);var h=rt(Object.keys(o).map(function(e){return o[e].configuration}));return{transitions:p,exitSet:rt(d.map(function(e){return e.exitSet})),configuration:h,source:t,actions:rt(Object.keys(o).map(function(e){return o[e].actions}))}},e.prototype._transition=function(e,t,n){return ht(e)?this.transitionLeafNode(e,t,n):1===Object.keys(e).length?this.transitionCompoundNode(e,t,n):this.transitionParallelNode(e,t,n)},e.prototype.getTransitionData=function(e,t){return this._transition(e.value,e,bt(t))},e.prototype.next=function(e,t){var n,r,a,o=this,i=t.name,s=[],l=[];try{for(var u=Te(this.getCandidates(i)),c=u.next();!c.done;c=u.next()){var d=c.value,p=d.cond,h=d.in,f=e.context,m=!h||(ht(h)&&Pn(h)?e.matches(Xe(this.getStateNodeById(h).path,this.delimiter)):$e(Xe(h,this.delimiter),tt(this.path.slice(0,-2))(e.value))),g=!1;try{g=!p||kt(this.machine,p,f,t,e)}catch(y){throw new Error("Unable to evaluate guard '".concat(p.name||p.type,"' in transition for event '").concat(i,"' in state node '").concat(this.id,"':\n").concat(y.message))}if(g&&m){void 0!==d.target&&(l=d.target),s.push.apply(s,Ce([],Ne(d.actions),!1)),a=d;break}}}catch(b){n={error:b}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}if(a){if(!l.length)return{transitions:[a],exitSet:[],configuration:e.value?[this]:[],source:e,actions:s};var v=rt(l.map(function(t){return o.getRelativeStateNodes(t,e.historyValue)}));return{transitions:[a],exitSet:!!a.internal?[]:rt(l.map(function(e){return o.getPotentiallyReenteringNodes(e)})),configuration:v,source:e,actions:s}}},e.prototype.getPotentiallyReenteringNodes=function(e){if(this.order<e.order)return[this];for(var t=[],n=this,r=e;n&&n!==r;)t.push(n),n=n.parent;return n!==r?[]:(t.push(r),t)},e.prototype.getActions=function(e,t,n,r,a,o,i){var s,l,u,c,d=this,p=o?Mt([],this.getStateNodes(o.value)):[],h=new Set;try{for(var f=Te(Array.from(e).sort(function(e,t){return e.order-t.order})),m=f.next();!m.done;m=f.next()){(!Rt(p,y=m.value)||Rt(n.exitSet,y)||y.parent&&h.has(y.parent))&&h.add(y)}}catch(_){s={error:_}}finally{try{m&&!m.done&&(l=f.return)&&l.call(f)}finally{if(s)throw s.error}}try{for(var g=Te(p),v=g.next();!v.done;v=g.next()){var y;Rt(e,y=v.value)&&!Rt(n.exitSet,y.parent)||n.exitSet.push(y)}}catch(E){u={error:E}}finally{try{v&&!v.done&&(c=g.return)&&c.call(g)}finally{if(u)throw u.error}}n.exitSet.sort(function(e,t){return t.order-e.order});var b=Array.from(h).sort(function(e,t){return e.order-t.order}),w=new Set(n.exitSet),k=rt(b.map(function(e){var t=[];if("final"!==e.type)return t;var o=e.parent;if(!o.parent)return t;t.push(Vt(e.id,e.doneData),Vt(o.id,e.doneData?it(e.doneData,r,a):void 0));var i=o.parent;return"parallel"===i.type&&Nt(i).every(function(e){return Dt(n.configuration,e)})&&t.push(Vt(i.id)),t})),S=b.map(function(e){var t=e.onEntry,n=e.activities.map(function(e){return function(e){var t=Ut(e);return{type:Se.Start,activity:t,exec:void 0}}(e)});return{type:"entry",actions:Wt(i?Ce(Ce([],Ne(t),!1),Ne(n),!1):Ce(Ce([],Ne(n),!1),Ne(t),!1),d.machine.options.actions)}}).concat({type:"state_done",actions:k.map(function(e){return function(e,t){return{type:De,event:"function"===typeof e?e:yt(e),delay:t?t.delay:void 0,id:null===t||void 0===t?void 0:t.id}}(e)})}),x=Array.from(w).map(function(e){return{type:"exit",actions:Wt(Ce(Ce([],Ne(e.onExit),!1),Ne(e.activities.map(function(e){return function(e){var t=pt(e)?e:Ut(e);return{type:Se.Stop,activity:t,exec:void 0}}(e)})),!1),d.machine.options.actions)}}).concat({type:"transition",actions:Wt(n.actions,this.machine.options.actions)}).concat(S);if(t){var I=Wt(rt(Ce([],Ne(e),!1).sort(function(e,t){return t.order-e.order}).map(function(e){return e.onExit})),this.machine.options.actions).filter(function(e){return!_t(e)});return x.concat({type:"stop",actions:I})}return x},e.prototype.transition=function(e,t,n,r){void 0===e&&(e=this.initialState);var a,o,i=bt(t);if(e instanceof Qt)a=void 0===n?e:this.resolveState(Qt.from(e,n));else{var s=ht(e)?this.resolve(Je(this.getResolvedPath(e))):this.resolve(e),l=null!==n&&void 0!==n?n:this.machine.context;a=this.resolveState(Qt.from(s,l))}if(this.strict&&!this.events.includes(i.name)&&(o=i.name,!/^(done|error)\./.test(o)))throw new Error("Machine '".concat(this.id,"' does not accept event '").concat(i.name,"'"));var u=this._transition(a.value,a,i)||{transitions:[],configuration:[],exitSet:[],source:a,actions:[]},c=Mt([],this.getStateNodes(a.value)),d=u.configuration.length?Mt(c,u.configuration):c;return u.configuration=Ce([],Ne(d),!1),this.resolveTransition(u,a,a.context,r,i)},e.prototype.resolveRaisedTransition=function(e,t,n,r){var a,o=e.actions;return(e=this.transition(e,t,void 0,r))._event=n,e.event=n.data,(a=e.actions).unshift.apply(a,Ce([],Ne(o),!1)),e},e.prototype.resolveTransition=function(e,t,n,r,a){var o,i,s,l,u=this;void 0===a&&(a=Lt);var c=e.configuration,d=!t||e.transitions.length>0,p=d?e.configuration:t?t.configuration:[],h=Dt(p,this),f=d?Ft(this.machine,c):void 0,m=t?t.historyValue?t.historyValue:e.source?this.machine.historyValue(t.value):void 0:void 0,g=this.getActions(new Set(p),h,e,n,a,t,r),v=t?_e({},t.activities):{};try{for(var y=Te(g),b=y.next();!b.done;b=y.next()){var w=b.value;try{for(var k=(s=void 0,Te(w.actions)),S=k.next();!S.done;S=k.next()){var x=S.value;x.type===Fe?v[x.activity.id||x.activity.type]=x:x.type===Re&&(v[x.activity.id||x.activity.type]=!1)}}catch(U){s={error:U}}finally{try{S&&!S.done&&(l=k.return)&&l.call(k)}finally{if(s)throw s.error}}}}catch(j){o={error:j}}finally{try{b&&!b.done&&(i=y.return)&&i.call(y)}finally{if(o)throw o.error}}var I,_,E=Ne(Kt(this,t,n,a,g,r,this.machine.config.predictableActionArguments||this.machine.config.preserveActionOrder),2),T=E[0],N=E[1],C=Ne(function(e,t){var n,r,a=Ne([[],[]],2),o=a[0],i=a[1];try{for(var s=Te(e),l=s.next();!l.done;l=s.next()){var u=l.value;t(u)?o.push(u):i.push(u)}}catch(j){n={error:j}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return[o,i]}(T,_t),2),M=C[0],A=C[1],O=T.filter(function(e){var t;return e.type===Fe&&(null===(t=e.activity)||void 0===t?void 0:t.type)===je}),F=O.reduce(function(e,t){return e[t.activity.id]=function(e,t,n,r){var a,o=St(e.src),i=null===(a=null===t||void 0===t?void 0:t.options.services)||void 0===a?void 0:a[o.type],s=e.data?it(e.data,n,r):void 0,l=i?nn(i,e.id,s):tn(e.id);return l.meta=e,l}(t.activity,u.machine,N,a),e},t?_e({},t.children):{}),R=new Qt({value:f||t.value,context:N,_event:a,_sessionid:t?t._sessionid:null,historyValue:f?m?(I=m,_=f,{current:_,states:lt(I,_)}):void 0:t?t.historyValue:void 0,history:!f||e.source?t:void 0,actions:f?A:[],activities:f?v:t?t.activities:{},events:[],configuration:p,transitions:e.transitions,children:F,done:h,tags:Pt(p),machine:this}),D=n!==N;R.changed=a.name===qe||D;var P=R.history;P&&delete P.history;var L=!h&&(this._transient||c.some(function(e){return e._transient}));if(!d&&(!L||a.name===Fn))return R;var z=R;if(!h)for(L&&(z=this.resolveRaisedTransition(z,{type:ze},a,r));M.length;){var B=M.shift();z=this.resolveRaisedTransition(z,B._event,a,r)}var W=z.changed||(P?!!z.actions.length||D||typeof P.value!==typeof z.value||!$t(z.value,P.value):void 0);return z.changed=W,z.history=P,z},e.prototype.getStateNode=function(e){if(Pn(e))return this.machine.getStateNodeById(e);if(!this.states)throw new Error("Unable to retrieve child state '".concat(e,"' from '").concat(this.id,"'; no child states exist."));var t=this.states[e];if(!t)throw new Error("Child state '".concat(e,"' does not exist on '").concat(this.id,"'"));return t},e.prototype.getStateNodeById=function(e){var t=Pn(e)?e.slice(1):e;if(t===this.id)return this;var n=this.machine.idMap[t];if(!n)throw new Error("Child state node '#".concat(t,"' does not exist on machine '").concat(this.id,"'"));return n},e.prototype.getStateNodeByPath=function(e){if("string"===typeof e&&Pn(e))try{return this.getStateNodeById(e.slice(1))}catch(ID){}for(var t=Qe(e,this.delimiter).slice(),n=this;t.length;){var r=t.shift();if(!r.length)break;n=n.getStateNode(r)}return n},e.prototype.resolve=function(e){var t,n=this;if(!e)return this.initialStateValue||Dn;switch(this.type){case"parallel":return Ze(this.initialStateValue,function(t,r){return t?n.getStateNode(r).resolve(e[r]||t):Dn});case"compound":if(ht(e)){var r=this.getStateNode(e);return"parallel"===r.type||"compound"===r.type?((t={})[e]=r.initialStateValue,t):e}return Object.keys(e).length?Ze(e,function(e,t){return e?n.getStateNode(t).resolve(e):Dn}):this.initialStateValue||{};default:return e||Dn}},e.prototype.getResolvedPath=function(e){if(Pn(e)){var t=this.machine.idMap[e.slice(1)];if(!t)throw new Error("Unable to find state node '".concat(e,"'"));return t.path}return Qe(e,this.delimiter)},Object.defineProperty(e.prototype,"initialStateValue",{get:function(){var e,t;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;if("parallel"===this.type)t=et(this.states,function(e){return e.initialStateValue||Dn},function(e){return!("history"===e.type)});else if(void 0!==this.initial){if(!this.states[this.initial])throw new Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));t=Et(this.states[this.initial])?this.initial:((e={})[this.initial]=this.states[this.initial].initialStateValue,e)}else t={};return this.__cache.initialStateValue=t,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),e.prototype.getInitialState=function(e,t){this._init();var n=this.getStateNodes(e);return this.resolveTransition({configuration:n,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,null!==t&&void 0!==t?t:this.machine.context,void 0)},Object.defineProperty(e.prototype,"initialState",{get:function(){var e=this.initialStateValue;if(!e)throw new Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){var e;if("history"===this.type){var t=this.config;e=ht(t.target)&&Pn(t.target)?Je(this.machine.getStateNodeById(t.target).path.slice(this.path.length-1)):t.target}return e},enumerable:!1,configurable:!0}),e.prototype.getRelativeStateNodes=function(e,t,n){return void 0===n&&(n=!0),n?"history"===e.type?e.resolveHistory(t):e.initialStateNodes:[e]},Object.defineProperty(e.prototype,"initialStateNodes",{get:function(){var e=this;return Et(this)?[this]:"compound"!==this.type||this.initial?rt(nt(this.initialStateValue).map(function(t){return e.getFromRelativePath(t)})):[this]},enumerable:!1,configurable:!0}),e.prototype.getFromRelativePath=function(e){if(!e.length)return[this];var t=Ne(e),n=t[0],r=t.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '".concat(n,"' from node with no states"));var a=this.getStateNode(n);if("history"===a.type)return a.resolveHistory();if(!this.states[n])throw new Error("Child state '".concat(n,"' does not exist on '").concat(this.id,"'"));return this.states[n].getFromRelativePath(r)},e.prototype.historyValue=function(e){if(Object.keys(this.states).length)return{current:e||this.initialStateValue,states:et(this.states,function(t,n){if(!e)return t.historyValue();var r=ht(e)?void 0:e[n];return t.historyValue(r||t.initialStateValue)},function(e){return!e.history})}},e.prototype.resolveHistory=function(e){var t=this;if("history"!==this.type)return[this];var n=this.parent;if(!e){var r=this.target;return r?rt(nt(r).map(function(e){return n.getFromRelativePath(e)})):n.initialStateNodes}var a,o,i=(a=n.path,o="states",function(e){var t,n,r=e;try{for(var i=Te(a),s=i.next();!s.done;s=i.next()){var l=s.value;r=r[o][l]}}catch(u){t={error:u}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r})(e).current;return ht(i)?[n.getStateNode(i)]:rt(nt(i).map(function(e){return"deep"===t.history?n.getFromRelativePath(e):[n.states[e[0]]]}))},Object.defineProperty(e.prototype,"stateIds",{get:function(){var e=this,t=rt(Object.keys(this.states).map(function(t){return e.states[t].stateIds}));return[this.id].concat(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"events",{get:function(){var e,t,n,r;if(this.__cache.events)return this.__cache.events;var a=this.states,o=new Set(this.ownEvents);if(a)try{for(var i=Te(Object.keys(a)),s=i.next();!s.done;s=i.next()){var l=a[s.value];if(l.states)try{for(var u=(n=void 0,Te(l.events)),c=u.next();!c.done;c=u.next()){var d=c.value;o.add("".concat(d))}}catch(p){n={error:p}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(h){e={error:h}}finally{try{s&&!s.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return this.__cache.events=Array.from(o)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ownEvents",{get:function(){var e=new Set(this.transitions.filter(function(e){return!(!e.target&&!e.actions.length&&e.internal)}).map(function(e){return e.eventType}));return Array.from(e)},enumerable:!1,configurable:!0}),e.prototype.resolveTarget=function(e){var t=this;if(void 0!==e)return e.map(function(e){if(!ht(e))return e;var n=e[0]===t.delimiter;if(n&&!t.parent)return t.getStateNodeByPath(e.slice(1));var r=n?t.key+e:e;if(!t.parent)return t.getStateNodeByPath(r);try{return t.parent.getStateNodeByPath(r)}catch(a){throw new Error("Invalid transition definition for state node '".concat(t.id,"':\n").concat(a.message))}})},e.prototype.formatTransition=function(e){var t=this,n=function(e){if(void 0!==e&&""!==e)return ot(e)}(e.target),r="internal"in e?e.internal:!n||n.some(function(e){return ht(e)&&e[0]===t.delimiter}),a=this.machine.options.guards,o=this.resolveTarget(n),i=_e(_e({},e),{actions:Wt(ot(e.actions)),cond:ft(e.cond,a),target:o,source:this,internal:r,eventType:e.event,toJSON:function(){return _e(_e({},i),{target:i.target?i.target.map(function(e){return"#".concat(e.id)}):void 0,source:"#".concat(t.id)})}});return i},e.prototype.formatTransitions=function(){var e,t,n,r=this;if(this.config.on)if(Array.isArray(this.config.on))n=this.config.on;else{var a=this.config.on,o=Rn,i=a[o],s=void 0===i?[]:i,l=Ee(a,["*"]);n=rt(Object.keys(l).map(function(e){var t=wt(e,l[e]);return t}).concat(wt(Rn,s)))}else n=[];var u=this.config.always?wt("",this.config.always):[],c=this.config.onDone?wt(String(Vt(this.id)),this.config.onDone):[];var d=rt(this.invoke.map(function(e){var t=[];return e.onDone&&t.push.apply(t,Ce([],Ne(wt(String(qt(e.id)),e.onDone)),!1)),e.onError&&t.push.apply(t,Ce([],Ne(wt(String(Gt(e.id)),e.onError)),!1)),t})),p=this.after,h=rt(Ce(Ce(Ce(Ce([],Ne(c),!1),Ne(d),!1),Ne(n),!1),Ne(u),!1).map(function(e){return ot(e).map(function(e){return r.formatTransition(e)})}));try{for(var f=Te(p),m=f.next();!m.done;m=f.next()){var g=m.value;h.push(g)}}catch(v){e={error:v}}finally{try{m&&!m.done&&(t=f.return)&&t.call(f)}finally{if(e)throw e.error}}return h},e}();var zn,Bn,Wn=function(e){return{type:Be,assignment:e}};!function(e){e.DARK="dark",e.BRIGHT="bright",e.NORMAL="normal"}(zn||(zn={})),function(e){e.MATCHED="MATCHED",e.TOO_FAR="TOO FAR",e.CANT_IDENTIFY="CANNOT IDENTIFY",e.FACE_IDENTIFIED="ONE FACE IDENTIFIED",e.TOO_MANY="TOO MANY FACES",e.OFF_CENTER="OFF CENTER"}(Bn||(Bn={}));const Un="CONNECTION_TIMEOUT",jn="TIMEOUT",Hn="RUNTIME_ERROR",Vn="SERVER_ERROR",qn="CAMERA_FRAMERATE_ERROR",Gn="CAMERA_ACCESS_ERROR",Kn="FACE_DISTANCE_ERROR",$n="MOBILE_LANDSCAPE_ERROR",Yn="MULTIPLE_FACES_ERROR",Qn=1.618,Xn=1e3,Jn=4e3,Zn=4001,er=4003,tr=4005,nr=4007,rr={type:"FaceMovementAndLightChallenge",version:"2.0.0"},ar={type:"FaceMovementChallenge",version:"1.0.0"},or=[rr,ar].map(e=>"".concat(e.type,"_").concat(e.version)).join(",");function ir(e,t,n){return e*(n-t)+t}function sr(e){const t=e.flippedCenterX-e.width/2,n=e.flippedCenterX+e.width/2,r=e.centerY-e.height/2,a=e.centerY+e.height/2;return{ovalBoundingBox:{left:t,top:r,right:n,bottom:a},minOvalX:t,maxOvalX:n,minOvalY:r,maxOvalY:a}}function lr(e,t){const n=Math.max(e.left,t.left),r=Math.max(e.top,t.top),a=Math.min(e.right,t.right),o=Math.min(e.bottom,t.bottom),i=Math.abs(Math.max(0,a-n)*Math.max(0,o-r));if(0===i)return 0;return i/(Math.abs((e.right-e.left)*(e.bottom-e.top))+Math.abs((t.right-t.left)*(t.bottom-t.top))-i)}function ur(e){let{width:t,height:n,widthSeed:r=1,centerXSeed:a=.5,centerYSeed:o=.5,ratioMultiplier:i=.8,ovalHeightWidthRatio:s=Qn}=e;const l=n;let u=t;const c=r*i,d=Math.floor(7*t/16),p=Math.floor(9*t/16),h=Math.floor(7*n/16),f=Math.floor(9*n/16),m=ir(a,d,p),g=ir(o,h,f);t>=n&&(u=3/4*l);const v=c*u,y=s*v;return{flippedCenterX:Math.floor(u-m),centerX:Math.floor(m),centerY:Math.floor(g),width:Math.floor(v),height:Math.floor(y)}}function cr(e){let{canvas:t,oval:n,scaleFactor:r,videoEl:a,isStartScreen:o}=e;const{flippedCenterX:i,centerY:s,width:l,height:u}=n,{width:c,height:d}=t.getBoundingClientRect(),p=t.getContext("2d");if(!p)throw new Error("Cannot find Canvas.");{p.restore(),p.clearRect(0,0,c,d),p.fillStyle=o?getComputedStyle(t).getPropertyValue("--amplify-colors-background-primary"):"#fff",p.fillRect(0,0,c,d);const e={width:a.videoWidth,height:a.videoHeight},n={x:(c-e.width*r)/2,y:(d-e.height*r)/2};p.setTransform(r,0,0,r,n.x,n.y),p.beginPath(),p.ellipse(i,s,l/2,u/2,0,0,2*Math.PI),p.strokeStyle=getComputedStyle(t).getPropertyValue("--amplify-colors-border-secondary"),p.lineWidth=3,p.stroke(),p.save(),p.clip(),p.setTransform(1,0,0,1,0,0),p.clearRect(0,0,c,d)}}function dr(e,t,n){const{width:r,height:a}=n.getTracks()[0].getSettings(),{width:o,height:i}=t.getBoundingClientRect();e.width=Math.ceil(o),e.height=Math.ceil(i);const s=ur({width:r,height:a,ratioMultiplier:.5});s.flippedCenterX=r-s.centerX;cr({canvas:e,oval:s,scaleFactor:o/t.videoWidth,videoEl:t,isStartScreen:!0})}function pr(e){const{leftEye:t,rightEye:n,mouth:r}=e,a=[];a[0]=(t[0]+n[0])/2,a[1]=(t[1]+n[1])/2;return{pupilDistance:Math.sqrt((t[0]-n[0])**2+(t[1]-n[1])**2),faceHeight:Math.sqrt((a[0]-r[0])**2+(a[1]-r[1])**2)}}function hr(e){let{ovalHeightWidthRatio:t=Qn,face:n,oval:r,frameHeight:a}=e;const{leftEye:o,rightEye:i,nose:s,leftEar:l,rightEar:u}=n,{height:c,centerY:d}=r,p=d-c/2,h=[];h[0]=(o[0]+i[0])/2,h[1]=(o[1]+i[1])/2;const{pupilDistance:f,faceHeight:m}=pr(n),g=(2*f+1.8*m)/2;let v,y;h[1]<=(p+c)/2?(v=(h[0]+s[0])/2,y=(h[1]+s[1])/2):(v=h[0],y=h[1]);const b=t*g,w=Math.max(y-b/2,0);return{bottom:Math.min(y+b/2,a),left:Math.min(v-g/2,u[0]),right:Math.max(v+g/2,l[0]),top:w}}function fr(e){const t=document.createElement("canvas");t.width=e.videoWidth,t.height=e.videoHeight;const n=t.getContext("2d");if(n){n.drawImage(e,0,0,t.width,t.height);const r=n.getImageData(0,0,t.width,t.height).data,a=8,o=new Array(a).fill(0);for(let e=0;e<r.length;e++){o[Math.round(.2126*r[e++]+.7152*r[e++]+.0722*r[e++])%32]++}let i=-1,s=0;for(let e=0;e<a;e++)o[e]>s&&(s=o[e],i=e);return t.remove(),0===i?zn.DARK:i===a?zn.BRIGHT:zn.NORMAL}throw new Error("Cannot find Video Element.")}function mr(e){let{ctx:t,prevColor:n,nextColor:r,fraction:a}=e;const o=t.canvas.width,i=t.canvas.height;t.fillStyle=r,t.fillRect(0,0,o,i*a),1!==a&&(t.fillStyle=n,t.fillRect(0,i*a,o,i*(1-a)))}const gr=e=>!!e;class vr{constructor(e,t){this.backend=e,this.dataMover=t,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,t){this.dataIdsCount++,this.data.set(e,t)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class yr{refCount(e){return br("refCount")}incRef(e){return br("incRef")}timerAvailable(){return!0}time(e){return br("time")}read(e){return br("read")}readSync(e){return br("readSync")}readToGPU(e,t){return br("readToGPU")}numDataIds(){return br("numDataIds")}disposeData(e,t){return br("disposeData")}write(e,t,n){return br("write")}move(e,t,n,r,a){return br("move")}createTensorFromGPUData(e,t,n){return br("createTensorFromGPUData")}memory(){return br("memory")}floatPrecision(){return br("floatPrecision")}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}dispose(){return br("dispose")}}function br(e){throw new Error("'".concat(e,"' not yet implemented or not found in the registry. ")+"This kernel may not be supported by the tfjs backend you have chosen")}function wr(e,t,n){return Math.max(e,Math.min(t,n))}function kr(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Sr(e,t){if(!e)throw new Error("string"===typeof t?t:t())}function xr(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";Sr(Er(e,t),()=>n+" Shapes ".concat(e," and ").concat(t," must match"))}function Ir(e){Sr(null!=e,()=>"The input to the tensor constructor must be a non-null value.")}function _r(e){if(0===e.length)return 1;let t=e[0];for(let n=1;n<e.length;n++)t*=e[n];return t}function Er(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Tr(e){return e%1===0}function Nr(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function Cr(e,t){let n=1,r=-1;for(let o=0;o<e.length;++o)if(e[o]>=0)n*=e[o];else if(-1===e[o]){if(-1!==r)throw Error("Shapes can only have 1 implicit size. "+"Found -1 at dim ".concat(r," and dim ").concat(o));r=o}else if(e[o]<0)throw Error("Shapes can not be < 0. Found ".concat(e[o]," at dim ").concat(o));if(-1===r){if(t>0&&t!==n)throw Error("Size(".concat(t,") must match the product of shape ").concat(e));return e}if(0===n)throw Error("Cannot infer the missing size in [".concat(e,"] when ")+"there are 0 elements");if(t%n!==0)throw Error("The implicit shape can't be a fractional number. "+"Got ".concat(t," / ").concat(n));const a=e.slice();return a[r]=t/n,a}function Mr(e,t){const n=t.length;return e=null==e?t.map((e,t)=>t):[].concat(e),Sr(e.every(e=>e>=-n&&e<n),()=>"All values in axis param must be in range [-".concat(n,", ").concat(n,") but ")+"got axis ".concat(e)),Sr(e.every(e=>Tr(e)),()=>"All values in axis param must be integers but "+"got axis ".concat(e)),e.map(e=>e<0?n+e:e)}function Ar(e,t){return Or(e,t)}function Or(e,t){let n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error("Unknown data type ".concat(e));n=new Array(t)}return n}function Fr(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error("Unknown dtype ".concat(e))}function Rr(e){return"string"===typeof e||e instanceof String}function Dr(e){return Array.isArray(e)?Dr(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray?"int32":"number"===typeof e?"float32":Rr(e)?"string":function(e){return"boolean"===typeof e}(e)?"bool":"float32"}function Pr(e){return!!(e&&e.constructor&&e.call&&e.apply)}function Lr(e){const t=e.length;if(t<2)return[];const n=new Array(t-1);n[t-2]=e[t-1];for(let r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function zr(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=new Array;if(1===t.length){const o=t[0]*(r?2:1);for(let t=0;t<o;t++)a[t]=n[e+t]}else{const o=t[0],i=t.slice(1),s=i.reduce((e,t)=>e*t)*(r?2:1);for(let t=0;t<o;t++)a[t]=zr(e+t*s,i,n,r)}return a}function Br(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(0===e.length)return t[0];const r=e.reduce((e,t)=>e*t)*(n?2:1);if(0===r)return[];if(r!==t.length)throw new Error("[".concat(e,"] does not match the input size ").concat(t.length).concat(n?" for a complex tensor":"","."));return zr(0,e,t,n)}function Wr(e,t){const n=Ur(e,t);for(let r=0;r<n.length;r++)n[r]=1;return n}function Ur(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error("Unknown data type ".concat(t))}function jr(e,t){const n=e.reduce((e,t)=>e*t,1);if(null==t||"float32"===t)return Br(e,new Float32Array(n));if("int32"===t)return Br(e,new Int32Array(n));if("bool"===t)return Br(e,new Uint8Array(n));throw new Error("Unknown data type ".concat(t))}function Hr(e){e.forEach(t=>{Sr(Number.isInteger(t)&&t>=0,()=>"Tensor must have a shape comprised of positive integers but got "+"shape [".concat(e,"]."))})}function Vr(e,t,n){if(0===t)return 0;if(1===t)return e[0];let r=e[e.length-1];for(let a=0;a<e.length-1;++a)r+=n[a]*e[a];return r}function qr(e,t,n){if(0===t)return[];if(1===t)return[e];const r=new Array(t);for(let a=0;a<r.length-1;++a)r[a]=Math.floor(e/n[a]),e-=r[a]*n[a];return r[r.length-1]=e,r}function Gr(e){return e&&e.then&&"function"===typeof e.then}const Kr="tfjsflags";class $r{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=Yr,this.populateURLFlags()}setPlatform(e,t){null!=this.platform&&(Qr().getBool("IS_TEST")||Qr().getBool("PROD")||console.warn("Platform ".concat(this.platformName," has already been set. ")+"Overwriting the platform with ".concat(e,"."))),this.platformName=e,this.platform=t}registerFlag(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){const t=this.urlFlags[e];Qr().getBool("IS_TEST")||Qr().getBool("PROD")||console.warn("Setting feature override from URL ".concat(e,": ").concat(t,".")),this.set(e,t)}}async getAsync(e){return e in this.flags||(this.flags[e]=await this.evaluateFlag(e)),this.flags[e]}get(e){if(e in this.flags)return this.flags[e];const t=this.evaluateFlag(e);if(Gr(t))throw new Error("Flag ".concat(e," cannot be synchronously evaluated. ")+"Please use getAsync() instead.");return this.flags[e]=t,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getString(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,t){if(null==this.flagRegistry[e])throw new Error("Cannot set flag ".concat(e," as it has not been registered."));this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)}evaluateFlag(e){if(null==this.flagRegistry[e])throw new Error("Cannot evaluate flag '".concat(e,"': no evaluation function found."));return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if("undefined"===typeof this.global||"undefined"===typeof this.global.location||"undefined"===typeof this.global.location.search)return;const e=this.getQueryParams(this.global.location.search);if(Kr in e){e[Kr].split(",").forEach(e=>{const[t,n]=e.split(":");this.urlFlags[t]=function(e,t){const n=t.toLowerCase();return"true"===n||"false"===n?"true"===n:"".concat(+n)===n?+n:t}(0,n)})}}}function Yr(e){const t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return function(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}(t,r[0],r[1]),r.join("=")}),t}function Qr(){return Jr}let Xr,Jr=null;function Zr(){if(null==Xr){let e;if("undefined"!==typeof window)e=window;else if("undefined"!==typeof n.g)e=n.g;else if("undefined"!==typeof process)e=process;else{if("undefined"===typeof self)throw new Error("Could not find a global object");e=self}Xr=e}return Xr}function ea(e,t){const n=function(){const e=Zr();return null==e._tfGlobals&&(e._tfGlobals=new Map),e._tfGlobals}();if(n.has(e))return n.get(e);{const r=t();return n.set(e,r),n.get(e)}}const ta="Abs",na="Acos",ra="Acosh",aa="Add",oa="AddN",ia="All",sa="Any",la="ArgMax",ua="ArgMin",ca="Asin",da="Asinh",pa="Atan",ha="Atanh",fa="Atan2",ma="AvgPool",ga="AvgPoolGrad",va="AvgPool3D",ya="AvgPool3DGrad",ba="BatchMatMul",wa="BatchToSpaceND",ka="Bincount",Sa="BitwiseAnd",xa="BroadcastArgs",Ia="Cast",_a="Ceil",Ea="ClipByValue",Ta="Complex",Na="ComplexAbs",Ca="Concat",Ma="Conv2D",Aa="Conv2DBackpropFilter",Oa="Conv2DBackpropInput",Fa="Conv3D",Ra="Conv3DBackpropFilterV2",Da="Conv3DBackpropInputV2",Pa="Cos",La="Cosh",za="Cumprod",Ba="Cumsum",Wa="CropAndResize",Ua="DenseBincount",ja="DepthToSpace",Ha="DepthwiseConv2dNative",Va="DepthwiseConv2dNativeBackpropFilter",qa="DepthwiseConv2dNativeBackpropInput",Ga="Diag",Ka="Dilation2D",$a="Dilation2DBackpropInput",Ya="Dilation2DBackpropFilter",Qa="Draw",Xa="RealDiv",Ja="Einsum",Za="Elu",eo="EluGrad",to="Erf",no="Equal",ro="Exp",ao="ExpandDims",oo="Expm1",io="Fill",so="FlipLeftRight",lo="Floor",uo="FloorDiv",co="FusedBatchNorm",po="GatherV2",ho="GatherNd",fo="Greater",mo="GreaterEqual",go="Identity",vo="IFFT",yo="Imag",bo="IsFinite",wo="IsInf",ko="IsNan",So="LeakyRelu",xo="Less",Io="LessEqual",_o="LinSpace",Eo="Log",To="Log1p",No="LogicalAnd",Co="LogicalNot",Mo="LogicalOr",Ao="LRN",Oo="LRNGrad",Fo="Max",Ro="Maximum",Do="MaxPool",Po="MaxPoolGrad",Lo="MaxPool3D",zo="MaxPool3DGrad",Bo="MaxPoolWithArgmax",Wo="Mean",Uo="Min",jo="Minimum",Ho="MirrorPad",Vo="Mod",qo="Multinomial",Go="Multiply",Ko="Neg",$o="NotEqual",Yo="NonMaxSuppressionV3",Qo="NonMaxSuppressionV4",Xo="NonMaxSuppressionV5",Jo="OnesLike",Zo="OneHot",ei="Pack",ti="PadV2",ni="Pow",ri="Prelu",ai="Prod",oi="RaggedGather",ii="RaggedRange",si="RaggedTensorToTensor",li="Range",ui="Real",ci="Reciprocal",di="Relu",pi="Reshape",hi="ResizeNearestNeighbor",fi="ResizeNearestNeighborGrad",mi="ResizeBilinear",gi="ResizeBilinearGrad",vi="Relu6",yi="Reverse",bi="Round",wi="Rsqrt",ki="ScatterNd",Si="TensorScatterUpdate",xi="SearchSorted",Ii="Select",_i="Selu",Ei="Slice",Ti="Sin",Ni="Sinh",Ci="Sign",Mi="Sigmoid",Ai="Softplus",Oi="Sqrt",Fi="Sum",Ri="SpaceToBatchND",Di="SplitV",Pi="Softmax",Li="SparseFillEmptyRows",zi="SparseReshape",Bi="SparseSegmentMean",Wi="SparseSegmentSum",Ui="SparseToDense",ji="SquaredDifference",Hi="Square",Vi="StaticRegexReplace",qi="StridedSlice",Gi="StringNGrams",Ki="StringSplit",$i="StringToHashBucketFast",Yi="Sub",Qi="Tan",Xi="Tanh",Ji="Tile",Zi="TopK",es="Transform",ts="Transpose",ns="Unique",rs="Unpack",as="UnsortedSegmentSum",os="ZerosLike",is="Step",ss="FromPixels",ls="RotateWithOffset",us="_FusedMatMul",cs="FusedConv2D",ds="FusedDepthwiseConv2D";function ps(){Qr().getBool("IS_TEST")||Qr().getBool("PROD")||console.warn(...arguments)}const hs=ea("kernelRegistry",()=>new Map),fs=ea("gradRegistry",()=>new Map);function ms(e,t){const n=bs(e,t);return hs.get(n)}function gs(e){return fs.get(e)}function vs(e){const t=hs.entries(),n=[];for(;;){const{done:r,value:a}=t.next();if(r)break;const[o,i]=a,[s]=o.split("_");s===e&&n.push(i)}return n}function ys(e){const{kernelName:t,backendName:n}=e,r=bs(t,n);hs.has(r)&&ps("The kernel '".concat(t,"' for backend ")+"'".concat(n,"' is already registered")),hs.set(r,e)}function bs(e,t){return"".concat(t,"_").concat(e)}function ws(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray}var ks=n(7353);const Ss=n.n(ks)()||ks;function xs(e){return Ss.fromString(e,!0,16)}const Is=xs("c3a5c85c97cb3127"),_s=xs("b492b66fbe98f273"),Es=xs("9ae16a3b2f90404f");function Ts(e){return e.xor(e.shru(47))}function Ns(e,t,n){const r=e.slice(t,t+n);return Ss.fromBytes(Array.from(r),!0,!0)}function Cs(e,t){return Ns(e,t,8)}function Ms(e,t){return Ns(e,t,4)}function As(e,t){return 0===t?e:e.shru(t).or(e.shl(64-t))}function Os(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xs("9ddfea08eb382d69"),r=e.xor(t).mul(n);r=r.xor(r.shru(47));let a=t.xor(r).mul(n);return a=a.xor(a.shru(47)),a=a.mul(n),a}function Fs(e,t,n,r){return function(e,t,n,r,a,o){a=a.add(e),o=As(o.add(a).add(r),21);const i=a;return a=(a=a.add(t)).add(n),o=o.add(As(a,44)),[a.add(r),o.add(i)]}(Cs(e,t),Cs(e,t+8),Cs(e,t+16),Cs(e,t+24),n,r)}function Rs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;const n=Ss.fromNumber(81,!0);if(t<=32)return t<=16?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;if(t>=8){const n=Es.add(2*t),r=Cs(e,0).add(Es),a=Cs(e,t-8);return Os(As(a,37).mul(n).add(r),As(r,25).add(a).mul(n),n)}if(t>=4){const n=Es.add(2*t);return Os(Ms(e,0).shl(3).add(t),Ms(e,t-4),n)}if(t>0){const n=e[0]+(e[t>>1]<<8),r=t+(e[t-1]<<2);return Ts(Es.mul(n).xor(Is.mul(r))).mul(Es)}return Es}(e,t):function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;const n=Es.add(2*t),r=Cs(e,0).mul(_s),a=Cs(e,8),o=Cs(e,t-8).mul(n),i=Cs(e,t-16).mul(Es);return Os(As(r.add(a),43).add(As(o,30)).add(i),r.add(As(a.add(Es),18)).add(o),n)}(e,t);if(t<=64)return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;const n=Es.add(2*t),r=Cs(e,0).mul(Es),a=Cs(e,8),o=Cs(e,t-8).mul(n),i=Cs(e,t-16).mul(Es),s=As(r.add(a),43).add(As(o,30)).add(i),l=Os(s,r.add(As(a.add(Es),18)).add(o),n),u=Cs(e,16).mul(n),c=Cs(e,24),d=s.add(Cs(e,t-32)).mul(n),p=l.add(Cs(e,t-24)).mul(n);return Os(As(u.add(c),43).add(As(d,30)).add(p),u.add(As(c.add(r),18)).add(d),n)}(e,t);let r=n,a=n.mul(_s).add(113),o=Ts(a.mul(Es).add(113)).mul(Es),i=[Ss.UZERO,Ss.UZERO],s=[Ss.UZERO,Ss.UZERO];r=r.mul(Es).add(Cs(e,0));let l=0;const u=64*(t-1>>6),c=u+(t-1&63)-63;do{r=As(r.add(a).add(i[0]).add(Cs(e,l+8)),37).mul(_s),a=As(a.add(i[1]).add(Cs(e,l+48)),42).mul(_s),r=r.xor(s[1]),a=a.add(i[0]).add(Cs(e,l+40)),o=As(o.add(s[0]),33).mul(_s),i=Fs(e,l,i[1].mul(_s),r.add(s[0])),s=Fs(e,l+32,o.add(s[1]),a.add(Cs(e,l+16))),[o,r]=[r,o],l+=64}while(l!==u);const d=_s.add(o.and(255).shl(1));return l=c,s[0]=s[0].add(t-1&63),i[0]=i[0].add(s[0]),s[0]=s[0].add(i[0]),r=As(r.add(a).add(i[0]).add(Cs(e,l+8)),37).mul(d),a=As(a.add(i[1]).add(Cs(e,l+48)),42).mul(d),r=r.xor(s[1].mul(9)),a=a.add(i[0].mul(9).add(Cs(e,l+40))),o=As(o.add(s[0]),33).mul(d),i=Fs(e,l,i[1].mul(d),r.add(s[0])),s=Fs(e,l+32,o.add(s[1]),a.add(Cs(e,l+16))),[o,r]=[r,o],Os(Os(i[0],s[0],d).add(Ts(a).mul(Is)).add(o),Os(i[1],s[1],d).add(r),d)}function Ds(e,t){return"string"===t?zs(e):Ps([e],t)}function Ps(e,t){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=Us(e)),Qr().getBool("DEBUG")&&function(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(isNaN(r)||!isFinite(r))throw Error("A tensor of type ".concat(t," being uploaded contains ").concat(r,"."))}}(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){const t=new Uint8Array(e.length);for(let n=0;n<t.length;++n)0!==Math.round(e[n])&&(t[n]=1);return t}throw new Error("Unknown data type ".concat(t))}function Ls(){return Qr().platform.now()}function zs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",Qr().platform.encode(e,t)}function Bs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",Qr().platform.decode(e,t)}function Ws(e){return null!=Qr().platform.isTypedArray?Qr().platform.isTypedArray(e):ws(e)}function Us(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==t&&(t=[]),"boolean"===typeof e||"number"===typeof e||"string"===typeof e||Gr(e)||null==e||Ws(e)&&n)t.push(e);else if(Array.isArray(e)||Ws(e))for(let r=0;r<e.length;++r)Us(e[r],t,n);else{let r=-1;for(const t of Object.keys(e))/^([1-9]+[0-9]*|0)$/.test(t)&&(r=Math.max(r,Number(t)));for(let a=0;a<=r;a++)Us(e[a],t,n)}return t}class js{constructor(e,t){this.backendTimer=e,this.logger=t,null==t&&(this.logger=new Vs)}profileKernel(e,t,n){let r;const a=()=>{r=n()};let o;const i=Ls();if(this.backendTimer.timerAvailable())o=this.backendTimer.time(a);else{a();for(const e of r)e.dataSync();o=Promise.resolve({kernelMs:Ls()-i})}if(Qr().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let s=0;s<r.length;s++){const t=r[s];t.data().then(n=>{Hs(n,t.dtype,e)})}return{kernelName:e,outputs:r,inputs:t,timeMs:o.then(e=>e.kernelMs),extraInfo:o.then(e=>null!=e.getExtraProfileInfo?e.getExtraProfileInfo():"")}}logKernelProfile(e){const{kernelName:t,outputs:n,timeMs:r,inputs:a,extraInfo:o}=e;n.forEach(e=>{Promise.all([e.data(),r,o]).then(n=>{this.logger.logKernelProfile(t,e,n[0],n[1],a,n[2])})})}}function Hs(e,t,n){if("float32"!==t)return!1;for(let r=0;r<e.length;r++){const t=e[r];if(isNaN(t)||!isFinite(t))return console.warn("Found ".concat(t," in the result of '").concat(n,"'")),!0}return!1}class Vs{logKernelProfile(e,t,n,r,a,o){const i="number"===typeof r?Nr("".concat(r,"ms"),9):r.error,s=Nr(e,25),l=t.rank,u=t.size,c=Nr(t.shape.toString(),14);let d="";for(const p in a){const e=a[p];if(null!=e){const n=e.shape||t.shape,r=n.length;d+="".concat(p,": ").concat(r,"D ").concat(r>0?n:""," ")}}console.log("%c".concat(s,"\t%c").concat(i,"\t%c").concat(l,"D ").concat(c,"\t%c").concat(u,"\t%c").concat(d,"\t%c").concat(o),"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}function qs(e,t,n,r){const a=Lr(t),o=function(e,t,n,r){const a=_r(t),o=r[r.length-1],i=new Array(o).fill(0),s=t.length,l="complex64"===n?Ys(e):e;if(s>1)for(let u=0;u<a/o;u++){const e=u*o;for(let t=0;t<o;t++)i[t]=Math.max(i[t],Gs(l[e+t],0,n).length)}return i}(e,t,n,a),i=t.length,s=$s(e,t,n,a,o),l=["Tensor"];return r&&(l.push("  dtype: ".concat(n)),l.push("  rank: ".concat(i)),l.push("  shape: [".concat(t,"]")),l.push("  values:")),l.push(s.map(e=>"    "+e).join("\n")),l.join("\n")}function Gs(e,t,n){let r;return r=Array.isArray(e)?"".concat(parseFloat(e[0].toFixed(7))," + ")+"".concat(parseFloat(e[1].toFixed(7)),"j"):Rr(e)?"'".concat(e,"'"):"bool"===n?Ks(e):parseFloat(e.toFixed(7)).toString(),Nr(r,t)}function Ks(e){return 0===e?"false":"true"}function $s(e,t,n,r,a){let o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];const i="complex64"===n?2:1,s=t[0],l=t.length;if(0===l){if("complex64"===n){return[Gs(Ys(e)[0],0,n)]}return"bool"===n?[Ks(e[0])]:[e[0].toString()]}if(1===l){if(s>20){const t=3*i;let r=Array.from(e.slice(0,t)),o=Array.from(e.slice((s-3)*i,s*i));return"complex64"===n&&(r=Ys(r),o=Ys(o)),["["+r.map((e,t)=>Gs(e,a[t],n)).join(", ")+", ..., "+o.map((e,t)=>Gs(e,a[s-3+t],n)).join(", ")+"]"]}return["["+("complex64"===n?Ys(e):Array.from(e)).map((e,t)=>Gs(e,a[t],n)).join(", ")+"]"]}const u=t.slice(1),c=r.slice(1),d=r[0]*i,p=[];if(s>20){for(let t=0;t<3;t++){const r=t*d,o=r+d;p.push(...$s(e.slice(r,o),u,n,c,a,!1))}p.push("...");for(let t=s-3;t<s;t++){const r=t*d,o=r+d;p.push(...$s(e.slice(r,o),u,n,c,a,t===s-1))}}else for(let m=0;m<s;m++){const t=m*d,r=t+d;p.push(...$s(e.slice(t,r),u,n,c,a,m===s-1))}const h=2===l?",":"";p[0]="["+(s>0?p[0]+h:"");for(let m=1;m<p.length-1;m++)p[m]=" "+p[m]+h;let f=",\n";for(let m=2;m<l;m++)f+="\n";return p[p.length-1]=" "+p[p.length-1]+"]"+(o?"":f),p}function Ys(e){const t=[];for(let n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}class Qs{constructor(e,t,n){if(this.dtype=t,this.shape=e.slice(),this.size=_r(e),null!=n){const e=n.length;Sr(e===this.size,()=>"Length of values '".concat(e,"' does not match the size ")+"inferred by the shape '".concat(this.size,"'."))}if("complex64"===t)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||Or(t,this.size),this.strides=Lr(e)}set(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];0===n.length&&(n=[0]),Sr(n.length===this.rank,()=>"The number of provided coordinates (".concat(n.length,") must ")+"match the rank (".concat(this.rank,")"));const a=this.locToIndex(n);this.values[a]=e}get(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];0===t.length&&(t=[0]);let r=0;for(const o of t){if(o<0||o>=this.shape[r]){const e="Requested out of range element at ".concat(t,". ")+"  Buffer shape=".concat(this.shape);throw new Error(e)}r++}let a=t[t.length-1];for(let o=0;o<t.length-1;++o)a+=this.strides[o]*t[o];return this.values[a]}locToIndex(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];let t=e[e.length-1];for(let n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t}indexToLoc(e){if(0===this.rank)return[];if(1===this.rank)return[e];const t=new Array(this.shape.length);for(let n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t}get rank(){return this.shape.length}toTensor(){return Xs().makeTensor(this.values,this.shape,this.dtype)}}let Xs=null,Js=null,Zs=null;class el{constructor(e,t,n,r){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=t||"float32",this.size=_r(e),this.strides=Lr(e),this.dataId=n,this.id=r,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return Js.buffer(this.shape,this.dtype,e)}bufferSync(){return Js.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return Br(this.shape,e,"complex64"===this.dtype)}arraySync(){return Br(this.shape,this.dataSync(),"complex64"===this.dtype)}async data(){this.throwIfDisposed();const e=Xs().read(this.dataId);if("string"===this.dtype){const t=await e;try{return t.map(e=>Bs(e))}catch(Me){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),Xs().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();const e=Xs().readSync(this.dataId);if("string"===this.dtype)try{return e.map(e=>Bs(e))}catch(Me){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await Xs().read(this.dataId);return"string"===this.dtype?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),Xs().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Js.print(this,e)}clone(){return this.throwIfDisposed(),Js.clone(this)}toString(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return qs(this.dataSync(),this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),Js.cast(this,e)}variable(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return this.throwIfDisposed(),Xs().makeVariable(this,e,t,n)}}Object.defineProperty(el,Symbol.hasInstance,{value:e=>!!e&&null!=e.data&&null!=e.dataSync&&null!=e.throwIfDisposed}),ea("Tensor",()=>el);class tl extends el{constructor(e,t,n,r){super(e.shape,e.dtype,e.dataId,r),this.trainable=t,this.name=n}assign(e){if(e.dtype!==this.dtype)throw new Error("dtype of the new value (".concat(e.dtype,") and ")+"previous value (".concat(this.dtype,") must match"));if(!Er(e.shape,this.shape))throw new Error("shape of the new value (".concat(e.shape,") and ")+"previous value (".concat(this.shape,") must match"));Xs().disposeTensor(this),this.dataId=e.dataId,Xs().incRef(this,null)}dispose(){Xs().disposeVariable(this),this.isDisposedInternal=!0}}var nl,rl,al,ol,il;Object.defineProperty(tl,Symbol.hasInstance,{value:e=>e instanceof el&&null!=e.assign&&e.assign instanceof Function}),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(nl||(nl={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(rl||(rl={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(al||(al={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(ol||(ol={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(il||(il={}));const sl={float32:ol,int32:rl,bool:al,complex64:il};function ll(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error("Can not upcast ".concat(e," with ").concat(t))}return sl[e][t]}function ul(e){return null!=e&&"object"===typeof e&&"texture"in e&&e.texture instanceof WebGLTexture}function cl(e){return"undefined"!==typeof GPUBuffer&&null!=e&&"object"===typeof e&&"buffer"in e&&e.buffer instanceof GPUBuffer}function dl(e,t){if(e.dtype===t.dtype)return[e,t];const n=ll(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function pl(e){const t=[];return hl(e,t,new Set),t}function hl(e,t,n){if(null==e)return;if(e instanceof el)return void t.push(e);if(r=e,!Array.isArray(r)&&"object"!==typeof r)return;var r;const a=e;for(const o in a){const e=a[o];n.has(e)||(n.add(e),hl(e,t,n))}}function fl(e){return null!=e.kernelName}class ml{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(e=>e.name)))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class gl{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new ml}async ready(){if(null!=this.pendingBackendInit)return this.pendingBackendInit.then(()=>{});if(null!=this.backendInstance)return;const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t];if(await this.initializeBackend(n).success)return void await this.setBackend(n)}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(null!=this.pendingBackendInit)throw new Error("Backend '".concat(this.backendName,"' has not yet been initialized. Make ")+"sure to await tf.ready() or await tf.setBackend() before calling other methods");if(null==this.backendInstance){const{name:e,asyncInit:t}=this.initializeBackendsAndReturnBest();if(t)throw new Error("The highest priority backend '".concat(e,"' has not yet been ")+"initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;{const{asyncInit:t}=this.initializeBackend(e);if(t)return null}}return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e in this.registryFactory?(ps("".concat(e," backend was already registered. ")+"Reusing existing backend factory."),!1):(this.registryFactory[e]={factory:t,priority:n},!0)}async setBackend(e){if(null==this.registryFactory[e])throw new Error("Backend name '".concat(e,"' not found in registry"));if(this.backendName=e,null==this.registry[e]){this.backendInstance=null;const{success:t,asyncInit:n}=this.initializeBackend(e);if(!(n?await t:t))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new js(this.backendInstance),!0}setupRegisteredKernels(){vs(this.backendName).forEach(e=>{null!=e.setupFunc&&e.setupFunc(this.backendInstance)})}disposeRegisteredKernels(e){vs(e).forEach(t=>{null!=t.disposeFunc&&t.disposeFunc(this.registry[e])})}initializeBackend(e){const t=this.registryFactory[e];if(null==t)throw new Error("Cannot initialize backend ".concat(e,", no registration found."));try{const n=t.factory();if(!n||n instanceof yr||"function"!==typeof n.then)return this.registry[e]=n,{success:!0,asyncInit:!1};{const t=++this.pendingBackendInitId,r=n.then(n=>!(t<this.pendingBackendInitId)&&(this.registry[e]=n,this.pendingBackendInit=null,!0)).catch(n=>(t<this.pendingBackendInitId||(this.pendingBackendInit=null,ps("Initialization of backend ".concat(e," failed")),ps(n.stack||n.message)),!1));return this.pendingBackendInit=r,{success:r,asyncInit:!0}}}catch(n){return ps("Initialization of backend ".concat(e," failed")),ps(n.stack||n.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error("".concat(e," backend not found in registry"));this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((e,t)=>this.registryFactory[t].priority-this.registryFactory[e].priority)}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t],{success:r,asyncInit:a}=this.initializeBackend(n);if(a||r)return{name:n,asyncInit:a}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,t){const n=this.state.tensorInfo.get(t),r=n.backend,a=this.readSync(t),o=r.refCount(t);r.disposeData(t,!0),n.backend=e,e.move(t,a,n.shape,n.dtype,o),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,t){let n,r=null;if(null==t){if("function"!==typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!==typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!==typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=e}return this.scopedRun(()=>this.startScope(r),()=>this.endScope(n),()=>(n=t(),n instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n))}scopedRun(e,t,n){e();try{const e=n();return t(),e}catch(r){throw t(),r}}nextTensorId(){return gl.nextTensorId++}nextVariableId(){return gl.nextVariableId++}clone(e){const t=yl.runKernel(go,{x:e}),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],e=>({x:()=>{const t={x:e},n={dtype:"float32"};return yl.runKernel(Ia,t,n)}}),[],{}),t}runKernel(e,t,n){null==this.backendName&&this.backend;if(!(null!=ms(e,this.backendName)))throw new Error("Kernel '".concat(e,"' not registered for backend '").concat(this.backendName,"'"));return this.runKernelFunc({kernelName:e,inputs:t,attrs:n})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,t,n){const r=this.backend.numDataIds();let a=0;n.forEach(e=>{a+="complex64"===e.dtype?3:1});const o=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],i=r-t-a-o;if(i>0)throw new Error("Backend '".concat(this.backendName,"' has an internal memory leak ")+"(".concat(i," data ids) after running '").concat(e,"'"))}runKernelFunc(e){let t,n=[];const r=this.isTapeOn(),a=this.state.numBytes,o=this.state.numTensors;let i,s;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0),null==this.backendName&&this.backend;const l=fl(e)?e.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(fl(e)){const{kernelName:t,inputs:a,attrs:o}=e;null==this.backendName&&this.backend;const l=ms(t,this.backendName);Sr(null!=l,()=>"Cannot find registered kernel '".concat(t,"' for backend '").concat(this.backendName,"'")),i=()=>{const e=this.backend.numDataIds();s=l.kernelFunc({inputs:a,attrs:o,backend:this.backend});const i=Array.isArray(s)?s:[s];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(t,e,i);const u=i.map(e=>null!=e.rank?e:this.makeTensorFromTensorInfo(e));if(r){const e=this.getTensorsForGradient(t,a,u);n=this.saveTensorsForBackwardMode(e)}return u}}else{const{forwardFunc:t}=e,a=e=>{r&&(n=e.map(e=>this.keep(this.clone(e))))};i=()=>{const e=this.backend.numDataIds();s=this.tidy(()=>t(this.backend,a));const n=Array.isArray(s)?s:[s];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(l,e,n),n}}const{inputs:u,attrs:c}=e,d=fl(e)?null:e.backwardsFunc;let p;return this.scopedRun(()=>this.state.kernelDepth++,()=>this.state.kernelDepth--,()=>{this.ENV.getBool("DEBUG")||this.state.profiling?(p=this.profiler.profileKernel(l,u,()=>i()),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(p),t=p.outputs):t=i()}),r&&this.addTapeNode(l,u,t,d,n,c),this.state.profiling&&this.state.activeProfile.kernels.push({name:l,bytesAdded:this.state.numBytes-a,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-o,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(u).map(e=>null!=u[e]?u[e].shape:null),outputShapes:t.map(e=>e.shape),kernelTimeMs:p.timeMs,extraInfo:p.extraInfo}),Array.isArray(s)?t:t[0]}saveTensorsForBackwardMode(e){const t=e.map(e=>this.keep(this.clone(e)));return t}getTensorsForGradient(e,t,n){const r=gs(e);if(null!=r){const e=r.inputsToSave||[],a=r.outputsToSave||[];let o;r.saveAllInputs?(Sr(Array.isArray(t),()=>"saveAllInputs is true, expected inputs to be an array."),o=Object.keys(t).map(e=>t[e])):o=e.map(e=>t[e]);const i=n.filter((e,t)=>a[t]);return o.concat(i)}return[]}makeTensor(e,t,n,r){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;let a=e;"string"===n&&Rr(e[0])&&(a=e.map(e=>zs(e)));const o=r.write(a,t,n),i=new el(t,n,o,this.nextTensorId());if(this.trackTensor(i,r),"string"===n){const e=this.state.tensorInfo.get(o),t=function(e){if(null==e)return 0;let t=0;return e.forEach(e=>t+=e.length),t}(a);this.state.numBytes+=t-e.bytes,e.bytes=t}return i}makeTensorFromDataId(e,t,n,r){const a={dataId:e,shape:t,dtype:n=n||"float32"};return this.makeTensorFromTensorInfo(a,r)}makeTensorFromTensorInfo(e,t){const{dataId:n,shape:r,dtype:a}=e,o=new el(r,a,n,this.nextTensorId());return this.trackTensor(o,t),o}makeVariable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;n=n||this.nextVariableId().toString(),null!=r&&r!==e.dtype&&(e=e.cast(r));const a=new tl(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[a.name])throw new Error("Variable with name ".concat(a.name," was already registered"));return this.state.registeredVariables[a.name]=a,this.incRef(a,this.backend),a}trackTensor(e,t){this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++;let n=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(n=e.size*Fr(e.dtype)),this.state.numBytes+=n,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:n})),e instanceof tl||this.track(e)}incRef(e,t){this.trackTensor(e,t),this.backend.incRef(e.dataId)}removeDataId(e,t){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===t&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const t=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,"string"===e.dtype&&(this.state.numStringTensors--,this.state.numBytes-=t.bytes),"complex64"!==e.dtype&&"string"!==e.dtype){const t=e.size*Fr(e.dtype);this.state.numBytes-=t}t.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,t.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const t=this.state.registeredVariables[e];this.disposeVariable(t)}}disposeVariable(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const t=this.state.numBytes,n=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map(e=>e.totalBytesSnapshot)),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-n;for(const r of this.state.activeProfile.kernels)r.kernelTimeMs=await r.kernelTimeMs,r.extraInfo=await r.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}addTapeNode(e,t,n,r,a,o){const i={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:a},s=gs(e);null!=s&&(r=s.gradFunc),null!=r&&(i.gradient=e=>(e=e.map((e,t)=>{if(null==e){const e=n[t],r=Ur(e.size,e.dtype);return this.makeTensor(r,e.shape,e.dtype)}return e}),r(e.length>1?e:e[0],a,o))),this.state.activeTape.push(i)}keep(e){return e.kept=!0,e}startTape(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t}endScope(e){const t=pl(e),n=new Set(t.map(e=>e.id));for(let a=0;a<this.state.activeScope.track.length;a++){const e=this.state.activeScope.track[a];e.kept||n.has(e.id)||e.dispose()}const r=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],t.forEach(e=>{e.kept||e.scopeId!==r.id||this.track(e)})}gradients(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Sr(t.length>0,()=>"gradients() received an empty list of xs."),null!=n&&"float32"!==n.dtype)throw new Error("dy must have 'float32' dtype, but has '".concat(n.dtype,"'"));const a=this.scopedRun(()=>this.startTape(),()=>this.endTape(),()=>this.tidy("forward",e));Sr(a instanceof el,()=>"The result y returned by f() must be a tensor.");const o=function(e,t,n){const r={},a={};for(let l=0;l<t.length;l++)r[t[l].id]=!0;for(let l=0;l<e.length;l++){const n=e[l],o=n.inputs;for(const e in o){const i=o[e];let s=!1;for(let e=0;e<t.length;e++)if(r[i.id]){n.outputs.forEach(e=>r[e.id]=!0),s=!0,a[n.id]=!0;break}if(s)break}}const o={};o[n.id]=!0;const i={};for(let l=e.length-1;l>=0;l--){const t=e[l],n=t.inputs;for(let e=0;e<t.outputs.length;e++)if(o[t.outputs[e].id]){for(const e in n)o[n[e].id]=!0,i[t.id]=!0;break}}const s=[];for(let l=0;l<e.length;l++){const t=e[l];if(a[t.id]&&i[t.id]){const e={};for(const a in t.inputs){const n=t.inputs[a];r[n.id]&&(e[a]=n)}const n=Object.assign({},t);n.inputs=e,n.outputs=t.outputs,s.push(n)}}return s}(this.state.activeTape,t,a);if(!r&&0===o.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",()=>{const e={};e[a.id]=null==n?function(e){const t=Wr(_r(e),"float32");return yl.makeTensor(t,e,"float32")}(a.shape):n,function(e,t,n,r){for(let a=t.length-1;a>=0;a--){const o=t[a],i=[];if(o.outputs.forEach(t=>{const n=e[t.id];null!=n?i.push(n):i.push(null)}),null==o.gradient)throw new Error("Cannot compute gradient: gradient function not found "+"for ".concat(o.kernelName,"."));const s=o.gradient(i);for(const t in o.inputs){if(!(t in s))throw new Error("Cannot backprop through input ".concat(t,". ")+"Available gradients found: ".concat(Object.keys(s),"."));const a=n(()=>s[t]());if("float32"!==a.dtype)throw new Error("Error in gradient for op ".concat(o.kernelName,". The gradient of input ")+"".concat(t," must have 'float32' dtype, but has '").concat(a.dtype,"'"));const i=o.inputs[t];if(!Er(a.shape,i.shape))throw new Error("Error in gradient for op ".concat(o.kernelName,". The gradient of input ")+"'".concat(t,"' has shape '").concat(a.shape,"', which does not match ")+"the shape of the input '".concat(i.shape,"'"));if(null==e[i.id])e[i.id]=a;else{const t=e[i.id];e[i.id]=r(t,a),t.dispose()}}}}(e,o,e=>this.tidy(e),bl);const r=t.map(t=>e[t.id]);return 0===this.state.gradientDepth&&(this.state.activeTape.forEach(e=>{for(const t of e.saved)t.dispose()}),this.state.activeTape=null),{value:a,grads:r}})}customGrad(e){var t=this;return Sr(Pr(e),()=>"The f passed in customGrad(f) must be a function."),function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];let o;Sr(r.every(e=>e instanceof el),()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors");const i={};r.forEach((e,t)=>{i[t]=e});return t.runKernelFunc({forwardFunc:(t,n)=>(o=e(...r,n),Sr(o.value instanceof el,()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),Sr(Pr(o.gradFunc),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),o.value),backwardsFunc:(e,t)=>{const n=o.gradFunc(e,t),a=Array.isArray(n)?n:[n];Sr(a.length===r.length,()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),Sr(a.every(e=>e instanceof el),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.");const i={};return a.forEach((e,t)=>{i[t]=()=>e}),i},inputs:i})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,t){return this.state.tensorInfo.get(e).backend.readToGPU(e,t)}async time(e){const t=Ls(),n=await this.backend.time(e);return n.wallMs=Ls()-t,n}track(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new ml;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}function vl(){const e=Zr();if(null==e._tfengine){const t=new $r(e);e._tfengine=new gl(t)}var t;return t=e._tfengine.ENV,Jr=t,Xs=()=>e._tfengine,e._tfengine}gl.nextTensorId=0,gl.nextVariableId=0;const yl=vl();function bl(e,t){const n={a:e,b:t};return yl.runKernel(aa,n)}const wl=Qr();function kl(e,t){let n=e;if(Ws(e))return"string"===t?[]:[e.length];if(ul(e)){const t=e.channels||"RGBA";return[e.height,e.width*t.length]}if(cl(e))return[e.buffer.size/(null==t?4:Fr(t))];if(!Array.isArray(e))return[];const r=[];for(;Array.isArray(n)||Ws(n)&&"string"!==t;)r.push(n.length),n=n[0];return Array.isArray(e)&&Qr().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&Sl(e,r,[]),r}function Sl(e,t,n){if(n=n||[],!Array.isArray(e)&&!Ws(e))return void Sr(0===t.length,()=>"Element arr[".concat(n.join("]["),"] is a primitive, ")+"but should be an array/TypedArray of ".concat(t[0]," elements"));Sr(t.length>0,()=>"Element arr[".concat(n.join("]["),"] should be a primitive, ")+"but is an array of ".concat(e.length," elements")),Sr(e.length===t[0],()=>"Element arr[".concat(n.join("]["),"] should have ").concat(t[0]," ")+"elements, but has ".concat(e.length," elements"));const r=t.slice(1);for(let a=0;a<e.length;++a)Sl(e[a],r,n.concat(a))}function xl(e,t,n,r){if("string_or_numeric"!==e){if(null==e)throw new Error("Expected dtype cannot be null.");if("numeric"!==e&&e!==t||"numeric"===e&&"string"===t)throw new Error("Argument '".concat(n,"' passed to '").concat(r,"' must ")+"be ".concat(e," tensor, but got ").concat(t," tensor"))}}function Il(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(e instanceof el)return xl(r,e.dtype,t,n),e;let a=Dr(e);if("string"!==a&&["bool","int32","float32"].indexOf(r)>=0&&(a=r),xl(r,a,t,n),null==e||!Ws(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e){const r=null==e?"null":e.constructor.name;throw new Error("Argument '".concat(t,"' passed to '").concat(n,"' must be a ")+"Tensor or TensorLike, but got '".concat(r,"'"))}const o=kl(e,a);Ws(e)||Array.isArray(e)||(e=[e]);const i="string"!==a?Ps(e,a):Us(e,[],!0);return yl.makeTensor(i,o,a)}function _l(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(!Array.isArray(e))throw new Error("Argument ".concat(t," passed to ").concat(n," must be a ")+"`Tensor[]` or `TensorLike[]`");return e.map((e,a)=>Il(e,"".concat(t,"[").concat(a,"]"),n,r))}wl.registerFlag("DEBUG",()=>!1,e=>{e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")}),wl.registerFlag("IS_BROWSER",()=>"undefined"!==typeof window&&null!=window.document||"undefined"!==typeof WorkerGlobalScope),wl.registerFlag("IS_NODE",()=>"undefined"!==typeof process&&"undefined"!==typeof process.versions&&"undefined"!==typeof process.versions.node),wl.registerFlag("IS_CHROME",()=>"undefined"!==typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)),wl.registerFlag("IS_SAFARI",()=>"undefined"!==typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor)),wl.registerFlag("PROD",()=>!1),wl.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",()=>wl.getBool("DEBUG")),wl.registerFlag("DEPRECATION_WARNINGS_ENABLED",()=>!0),wl.registerFlag("IS_TEST",()=>!1),wl.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",()=>wl.getBool("DEBUG")),wl.registerFlag("WRAP_TO_IMAGEBITMAP",()=>!1),wl.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",()=>!1),wl.registerFlag("USE_SETTIMEOUTCUSTOM",()=>!1);const El="__op";function Tl(e){const t=Object.keys(e);if(1!==t.length)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+"".concat(t.length," keys."));let n=t[0];const r=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n+=El;const a=function(){yl.startScope(n);try{const e=r(...arguments);return Gr(e)&&console.error("Cannot return a Promise inside of tidy."),yl.endScope(e),e}catch(e){throw yl.endScope(null),e}};return Object.defineProperty(a,"name",{value:n,configurable:!0}),a}const Nl=Tl({complex_:function(e,t){const n=Il(e,"real","complex"),r=Il(t,"imag","complex");xr(n.shape,r.shape,"real and imag shapes, ".concat(n.shape," and ").concat(r.shape,", ")+"must match in call to tf.complex().");const a={real:n,imag:r};return yl.runKernel(Ta,a)}});function Cl(e,t,n,r){if(null==r)r=Dr(e);else if("complex64"===r)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(cl(e)||ul(e)){if("float32"!==r&&"int32"!==r)throw new Error("Creating tensor from GPU data only supports "+"'float32'|'int32' dtype, while the dtype is ".concat(r,"."));return yl.backend.createTensorFromGPUData(e,t||n,r)}if(!Ws(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){Hr(t);const e=_r(t),r=_r(n);Sr(e===r,()=>"Based on the provided shape, [".concat(t,"], the tensor should have ")+"".concat(e," values but has ").concat(r));for(let a=0;a<n.length;++a){const e=n[a],r=a!==n.length-1||e!==_r(t.slice(a));Sr(n[a]===t[a]||!r,()=>"Error creating a new Tensor. Inferred shape "+"(".concat(n,") does not match the provided ")+"shape (".concat(t,"). "))}}return Ws(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==r?Ps(e,r):Us(e,[],!0),yl.makeTensor(e,t,r)}function Ml(e,t,n){return Cl(e,t,kl(e,n),n)}const Al={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};class Ol{static join(e){return new Ol(e).slice()}constructor(e){if(this.shards=[],this.previousShardIndex=0,null==e)return;if(e instanceof Array||(e=[e]),0===(e=e.map(e=>Ws(e)?e.buffer:e)).length)return;this.bufferUniformSize=e[0].byteLength;let t=0;for(let n=0;n<e.length;n++){const r=e[n];n!==e.length-1&&r.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);const a=t+r.byteLength;this.shards.push({buffer:r,start:t,end:a}),t=a}0===this.shards.length&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}slice(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.byteLength;if(0===this.shards.length)return new ArrayBuffer(0);if(e=isNaN(Number(e))?0:e,t=isNaN(Number(t))?0:t,e=Math.max(0,e),t=Math.min(this.byteLength,t),t<=e)return new ArrayBuffer(0);const n=this.findShardForByte(e);if(-1===n)throw new Error("Could not find start shard for byte ".concat(e));const r=new ArrayBuffer(t-e),a=new Uint8Array(r);let o=0;for(let i=n;i<this.shards.length;i++){const n=this.shards[i],r=e+o-n.start,s=o,l=Math.min(t,n.end)-n.start,u=new Uint8Array(n.buffer,r,l-r);if(a.set(u,s),o+=u.length,t<n.end)break}return r}findShardForByte(e){if(0===this.shards.length||e<0||e>=this.byteLength)return-1;if(null!=this.bufferUniformSize)return this.previousShardIndex=Math.floor(e/this.bufferUniformSize),this.previousShardIndex;function t(t){return e<t.start?-1:e>=t.end?1:0}if(0===t(this.shards[this.previousShardIndex]))return this.previousShardIndex;const n=function(e,t){let n=0,r=e.length;for(;n<=r;){const a=Math.floor((r-n)/2)+n,o=t(e[a]);if(0===o)return a;o<0?r=a:n=a+1}return-1}(this.shards,t);return-1===n?-1:(this.previousShardIndex=n,this.previousShardIndex)}}const Fl=4;async function Rl(e,t){const n=[],r=[],a=Array.isArray(e)?e.map(e=>e.name):Object.keys(e);for(let o=0;o<a.length;++o){const i=a[o],s=Array.isArray(e)?e[o].tensor:e[i];if("float32"!==s.dtype&&"int32"!==s.dtype&&"bool"!==s.dtype&&"string"!==s.dtype&&"complex64"!==s.dtype)throw new Error("Unsupported dtype in weight '".concat(i,"': ").concat(s.dtype));const l={name:i,shape:s.shape,dtype:s.dtype};if("string"===s.dtype){const e=new Promise(async e=>{const t=await s.bytes(),n=t.reduce((e,t)=>e+t.length,0)+Fl*t.length,r=new Uint8Array(n);let a=0;for(let o=0;o<t.length;o++){const e=t[o],n=new Uint8Array(new Uint32Array([e.length]).buffer);r.set(n,a),a+=Fl,r.set(e,a),a+=e.length}e(r)});r.push(e)}else r.push(s.data());null!=t&&(l.group=t),n.push(l)}return{data:Pl(await Promise.all(r)),specs:n}}function Dl(e,t){const n=new Ol(e),r={};let a,o=0;for(const i of t){const e=i.name,t=i.dtype,s=i.shape,l=_r(s);let u;if("quantization"in i){const r=i.quantization;if("uint8"===r.dtype||"uint16"===r.dtype){if(!("min"in r)||!("scale"in r))throw new Error("Weight ".concat(i.name," with quantization ").concat(r.dtype," ")+"doesn't have corresponding metadata min and scale.")}else{if("float16"!==r.dtype)throw new Error("Weight ".concat(i.name," has unknown ")+"quantization dtype ".concat(r.dtype,". ")+"Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.");if("float32"!==t)throw new Error("Weight ".concat(i.name," is quantized with ").concat(r.dtype," ")+"which only supports weights of type float32 not ".concat(t,"."))}const s=Al[r.dtype],c=n.slice(o,o+l*s),d="uint8"===r.dtype?new Uint8Array(c):new Uint16Array(c);if("float32"===t)if("uint8"===r.dtype||"uint16"===r.dtype){u=new Float32Array(d.length);for(let e=0;e<d.length;e++){const t=d[e];u[e]=t*r.scale+r.min}}else{if("float16"!==r.dtype)throw new Error("Unsupported quantization type ".concat(r.dtype," ")+"for weight type float32.");void 0===a&&(a=Gl()),u=a(d)}else{if("int32"!==t)throw new Error("Unsupported dtype in weight '".concat(e,"': ").concat(t));if("uint8"!==r.dtype&&"uint16"!==r.dtype)throw new Error("Unsupported quantization type ".concat(r.dtype," ")+"for weight type int32.");u=new Int32Array(d.length);for(let e=0;e<d.length;e++){const t=d[e];u[e]=Math.round(t*r.scale+r.min)}}o+=l*s}else if("string"===t){const e=_r(i.shape);u=[];for(let t=0;t<e;t++){const e=new Uint32Array(n.slice(o,o+Fl))[0];o+=Fl;const t=new Uint8Array(n.slice(o,o+e));u.push(t),o+=e}}else{const a=Al[t],i=n.slice(o,o+l*a);if("float32"===t)u=new Float32Array(i);else if("int32"===t)u=new Int32Array(i);else if("bool"===t)u=new Uint8Array(i);else{if("complex64"!==t)throw new Error("Unsupported dtype in weight '".concat(e,"': ").concat(t));{u=new Float32Array(i);const t=new Float32Array(u.length/2),n=new Float32Array(u.length/2);for(let e=0;e<t.length;e++)t[e]=u[2*e],n[e]=u[2*e+1];const a=Ml(t,s,"float32"),o=Ml(n,s,"float32");r[e]=Nl(a,o),a.dispose(),o.dispose()}}o+=l*a}"complex64"!==t&&(r[e]=Ml(u,s,t))}return r}function Pl(e){if(null===e)throw new Error("Invalid input value: ".concat(JSON.stringify(e)));let t=0;const n=[];e.forEach(e=>{if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: ".concat(e.constructor.name))});const r=new Uint8Array(t);let a=0;return n.forEach(e=>{r.set(new Uint8Array(e.buffer),a),a+=e.byteLength}),r.buffer}const Ll="undefined"!==typeof Buffer&&("undefined"===typeof Blob||"undefined"===typeof atob||"undefined"===typeof btoa);function zl(e){return Ll?Buffer.byteLength(e,"utf8"):new Blob([e]).size}function Bl(e){return Ol.join(e)}function Wl(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);const t=e.split("/");return t[t.length-1]}function Ul(e,t){const n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:t};return null!=e.signature&&(n.signature=e.signature),null!=e.userDefinedMetadata&&(n.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(n.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(n.initializerSignature=e.initializerSignature),null!=e.trainingConfig&&(n.trainingConfig=e.trainingConfig),n}function jl(e,t,n){const r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy};if(null!=e.trainingConfig&&(r.trainingConfig=e.trainingConfig),null!=e.weightsManifest){if(!t)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");r.weightSpecs=t,r.weightData=n}return null!=e.signature&&(r.signature=e.signature),null!=e.userDefinedMetadata&&(r.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(r.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(r.initializerSignature=e.initializerSignature),r}async function Hl(e,t){let n,r;return null!=e.weightsManifest&&([n,r]=await t(e.weightsManifest)),jl(e,n,r)}function Vl(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:zl(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:zl(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:new Ol(e.weightData).byteLength}}function ql(e){const t=[];for(const n of e)t.push(...n.weights);return t}function Gl(){const e=function(){const e=e=>{let t=e<<13,n=0;for(;0===(8388608&t);)n-=8388608,t<<=1;return t&=-8388609,n+=947912704,t|n},t=new Uint32Array(2048);t[0]=0;for(let n=1;n<1024;n++)t[n]=e(n);for(let n=1024;n<2048;n++)t[n]=939524096+(n-1024<<13);return t}(),t=function(){const e=new Uint32Array(64);e[0]=0,e[31]=1199570944,e[32]=2147483648,e[63]=3347054592;for(let t=1;t<31;t++)e[t]=t<<23;for(let t=33;t<63;t++)e[t]=2147483648+(t-32<<23);return e}(),n=function(){const e=new Uint32Array(64);for(let t=0;t<64;t++)e[t]=1024;return e[0]=e[32]=0,e}();return r=>{const a=new ArrayBuffer(4*r.length),o=new Uint32Array(a);for(let i=0;i<r.length;i++){const a=r[i],s=e[n[a>>10]+(1023&a)]+t[a>>10];o[i]=s}return new Float32Array(a)}}class Kl{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return null==Kl.instance&&(Kl.instance=new Kl),Kl.instance}static registerSaveRouter(e){Kl.getInstance().saveRouters.push(e)}static registerLoadRouter(e){Kl.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return Kl.getHandlers(e,"save")}static getLoadHandlers(e,t){return Kl.getHandlers(e,"load",t)}static getHandlers(e,t,n){const r=[];return("load"===t?Kl.getInstance().loadRouters:Kl.getInstance().saveRouters).forEach(t=>{const a=t(e,n);null!==a&&r.push(a)}),r}}const $l=e=>Kl.registerSaveRouter(e),Yl=e=>Kl.registerLoadRouter(e),Ql=e=>Kl.getSaveHandlers(e),Xl=(e,t)=>Kl.getLoadHandlers(e,t),Jl="tensorflowjs",Zl="models_store",eu="model_info_store";function tu(){if(!Qr().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const e="undefined"===typeof window?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function nu(e){const t=e.result;t.createObjectStore(Zl,{keyPath:"modelPath"}),t.createObjectStore(eu,{keyPath:"modelPath"})}class ru{constructor(e){if(this.indexedDB=tu(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,t){return new Promise((e,n)=>{const r=this.indexedDB.open(Jl,1);r.onupgradeneeded=()=>nu(r),r.onsuccess=()=>{const a=r.result;if(null==t){const t=a.transaction(Zl,"readonly"),r=t.objectStore(Zl).get(this.modelPath);r.onsuccess=()=>{if(null==r.result)return a.close(),n(new Error("Cannot find model with path '".concat(this.modelPath,"' ")+"in IndexedDB."));e(r.result.modelArtifacts)},r.onerror=e=>(a.close(),n(r.error)),t.oncomplete=()=>a.close()}else{t.weightData=Ol.join(t.weightData);const r=Vl(t),i=a.transaction(eu,"readwrite");let s,l,u=i.objectStore(eu);try{s=u.put({modelPath:this.modelPath,modelArtifactsInfo:r})}catch(o){return n(o)}s.onsuccess=()=>{l=a.transaction(Zl,"readwrite");const s=l.objectStore(Zl);let c;try{c=s.put({modelPath:this.modelPath,modelArtifacts:t,modelArtifactsInfo:r})}catch(o){return n(o)}c.onsuccess=()=>e({modelArtifactsInfo:r}),c.onerror=e=>{u=i.objectStore(eu);const t=u.delete(this.modelPath);t.onsuccess=()=>(a.close(),n(c.error)),t.onerror=e=>(a.close(),n(c.error))}},s.onerror=e=>(a.close(),n(s.error)),i.oncomplete=()=>{null==l?a.close():l.oncomplete=()=>a.close()}}},r.onerror=e=>n(r.error)})}}ru.URL_SCHEME="indexeddb://";const au=e=>{return Qr().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(ru.URL_SCHEME)?(t=e.slice(ru.URL_SCHEME.length),new ru(t)):null;var t};Kl.registerSaveRouter(au),Kl.registerLoadRouter(au);class ou{constructor(){this.indexedDB=tu()}async listModels(){return new Promise((e,t)=>{const n=this.indexedDB.open(Jl,1);n.onupgradeneeded=()=>nu(n),n.onsuccess=()=>{const r=n.result,a=r.transaction(eu,"readonly"),o=a.objectStore(eu).getAll();o.onsuccess=()=>{const t={};for(const e of o.result)t[e.modelPath]=e.modelArtifactsInfo;e(t)},o.onerror=e=>(r.close(),t(o.error)),a.oncomplete=()=>r.close()},n.onerror=e=>t(n.error)})}async removeModel(e){var t;return e=(t=e).startsWith(ru.URL_SCHEME)?t.slice(ru.URL_SCHEME.length):t,new Promise((t,n)=>{const r=this.indexedDB.open(Jl,1);r.onupgradeneeded=()=>nu(r),r.onsuccess=()=>{const a=r.result,o=a.transaction(eu,"readwrite"),i=o.objectStore(eu),s=i.get(e);let l;s.onsuccess=()=>{if(null==s.result)return a.close(),n(new Error("Cannot find model with path '".concat(e,"' ")+"in IndexedDB."));{const r=i.delete(e),o=()=>{l=a.transaction(Zl,"readwrite");const r=l.objectStore(Zl).delete(e);r.onsuccess=()=>t(s.result.modelArtifactsInfo),r.onerror=e=>n(s.error)};r.onsuccess=o,r.onerror=e=>(o(),a.close(),n(s.error))}},s.onerror=e=>(a.close(),n(s.error)),o.oncomplete=()=>{null==l?a.close():l.oncomplete=()=>a.close()}},r.onerror=e=>n(r.error)})}}const iu="/",su="tensorflowjs_models",lu="info",uu="model_topology",cu="weight_specs",du="weight_data",pu="model_metadata";function hu(e){return{info:[su,e,lu].join(iu),topology:[su,e,uu].join(iu),weightSpecs:[su,e,cu].join(iu),weightData:[su,e,du].join(iu),modelMetadata:[su,e,pu].join(iu)}}function fu(e){for(const t of Object.values(e))window.localStorage.removeItem(t)}function mu(e){const t=e.split(iu);if(t.length<3)throw new Error("Invalid key format: ".concat(e));return t.slice(1,t.length-1).join(iu)}class gu{constructor(e){if(!Qr().getBool("IS_BROWSER")||"undefined"===typeof window||"undefined"===typeof window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=hu(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const n=JSON.stringify(e.modelTopology),r=JSON.stringify(e.weightSpecs),a=Vl(e),o=Ol.join(e.weightData);try{this.LS.setItem(this.keys.info,JSON.stringify(a)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,function(e){if(Ll)return Buffer.from(e).toString("base64");const t=new Uint8Array(e);let n="";for(let r=0,a=t.length;r<a;r++)n+=String.fromCharCode(t[r]);return btoa(n)}(o));const t={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:null!=e.signature?e.signature:void 0,userDefinedMetadata:null!=e.userDefinedMetadata?e.userDefinedMetadata:void 0,modelInitializer:null!=e.modelInitializer?e.modelInitializer:void 0,initializerSignature:null!=e.initializerSignature?e.initializerSignature:void 0,trainingConfig:null!=e.trainingConfig?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(t)),{modelArtifactsInfo:a}}catch(t){throw fu(this.keys),new Error("Failed to save model '".concat(this.modelPath,"' to local storage: ")+"size quota being exceeded is a possible cause of this failure: "+"modelTopologyBytes=".concat(a.modelTopologyBytes,", ")+"weightSpecsBytes=".concat(a.weightSpecsBytes,", ")+"weightDataBytes=".concat(a.weightDataBytes,"."))}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(null==e)throw new Error("In local storage, there is no model with name '".concat(this.modelPath,"'"));if("JSON"!==e.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const t={},n=JSON.parse(this.LS.getItem(this.keys.topology));if(null==n)throw new Error("In local storage, the topology of model '".concat(this.modelPath,"' ")+"is missing.");t.modelTopology=n;const r=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(null==r)throw new Error("In local storage, the weight specs of model '".concat(this.modelPath,"' ")+"are missing.");t.weightSpecs=r;const a=this.LS.getItem(this.keys.modelMetadata);if(null!=a){const e=JSON.parse(a);t.format=e.format,t.generatedBy=e.generatedBy,t.convertedBy=e.convertedBy,null!=e.signature&&(t.signature=e.signature),null!=e.userDefinedMetadata&&(t.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(t.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(t.initializerSignature=e.initializerSignature),null!=e.trainingConfig&&(t.trainingConfig=e.trainingConfig)}const o=this.LS.getItem(this.keys.weightData);if(null==o)throw new Error("In local storage, the binary weight values of model "+"'".concat(this.modelPath,"' are missing."));return t.weightData=function(e){if(Ll){const t=Buffer.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;++r)n.set([t.charCodeAt(r)],r);return n.buffer}(o),t}}gu.URL_SCHEME="localstorage://";const vu=e=>{return Qr().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(gu.URL_SCHEME)?(t=e.slice(gu.URL_SCHEME.length),new gu(t)):null;var t};Kl.registerSaveRouter(vu),Kl.registerLoadRouter(vu);class yu{constructor(){Sr(Qr().getBool("IS_BROWSER"),()=>"Current environment is not a web browser"),Sr("undefined"===typeof window||"undefined"!==typeof window.localStorage,()=>"Current browser does not appear to support localStorage"),this.LS=window.localStorage}async listModels(){const e={},t=su+iu,n=iu+lu;for(let r=0;r<this.LS.length;++r){const a=this.LS.key(r);if(a.startsWith(t)&&a.endsWith(n)){e[mu(a)]=JSON.parse(this.LS.getItem(a))}}return e}async removeModel(e){var t;const n=hu(e=(t=e).startsWith(gu.URL_SCHEME)?t.slice(gu.URL_SCHEME.length):t);if(null==this.LS.getItem(n.info))throw new Error("Cannot find model at path '".concat(e,"'"));const r=JSON.parse(this.LS.getItem(n.info));return fu(n),r}}const bu="://";class wu{constructor(){this.managers={}}static getInstance(){return null==wu.instance&&(wu.instance=new wu),wu.instance}static registerManager(e,t){Sr(null!=e,()=>"scheme must not be undefined or null."),e.endsWith(bu)&&(e=e.slice(0,e.indexOf(bu))),Sr(e.length>0,()=>"scheme must not be an empty string.");const n=wu.getInstance();Sr(null==n.managers[e],()=>"A model store manager is already registered for scheme '".concat(e,"'.")),n.managers[e]=t}static getManager(e){const t=wu.getInstance().managers[e];if(null==t)throw new Error("Cannot find model manager for scheme '".concat(e,"'"));return t}static getSchemes(){return Object.keys(wu.getInstance().managers)}}function ku(e){if(-1===e.indexOf(bu))throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+"".concat(wu.getSchemes().join(",")));return{scheme:e.split(bu)[0],path:e.split(bu)[1]}}async function Su(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Sr(e!==t,()=>"Old path and new path are the same: '".concat(e,"'"));const r=Kl.getLoadHandlers(e);Sr(r.length>0,()=>"Copying failed because no load handler is found for source URL ".concat(e,".")),Sr(r.length<2,()=>"Copying failed because more than one (".concat(r.length,") ")+"load handlers for source URL ".concat(e,"."));const a=r[0],o=Kl.getSaveHandlers(t);Sr(o.length>0,()=>"Copying failed because no save handler is found for destination "+"URL ".concat(t,".")),Sr(o.length<2,()=>"Copying failed because more than one (".concat(r.length,") ")+"save handlers for destination URL ".concat(t,"."));const i=o[0],s=ku(e).scheme,l=ku(e).path,u=s===ku(e).scheme,c=await a.load();n&&u&&await wu.getManager(s).removeModel(l);const d=await i.save(c);return n&&!u&&await wu.getManager(s).removeModel(l),d.modelArtifactsInfo}async function xu(){const e=wu.getSchemes(),t={};for(const n of e){const e=await wu.getManager(n).listModels();for(const r in e){t[n+bu+r]=e[r]}}return t}async function Iu(e){const t=ku(e);return wu.getManager(t.scheme).removeModel(t.path)}async function _u(e,t){return Su(e,t,!1)}async function Eu(e,t){return Su(e,t,!0)}class Tu{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(e,t){return fetch(e,t)}now(){return performance.now()}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Browser's encoder only supports utf-8, but got ".concat(t));return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,t){return new TextDecoder(t).decode(e)}setTimeoutCustom(e,t){"undefined"!==typeof window&&Qr().getBool("USE_SETTIMEOUTCUSTOM")?(this.functionRefs.push(e),setTimeout(()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")},t),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",e=>{if(e.source===window&&e.data.name===this.messageName){e.stopPropagation();(0,this.functionRefs[e.data.index])(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}},!0))):setTimeout(e,t)}isTypedArray(e){return ws(e)}}if(Qr().get("IS_BROWSER")){Qr().setPlatform("browser",new Tu);try{wu.registerManager(gu.URL_SCHEME,new yu)}catch(uq){}try{wu.registerManager(ru.URL_SCHEME,new ou)}catch(uq){}}const Nu=()=>n(5817);let Cu;class Mu{constructor(){this.util=n(8590),this.textEncoder=new this.util.TextEncoder}fetch(e,t){return null!=Qr().global.fetch?Qr().global.fetch(e,t):(null==Cu&&(Cu=Nu()),Cu(e,t))}now(){const e=process.hrtime();return 1e3*e[0]+e[1]/1e6}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Node built-in encoder only supports utf-8, but got ".concat(t));return this.textEncoder.encode(e)}decode(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)}isTypedArray(e){return this.util.types.isFloat32Array(e)||this.util.types.isInt32Array(e)||this.util.types.isUint8Array(e)||this.util.types.isUint8ClampedArray(e)}}function Au(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32",n=arguments.length>2?arguments[2]:void 0;return t=t||"float32",Hr(e),new Qs(e,t,n)}Qr().get("IS_NODE")&&!Qr().get("IS_BROWSER")&&Qr().setPlatform("node",new Mu);const Ou=Tl({cast_:function(e,t){const n=Il(e,"x","cast");if(!function(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}(t))throw new Error("Failed to cast to unknown dtype ".concat(t));if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");const r={x:n},a={dtype:t};return yl.runKernel(Ia,r,a)}});const Fu=Tl({clone_:function(e){const t={x:Il(e,"x","clone","string_or_numeric")};return yl.runKernel(go,t)}});function Ru(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log(e.toString(t))}vl();function Du(){return yl}function Pu(e,t){return yl.tidy(e,t)}function Lu(e){pl(e).forEach(e=>e.dispose())}function zu(e){return yl.keep(e)}function Bu(e){return yl.setBackend(e)}function Wu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return yl.registerBackend(e,t,n)}Js={buffer:Au,cast:Ou,clone:Fu,print:Ru},Zs=function(e){Qr().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")};const Uu=Tl({add_:function(e,t){let n=Il(e,"a","add"),r=Il(t,"b","add");[n,r]=dl(n,r);const a={a:n,b:r};return yl.runKernel(aa,a)}});const ju=Tl({floorDiv_:function(e,t){let n=Il(e,"a","floorDiv"),r=Il(t,"b","floorDiv");[n,r]=dl(n,r);const a={a:n,b:r};return yl.runKernel(uo,a)}});const Hu=Tl({div_:function(e,t){let n=Il(e,"a","div"),r=Il(t,"b","div");if([n,r]=dl(n,r),"int32"===n.dtype&&"int32"===r.dtype)return ju(n,r);const a={a:n,b:r};return yl.runKernel(Xa,a,{})}});const Vu=Tl({mul_:function(e,t){let n=Il(e,"a","mul"),r=Il(t,"b","mul");[n,r]=dl(n,r);const a={a:n,b:r};return yl.runKernel(Go,a)}});const qu=Tl({sqrt_:function(e){const t={x:Il(e,"x","sqrt","float32")};return yl.runKernel(Oi,t)}});const Gu=Tl({square_:function(e){const t=Il(e,"x","square");return yl.runKernel("Square",{x:t},{})}});const Ku=Tl({zerosLike_:function(e){const t={x:Il(e,"x","zerosLike")};return yl.runKernel(os,t)}});function $u(e){return yl.customGrad(e)}function Yu(e,t){if((Ws(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&Ws(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return Cl(e,[],[],t)}const Qu=new Map,Xu=new Map;class Ju{getClassName(){return this.constructor.className}static fromConfig(e,t){return new e(t)}}class Zu{constructor(){this.classNameMap={}}static getMap(){return null==Zu.instance&&(Zu.instance=new Zu),Zu.instance}static register(e){Zu.getMap().classNameMap[e.className]=[e,e.fromConfig]}}function ec(e,t,n){Sr(null!=e.className,()=>"Class being registered does not have the static className property defined."),Sr("string"===typeof e.className,()=>"className is required to be a string, but got type "+typeof e.className),Sr(e.className.length>0,()=>"Class being registered has an empty-string as its className, which is disallowed."),"undefined"===typeof t&&(t="Custom"),"undefined"===typeof n&&(n=e.className);const r=t+">"+n;return Zu.register(e),Qu.set(r,e),Xu.set(e,r),e}class tc extends Ju{minimize(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;const{value:r,grads:a}=this.computeGradients(e,n);if(null!=n){const e=n.map(e=>({name:e.name,tensor:a[e.name]}));this.applyGradients(e)}else this.applyGradients(a);return Lu(a),t?r:(r.dispose(),null)}get iterations(){return null==this.iterations_&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,t){return function(e,t){Sr(Pr(e),()=>"The f passed in variableGrads(f) must be a function"),Sr(null==t||Array.isArray(t)&&t.every(e=>e instanceof tl),()=>"The varList passed in variableGrads(f, varList) must be an array of variables");const n=null!=t;if(!n){t=[];for(const e in yl.registeredVariables)t.push(yl.registeredVariables[e])}const r=n?t.filter(e=>!e.trainable):null,a=t.length;t=t.filter(e=>e.trainable),Sr(t.length>0,()=>"variableGrads() expects at least one of the input variables to "+"be trainable, but none of the ".concat(a," variables is ")+"trainable.");const{value:o,grads:i}=yl.gradients(e,t,null,!0);Sr(i.some(e=>null!=e),()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),Sr(0===o.rank,()=>"The f passed in variableGrads(f) must return a scalar, but it "+"returned a rank-".concat(o.rank," tensor"));const s={};return t.forEach((e,t)=>{null!=i[t]&&(s[e.name]=i[t])}),null!=r&&r.forEach(e=>s[e.name]=null),{value:o,grads:s}}(e,t)}dispose(){null!=this.iterations_&&Lu(this.iterations_)}async saveIterations(){return null==this.iterations_&&(this.iterations_=0),{name:"iter",tensor:Yu(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for this optimizer class "+"".concat(this.getClassName()))}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}}Object.defineProperty(tc,Symbol.hasInstance,{value:e=>null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients});function nc(e,t,n){Hr(e);const r={shape:e,value:t,dtype:n=n||Dr(t)};return yl.runKernel(io,{},r)}const rc=Tl({pow_:function(e,t){let n=Il(e,"base","pow"),r=Il(t,"exp","pow");[n,r]=dl(n,r);const a={a:n,b:r};return yl.runKernel(ni,a)}});const ac=Tl({sub_:function(e,t){let n=Il(e,"a","sub"),r=Il(t,"b","sub");[n,r]=dl(n,r);const a={a:n,b:r};return yl.runKernel(Yi,a)}});const oc=Tl({abs_:function(e){const t=Il(e,"x","abs");if("complex64"===t.dtype){const e={x:t};return yl.runKernel(Na,e)}{const e={x:t};return yl.runKernel(ta,e)}}});function ic(e,t){const n=e.length,r=[];for(let a=0;a<n;a++){const o=n-1-a,i=e[o]||1;(t[t.length-1-a]||1)>1&&1===i&&r.unshift(o)}return r}function sc(e,t){const n=Math.max(e.length,t.length),r=new Array(n);for(let a=0;a<n;a++){let o=e[e.length-a-1];null==o&&(o=1);let i=t[t.length-a-1];if(null==i&&(i=1),1===o)r[n-a-1]=i;else if(1===i)r[n-a-1]=o;else{if(o!==i){const n="Operands could not be broadcast together with shapes "+"".concat(e," and ").concat(t,".");throw Error(n)}r[n-a-1]=o}}return r}const lc=Tl({maximum_:function(e,t){let n=Il(e,"a","maximum"),r=Il(t,"b","maximum");[n,r]=dl(n,r),"bool"===n.dtype&&(n=Ou(n,"int32"),r=Ou(r,"int32")),sc(n.shape,r.shape);const a={a:n,b:r};return yl.runKernel(Ro,a)}});class uc extends tc{static get className(){return"SGD"}constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){const t=Array.isArray(e)?e.map(e=>e.name):Object.keys(e);t.forEach((t,n)=>{const r=Array.isArray(e)?e[n].tensor:e[t];if(null==r)return;const a=yl.registeredVariables[t];Pu(()=>{const e=Uu(Vu(this.c,r),a);a.assign(e)})}),this.incrementIterations()}setLearningRate(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=zu(Yu(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(0!==(e=await this.extractIterations(e)).length)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,t){return new e(t.learningRate)}}const cc=[class extends tc{static get className(){return"Adadelta"}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;super(),this.learningRate=e,this.rho=t,this.epsilon=n,this.accumulatedGrads=[],this.accumulatedUpdates=[],null==n&&(this.epsilon=yl.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map(e=>e.name):Object.keys(e)).forEach((t,n)=>{const r=yl.registeredVariables[t],a=!1;null==this.accumulatedGrads[n]&&(this.accumulatedGrads[n]={originalName:"".concat(t,"/accum_grad"),variable:Pu(()=>Ku(r).variable(a))}),null==this.accumulatedUpdates[n]&&(this.accumulatedUpdates[n]={originalName:"".concat(t,"/accum_var"),variable:Pu(()=>Ku(r).variable(a))});const o=Array.isArray(e)?e[n].tensor:e[t];if(null==o)return;const i=this.accumulatedGrads[n].variable,s=this.accumulatedUpdates[n].variable;Pu(()=>{const e=Uu(Vu(i,this.rho),Vu(Gu(o),1-this.rho)),t=Vu(Hu(qu(Uu(s,this.epsilon)),qu(Uu(i,this.epsilon))),o),n=Uu(Vu(s,this.rho),Vu(Gu(t),1-this.rho));i.assign(e),s.assign(n);const a=Uu(Vu(t,-this.learningRate),r);r.assign(a)})}),this.incrementIterations()}dispose(){null!=this.accumulatedUpdates&&(Lu(this.accumulatedGrads.map(e=>e.variable)),Lu(this.accumulatedUpdates.map(e=>e.variable)))}async getWeights(){const e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){const t=(e=await this.extractIterations(e)).length/2,n=!1;this.accumulatedGrads=e.slice(0,t).map(e=>({originalName:e.name,variable:e.tensor.variable(n)})),this.accumulatedUpdates=e.slice(t,2*t).map(e=>({originalName:e.name,variable:e.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.rho,t.epsilon)}},class extends tc{static get className(){return"Adagrad"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;super(),this.learningRate=e,this.initialAccumulatorValue=t,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map(e=>e.name):Object.keys(e)).forEach((t,n)=>{const r=yl.registeredVariables[t];if(null==this.accumulatedGrads[n]){const e=!1;this.accumulatedGrads[n]={originalName:"".concat(t,"/accumulator"),variable:Pu(()=>nc(r.shape,this.initialAccumulatorValue).variable(e))}}const a=Array.isArray(e)?e[n].tensor:e[t];if(null==a)return;const o=this.accumulatedGrads[n].variable;Pu(()=>{const e=Uu(o,Gu(a));o.assign(e);const t=Uu(Vu(Hu(a,qu(Uu(e,yl.backend.epsilon()))),-this.learningRate),r);r.assign(t)})}),this.incrementIterations()}dispose(){null!=this.accumulatedGrads&&Lu(this.accumulatedGrads.map(e=>e.variable))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);this.accumulatedGrads=e.map(e=>({originalName:e.name,variable:e.tensor.variable(false)}))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,t){return new e(t.learningRate,t.initialAccumulatorValue)}},class extends tc{static get className(){return"Adam"}constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super(),this.learningRate=e,this.beta1=t,this.beta2=n,this.epsilon=r,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],Pu(()=>{this.accBeta1=Yu(t).variable(),this.accBeta2=Yu(n).variable()}),null==r&&(this.epsilon=yl.backend.epsilon())}applyGradients(e){const t=Array.isArray(e)?e.map(e=>e.name):Object.keys(e);Pu(()=>{const n=ac(1,this.accBeta1),r=ac(1,this.accBeta2);t.forEach((t,a)=>{const o=yl.registeredVariables[t],i=!1;null==this.accumulatedFirstMoment[a]&&(this.accumulatedFirstMoment[a]={originalName:"".concat(t,"/m"),variable:Pu(()=>Ku(o).variable(i))}),null==this.accumulatedSecondMoment[a]&&(this.accumulatedSecondMoment[a]={originalName:"".concat(t,"/v"),variable:Pu(()=>Ku(o).variable(i))});const s=Array.isArray(e)?e[a].tensor:e[t];if(null==s)return;const l=this.accumulatedFirstMoment[a].variable,u=this.accumulatedSecondMoment[a].variable,c=Uu(Vu(l,this.beta1),Vu(s,1-this.beta1)),d=Uu(Vu(u,this.beta2),Vu(Gu(s),1-this.beta2)),p=Hu(c,n),h=Hu(d,r);l.assign(c),u.assign(d);const f=Uu(Vu(Hu(p,Uu(qu(h),this.epsilon)),-this.learningRate),o);o.assign(f)}),this.accBeta1.assign(Vu(this.accBeta1,this.beta1)),this.accBeta2.assign(Vu(this.accBeta2,this.beta2))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&Lu(this.accumulatedFirstMoment.map(e=>e.variable)),null!=this.accumulatedSecondMoment&&Lu(this.accumulatedSecondMoment.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e),Pu(()=>{this.accBeta1.assign(rc(this.beta1,this.iterations_+1)),this.accBeta2.assign(rc(this.beta2,this.iterations_+1))});const t=e.length/2,n=!1;this.accumulatedFirstMoment=e.slice(0,t).map(e=>({originalName:e.name,variable:e.tensor.variable(n)})),this.accumulatedSecondMoment=e.slice(t,2*t).map(e=>({originalName:e.name,variable:e.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)}},class extends tc{static get className(){return"Adamax"}constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;super(),this.learningRate=e,this.beta1=t,this.beta2=n,this.epsilon=r,this.decay=a,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],Pu(()=>{this.iteration=Yu(0).variable(),this.accBeta1=Yu(t).variable()}),null==r&&(this.epsilon=yl.backend.epsilon())}applyGradients(e){const t=Array.isArray(e)?e.map(e=>e.name):Object.keys(e);Pu(()=>{const n=ac(1,this.accBeta1),r=Hu(-this.learningRate,Uu(Vu(this.iteration,this.decay),1));t.forEach((t,a)=>{const o=yl.registeredVariables[t],i=!1;null==this.accumulatedFirstMoment[a]&&(this.accumulatedFirstMoment[a]={originalName:"".concat(t,"/m"),variable:Ku(o).variable(i)}),null==this.accumulatedWeightedInfNorm[a]&&(this.accumulatedWeightedInfNorm[a]={originalName:"".concat(t,"/v"),variable:Ku(o).variable(i)});const s=Array.isArray(e)?e[a].tensor:e[t];if(null==s)return;const l=this.accumulatedFirstMoment[a].variable,u=this.accumulatedWeightedInfNorm[a].variable,c=Uu(Vu(l,this.beta1),Vu(s,1-this.beta1)),d=Vu(u,this.beta2),p=oc(s),h=lc(d,p);l.assign(c),u.assign(h);const f=Uu(Vu(Hu(r,n),Hu(c,Uu(h,this.epsilon))),o);o.assign(f)}),this.iteration.assign(Uu(this.iteration,1)),this.accBeta1.assign(Vu(this.accBeta1,this.beta1))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&Lu(this.accumulatedFirstMoment.map(e=>e.variable)),null!=this.accumulatedWeightedInfNorm&&Lu(this.accumulatedWeightedInfNorm.map(e=>e.variable))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)}},class extends uc{static get className(){return"Momentum"}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];super(e),this.learningRate=e,this.momentum=t,this.useNesterov=n,this.accumulations=[],this.m=Yu(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map(e=>e.name):Object.keys(e)).forEach((t,n)=>{const r=yl.registeredVariables[t];if(null==this.accumulations[n]){const e=!1;this.accumulations[n]={originalName:"".concat(t,"/momentum"),variable:Pu(()=>Ku(r).variable(e))}}const a=this.accumulations[n].variable,o=Array.isArray(e)?e[n].tensor:e[t];null!=o&&Pu(()=>{let e;const t=Uu(Vu(this.m,a),o);e=this.useNesterov?Uu(Vu(this.c,Uu(o,Vu(t,this.m))),r):Uu(Vu(this.c,t),r),a.assign(t),r.assign(e)})}),this.incrementIterations()}dispose(){this.m.dispose(),null!=this.accumulations&&Lu(this.accumulations.map(e=>e.variable))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);this.accumulations=e.map(e=>({originalName:e.name,variable:e.tensor.variable(false)}))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)}},class extends tc{static get className(){return"RMSProp"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(super(),this.learningRate=e,this.decay=t,this.momentum=n,this.epsilon=r,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=a,null==r&&(this.epsilon=yl.backend.epsilon()),null==e)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map(e=>e.name):Object.keys(e)).forEach((t,n)=>{const r=yl.registeredVariables[t],a=!1;null==this.accumulatedMeanSquares[n]&&(this.accumulatedMeanSquares[n]={originalName:"".concat(t,"/rms"),variable:Pu(()=>Ku(r).variable(a))}),null==this.accumulatedMoments[n]&&(this.accumulatedMoments[n]={originalName:"".concat(t,"/momentum"),variable:Pu(()=>Ku(r).variable(a))}),null==this.accumulatedMeanGrads[n]&&this.centered&&(this.accumulatedMeanGrads[n]={originalName:"".concat(t,"/mg"),variable:Pu(()=>Ku(r).variable(a))});const o=Array.isArray(e)?e[n].tensor:e[t];if(null==o)return;const i=this.accumulatedMeanSquares[n].variable,s=this.accumulatedMoments[n].variable;Pu(()=>{const e=Uu(Vu(i,this.decay),Vu(Gu(o),1-this.decay));if(this.centered){const t=this.accumulatedMeanGrads[n].variable,a=Uu(Vu(t,this.decay),Vu(o,1-this.decay)),l=Hu(Vu(o,this.learningRate),qu(ac(e,Uu(Gu(a),this.epsilon)))),u=Uu(Vu(s,this.momentum),l);i.assign(e),t.assign(a),s.assign(u);const c=ac(r,u);r.assign(c)}else{const e=Uu(Vu(i,this.decay),Vu(Gu(o),1-this.decay)),t=Uu(Vu(s,this.momentum),Hu(Vu(o,this.learningRate),qu(Uu(e,this.epsilon))));i.assign(e),s.assign(t);const n=ac(r,t);r.assign(n)}})}),this.incrementIterations()}dispose(){null!=this.accumulatedMeanSquares&&Lu(this.accumulatedMeanSquares.map(e=>e.variable)),null!=this.accumulatedMeanGrads&&this.centered&&Lu(this.accumulatedMeanGrads.map(e=>e.variable)),null!=this.accumulatedMoments&&Lu(this.accumulatedMoments.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const t=this.centered?e.length/3:e.length/2,n=!1;this.accumulatedMeanSquares=e.slice(0,t).map(e=>({originalName:e.name,variable:e.tensor.variable(n)})),this.accumulatedMoments=e.slice(t,2*t).map(e=>({originalName:e.name,variable:e.tensor.variable(n)})),this.centered&&(this.accumulatedMeanGrads=e.slice(2*t,3*t).map(e=>({originalName:e.name,variable:e.tensor.variable(n)})))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)}},uc];function dc(e){return new Promise(e=>setTimeout(e)).then(e)}class pc{constructor(e){if(!Qr().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(pc.URL_SCHEME)&&(e=e.slice(pc.URL_SCHEME.length)),null!=e&&0!==e.length||(e="model"),this.modelJsonFileName=e+".json",this.weightDataFileName=e+".weights.bin"}async save(e){if("undefined"===typeof document)throw new Error("Browser downloads are not supported in this environment since `document` is not present");const t=Ol.join(e.weightData),n=window.URL.createObjectURL(new Blob([t],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const t=Ul(e,[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}]),r=window.URL.createObjectURL(new Blob([JSON.stringify(t)],{type:"application/json"})),a=null==this.modelJsonAnchor?document.createElement("a"):this.modelJsonAnchor;if(a.download=this.modelJsonFileName,a.href=r,await dc(()=>a.dispatchEvent(new MouseEvent("click"))),null!=e.weightData){const e=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor;e.download=this.weightDataFileName,e.href=n,await dc(()=>e.dispatchEvent(new MouseEvent("click")))}return{modelArtifactsInfo:Vl(e)}}}}pc.URL_SCHEME="downloads://";class hc{constructor(e){if(null==e||e.length<1)throw new Error("When calling browserFiles, at least 1 file is required, "+"but received ".concat(e));this.jsonFile=e[0],this.weightsFiles=e.slice(1)}async load(){return new Promise((e,t)=>{const n=new FileReader;n.onload=n=>{const r=JSON.parse(n.target.result),a=r.modelTopology;if(null==a)return void t(new Error("modelTopology field is missing from file ".concat(this.jsonFile.name)));if(null==r.weightsManifest)return void t(new Error("weightManifest field is missing from file ".concat(this.jsonFile.name)));if(0===this.weightsFiles.length)return void e({modelTopology:a});const o=Hl(r,e=>this.loadWeights(e));e(o)},n.onerror=e=>t("Failed to read model topology and weights manifest JSON "+"from file '".concat(this.jsonFile.name,"'. BrowserFiles supports loading ")+"Keras-style tf.Model artifacts only."),n.readAsText(this.jsonFile)})}loadWeights(e){const t=[],n=[];for(const o of e)t.push(...o.weights),n.push(...o.paths);const r=this.checkManifestAndWeightFiles(e),a=n.map(e=>this.loadWeightsFile(e,r[e]));return Promise.all(a).then(e=>[t,e])}loadWeightsFile(e,t){return new Promise((n,r)=>{const a=new FileReader;a.onload=e=>{const t=e.target.result;n(t)},a.onerror=t=>r("Failed to weights data from file of path '".concat(e,"'.")),a.readAsArrayBuffer(t)})}checkManifestAndWeightFiles(e){const t=[],n=this.weightsFiles.map(e=>Wl(e.name)),r={};for(const a of e)a.paths.forEach(e=>{const a=Wl(e);if(-1!==t.indexOf(a))throw new Error("Duplicate file basename found in weights manifest: "+"'".concat(a,"'"));if(t.push(a),-1===n.indexOf(a))throw new Error("Weight file with basename '".concat(a,"' is not provided."));r[e]=this.weightsFiles[n.indexOf(a)]});if(t.length!==this.weightsFiles.length)throw new Error("Mismatch in the number of files in weights manifest "+"(".concat(t.length,") and the number of weight files provided ")+"(".concat(this.weightsFiles.length,")."));return r}}function fc(e){return new hc(e)}function mc(e,t,n,r){!function(e){Sr(null!=e&&Array.isArray(e)&&e.length>0,()=>"promises must be a none empty array")}(e),function(e,t){Sr(e>=0&&e<=1,()=>"Progress fraction must be in range [0, 1], but "+"got startFraction ".concat(e)),Sr(t>=0&&t<=1,()=>"Progress fraction must be in range [0, 1], but "+"got endFraction ".concat(t)),Sr(t>=e,()=>"startFraction must be no more than endFraction, but "+"got startFraction ".concat(e," and endFraction ")+"".concat(t))}(n=null==n?0:n,r=null==r?1:r);let a=0;return Promise.all(e.map(o=>(o.then(o=>{const i=n+ ++a/e.length*(r-n);return t(i),o}),o)))}async function gc(e,t){null==t&&(t={});const n=null==t.fetchFunc?Qr().platform.fetch:t.fetchFunc,r=e.map(e=>n(e,t.requestInit,{isBinary:!0})),a=(null==t.onProgress?await Promise.all(r):await mc(r,t.onProgress,0,.5)).map(e=>e.arrayBuffer());return null==t.onProgress?await Promise.all(a):await mc(a,t.onProgress,.5,1)}async function vc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return yc(e=>gc(e,{requestInit:r}))(e,t,n)}function yc(e){return async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;const a=t.map(()=>!1),o={},i=null!=r?r.map(()=>!1):[],s=[];if(t.forEach((e,t)=>{let n=0;e.weights.forEach(e=>{const l="quantization"in e?e.quantization.dtype:e.dtype,u=Al[l]*_r(e.shape),c=()=>{a[t]=!0,null==o[t]&&(o[t]=[]),o[t].push({manifestEntry:e,groupOffset:n,sizeBytes:u})};null!=r?r.forEach((t,n)=>{t===e.name&&(c(),i[n]=!0)}):c(),s.push(e.name),n+=u})}),!i.every(e=>e)){const e=r.filter((e,t)=>!i[t]);throw new Error("Could not find weights in manifest with names: "+"".concat(e.join(", "),". \n")+"Manifest JSON has weights with names: "+"".concat(s.join(", "),"."))}const l=a.reduce((e,t,n)=>(t&&e.push(n),e),[]),u=[];l.forEach(e=>{t[e].paths.forEach(e=>{const t=n+(n.endsWith("/")?"":"/")+e;u.push(t)})});const c=await e(u),d={};let p=0;return l.forEach(e=>{const n=t[e].paths.length,r=new Ol(c.slice(p,p+n));o[e].forEach(e=>{const t=Dl(r.slice(e.groupOffset,e.groupOffset+e.sizeBytes),[e.manifestEntry]);for(const n in t)d[n]=t[n]}),p+=n}),d}}Kl.registerSaveRouter(e=>Qr().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(pc.URL_SCHEME)?function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"model";return new pc(e)}(e.slice(pc.URL_SCHEME.length)):null);class bc{constructor(e,t){if(this.DEFAULT_METHOD="POST",null==t&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.onProgress=t.onProgress,this.weightUrlConverter=t.weightUrlConverter,null!=t.fetchFunc?(Sr("function"===typeof t.fetchFunc,()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"),this.fetch=t.fetchFunc):this.fetch=Qr().platform.fetch,Sr(null!=e&&e.length>0,()=>"URL path for http must not be null, undefined or empty."),Array.isArray(e)&&Sr(2===e.length,()=>"URL paths for http must have a length of 2, "+"(actual length is ".concat(e.length,").")),this.path=e,null!=t.requestInit&&null!=t.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{}}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);t.body=new FormData;const n=Ul(e,[{paths:["./model.weights.bin"],weights:e.weightSpecs}]);if(t.body.append("model.json",new Blob([JSON.stringify(n)],{type:"application/json"}),"model.json"),null!=e.weightData){const n=Ol.join(e.weightData);t.body.append("model.weights.bin",new Blob([n],{type:"application/octet-stream"}),"model.weights.bin")}const r=await this.fetch(this.path,t);if(r.ok)return{modelArtifactsInfo:Vl(e),responses:[r]};throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+"".concat(r.status,"."))}async load(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error("Request to ".concat(this.path," failed with status code ")+"".concat(e.status,". Please verify this URL points to ")+"the model JSON of the model to load.");let t;try{t=await e.json()}catch(ID){let t="Failed to parse model JSON of response from ".concat(this.path,".");throw this.path.endsWith(".pb")?t+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":t+=" Please make sure the server is serving valid JSON for this request.",new Error(t)}const n=t.modelTopology,r=t.weightsManifest;if(null==n&&null==r)throw new Error("The JSON from HTTP path ".concat(this.path," contains neither model ")+"topology or manifest for weights.");return Hl(t,e=>this.loadWeights(e))}async loadWeights(e){const t=Array.isArray(this.path)?this.path[1]:this.path,[n,r]=function(e){const t=e.lastIndexOf("/"),n=e.lastIndexOf("?"),r=e.substring(0,t),a=n>t?e.substring(n):"";return[r+"/",a]}(t),a=this.weightPathPrefix||n,o=ql(e),i=[],s=[];for(const l of e)for(const e of l.paths)null!=this.weightUrlConverter?s.push(this.weightUrlConverter(e)):i.push(a+e+r);this.weightUrlConverter&&i.push(...await Promise.all(s));return[o,await gc(i,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress})]}}function wc(e){return null!=e.match(bc.URL_SCHEME_REGEX)}bc.URL_SCHEME_REGEX=/^https?:\/\//;const kc=(e,t)=>{if("undefined"===typeof fetch&&(null==t||null==t.fetchFunc))return null;{let n=!0;if(n=Array.isArray(e)?e.every(e=>wc(e)):wc(e),n)return Sc(e,t)}return null};function Sc(e,t){return new bc(e,t)}function xc(e,t){return Sc(e,t)}Kl.registerSaveRouter(kc),Kl.registerLoadRouter(kc);class Ic{constructor(e){this.modelArtifacts=e}load(){return this.modelArtifacts}}class _c{constructor(e){this.saveHandler=e}save(e){return this.saveHandler(e)}}class Ec{constructor(e){e.load&&(this.load=()=>Promise.resolve(e.load())),e.save&&(this.save=t=>Promise.resolve(e.save(t)))}}function Tc(e,t,n,r){return new Ec(Nc(...arguments))}function Nc(e,t,n,r){if(1===arguments.length){return null!=e.modelTopology||null!=e.weightSpecs?new Ic(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new Ic({modelTopology:e}))}return console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new Ic({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:r})}function Cc(e){return new _c(e)}function Mc(e){return new _c(e)}function Ac(e,t,n){if(Ir(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");const r=kl(e,n);if(3!==r.length&&1!==r.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return Cl(e,t,r,n)}let Oc,Fc=!1;function Rc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==e)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let n=!1,r=!1,a=!1,o=!1,i=!1,s=!1;if(e.data instanceof Uint8Array)n=!0;else if("undefined"!==typeof ImageData&&e instanceof ImageData)r=!0;else if("undefined"!==typeof HTMLVideoElement&&e instanceof HTMLVideoElement)a=!0;else if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement)o=!0;else if(null!=e.getContext)i=!0;else{if(!("undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap))throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, "+"but was ".concat(e.constructor.name));s=!0}if(null!=ms(ss,yl.backendName)){const n={pixels:e},r={numChannels:t};return yl.runKernel(ss,n,r)}const[l,u]=a?[e.videoWidth,e.videoHeight]:[e.width,e.height];let c,d;if(i)c=e.getContext("2d").getImageData(0,0,l,u).data;else if(r||n)c=e.data;else if(o||a||s){if(null==Oc)if("undefined"===typeof document){if("undefined"===typeof OffscreenCanvas||"undefined"===typeof OffscreenCanvasRenderingContext2D)throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");Oc=new OffscreenCanvas(1,1).getContext("2d")}else Oc=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});Oc.canvas.width=l,Oc.canvas.height=u,Oc.drawImage(e,0,0,l,u),c=Oc.getImageData(0,0,l,u).data}if(4===t)d=new Int32Array(c);else{const e=l*u;d=new Int32Array(e*t);for(let n=0;n<e;n++)for(let e=0;e<t;++e)d[n*t+e]=c[4*n+e]}return Ac(d,[u,l,t],"int32")}function Dc(e){if(2!==e.rank&&3!==e.rank)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank ".concat(e.rank,"."));const t=2===e.rank?1:e.shape[2];if(t>4||2===t)throw new Error("toPixels only supports depth of size "+"1, 3 or 4 but got ".concat(t));if("float32"!==e.dtype&&"int32"!==e.dtype)throw new Error("Unsupported type for toPixels: ".concat(e.dtype,".")+" Please use float32 or int32 tensors.")}async function Pc(e,t){let n=Il(e,"img","toPixels");if(!(e instanceof el)){const e=n;n=Ou(e,"int32"),e.dispose()}Dc(n);const[r,a]=n.shape.slice(0,2),o=2===n.rank?1:n.shape[2],i=await n.data(),s="float32"===n.dtype?255:1,l=new Uint8ClampedArray(a*r*4);for(let u=0;u<r*a;++u){const e=[0,0,0,255];for(let r=0;r<o;r++){const t=i[u*o+r];if("float32"===n.dtype){if(t<0||t>1)throw new Error("Tensor values for a float32 Tensor must be in the "+"range [0 - 1] but encountered ".concat(t,"."))}else if("int32"===n.dtype&&(t<0||t>255))throw new Error("Tensor values for a int32 Tensor must be in the "+"range [0 - 255] but encountered ".concat(t,"."));1===o?(e[0]=t*s,e[1]=t*s,e[2]=t*s):e[r]=t*s}const t=4*u;l[t+0]=Math.round(e[0]),l[t+1]=Math.round(e[1]),l[t+2]=Math.round(e[2]),l[t+3]=Math.round(e[3])}if(null!=t){if(!Fc){null!=ms(Qa,yl.backendName)&&(console.warn("tf.browser.toPixels is not efficient to draw tensor on canvas. Please try tf.browser.draw instead."),Fc=!0)}t.width=a,t.height=r;const e=t.getContext("2d"),n=new ImageData(l,a,r);e.putImageData(n,0,0)}return n!==e&&n.dispose(),l}const Lc=Tl({fromPixels_:Rc});function zc(e,t){const n=e.shape.length,r=t.shape.length;if(n<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher,"+" but the rank was ".concat(n,"."));if(r<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher,"+" but the rank was ".concat(r,"."));if("int32"!==t.dtype)throw new Error("tf.gatherND() expects the indices to be int32 type,"+" but the dtype was ".concat(t.dtype,"."));if(t.shape[r-1]>n)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+"".concat(t.shape[r-1]," vs. ").concat(n));if(0===_r(e.shape))throw new Error("Requested more than 0 entries, but input is empty."+" Input shape: ".concat(e.shape,"."));const a=t.shape,o=a[a.length-1];let i=1;for(let d=0;d<a.length-1;++d)i*=a[d];const s=e.shape,l=a.slice();l.pop();let u=1;for(let d=o;d<n;++d)u*=s[d],l.push(s[d]);const c=[...Lr(e.shape).map(e=>e/u),1].slice(0,o);return[l,i,u,c]}function Bc(e,t,n){if(t.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher,"+" but the rank was ".concat(t.rank,"."));if(e.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher,"+" but the rank was ".concat(e.rank,"."));if("int32"!==t.dtype)throw new Error("The dtype of 'indices' should be int32, but got dtype: ".concat(t.dtype));if(n.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: ".concat(n));if(0===n.length){if(0===t.size)throw new Error("Indices specified for empty output. indices shape: ".concat(t.shape));if(0===e.size)throw new Error("Updates specified for empty output. updates shape: ".concat(e.shape))}!function(e,t,n){const r=t.rank>1?t.shape[t.rank-1]:1,a=t.rank>1?t.rank-1:1,o="Must have updates.shape = indices.shape[:batchDim] + "+"shape[sliceDim:], got updates.shape: ".concat(n.shape)+", indices.shape: ".concat(t.shape,", shape: ").concat(e)+", sliceDim: ".concat(r,", and batchDim: ").concat(a,".");if(n.rank<a)throw new Error(o+" update.rank < ".concat(a,". "));if(e.length<r+(n.rank-a))throw new Error(o+" Output shape length < ".concat(r+(n.rank-a)));if(n.rank!==a+e.length-r)throw new Error(o+" update.rank != ".concat(a+e.length-r));for(let i=0;i<a;++i)if(n.shape[i]!==t.shape[i])throw new Error(o+" updates.shape[".concat(i,"] (").concat(n.shape[i],") != indices.shape[").concat(i,"] (").concat(t.shape[i],")."));for(let i=0;i<n.rank-a;++i)if(n.shape[i+a]!==e[i+r])throw new Error(o+" updates.shape[".concat(i+a,"] (").concat(n.shape[i+a],") != shape[").concat(i+a,"] (").concat(e[i+a],")"))}(n,t,e)}function Wc(e,t,n){const r=t.shape.length,a=r>1?t.shape[r-1]:1,o=n.length;let i=1;for(let l=a;l<o;++l)i*=n[l];const s=a<1?1:a;return{sliceRank:a,numUpdates:_r(t.shape)/s,sliceSize:i,strides:[...Lr(n.slice(0,a)),1],outputSize:_r(n)}}function Uc(e,t,n){const r=[];for(let a=0;a<e.length;a++)r[a]=Math.ceil((t[a]-e[a])/n[a]);return r}function jc(e,t,n){let r=n.length;for(let a=0;a<n.length;a++)if(n[a]>1){r=a;break}for(let a=r+1;a<n.length;a++)if(t[a]>0||n[a]!==e[a])return!1;return!0}function Hc(e,t){let n=e.length>0?e[e.length-1]:1;for(let r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}function Vc(e,t,n){let r;const a=e.shape.length;let o;return r="number"===typeof t?[t,...new Array(a-1).fill(0)]:t.length<a?t.concat(new Array(a-t.length).fill(0)):t.slice(),r.forEach(e=>{Sr(-1!==e,()=>"slice() does not support negative begin indexing.")}),o=null==n?new Array(a).fill(-1):"number"===typeof n?[n,...new Array(a-1).fill(-1)]:n.length<a?n.concat(new Array(a-n.length).fill(-1)):n,o=o.map((t,n)=>t>=0?t:(Sr(-1===t,()=>"Negative size values should be exactly -1 but got "+"".concat(t," for the slice() size at index ").concat(n,".")),e.shape[n]-r[n])),[r,o]}function qc(e,t,n,r,a,o,i,s,l){let u;if(null==r?(u=new Array(t.length),u.fill(1)):u=r,null!=i&&0!==(i&i-1))throw new Error("Multiple ellipses in slice is not allowed.");let c=!1;const d={dims:u.length,numAddAxisAfterEllipsis:0,begin:t.slice(),end:n.slice(),strides:u.slice(),beginMask:a,endMask:o,ellipsisMask:i,newAxisMask:s,shrinkAxisMask:l};for(let b=0;b<d.dims;b++)c&&0!==(1<<b&s)&&d.numAddAxisAfterEllipsis++,1<<b&i&&(c=!0);c||(d.ellipsisMask|=1<<d.dims,d.dims++);const p={dims:e.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};!function(e,t){t.beginMask=0,t.endMask=0,t.shrinkAxisMask=0;let n=0;t.beginValid=null!=e.begin,t.endValid=null!=e.end,t.begin=new Array(t.dims),t.end=new Array(t.dims),t.strides=new Array(t.dims),t.finalShapeGatherIndices=[],t.finalShapeGatherIndicesSparse=[],t.inputShapeGatherIndicesSparse=new Array(t.dims);for(let r=0;r<e.dims;r++)if(1<<r&e.ellipsisMask){const a=Math.min(t.dims-(e.dims-r)+1+e.numAddAxisAfterEllipsis,t.dims);for(;n<a;n++)t.begin[n]=0,t.end[n]=0,t.strides[n]=1,t.beginMask|=1<<n,t.endMask|=1<<n,t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(-1),t.inputShapeGatherIndicesSparse[n]=r}else if(1<<r&e.newAxisMask)t.finalShapeGatherIndices.push(-2),t.finalShapeGatherIndicesSparse.push(-1);else{if(n===t.begin.length)throw Error("Index out of range using input dim ".concat(n,"; input ")+"has only ".concat(t.dims," dims, ").concat(t.begin.length,"."));null!=e.begin&&(t.begin[n]=e.begin[r]),null!=e.end&&(t.end[n]=e.end[r]),t.strides[n]=e.strides[r],e.beginMask&1<<r&&(t.beginMask|=1<<n),e.endMask&1<<r&&(t.endMask|=1<<n),e.shrinkAxisMask&1<<r?(t.finalShapeGatherIndices.push(-1),t.finalShapeGatherIndicesSparse.push(-1),t.shrinkAxisMask|=1<<n):(t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(r)),t.inputShapeGatherIndicesSparse[n]=r,n++}}(d,p);let h=!0,f=!0,m=!0;const g=[],v=[];for(let b=0;b<e.length;++b){if(0===p.strides[b])throw Error("strides[".concat(b,"] must be non-zero"));const t=!!(p.shrinkAxisMask&1<<b),n=e[b];if(-1===n){g.push(t?1:-1);continue}const r=[p.beginMask&1<<b,p.endMask&1<<b],a=[p.strides[b]>0?0:-1,p.strides[b]>0?n:n-1];if(t&&p.strides[b]<=0)throw Error("only stride 1 allowed on non-range indexing.");m=m&&1===p.strides[b];const o=!!(p.beginMask&1<<b&&p.endMask&1<<b);if(p.beginValid&&p.endValid){if(t){const e=p.begin[b]<0?n+p.begin[b]:p.begin[b];if(p.begin[b]=e,p.end[b]=p.begin[b]+1,e<0||e>=n)throw Error("slice index ".concat(p.begin[b]," of dimension ").concat(b," out of bounds."))}else p.begin[b]=Gc(p.begin[b],0,p.strides[b],n,r,a),p.end[b]=Gc(p.end[b],1,p.strides[b],n,r,a);const e=1===p.strides[b]&&0===p.begin[b]&&p.end[b]===n;h=h&&e,f=f&&(0===b&&1===p.strides[b]||e)}else h=h&&1===p.strides[b]&&o,f=f&&(0===b&&1===p.strides[b]||o);let i,s=!1;if(p.beginValid&&p.endValid?(i=p.end[b]-p.begin[b],s=!0):t?(i=1,s=!0):o&&n>=0&&(i=p.strides[b]<0?-n:n,s=!0),s){let e;e=0===i||i<0!==p.strides[b]<0?0:Math.trunc(i/p.strides[b])+(i%p.strides[b]!==0?1:0),g.push(e)}else g.push(-1)}for(let b=0;b<p.finalShapeGatherIndices.length;++b){const e=p.finalShapeGatherIndices[b];e>=0?v.push(g[e]):-2===e&&v.push(1)}const y=v.filter((e,t)=>-2!==p.finalShapeGatherIndices[t]);return{finalShapeSparse:y,finalShape:v,isIdentity:h,sliceDim0:f,isSimpleSlice:m,begin:p.begin,end:p.end,strides:p.strides}}function Gc(e,t,n,r,a,o){if(a[t])return n>0?o[t]:o[t+1&1];{const t=e<0?r+e:e;return t<o[0]?o[0]:t>o[1]?o[1]:t}}const Kc=Tl({acos_:function(e){const t={x:Il(e,"x","acos")};return yl.runKernel(na,t)}});const $c=Tl({acosh_:function(e){const t={x:Il(e,"x","acosh")};return yl.runKernel(ra,t)}});const Yc=Tl({addN_:function(e){Sr(Array.isArray(e),()=>"The argument passed to tf.addN() must be a list of tensors"),Sr(e.length>=1,()=>"Must pass at least one tensor to tf.addN(), but got "+"".concat(e.length));const t=e.map((e,t)=>Il(e,"tensors".concat(t),"addN")),n=t[0];t.forEach(e=>{if(e.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),t.forEach(e=>{if(!Er(e.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});const r=t;return yl.runKernel(oa,r)}});const Qc=Tl({all_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:Il(e,"x","all","bool")},a={axis:t,keepDims:n};return yl.runKernel(ia,r,a)}});const Xc=Tl({any_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:Il(e,"x","any","bool")},a={axis:t,keepDims:n};return yl.runKernel(sa,r,a)}});const Jc=Tl({argMax_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n={x:Il(e,"x","argMax")},r={axis:t};return yl.runKernel(la,n,r)}});const Zc=Tl({argMin_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n={x:Il(e,"x","argMin")},r={axis:t};return yl.runKernel(ua,n,r)}});const ed=Tl({asin_:function(e){const t={x:Il(e,"x","asin")};return yl.runKernel(ca,t)}});const td=Tl({asinh_:function(e){const t={x:Il(e,"x","asinh")};return yl.runKernel(da,t)}});const nd=Tl({atan_:function(e){const t={x:Il(e,"x","atan")};return yl.runKernel(pa,t)}});const rd=Tl({atan2_:function(e,t){let n=Il(e,"a","atan2"),r=Il(t,"b","atan2");[n,r]=dl(n,r);const a={a:n,b:r};return yl.runKernel(fa,a)}});const ad=Tl({atanh_:function(e){const t={x:Il(e,"x","atanh")};return yl.runKernel(ha,t)}});function od(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",o=arguments.length>5?arguments[5]:void 0;return ld(e,[...t,e[3]],n,o,r,null,null,yd(a))}function id(e,t,n,r,a,o){let i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast";const[s,l]=dd(t);let u;if("channelsLast"===i)u=[s,l,e[3],e[3]];else{if("channelsFirst"!==i)throw new Error("Unknown dataFormat ".concat(i));u=[s,l,e[1],e[1]]}return ld(e,u,n,r,a,o,!1,i)}function sd(e,t,n,r,a,o){let i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NDHWC";const[s,l,u]=pd(t);let c,d;if("NDHWC"===i)d="channelsLast",c=[s,l,u,e[4],e[4]];else{if("NCDHW"!==i)throw new Error("Unknown dataFormat ".concat(i));d="channelsFirst",c=[s,l,u,e[1],e[1]]}return ud(e,c,n,r,a,!1,d,o)}function ld(e,t,n,r,a,o){let i=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"channelsLast",[l,u,c,d]=[-1,-1,-1,-1];if("channelsLast"===s)[l,u,c,d]=e;else{if("channelsFirst"!==s)throw new Error("Unknown dataFormat ".concat(s));[l,d,u,c]=e}const[p,h,,f]=t,[m,g]=dd(n),[v,y]=dd(r),b=hd(p,v),w=hd(h,y),{padInfo:k,outHeight:S,outWidth:x}=function(e,t,n,r,a,o,i,s,l){let u,c,d;if("number"===typeof e){u={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};const a=function(e,t,n,r,a){null==r&&(r=cd(e,t,n));const o=e[0],i=e[1],s=fd((o-t+2*r)/n+1,a),l=fd((i-t+2*r)/n+1,a);return[s,l]}([t,n],o,r,e,s);c=a[0],d=a[1]}else if("same"===e){c=Math.ceil(t/r),d=Math.ceil(n/a);const e=Math.max(0,(c-1)*r+o-t),s=Math.max(0,(d-1)*a+i-n),l=Math.floor(e/2),p=e-l,h=Math.floor(s/2);u={top:l,bottom:p,left:h,right:s-h,type:"SAME"}}else if("valid"===e)u={top:0,bottom:0,left:0,right:0,type:"VALID"},c=Math.ceil((t-o+1)/r),d=Math.ceil((n-i+1)/a);else{if("object"!==typeof e)throw Error("Unknown padding parameter: ".concat(e));{const p="channelsLast"===l?e[1][0]:e[2][0],h="channelsLast"===l?e[1][1]:e[2][1],f="channelsLast"===l?e[2][0]:e[3][0],m="channelsLast"===l?e[2][1]:e[3][1];u={top:p,bottom:h,left:f,right:m,type:0===p&&0===h&&0===f&&0===m?"VALID":"EXPLICIT"},c=fd((t-o+p+h)/r+1,s),d=fd((n-i+f+m)/a+1,s)}}return{padInfo:u,outHeight:c,outWidth:d}}(a,u,c,m,g,b,w,o,s),I=i?f*d:f;let _;return"channelsFirst"===s?_=[l,I,S,x]:"channelsLast"===s&&(_=[l,S,x,I]),{batchSize:l,dataFormat:s,inHeight:u,inWidth:c,inChannels:d,outHeight:S,outWidth:x,outChannels:I,padInfo:k,strideHeight:m,strideWidth:g,filterHeight:p,filterWidth:h,effectiveFilterHeight:b,effectiveFilterWidth:w,dilationHeight:v,dilationWidth:y,inShape:e,outShape:_,filterShape:t}}function ud(e,t,n,r,a){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast",s=arguments.length>7?arguments[7]:void 0,[l,u,c,d,p]=[-1,-1,-1,-1,-1];if("channelsLast"===i)[l,u,c,d,p]=e;else{if("channelsFirst"!==i)throw new Error("Unknown dataFormat ".concat(i));[l,p,u,c,d]=e}const[h,f,m,,g]=t,[v,y,b]=pd(n),[w,k,S]=pd(r),x=hd(h,w),I=hd(f,k),_=hd(m,S),{padInfo:E,outDepth:T,outHeight:N,outWidth:C}=function(e,t,n,r,a,o,i,s,l,u,c){let d,p,h,f;"valid"===e&&(e=0);if("number"===typeof e){d={top:e,bottom:e,left:e,right:e,front:e,back:e,type:0===e?"VALID":"NUMBER"};const m=function(e,t,n,r,a,o){null==a&&(a=cd(e,t[0],r[0]));const i=[0,0,0,n];for(let s=0;s<3;s++)e[s]+2*a>=t[s]&&(i[s]=fd((e[s]-t[s]+2*a)/r[s]+1,o));return i}([t,n,r,1],[s,l,u],1,[a,o,i],e,c);p=m[0],h=m[1],f=m[2]}else{if("same"!==e)throw Error("Unknown padding parameter: ".concat(e));{p=Math.ceil(t/a),h=Math.ceil(n/o),f=Math.ceil(r/i);const e=(p-1)*a+s-t,c=(h-1)*o+l-n,m=(f-1)*i+u-r,g=Math.floor(e/2),v=e-g,y=Math.floor(c/2),b=c-y,w=Math.floor(m/2);d={top:y,bottom:b,left:w,right:m-w,front:g,back:v,type:"SAME"}}}return{padInfo:d,outDepth:p,outHeight:h,outWidth:f}}(a,u,c,d,v,y,b,x,I,_,s),M=o?g*p:g;let A;return"channelsFirst"===i?A=[l,M,T,N,C]:"channelsLast"===i&&(A=[l,T,N,C,M]),{batchSize:l,dataFormat:i,inDepth:u,inHeight:c,inWidth:d,inChannels:p,outDepth:T,outHeight:N,outWidth:C,outChannels:M,padInfo:E,strideDepth:v,strideHeight:y,strideWidth:b,filterDepth:h,filterHeight:f,filterWidth:m,effectiveFilterDepth:x,effectiveFilterHeight:I,effectiveFilterWidth:_,dilationDepth:w,dilationHeight:k,dilationWidth:S,inShape:e,outShape:A,filterShape:t}}function cd(e,t,n){const r=hd(t,arguments.length>3&&void 0!==arguments[3]?arguments[3]:1);return Math.floor((e[0]*(n-1)-n+r)/2)}function dd(e){return"number"===typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function pd(e){return"number"===typeof e?[e,e,e]:e}function hd(e,t){return t<=1?e:e+(e-1)*(t-1)}function fd(e,t){if(!t)return Math.trunc(e);switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error("Unknown roundingMode ".concat(t))}}function md(e){const[t,n,r]=dd(e);return 1===t&&1===n&&1===r}function gd(e,t){return md(e)||md(t)}function vd(e){return dd(e).every(e=>e>0)}function yd(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error("Unknown dataFormat ".concat(e))}function bd(e,t,n){if(null!=n){if("string"===typeof t)throw Error("Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,"."));if("number"===typeof t)Sr(Tr(t),()=>"Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,"."));else{if("object"!==typeof t)throw Error("Error in ".concat(e,": Unknown padding parameter: ").concat(t));t.forEach(t=>{t.forEach(t=>{Sr(Tr(t),()=>"Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,"."))})})}}}const wd=Tl({reshape_:function(e,t){const n={x:Il(e,"x","reshape","string_or_numeric")},r={shape:t};return yl.runKernel(pi,n,r)}});const kd=Tl({avgPool_:function(e,t,n,r,a){const o=Il(e,"x","avgPool","float32");Sr(gd(n,1),()=>"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(1,"'"));let i=o,s=!1;3===o.rank&&(s=!0,i=wd(o,[1,o.shape[0],o.shape[1],o.shape[2]])),Sr(4===i.rank,()=>"Error in avgPool: x must be rank 4 but got rank ".concat(i.rank,".")),bd("avgPool",r,a);const l={x:i},u={filterSize:t,strides:n,pad:r,dimRoundingMode:a};let c=yl.runKernel(ma,l,u);return c=Ou(c,o.dtype),s?wd(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});const Sd=Tl({avgPool3d_:function(e,t,n,r,a){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC";const i=Il(e,"x","avgPool3d","float32");let s=i,l=!1;4===i.rank&&(l=!0,s=wd(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),Sr(5===s.rank,()=>"Error in avgPool3d: x must be rank 5 but got rank ".concat(s.rank,".")),Sr("NDHWC"===o,()=>"Error in avgPool3d: Only NDHWC is currently supported, "+"but got dataFormat of ".concat(o)),Sr("number"===typeof n&&n>0||Array.isArray(n)&&n[0]>0&&n[1]>0&&n[2]>0,()=>"Error in avgPool3d: Stride must be > 0, but got '".concat(n,"'")),bd("avgPool3d",r,a);const u={x:s},c={filterSize:t,strides:n,pad:r,dimRoundingMode:a,dataFormat:o};let d=yl.runKernel(va,u,c);return d=Ou(d,s.dtype),l?wd(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}});const xd=Tl({concat_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Sr(e.length>=1,()=>"Pass at least one tensor to concat");const n=_l(e,"tensors","concat","string_or_numeric");if("complex64"===n[0].dtype&&n.forEach(e=>{if("complex64"!==e.dtype)throw new Error("Cannot concatenate complex64 tensors with a tensor\n          with dtype ".concat(e.dtype,". "))}),1===n.length)return Fu(n[0]);const r=n,a={axis:t};return yl.runKernel(Ca,r,a)}});const Id=Tl({matMul_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=Il(e,"a","matMul"),o=Il(t,"b","matMul");[a,o]=dl(a,o);const i={a:a,b:o},s={transposeA:n,transposeB:r};return yl.runKernel(ba,i,s)}});const _d=Tl({sigmoid_:function(e){const t={x:Il(e,"x","sigmoid","float32")};return yl.runKernel(Mi,t)}});const Ed=Tl({slice_:function(e,t,n){const r=Il(e,"x","slice","string_or_numeric");if(0===r.rank)throw new Error("Slicing scalar is not possible");const a={x:r},o={begin:t,size:n};return yl.runKernel(Ei,a,o)}});const Td=Tl({tanh_:function(e){const t={x:Il(e,"x","tanh","float32")};return yl.runKernel(Xi,t)}});const Nd=Tl({basicLSTMCell_:function(e,t,n,r,a,o){const i=Il(e,"forgetBias","basicLSTMCell"),s=Il(t,"lstmKernel","basicLSTMCell"),l=Il(n,"lstmBias","basicLSTMCell"),u=Il(r,"data","basicLSTMCell"),c=Il(a,"c","basicLSTMCell"),d=Il(o,"h","basicLSTMCell"),p=xd([u,d],1),h=Id(p,s),f=Uu(h,l),m=f.shape[0],g=f.shape[1]/4,v=[m,g],y=Ed(f,[0,0],v),b=Ed(f,[0,g],v),w=Ed(f,[0,2*g],v),k=Ed(f,[0,3*g],v),S=Uu(Vu(_d(y),Td(b)),Vu(c,_d(Uu(i,w))));return[S,Vu(Td(S),_d(k))]}});const Cd=Tl({batchToSpaceND_:function(e,t,n){const r=Il(e,"x","batchToSpaceND"),a=t.reduce((e,t)=>e*t);Sr(r.rank>=1+t.length,()=>"input rank is ".concat(r.rank," but should be > than blockShape.length ").concat(t.length)),Sr(n.length===t.length,()=>"crops.length is ".concat(n.length," but should be equal to blockShape.length  ").concat(t.length)),Sr(r.shape[0]%a===0,()=>"input tensor batch is ".concat(r.shape[0]," but is not divisible by the product of ")+"the elements of blockShape ".concat(t.join(" * ")," === ").concat(a));const o={x:r},i={blockShape:t,crops:n};return yl.runKernel(wa,o,i)}});const Md=Tl({batchNorm_:function(e,t,n,r,a,o){null==o&&(o=.001);const i=Il(e,"x","batchNorm"),s=Il(t,"mean","batchNorm"),l=Il(n,"variance","batchNorm");let u,c;null!=a&&(u=Il(a,"scale","batchNorm")),null!=r&&(c=Il(r,"offset","batchNorm")),Sr(s.rank===l.rank,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),Sr(null==c||s.rank===c.rank,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),Sr(null==u||s.rank===u.rank,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");const d={x:function(e){let t;return t=0===e.rank||1===e.rank?wd(e,[1,1,1,e.size]):2===e.rank?wd(e,[1,1,e.shape[0],e.shape[1]]):3===e.rank?wd(e,[1,e.shape[0],e.shape[1],e.shape[2]]):e,t}(i),scale:u,offset:c,mean:s,variance:l},p={varianceEpsilon:o},h=yl.runKernel(co,d,p);return wd(h,i.shape)}});const Ad=Tl({batchNorm2d_:function(e,t,n,r,a,o){const i=Il(e,"x","batchNorm"),s=Il(t,"mean","batchNorm"),l=Il(n,"variance","batchNorm");let u,c;return null!=a&&(u=Il(a,"scale","batchNorm")),null!=r&&(c=Il(r,"offset","batchNorm")),Sr(2===i.rank,()=>"Error in batchNorm2D: x must be rank 2 but got rank "+"".concat(i.rank,".")),Sr(2===s.rank||1===s.rank,()=>"Error in batchNorm2D: mean must be rank 2 or rank 1 but "+"got rank ".concat(s.rank,".")),Sr(2===l.rank||1===l.rank,()=>"Error in batchNorm2D: variance must be rank 2 or rank 1 "+"but got rank ".concat(l.rank,".")),null!=u&&Sr(2===u.rank||1===u.rank,()=>"Error in batchNorm2D: scale must be rank 2 or rank 1 "+"but got rank ".concat(u.rank,".")),null!=c&&Sr(2===c.rank||1===c.rank,()=>"Error in batchNorm2D: offset must be rank 2 or rank 1 "+"but got rank ".concat(c.rank,".")),Md(i,s,l,c,u,o)}});const Od=Tl({batchNorm3d_:function(e,t,n,r,a,o){const i=Il(e,"x","batchNorm"),s=Il(t,"mean","batchNorm"),l=Il(n,"variance","batchNorm");let u,c;return null!=a&&(u=Il(a,"scale","batchNorm")),null!=r&&(c=Il(r,"offset","batchNorm")),Sr(3===i.rank,()=>"Error in batchNorm3D: x must be rank 3 but got rank "+"".concat(i.rank,".")),Sr(3===s.rank||1===s.rank,()=>"Error in batchNorm3D: mean must be rank 3 or rank 1 but "+"got rank ".concat(s.rank,".")),Sr(3===l.rank||1===l.rank,()=>"Error in batchNorm3D: variance must be rank 3 or rank 1 "+"but got rank ".concat(l.rank,".")),null!=u&&Sr(3===u.rank||1===u.rank,()=>"Error in batchNorm3D: scale must be rank 3 or rank 1 "+"but got rank ".concat(u.rank,".")),null!=c&&Sr(3===c.rank||1===c.rank,()=>"Error in batchNorm3D: offset must be rank 3 or rank 1 "+"but got rank ".concat(c.rank,".")),Md(i,s,l,c,u,o)}});const Fd=Tl({batchNorm4d_:function(e,t,n,r,a,o){const i=Il(e,"x","batchNorm"),s=Il(t,"mean","batchNorm"),l=Il(n,"variance","batchNorm");let u,c;return null!=a&&(u=Il(a,"scale","batchNorm")),null!=r&&(c=Il(r,"offset","batchNorm")),Sr(4===i.rank,()=>"Error in batchNorm4D: x must be rank 4 but got rank "+"".concat(i.rank,".")),Sr(4===s.rank||1===s.rank,()=>"Error in batchNorm4D: mean must be rank 4 or rank 1 but "+"got rank ".concat(s.rank,".")),Sr(4===l.rank||1===l.rank,()=>"Error in batchNorm4D: variance must be rank 4 or rank 1 "+"but got rank ".concat(l.rank,".")),null!=u&&Sr(4===u.rank||1===u.rank,()=>"Error in batchNorm4D: scale must be rank 4 or rank 1 "+"but got rank ".concat(u.rank,".")),null!=c&&Sr(4===c.rank||1===c.rank,()=>"Error in batchNorm4D: offset must be rank 4 or rank 1 "+"but got rank ".concat(c.rank,".")),Md(i,s,l,c,u,o)}});const Rd=Tl({bincount_:function(e,t,n){const r=Il(e,"x","bincount"),a=Il(t,"weights","bincount");Sr("int32"===r.dtype,()=>"Error in bincount: input "+"dtype must be int32, but got ".concat(r.dtype)),Sr(n>=0,()=>"size must be non-negative, but got ".concat(n,".")),Sr(a.size===r.size||0===a.size,()=>"Error in bincount: weights must have the same size as input or"+"0-length, but got input shape: ".concat(r.shape,", weights shape: ")+"".concat(a.shape,"."));const o={x:r,weights:a},i={size:n};return yl.runKernel(ka,o,i)}});const Dd=Tl({bitwiseAnd_:function(e,t){const n=Il(e,"x","bitwiseAnd"),r=Il(t,"y","bitwiseAnd");if(!Er(n.shape,r.shape))throw new Error("BitwiseAnd: Tensors must have the same shape. x: ".concat(n.shape,", y: ").concat(r.shape));if("int32"!==n.dtype||"int32"!==r.dtype)throw new Error("BitwiseAnd: Only supports 'int32' values in tensor, found type of x: ".concat(n.dtype," and type of y: ").concat(r.dtype));const a={a:n,b:r};return yl.runKernel(Sa,a)}});const Pd=Tl({broadcastArgs_:function(e,t){const n=Il(e,"s0","broadcastArgs","int32"),r=Il(t,"s1","broadcastArgs","int32");if(1!==n.rank)throw new Error("broadcastArgs(): first input must be a vector (rank=1). "+"Has rank ".concat(n.rank));if(1!==r.rank)throw new Error("broadcastArgs(): second input must be a vector (rank=1). "+"Has rank ".concat(r.rank));const a={s0:n,s1:r};return yl.runKernel(xa,a)}});const Ld=Tl({broadcastTo_:function(e,t){let n=Il(e,"broadcastTo","x");const r=n.shape;if(Hr(t),t.length<n.rank)throw new Error("broadcastTo(): shape.length=".concat(t.length," < input.rank=").concat(n.rank,"."));if(t.length>n.rank){const e=n.shape.slice();for(;e.length<t.length;)e.unshift(1);n=wd(n,e)}const a=n.shape,o=Array.from(t);for(let u=t.length-1;u>=0;u--)if(a[u]===t[u])o[u]=1;else if(1!==n.shape[u])throw new Error("broadcastTo(): [".concat(r,"] cannot be broadcast to [").concat(t,"]."));const i=o.map((e,t)=>e>1?t:-1).filter(e=>e>=0);if(0===i.length)return Fu(n);const s={x:n},l={reps:o};return yl.runKernel(Ji,s,l)}});const zd=Tl({ceil_:function(e){const t={x:Il(e,"x","ceil","float32")};return yl.runKernel(_a,t)}});const Bd=Tl({clipByValue_:function(e,t,n){const r=Il(e,"x","clipByValue");if(Sr(t<=n,()=>"Error in clip: min (".concat(t,") must be ")+"less than or equal to max (".concat(n,").")),t===n)return nc(r.shape,t,r.dtype);const a={x:r},o={clipValueMin:t,clipValueMax:n};return yl.runKernel(Ea,a,o)}});const Wd=Tl({concat1d_:function(e){return xd(e,0)}});const Ud=Tl({concat2d_:function(e,t){return xd(e,t)}});const jd=Tl({concat3d_:function(e,t){return xd(e,t)}});const Hd=Tl({concat4d_:function(e,t){return xd(e,t)}});const Vd=Tl({conv2d_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],i=arguments.length>6?arguments[6]:void 0;const s=Il(e,"x","conv2d","float32"),l=Il(t,"filter","conv2d","float32");let u=s,c=!1;3===s.rank&&(c=!0,u=wd(s,[1,s.shape[0],s.shape[1],s.shape[2]])),Sr(4===u.rank,()=>"Error in conv2d: input must be rank 4, but got rank ".concat(u.rank,".")),Sr(4===l.rank,()=>"Error in conv2d: filter must be rank 4, but got rank "+"".concat(l.rank,".")),bd("conv2d",r,i);const d="NHWC"===a?u.shape[3]:u.shape[1];Sr(d===l.shape[2],()=>"Error in conv2d: depth of input (".concat(d,") must match ")+"input depth for filter ".concat(l.shape[2],".")),Sr(gd(n,o),()=>"Error in conv2D: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(o,"'")),Sr(vd(o),()=>"Error in conv2D: Dilated rates should be larger than 0."),Sr(vd(n),()=>"Error in conv2D: Strides should be larger than 0.");const p={x:u,filter:l},h={strides:n,pad:r,dataFormat:a,dilations:o,dimRoundingMode:i},f=yl.runKernel(Ma,p,h);return c?wd(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});const qd=Tl({conv1d_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NWC",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,i=arguments.length>6?arguments[6]:void 0;const s=Il(e,"x","conv1d"),l=Il(t,"filter","conv1d");let u=s,c=!1;2===s.rank&&(c=!0,u=wd(s,[1,s.shape[0],s.shape[1]])),Sr(3===u.rank,()=>"Error in conv1d: input must be rank 3, but got rank ".concat(u.rank,".")),Sr(3===l.rank,()=>"Error in conv1d: filter must be rank 3, but got rank "+"".concat(l.rank,".")),bd("conv1d",r,i),Sr(u.shape[2]===l.shape[1],()=>"Error in conv1d: depth of input (".concat(u.shape[2],") must match ")+"input depth for filter ".concat(l.shape[1],".")),Sr(gd(n,o),()=>"Error in conv1D: Either stride or dilation must be 1. "+"Got stride ".concat(n," and dilation '").concat(o,"'")),Sr(vd(o),()=>"Error in conv1D: Dilated rates should be larger than 0."),Sr(vd(n),()=>"Error in conv1D: Stride should be larger than 0."),Sr("NWC"===a,()=>"Error in conv1d: got dataFormat of ".concat(a," but only NWC is currently supported."));const d=wd(l,[1,l.shape[0],l.shape[1],l.shape[2]]),p=wd(u,[u.shape[0],1,u.shape[1],u.shape[2]]),h=Vd(p,d,[1,n],r,"NHWC",[1,o],i);return wd(h,c?[h.shape[2],h.shape[3]]:[h.shape[0],h.shape[2],h.shape[3]])}});const Gd=Tl({conv2DBackpropInput_:function(e,t,n,r,a){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",i=arguments.length>6?arguments[6]:void 0;Sr(e.length===t.rank,()=>"Length of inShape "+"(".concat(e.length,") and rank of dy (").concat(t.rank,") must match"));let s=e,l=t,u=!1;3===t.rank&&(u=!0,l=wd(t,[1,t.shape[0],t.shape[1],t.shape[2]]),s=[1,e[0],e[1],e[2]]),Sr(4===s.length,()=>"Error in conv2dDerInput: inShape must be length 4, but got length "+"".concat(s.length,".")),Sr(4===l.rank,()=>"Error in conv2dDerInput: dy must be rank 4, but got "+"rank ".concat(l.rank)),Sr(4===n.rank,()=>"Error in conv2dDerInput: filter must be rank 4, but got "+"rank ".concat(n.rank));const c="NHWC"===o?s[3]:s[1],d="NHWC"===o?l.shape[3]:l.shape[1];Sr(c===n.shape[2],()=>"Error in conv2dDerInput: depth of input (".concat(c,") must ")+"match input depth for filter ".concat(n.shape[2],".")),Sr(d===n.shape[3],()=>"Error in conv2dDerInput: depth of output (".concat(d,") must ")+"match output depth for filter ".concat(n.shape[3],".")),bd("conv2dDerInput",a,i);const p={dy:l,filter:n},h={strides:r,pad:a,dataFormat:o,dimRoundingMode:i,inputShape:s},f=yl.runKernel(Oa,p,h);return u?wd(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});const Kd=Tl({conv2dTranspose_:function(e,t,n,r,a,o){const i=Il(e,"x","conv2dTranspose"),s=Il(t,"filter","conv2dTranspose");return Gd(n,i,s,r,a,"NHWC",o)}});const $d=Tl({conv3d_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NDHWC",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1,1];const i=Il(e,"x","conv3d"),s=Il(t,"filter","conv3d");let l=i,u=!1;4===i.rank&&(u=!0,l=wd(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),Sr(5===l.rank,()=>"Error in conv3d: input must be rank 5, but got rank ".concat(l.rank,".")),Sr(5===s.rank,()=>"Error in conv3d: filter must be rank 5, but got rank "+"".concat(s.rank,".")),Sr(l.shape[4]===s.shape[3],()=>"Error in conv3d: depth of input (".concat(l.shape[4],") must match ")+"input depth for filter ".concat(s.shape[3],".")),Sr(gd(n,o),()=>"Error in conv3D: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(o,"'")),Sr("NDHWC"===a,()=>"Error in conv3d: got dataFormat of ".concat(a," but only NDHWC is currently supported.")),Sr(vd(o),()=>"Error in conv3D: Dilated rates should be larger than 0."),Sr(vd(n),()=>"Error in conv3D: Strides should be larger than 0.");const c={x:l,filter:s},d={strides:n,pad:r,dataFormat:a,dilations:o},p=yl.runKernel(Fa,c,d);return u?wd(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}});const Yd=Tl({conv3DBackpropInput_:function(e,t,n,r,a){Sr(e.length===t.rank,()=>"Length of inShape "+"(".concat(e.length,") and rank of dy (").concat(t.rank,") must match"));let o=e,i=t,s=!1;4===t.rank&&(s=!0,i=wd(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),o=[1,e[0],e[1],e[2],e[3]]);const l=o[4],u=i.shape[4];Sr(5===o.length,()=>"Error in conv3dDerInput: inShape must be length 5, but got length "+"".concat(o.length,".")),Sr(5===i.rank,()=>"Error in conv3dDerInput: dy must be rank 5, but got "+"rank ".concat(i.rank)),Sr(5===n.rank,()=>"Error in conv3dDerInput: filter must be rank 5, but got "+"rank ".concat(n.rank)),Sr(l===n.shape[3],()=>"Error in conv3dDerInput: depth of input (".concat(l,") must ")+"match input depth for filter ".concat(n.shape[3],".")),Sr(u===n.shape[4],()=>"Error in conv3dDerInput: depth of output (".concat(u,") must ")+"match output depth for filter ".concat(n.shape[4],"."));const c={dy:i,filter:n},d={pad:a,strides:r,inputShape:o},p=yl.runKernel(Da,c,d);return s?wd(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}});const Qd=Tl({conv3dTranspose_:function(e,t,n,r,a){const o=Il(e,"x","conv3dTranspose"),i=Il(t,"filter","conv3dTranspose");return Yd(n,o,i,r,a)}});const Xd=Tl({cos_:function(e){const t={x:Il(e,"x","cos","float32")};return yl.runKernel(Pa,t)}});const Jd=Tl({cosh_:function(e){const t={x:Il(e,"x","cosh","float32")};return yl.runKernel(La,t)}});const Zd=Tl({cumprod_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a={x:Il(e,"x","cumprod")},o={axis:t,exclusive:n,reverse:r};return yl.runKernel(za,a,o)}});const ep=Tl({cumsum_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a={x:Il(e,"x","cumsum")},o={axis:t,exclusive:n,reverse:r};return yl.runKernel(Ba,a,o)}});const tp=Tl({denseBincount_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=Il(e,"x","denseBincount"),o=Il(t,"weights","denseBincount");Sr("int32"===a.dtype,()=>"Error in denseBincount: input "+"dtype must be int32, but got ".concat(a.dtype)),Sr(a.rank<=2,()=>"Error in denseBincount: input must be at most rank 2, but got "+"rank ".concat(a.rank,".")),Sr(n>=0,()=>"size must be non-negative, but got ".concat(n,".")),Sr(o.size===a.size||0===o.size,()=>"Error in denseBincount: weights must have the same shape as x or "+"0-length, but got x shape: ".concat(a.shape,", weights shape: ")+"".concat(o.shape,"."));const i={x:a,weights:o},s={size:n,binaryOutput:r};return yl.runKernel(Ua,i,s)}});const np=Tl({depthToSpace_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"NHWC";const r=Il(e,"x","depthToSpace","float32"),a="NHWC"===n?r.shape[1]:r.shape[2],o="NHWC"===n?r.shape[2]:r.shape[3],i="NHWC"===n?r.shape[3]:r.shape[1];Sr(t>1,()=>"blockSize should be > 1 for depthToSpace, but was: ".concat(t)),Sr(a*t>=0,()=>"Negative dimension size caused by overflow when multiplying\n    ".concat(a," and ").concat(t,"  for depthToSpace with input shape\n    ").concat(r.shape)),Sr(o*t>=0,()=>"Negative dimension size caused by overflow when multiplying\n    ".concat(o," and ").concat(t," for depthToSpace with input shape\n        ").concat(r.shape)),Sr(i%(t*t)===0,()=>"Dimension size must be evenly divisible by ".concat(t*t," but is ").concat(i," for depthToSpace with input shape ").concat(r.shape));const s={x:r},l={blockSize:t,dataFormat:n};return yl.runKernel(ja,s,l)}});const rp=Tl({depthwiseConv2d_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],i=arguments.length>6?arguments[6]:void 0;const s=Il(e,"x","depthwiseConv2d","float32"),l=Il(t,"filter","depthwiseConv2d","float32");let u=s,c=!1;3===s.rank&&(c=!0,u=wd(s,[1,s.shape[0],s.shape[1],s.shape[2]])),Sr(4===u.rank,()=>"Error in depthwiseConv2d: input must be rank 4, but got "+"rank ".concat(u.rank,".")),Sr(4===l.rank,()=>"Error in depthwiseConv2d: filter must be rank 4, but got rank "+"".concat(l.rank,"."));const d="NHWC"===a?u.shape[3]:u.shape[1];Sr(d===l.shape[2],()=>"Error in depthwiseConv2d: number of input channels "+"(".concat(d,") must match the inChannels dimension in ")+"filter ".concat(l.shape[2],".")),bd("depthwiseConv2d",r,i);const p={x:u,filter:l},h={strides:n,pad:r,dataFormat:a,dilations:o,dimRoundingMode:i},f=yl.runKernel(Ha,p,h);return c?wd(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});const ap=Tl({diag_:function(e){const t={x:Il(e,"x","diag")};return yl.runKernel(Ga,t)}});const op=Tl({dilation2d_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[1,1],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC";const i=Il(e,"x","dilation2d"),s=Il(t,"filter","dilation2d");Sr(3===i.rank||4===i.rank,()=>"Error in dilation2d: input must be rank 3 or 4, but got rank "+"".concat(i.rank,".")),Sr(3===s.rank,()=>"Error in dilation2d: filter must be rank 3, but got rank "+"".concat(s.rank,".")),Sr("NHWC"===o,()=>"Error in dilation2d: Only NHWC is currently supported, "+"but got dataFormat of ".concat(o));let l=i,u=!1;3===i.rank&&(l=wd(i,[1,i.shape[0],i.shape[1],i.shape[2]]),u=!0),Sr(l.shape[3]===s.shape[2],()=>"Error in dilation2d:  input and filter must have the same depth: ".concat(l.shape[3]," vs ").concat(s.shape[2]));const c={x:l,filter:s},d={strides:n,pad:r,dilations:a},p=yl.runKernel(Ka,c,d);return u?wd(p,[p.shape[1],p.shape[2],p.shape[3]]):p}});const ip=Tl({equal_:function(e,t){let n=Il(e,"a","equal","string_or_numeric"),r=Il(t,"b","equal","string_or_numeric");[n,r]=dl(n,r),sc(n.shape,r.shape);const a={a:n,b:r};return yl.runKernel(no,a)}});const sp=Tl({where_:function(e,t,n){const r=Il(t,"a","where"),a=Il(n,"b","where"),o=Il(e,"condition","where","bool"),i=sc(sc(o.shape,r.shape),a.shape),s={condition:Ld(o,i),t:Ld(r,i),e:Ld(a,i)};return yl.runKernel(Ii,s)}});const lp=Tl({divNoNan_:function(e,t){let n=Il(e,"a","div"),r=Il(t,"b","div");[n,r]=dl(n,r);const a=Hu(n,r),o=Ku(a),i=ip(r,o);return sp(i,o,a)}});const up=Tl({dot_:function(e,t){const n=Il(e,"t1","dot"),r=Il(t,"t2","dot");Sr((1===n.rank||2===n.rank)&&(1===r.rank||2===r.rank),()=>"Error in dot: inputs must all be rank 1 or 2, but got ranks "+"".concat(n.rank," and ").concat(r.rank,"."));const a=1===n.rank?n.size:n.shape[1],o=1===r.rank?r.size:r.shape[0];if(Sr(a===o,()=>"Error in dot: inner dimensions of inputs must match, but got "+"".concat(a," and ").concat(o,".")),1===n.rank&&1===r.rank){const e=wd(n,[1,-1]),t=wd(r,[-1,1]),a=Id(e,t);return wd(a,[])}if(1===n.rank&&2===r.rank){const e=wd(n,[1,-1]),t=wd(r,[r.shape[0],r.shape[1]]),a=Id(e,t);return wd(a,[a.size])}if(2===n.rank&&1===r.rank){const e=wd(r,[-1,1]),t=Id(n,e);return wd(t,[t.size])}{const e=wd(r,[r.shape[0],r.shape[1]]);return Id(n,e)}}});const cp=Tl({einsum_:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=n.map((e,t)=>Il(e,"tensors".concat(t),"einsum")),o={equation:e};return yl.runKernel(Ja,a,o)}});const dp=Tl({elu_:function(e){const t={x:Il(e,"x","elu","float32")};return yl.runKernel(Za,t)}});const pp=Tl({ensureShape_:function(e,t){const n=Il(e,"x","ensureShape","string_or_numeric");if(!function(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(null!==e[n]&&null!==t[n]&&e[n]!==t[n])return!1;return!0}(n.shape,t))throw new Error("EnsureShape: Shape of tensor ".concat(n.shape," is not compatible with expected shape ").concat(t));return e}});const hp=Tl({erf_:function(e){let t=Il(e,"x","erf");Sr("int32"===t.dtype||"float32"===t.dtype,()=>"Input dtype must be `int32` or `float32`."),"int32"===t.dtype&&(t=Ou(t,"float32"));const n={x:t};return yl.runKernel(to,n)}});function fp(e,t){for(let n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function mp(e,t){const n=[],r=e.length;for(let a=0;a<r;a++)-1===t.indexOf(a)&&n.push(e[a]);return[n,t.map(t=>e[t])]}function gp(e,t){return function(e,t,n){const r=e.length+t.length,a=[];let o=0,i=0;for(let s=0;s<r;s++)-1===n.indexOf(s)?a.push(e[o++]):a.push(t[i++]);return a}(e,t.map(e=>1),t)}function vp(e,t,n){Sr(fp(t,n),()=>"".concat(e," supports only inner-most axes for now. ")+"Got axes ".concat(t," and rank-").concat(n," input."))}function yp(e,t){if(fp(e,t))return null;const n=[];for(let r=0;r<t;++r)-1===e.indexOf(r)&&n.push(r);return e.forEach(e=>n.push(e)),n}function bp(e){return e.map((e,t)=>[t,e]).sort((e,t)=>e[1]-t[1]).map(e=>e[0])}function wp(e,t){const n=[];for(let r=t-e;r<t;++r)n.push(r);return n}const kp=Tl({max_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:Il(e,"x","max")},a={reductionIndices:t,keepDims:n};return yl.runKernel(Fo,r,a)}});const Sp=Tl({min_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:Il(e,"x","min")},a={axis:t,keepDims:n};return yl.runKernel(Uo,r,a)}});const xp=Tl({sum_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Il(e,"x","sum");"bool"===r.dtype&&(r=Ou(r,"int32"));const a={x:r},o={axis:t,keepDims:n};return yl.runKernel(Fi,a,o)}});function Ip(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(0===e.rank)return oc(e);if(1!==e.rank&&null===n)return Ip(wd(e,[-1]),t,n);if(1===e.rank||"number"===typeof n||Array.isArray(n)&&1===n.length){if(1===t)return xp(oc(e),n);if(t===1/0)return kp(oc(e),n);if(t===-1/0)return Sp(oc(e),n);if("euclidean"===t||2===t)return qu(xp(rc(oc(e),Yu(2,"int32")),n));throw new Error("Error in norm: invalid ord value: ".concat(t))}if(Array.isArray(n)&&2===n.length){if(1===t)return kp(xp(oc(e),n[0]),n[1]-1);if(t===1/0)return kp(xp(oc(e),n[1]),n[0]);if(t===-1/0)return Sp(xp(oc(e),n[1]),n[0]);if("fro"===t||"euclidean"===t)return qu(xp(Gu(e),n));throw new Error("Error in norm: invalid ord value: ".concat(t))}throw new Error("Error in norm: invalid axis: ".concat(n))}const _p=Tl({norm_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"euclidean",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=Ip(e=Il(e,"x","norm"),t,n);let o=a.shape;if(r){const t=Mr(n,e.shape);o=gp(a.shape,t)}return wd(a,o)}});const Ep=Tl({euclideanNorm_:function(e){return _p(e,"euclidean",arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]&&arguments[2])}});const Tp=Tl({exp_:function(e){const t={x:Il(e,"x","exp")};return yl.runKernel(ro,t)}});const Np=Tl({expandDims_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=Il(e,"x","expandDims","string_or_numeric");Sr(t<=n.rank,()=>"Axis must be <= rank of the tensor");const r={input:n},a={dim:t};return yl.runKernel(ao,r,a)}});const Cp=Tl({expm1_:function(e){const t={x:Il(e,"x","expm1")};return yl.runKernel(oo,t)}});const Mp=Tl({tile_:function(e,t){const n=Il(e,"x","tile","string_or_numeric");Sr(n.rank===t.length,()=>"Error in transpose: rank of input ".concat(n.rank," ")+"must match length of reps ".concat(t,"."));const r={x:n},a={reps:t};return yl.runKernel(Ji,r,a)}});const Ap=Tl({eye_:function(e,t,n){null==t&&(t=e);const r=Au([e,t],arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32"),a=e<=t?e:t;for(let i=0;i<a;++i)r.set(1,i,i);const o=wd(r.toTensor(),[e,t]);if(null==n)return o;if(1===n.length)return Mp(Np(o,0),[n[0],1,1]);if(2===n.length)return Mp(Np(Np(o,0),0),[n[0],n[1],1,1]);if(3===n.length)return Mp(Np(Np(Np(o,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error("eye() currently supports only 1D and 2D "+"batchShapes, but received ".concat(n.length,"D."))}});const Op=Tl({floor_:function(e){const t={x:Il(e,"x","floor","float32")};return yl.runKernel(lo,t)}});const Fp=Tl({gather_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const a={x:Il(e,"x","gather"),indices:Il(t,"indices","gather","int32")},o={axis:n,batchDims:r};return yl.runKernel(po,a,o)}});const Rp=Tl({greater_:function(e,t){let n=Il(e,"a","greater","string_or_numeric"),r=Il(t,"b","greater","string_or_numeric");[n,r]=dl(n,r),sc(n.shape,r.shape);const a={a:n,b:r};return yl.runKernel(fo,a)}});const Dp=Tl({greaterEqual_:function(e,t){let n=Il(e,"a","greaterEqual","string_or_numeric"),r=Il(t,"b","greaterEqual","string_or_numeric");[n,r]=dl(n,r),sc(n.shape,r.shape);const a={a:n,b:r};return yl.runKernel(mo,a)}});const Pp=Tl({imag_:function(e){const t={input:Il(e,"input","imag")};return yl.runKernel(yo,t)}});const Lp=Tl({isFinite_:function(e){const t={x:Il(e,"x","isFinite")};return yl.runKernel(bo,t)}});const zp=Tl({isInf_:function(e){const t={x:Il(e,"x","isInf")};return yl.runKernel(wo,t)}});const Bp=Tl({isNaN_:function(e){const t={x:Il(e,"x","isNaN")};return yl.runKernel(ko,t)}});const Wp=Tl({leakyRelu_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2;const n={x:Il(e,"x","leakyRelu")},r={alpha:t};return yl.runKernel(So,n,r)}});const Up=Tl({less_:function(e,t){let n=Il(e,"a","less","string_or_numeric"),r=Il(t,"b","less","string_or_numeric");[n,r]=dl(n,r),sc(n.shape,r.shape);const a={a:n,b:r};return yl.runKernel(xo,a)}});const jp=Tl({lessEqual_:function(e,t){let n=Il(e,"a","lessEqual","string_or_numeric"),r=Il(t,"b","lessEqual","string_or_numeric");[n,r]=dl(n,r),sc(n.shape,r.shape);const a={a:n,b:r};return yl.runKernel(Io,a)}});function Hp(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");const r={start:e,stop:t,num:n};return yl.runKernel(_o,{},r)}const Vp=Tl({localResponseNormalization_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;const o=Il(e,"x","localResponseNormalization");Sr(4===o.rank||3===o.rank,()=>"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ".concat(o.rank,".")),Sr(Tr(t),()=>"Error in localResponseNormalization: depthRadius must be an "+"integer but got depthRadius ".concat(t,"."));let i=o,s=!1;3===o.rank&&(s=!0,i=wd(o,[1,o.shape[0],o.shape[1],o.shape[2]]));const l={x:i},u={depthRadius:t,bias:n,alpha:r,beta:a},c=yl.runKernel(Ao,l,u);return s?wd(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});const qp=Tl({log_:function(e){const t={x:Il(e,"x","log","float32")};return yl.runKernel(Eo,t)}});const Gp=Tl({log1p_:function(e){const t={x:Il(e,"x","log1p")};return yl.runKernel(To,t)}});const Kp=Tl({neg_:function(e){const t={x:Il(e,"x","neg")};return yl.runKernel(Ko,t)}});const $p=Tl({softplus_:function(e){const t={x:Il(e,"x","softplus")};return yl.runKernel(Ai,t)}});const Yp=Tl({logSigmoid_:function(e){const t=Il(e,"x","logSigmoid");return $u(e=>({value:Kp($p(Kp(e))),gradFunc:t=>Vu(t,_d(Kp(e)))}))(t)}});const Qp=Tl({logSoftmax_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;const n=Il(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(n.rank," and axis was ").concat(t));const r=$u((e,n)=>{const r=kp(e,t,!0),a=ac(e,r),o=ac(Ou(a,"float32"),qp(xp(Tp(a),t,!0)));n([o]);return{value:o,gradFunc:(e,n)=>{const[r]=n,a=Tp(r);return ac(e,Vu(xp(e,t,!0),a))}}});return r(n)}});const Xp=Tl({logSumExp_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=Il(e,"x","logSumExp"),a=Mr(t,r.shape),o=kp(r,a,!0),i=ac(r,o),s=Tp(i),l=xp(s,a),u=qp(l),c=Uu(wd(o,u.shape),u);if(n){const e=gp(c.shape,a);return wd(c,e)}return c}});const Jp=Tl({logicalAnd_:function(e,t){const n=Il(e,"a","logicalAnd","bool"),r=Il(t,"b","logicalAnd","bool");sc(n.shape,r.shape);const a={a:n,b:r};return yl.runKernel(No,a)}});const Zp=Tl({logicalNot_:function(e){const t={x:Il(e,"x","logicalNot","bool")};return yl.runKernel(Co,t)}});const eh=Tl({logicalOr_:function(e,t){const n=Il(e,"a","logicalOr","bool"),r=Il(t,"b","logicalOr","bool");sc(n.shape,r.shape);const a={a:n,b:r};return yl.runKernel(Mo,a)}});const th=Tl({logicalXor_:function(e,t){const n=Il(e,"a","logicalXor","bool"),r=Il(t,"b","logicalXor","bool");return sc(n.shape,r.shape),Jp(eh(e,t),Zp(Jp(e,t)))}}),nh=2147483648;const rh=Tl({searchSorted_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"left";const r=Il(e,"sortedSequence","searchSorted"),a=Il(t,"values","searchSorted"),o=r.shape[r.shape.length-1],i=a.shape[a.shape.length-1],s=wd(r,[-1,o]),l=wd(a,[-1,i]);if(s.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(s.shape[0]!==l.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(_r(l.shape)>=nh)throw new Error("values tensor size must less than ".concat(nh));if(s.shape[1]>=nh)throw new Error("trailing dim_size must less than ".concat(nh," for int32 output type, was ").concat(s.shape[1]));const u={sortedSequence:s,values:l},c={side:n};return yl.runKernel(xi,u,c)}});function ah(e,t){return rh(e,t,"left")}const oh=Tl({maxPool_:function(e,t,n,r,a){const o=Il(e,"x","maxPool");let i=o,s=!1;3===o.rank&&(s=!0,i=wd(o,[1,o.shape[0],o.shape[1],o.shape[2]])),Sr(4===i.rank,()=>"Error in maxPool: input must be rank 4 but got rank ".concat(i.rank,".")),Sr(gd(n,1),()=>"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(1,"'")),bd("maxPool",r,a);const l={x:i},u={filterSize:t,strides:n,pad:r,dimRoundingMode:a},c=yl.runKernel(Do,l,u);return s?wd(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});const ih=Tl({maxPool3d_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,1,1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC";const i=Il(e,"x","maxPool3d");let s=i,l=!1;4===i.rank&&(l=!0,s=wd(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),Sr(5===s.rank,()=>"Error in maxPool3d: x must be rank 5 but got rank ".concat(s.rank,".")),Sr("NDHWC"===o,()=>"Error in maxPool3d: Only NDHWC is currently supported, "+"but got dataFormat of ".concat(o)),bd("maxPool3d",r,a);const u={x:s},c={filterSize:t,strides:n,pad:r,dimRoundingMode:a,dataFormat:o},d=yl.runKernel(Lo,u,c);return l?wd(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}});const sh=Tl({maxPoolWithArgmax_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o={x:Il(e,"x","maxPoolWithArgmax")},i={filterSize:t,strides:n,pad:r,includeBatchInIndex:a},s=yl.runKernel(Bo,o,i);return{result:s[0],indexes:s[1]}}});const lh=Tl({mean_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:Il(e,"x","mean")},a={axis:t,keepDims:n};return yl.runKernel(Wo,r,a)}});function uh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if(Hr(e),"complex64"===t){const t=uh(e,"float32"),n=uh(e,"float32");return Nl(t,n)}const n=Ur(_r(e),t);return yl.makeTensor(n,e,t)}function ch(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if(Hr(e),"complex64"===t){const t=ch(e,"float32"),n=uh(e,"float32");return Nl(t,n)}const n=Wr(_r(e),t);return yl.makeTensor(n,e,t)}function dh(e,t){let{indexing:n="xy"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("xy"!==n&&"ij"!==n)throw new TypeError("".concat(n," is not a valid third argument to meshgrid"));if(void 0===e)return[];let r=Il(e,"x","meshgrid",e instanceof el?e.dtype:"float32");if(void 0===t)return[r];let a=Il(t,"y","meshgrid",t instanceof el?t.dtype:"float32");const o=_r(r.shape),i=_r(a.shape);return"xy"===n?(r=wd(r,[1,-1]),a=wd(a,[-1,1]),[Id(ch([i,1],r.dtype),r),Id(a,ch([1,o],a.dtype))]):(r=wd(r,[-1,1]),a=wd(a,[1,-1]),[Id(r,ch([1,i],r.dtype)),Id(ch([o,1],a.dtype),a)])}const ph=Tl({minimum_:function(e,t){let n=Il(e,"a","minimum"),r=Il(t,"b","minimum");[n,r]=dl(n,r),"bool"===n.dtype&&(n=Ou(n,"int32"),r=Ou(r,"int32")),sc(n.shape,r.shape);const a={a:n,b:r};return yl.runKernel(jo,a)}});const hh=Tl({mirrorPad_:function(e,t,n){Sr("reflect"===n||"symmetric"===n,()=>"Invalid mode. Mode must be either reflect or symmetric. "+"Got ".concat(n,"."));const r=Il(e,"x","mirrorPad");if(0===r.rank)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");Sr(t.length===r.rank,()=>"Padding doesn't match input. Must be ".concat(r.rank,". ")+"Got ".concat(t.length,"."));const a="reflect"===n?1:0;for(let s=0;s<r.rank;s++)Sr(2===t[s].length,()=>"Invalid number of paddings. Must be length of 2 each."),Sr(t[s][0]>=0&&t[s][0]<=r.shape[s]-a&&t[s][1]>=0&&t[s][1]<=r.shape[s]-a,()=>"Padding in dimension ".concat(s," cannot be greater than or equal ")+"to ".concat(r.shape[s]-a," or less than 0 for input of ")+"shape ".concat(r.shape));const o={paddings:t,mode:n},i={x:r};return yl.runKernel(Ho,i,o)}});const fh=Tl({mod_:function(e,t){let n=Il(e,"a","mod"),r=Il(t,"b","mod");[n,r]=dl(n,r);const a={a:n,b:r};return yl.runKernel(Vo,a)}});const mh=Tl({moments_:function(e){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=Mr(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,(e=Il(e,"x","moments")).shape),r=lh(e,n,t);let a=r.shape;t||(a=gp(r.shape,n));const o=Gu(ac(Ou(e,"float32"),wd(r,a)));return{mean:r,variance:lh(o,n,t)}}});const gh=Tl({multiRNNCell_:function(e,t,n,r){const a=Il(t,"data","multiRNNCell"),o=_l(n,"c","multiRNNCell"),i=_l(r,"h","multiRNNCell");let s=a;const l=[];for(let d=0;d<e.length;d++){const t=e[d](s,o[d],i[d]);l.push(t[0]),l.push(t[1]),s=t[1]}const u=[],c=[];for(let d=0;d<l.length;d+=2)u.push(l[d]),c.push(l[d+1]);return[u,c]}});const vh=Tl({multinomial_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=Il(e,"logits","multinomial"),o=a.size,i=a.rank;if(o<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+"".concat(o,"."));if(i>2)throw new Error("Rank of probabilities must be 1 or 2, but is ".concat(i));n=n||Math.random();const s={logits:1===i?wd(a,[1,-1]):a},l={numSamples:t,seed:n,normalized:r},u=yl.runKernel(qo,s,l);return 1===i?wd(u,[u.size]):u}});const yh=Tl({notEqual_:function(e,t){let n=Il(e,"a","notEqual","string_or_numeric"),r=Il(t,"b","notEqual","string_or_numeric");[n,r]=dl(n,r),sc(n.shape,r.shape);const a={a:n,b:r};return yl.runKernel($o,a)}});const bh=Tl({oneHot_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"int32";if(t<2)throw new Error("Error in oneHot: depth must be >=2, but it is ".concat(t));const o={indices:Il(e,"indices","oneHot","int32")},i={dtype:a,depth:t,onValue:n,offValue:r};return yl.runKernel(Zo,o,i)}});const wh=Tl({onesLike_:function(e){const t={x:Il(e,"x","onesLike")};return yl.runKernel(Jo,t)}});const kh=Tl({outerProduct_:function(e,t){const n=Il(e,"v1","outerProduct"),r=Il(t,"v2","outerProduct");Sr(1===n.rank&&1===r.rank,()=>"Error in outerProduct: inputs must be rank 1, but got ranks "+"".concat(n.rank," and ").concat(r.rank,"."));const a=wd(n,[-1,1]),o=wd(r,[1,-1]);return Id(a,o)}});const Sh=Tl({pad_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=Il(e,"x","pad");if(0===r.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const a={paddings:t,constantValue:n},o={x:r};return yl.runKernel(ti,o,a)}});const xh=Tl({pad1d_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Sr(2===t.length,()=>"Invalid number of paddings. Must be length of 2."),Sh(e,[t],n)}});const Ih=Tl({pad2d_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Sr(2===t.length&&2===t[0].length&&2===t[1].length,()=>"Invalid number of paddings. Must be length of 2 each."),Sh(e,t,n)}});const _h=Tl({pad3d_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Sr(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,()=>"Invalid number of paddings. Must be length of 2 each."),Sh(e,t,n)}});const Eh=Tl({pad4d_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Sr(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,()=>"Invalid number of paddings. Must be length of 2 each."),Sh(e,t,n)}});const Th=Tl({spaceToBatchND_:function(e,t,n){const r=Il(e,"x","spaceToBatchND");Sr(r.rank>=1+t.length,()=>"input rank ".concat(r.rank," should be > than [blockShape] ").concat(t.length)),Sr(n.length===t.length,()=>"paddings.shape[0] ".concat(n.length," must be equal to [blockShape] ").concat(t.length)),Sr(r.shape.reduce((e,r,a)=>a>0&&a<=t.length?e&&(r+n[a-1][0]+n[a-1][1])%t[a-1]===0:e,!0),()=>"input spatial dimensions ".concat(r.shape.slice(1)," with paddings ").concat(n.toString()," must be divisible by blockShapes ").concat(t.toString()));const a={x:r},o={blockShape:t,paddings:n};return yl.runKernel(Ri,a,o)}});const Nh=Tl({pool_:function(e,t,n,r,a,o,i){null==a&&(a=[1,1]),null==o&&(o=1),0===r&&(r="valid");const s=Il(e,"x","maxPool");let l=s,u=!1;3===s.rank&&(u=!0,l=wd(s,[1,s.shape[0],s.shape[1],s.shape[2]])),Sr(gd(o,a),()=>"Error in pool: Either strides or dilations must be 1. "+"Got strides ".concat(o," and dilations '").concat(a,"'"));const c=id(l.shape,t,o,a,r),d=[c.dilationHeight,c.dilationWidth];let p;p="same"===r?function(e,t){const n=e.map((e,n)=>e+(e-1)*(t[n]-1)),r=n.map(e=>e-1),a=r.map(e=>Math.floor(e/2)),o=r.map((e,t)=>e-a[t]);return r.map((e,t)=>[a[t],o[t]])}([c.filterHeight,c.filterWidth],d):[[0,0],[0,0]];const h=1===d[0]&&1===d[1],[f,m]=function(e,t,n){const r=n.map(e=>e[0]),a=n.map(e=>e[1]),o=e.concat(r,a),i=t.map((e,t)=>(e-o[t]%e)%e),s=a.map((e,t)=>e+i[t]),l=t.map((e,t)=>[r[t],s[t]]),u=t.map((e,t)=>[0,i[t]]);return[l,u]}([c.inHeight,c.inWidth],d,p),g=h?r:"valid",v=h?l:Th(l,d,f),y=("avg"===n?()=>kd(v,t,o,g,i):()=>oh(v,t,o,g,i))(),b=h?y:Cd(y,d,m);return u?wd(b,[b.shape[1],b.shape[2],b.shape[3]]):b}});const Ch=Tl({prelu_:function(e,t){const n={x:Il(e,"x","prelu"),alpha:Il(t,"alpha","prelu")};return yl.runKernel(ri,n)}});const Mh=Tl({prod_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Il(e,"x","prod");"bool"===r.dtype&&(r=Ou(r,"int32"));const a={x:r},o={axis:t,keepDims:n};return yl.runKernel(ai,a,o)}});const Ah=Tl({raggedGather_:function(e,t,n,r){const a=e.map((e,t)=>Il(e,"tensors".concat(t),"raggedGather","int32")),o={paramsNestedSplits:a,paramsDenseValues:Il(t,"paramsDenseValues","raggedGather"),indices:Il(n,"indices","raggedGather","int32")},i={outputRaggedRank:r},s=yl.runKernel(oi,o,i);return{outputNestedSplits:s.slice(0,s.length-1),outputDenseValues:s[s.length-1]}}});const Oh=Tl({raggedRange_:function(e,t,n){const r=Il(e,"starts","raggedRange"),a={starts:r,limits:Il(t,"limits","raggedRange",r.dtype),deltas:Il(n,"deltas","raggedRange",r.dtype)},o=yl.runKernel(ii,a);return{rtNestedSplits:o[0],rtDenseValues:o[1]}}});const Fh=Tl({raggedTensorToTensor_:function(e,t,n,r,a){const o=Il(e,"shape","raggedTensorToTensor","int32"),i=Il(t,"values","raggedTensorToTensor"),s=Il(n,"defaultValue","raggedTensorToTensor",i.dtype),l=r.map((e,t)=>Il(e,"tensors".concat(t),"raggedTensorToTensor","int32")),u={shape:o,values:i,defaultValue:s,rowPartitionTensors:l},c={rowPartitionTypes:a};return yl.runKernel(si,u,c)}});const Rh=Tl({rand_:function(e,t,n){Hr(e);const r=_r(e);let a=null;if(null==n||"float32"===n)a=new Float32Array(r);else if("int32"===n)a=new Int32Array(r);else{if("bool"!==n)throw new Error("Unknown data type ".concat(n));a=new Uint8Array(r)}for(let o=0;o<r;o++)a[o]=t();return yl.makeTensor(a,e,n)}});var Dh=n(4334);class Ph{constructor(e,t,n,r,a){this.mean=e,this.stdDev=t,this.dtype=n,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);const o=a||Math.random();this.random=Dh.alea(o.toString())}nextValue(){if(!isNaN(this.nextVal)){const e=this.nextVal;return this.nextVal=NaN,e}let e,t,n=!1;for(;!n;){let r,a,o;do{r=2*this.random()-1,a=2*this.random()-1,o=r*r+a*a}while(o>=1||0===o);const i=Math.sqrt(-2*Math.log(o)/o);e=this.mean+this.stdDev*r*i,t=this.mean+this.stdDev*a*i,this.truncated&&!this.isValidTruncated(e)||(n=!0)}return this.truncated&&!this.isValidTruncated(t)||(this.nextVal=this.convertValue(t)),this.convertValue(e)}convertValue(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}}class Lh{constructor(e,t,n,r){this.alpha=e,this.beta=1/t,this.dtype=n;const a=r||Math.random();this.randu=Dh.alea(a.toString()),this.randn=new Ph(0,1,n,!1,this.randu()),this.d=e<1?e+2/3:e-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let e,t,n,r,a,o;for(;;){do{r=this.randn.nextValue(),o=1+this.c*r}while(o<=0);if(o*=o*o,e=r*r,t=1-.331*e*e,n=.5*e+this.d*(1-o+Math.log(o)),a=this.randu(),a<t||Math.log(a)<n)break}return o=1/this.beta*this.d*o,this.alpha<1&&(o*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(o)}convertValue(e){return"float32"===this.dtype?e:Math.round(e)}}class zh{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(this.canReturnFloat=()=>null==this.dtype||"float32"===this.dtype,this.min=e,this.range=t-e,this.dtype=n,null==r&&(r=Math.random()),"number"===typeof r&&(r=r.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between ".concat(e," - ").concat(t," <= 1 and dtype is not float"));this.random=Dh.alea(r)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}const Bh=Tl({randomGamma_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",a=arguments.length>4?arguments[4]:void 0;if(Hr(e),null==n&&(n=1),null==r&&(r="float32"),"float32"!==r&&"int32"!==r)throw new Error("Unsupported data type ".concat(r));const o=new Lh(t,n,r,a),i=Au(e,r);for(let s=0;s<i.values.length;s++)i.values[s]=o.nextValue();return i.toTensor()}});const Wh=Tl({randomNormal_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;if(Hr(e),null!=r&&"bool"===r)throw new Error("Unsupported data type ".concat(r));const o=new Ph(t,n,r,!1,a),i=Au(e,r);for(let s=0;s<i.values.length;s++)i.values[s]=o.nextValue();return i.toTensor()}});const Uh=Tl({randomStandardNormal_:function(e,t,n){if(null!=t&&"bool"===t)throw new Error("Unsupported data type ".concat(t));return Wh(e,0,1,t,n)}});const jh=Tl({randomUniform_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",a=arguments.length>4?arguments[4]:void 0;Hr(e);const o=Au(e,r),i=new zh(t,n,null,a);for(let s=0;s<o.values.length;s++)o.values[s]=i.nextValue();return o.toTensor()}});const Hh=Tl({randomUniformInt_:function(e,t,n,r){return jh(e,t,n,"int32",r)}});function Vh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32";if(0===n)throw new Error("Cannot have a step of zero");const a={start:e,stop:t,step:n,dtype:r};return yl.runKernel(li,{},a)}const qh=Tl({real_:function(e){const t={input:Il(e,"input","real")};return yl.runKernel(ui,t)}});const Gh=Tl({reciprocal_:function(e){const t={x:Il(e,"x","reciprocal")};return yl.runKernel(ci,t)}});const Kh=Tl({relu_:function(e){const t={x:Il(e,"x","relu")};return yl.runKernel(di,t)}});const $h=Tl({relu6_:function(e){const t={x:Il(e,"x","relu6")};return yl.runKernel(vi,t)}});const Yh=Tl({reverse_:function(e,t){const n={x:Il(e,"x","reverse")},r={dims:t};return yl.runKernel(yi,n,r)}});const Qh=Tl({reverse1d_:function(e){const t=Il(e,"x","reverse");return Sr(1===t.rank,()=>"Error in reverse1D: x must be rank 1 but got rank ".concat(t.rank,".")),Yh(t,0)}});const Xh=Tl({reverse2d_:function(e,t){const n=Il(e,"x","reverse");return Sr(2===n.rank,()=>"Error in reverse2D: x must be rank 2 but got rank ".concat(n.rank,".")),Yh(n,t)}});const Jh=Tl({reverse3d_:function(e,t){const n=Il(e,"x","reverse");return Sr(3===n.rank,()=>"Error in reverse3D: x must be rank 3 but got rank ".concat(n.rank,".")),Yh(n,t)}});const Zh=Tl({reverse4d_:function(e,t){const n=Il(e,"x","reverse");return Sr(4===n.rank,()=>"Error in reverse4D: x must be rank 4 but got rank ".concat(n.rank,".")),Yh(n,t)}});const ef=Tl({round_:function(e){const t={x:Il(e,"x","round")};return yl.runKernel(bi,t)}});const tf=Tl({rsqrt_:function(e){const t={x:Il(e,"x","rsqrt","float32")};return yl.runKernel(wi,t)}});const nf=Tl({selu_:function(e){const t={x:Il(e,"x","selu")};return yl.runKernel(_i,t)}});const rf=Tl({separableConv2d_:function(e,t,n,r,a){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NHWC";const s=Il(e,"x","separableConv2d"),l=Il(t,"depthwiseFilter","separableConv2d"),u=Il(n,"pointwiseFilter","separableConv2d");let c=s,d=!1;if(3===s.rank&&(d=!0,c=wd(s,[1,s.shape[0],s.shape[1],s.shape[2]])),"NCHW"===i)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");Sr(4===c.rank,()=>"Error in separableConv2d: input must be rank 4, but got "+"rank ".concat(c.rank,".")),Sr(4===l.rank,()=>"Error in separableConv2d: depthwise filter must be rank 4, but "+"got rank ".concat(l.rank,".")),Sr(4===u.rank,()=>"Error in separableConv2d: pointwise filter must be rank 4, but "+"got rank ".concat(l.rank,".")),Sr(1===u.shape[0],()=>"Error in separableConv2d: the first dimension of pointwise filter "+" must be 1, but got ".concat(u.shape[0],".")),Sr(1===u.shape[1],()=>"Error in separableConv2d: the second dimension of pointwise "+"filter must be 1, but got ".concat(u.shape[1],"."));const p=l.shape[2],h=l.shape[3];Sr(u.shape[2]===p*h,()=>"Error in separableConv2d: the third dimension of pointwise filter "+"must be ".concat(p*h,", ")+"but got ".concat(u.shape[2],"."));const f=rp(c,l,r,a,i,o),m=Vd(f,u,1,"valid",i);return d?wd(m,[m.shape[1],m.shape[2],m.shape[3]]):m}});const af=async function(e,t){const n=Il(e,"x","setdiff1d"),r=Il(t,"y","setdiff1d");Sr(n.dtype===r.dtype,()=>"x and y should have the same dtype, but got x (".concat(n.dtype,") and y (").concat(r.dtype,").")),Sr(1===n.rank,()=>"x should be 1D tensor, but got x (".concat(n.shape,").")),Sr(1===r.rank,()=>"y should be 1D tensor, but got y (".concat(r.shape,")."));const a=await n.data(),o=await r.data(),i=new Set(o);let s=0;for(let c=0;c<a.length;c++)i.has(a[c])||s++;const l=new Qs([s],n.dtype),u=new Qs([s],"int32");for(let c=0,d=0;c<a.length;c++)i.has(a[c])||(l.values[d]=a[c],u.values[d]=c,d++);return[l.toTensor(),u.toTensor()]};const of=Tl({sign_:function(e){const t={x:Il(e,"x","sign")};return yl.runKernel(Ci,t)}});const sf=Tl({sin_:function(e){const t={x:Il(e,"x","sin","float32")};return yl.runKernel(Ti,t)}});const lf=Tl({sinh_:function(e){const t={x:Il(e,"x","sinh")};return yl.runKernel(Ni,t)}});const uf=Tl({slice1d_:function(e,t,n){const r=Il(e,"x","slice1d");return Sr(1===r.rank,()=>"slice1d expects a rank-1 tensor, but got a rank-".concat(r.rank," tensor")),Ed(r,[t],[n])}});const cf=Tl({slice2d_:function(e,t,n){const r=Il(e,"x","slice2d");return Sr(2===r.rank,()=>"slice2d expects a rank-2 tensor, but got a rank-".concat(r.rank," tensor")),Ed(r,t,n)}});const df=Tl({slice3d_:function(e,t,n){const r=Il(e,"x","slice3d");return Sr(3===r.rank,()=>"slice3d expects a rank-3 tensor, but got a rank-".concat(r.rank," tensor")),Ed(r,t,n)}});const pf=Tl({slice4d_:function(e,t,n){const r=Il(e,"x","slice4d");return Sr(4===r.rank,()=>"slice4d expects a rank-4 tensor, but got a rank-".concat(r.rank," tensor")),Ed(r,t,n)}});const hf=Tl({softmax_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;const n=Il(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(n.rank," and dim was ").concat(t));const r={logits:n},a={dim:t};return yl.runKernel(Pi,r,a)}});const ff=Tl({fft_:function(e){Sr("complex64"===e.dtype,()=>"The dtype for tf.spectral.fft() must be complex64 "+"but got ".concat(e.dtype,"."));const t={input:e};return yl.runKernel("FFT",t)}});const mf=Tl({ifft_:function(e){Sr("complex64"===e.dtype,()=>"The dtype for tf.spectral.ifft() must be complex64 "+"but got ".concat(e.dtype,"."));const t={input:e};return yl.runKernel(vo,t)}});const gf=Tl({irfft_:function(e){const t=e.shape[e.shape.length-1],n=e.size/t;let r;if(t<=2){const a=wd(e,[n,t]);r=mf(a)}else{const a=[n,2*(t-1)],o=wd(qh(e),[n,t]),i=wd(Pp(e),[n,t]),s=Yh(Ed(o,[0,1],[n,t-2]),1),l=Vu(Yh(Ed(i,[0,1],[n,t-2]),1),Yu(-1)),u=xd([o,s],1),c=xd([i,l],1),d=wd(Nl(u,c),[a[0],a[1]]);r=mf(d)}if(r=qh(r),3===e.rank&&0!==e.shape[0]){const t=r,n=e.shape[0];r=wd(r,[n,r.shape[0]/n,r.shape[1]]),t.dispose()}return r}});const vf=Tl({split_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r={x:Il(e,"x","split")},a={numOrSizeSplits:t,axis:n};return yl.runKernel(Di,r,a)}});const yf=Tl({rfft_:function(e,t){Sr("float32"===e.dtype,()=>"The dtype for rfft() must be real value but got ".concat(e.dtype));let n=e.shape[e.shape.length-1];const r=e.size/n;let a;if(null!=t&&t<n){const r=e.shape.map(e=>0),o=e.shape.map(e=>e);o[e.shape.length-1]=t,a=Ed(e,r,o),n=t}else if(null!=t&&t>n){const r=e.shape.map(e=>e);r[e.shape.length-1]=t-n,a=xd([e,uh(r)],e.shape.length-1),n=t}else a=e;const o=Ku(a),i=wd(Nl(a,o),[r,n]),s=ff(i),l=Math.floor(n/2)+1,u=qh(s),c=Pp(s),d=vf(u,[l,n-l],u.shape.length-1),p=vf(c,[l,n-l],c.shape.length-1),h=a.shape.slice();return h[a.shape.length-1]=l,wd(Nl(d[0],p[0]),h)}});const bf=Tl({squaredDifference_:function(e,t){let n=Il(e,"a","squaredDifference"),r=Il(t,"b","squaredDifference");[n,r]=dl(n,r),sc(n.shape,r.shape);const a={a:n,b:r};return yl.runKernel(ji,a,{})}});const wf=Tl({squeeze_:function(e,t){const n=Il(e,"x","squeeze","string_or_numeric");return wd(n,function(e,t){const n=[],r=[],a=null!=t&&Array.isArray(t)&&0===t.length,o=null==t||a?null:Mr(t,e).sort();let i=0;for(let s=0;s<e.length;++s){if(null!=o){if(o[i]===s&&1!==e[s])throw new Error("Can't squeeze axis ".concat(s," since its dim '").concat(e[s],"' is not 1"));(null==o[i]||o[i]>s)&&1===e[s]&&(n.push(e[s]),r.push(s)),o[i]<=s&&i++}1!==e[s]&&(n.push(e[s]),r.push(s))}return{newShape:n,keptDims:r}}(n.shape,t).newShape)}});const kf=Tl({stack_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=_l(e,"tensors","stack","string_or_numeric");Sr(n.length>=1,()=>"Pass at least one tensor to tf.stack"),n.length>0&&Sr(t<=n[0].rank,()=>"Axis must be <= rank of the tensor");const r=n,a={axis:t};return yl.runKernel(ei,r,a)}});const Sf=Tl({step_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n={x:Il(e,"x","step")},r={alpha:t};return yl.runKernel(is,n,r)}});const xf=Tl({stridedSlice_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;const u={x:Il(e,"x","stridedSlice","string_or_numeric")},c={begin:t,end:n,strides:r,beginMask:a,endMask:o,ellipsisMask:i,newAxisMask:s,shrinkAxisMask:l};return yl.runKernel(qi,u,c)}});const If=Tl({tan_:function(e){const t={x:Il(e,"x","tan","float32")};return yl.runKernel(Qi,t)}});function _f(e,t){Ir(e);const n=kl(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return Cl(e,null,n,t)}function Ef(e,t,n){if(Ir(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");const r=kl(e,n);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return Cl(e,t,r,n)}function Tf(e,t,n){if(Ir(e),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");const r=kl(e,n);if(4!==r.length&&1!==r.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return Cl(e,t,r,n)}function Nf(e,t,n){if(Ir(e),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");const r=kl(e,n);if(5!==r.length&&1!==r.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return Cl(e,t,r,n)}function Cf(e,t,n){if(Ir(e),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");const r=kl(e,n);if(6!==r.length&&1!==r.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return Cl(e,t=t||r,r,n)}const Mf=Tl({tensorScatterUpdate_:function(e,t,n){const r=Il(e,"tensor","tensorScatterupdate"),a=Il(t,"indices","tensorScatterupdate","int32"),o=Il(n,"updates","tensorScatterupdate");if(Bc(o,a,r.shape),r.dtype!==o.dtype)throw new Error("tensor and updates must have the same dtype, instead they are ".concat(r.dtype," and ").concat(o.dtype,"."));const i={tensor:r,indices:a,updates:o};return yl.runKernel(Si,i,{})}});const Af=Tl({topk_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Il(e,"x","topk");if(0===r.rank)throw new Error("topk() expects the input to be of rank 1 or higher");const a=r.shape[r.shape.length-1];if(t<0)throw new Error("'k' passed to topk() must be >= 0 but got ".concat(t));if(t>a)throw new Error("'k' passed to topk() must be <= the last dimension (".concat(a,") ")+"but got ".concat(t));const o={x:r},i={k:t,sorted:n},[s,l]=yl.runKernel(Zi,o,i);return{values:s,indices:l}}});const Of=Tl({truncatedNormal_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;if(Hr(e),null!=r&&"bool"===r)throw new Error("Unsupported data type $ { dtype }");const o=new Ph(t,n,r,!0,a),i=Au(e,r);for(let s=0;s<i.values.length;s++)i.values[s]=o.nextValue();return i.toTensor()}});const Ff=Tl({unique_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=Il(e,"x","unique","string_or_numeric");Sr(n.rank>0,()=>"The input tensor must be at least 1D");const r={x:n},a={axis:t},[o,i]=yl.runKernel(ns,r,a);return{values:o,indices:i}}});const Rf=Tl({unsortedSegmentSum_:function(e,t,n){const r=Il(e,"x","unsortedSegmentSum"),a=Il(t,"segmentIds","unsortedSegmentSum","int32");Sr(Tr(n),()=>"numSegments must be of dtype int");const o={x:r,segmentIds:a},i={numSegments:n};return yl.runKernel(as,o,i)}});const Df=Tl({unstack_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=Il(e,"x","unstack","string_or_numeric");Sr(t>=-n.shape.length&&t<n.shape.length,()=>"Axis = ".concat(t," is not in [-").concat(n.shape.length,", ").concat(n.shape.length,")"));const r={value:n},a={axis:t};return yl.runKernel(rs,r,a)}});function Pf(e,t){return rh(e,t,"right")}function Lf(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return yl.makeVariable(e,t,n,r)}function zf(e,t){const n=[];for(let o=0;o<t.length;o++)t[o]&&n.push(o);const r=Au(e,"int32"),a=Au([n.length,e.length],"int32");for(let o=0;o<n.length;o++){const t=r.indexToLoc(n[o]),i=o*e.length;a.values.set(t,i)}return a.toTensor()}const Bf=async function(e){const t=Il(e,"condition","whereAsync","bool"),n=await t.data(),r=zf(t.shape,n);return e!==t&&t.dispose(),r};const Wf=async function(e,t,n){const r=Il(e,"tensor","boolMask"),a=Il(t,"mask","boolMask","bool"),o=null==n?0:n,i=a.rank,s=r.shape;Sr(i>0,()=>"mask cannot be scalar"),xr(s.slice(o,o+i),a.shape,"mask's shape must match the first K dimensions of tensor's shape,");let l=1;for(let m=o;m<o+i;m++)l*=s[m];const u=s.slice(0,o).concat([l],s.slice(o+i)),c=wd(r,u),d=wd(a,[-1]),p=await Bf(d),h=wf(p,[1]),f=Fp(c,h,o);return e!==r&&r.dispose(),t!==a&&a.dispose(),h.dispose(),c.dispose(),d.dispose(),p.dispose(),f};const Uf=Tl({transpose_:function(e,t,n){const r=Il(e,"x","transpose");if(null==t&&(t=r.shape.map((e,t)=>t).reverse()),Sr(r.rank===t.length,()=>"Error in transpose: rank of input ".concat(r.rank," ")+"must match length of perm ".concat(t,".")),t.forEach(e=>{Sr(e>=0&&e<r.rank,()=>"All entries in 'perm' must be between 0 and ".concat(r.rank-1)+" but got ".concat(t))}),r.rank<=1)return r.clone();const a={x:r},o={perm:t};return"complex64"===r.dtype?Pu(()=>{let e=qh(r),t=Pp(r);return e=yl.runKernel(ts,{x:e},o),t=yl.runKernel(ts,{x:t},o),n&&(t=Kp(t)),Nl(e,t)}):yl.runKernel(ts,a,o)}});const jf=Tl({movingAverage_:function(e,t,n,r){let a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];const o=Il(e,"v","movingAverage"),i=Il(t,"x","movingAverage"),s=Il(n,"decay","movingAverage");!function(e,t){Sr(e.dtype===t.dtype,()=>"The dtypes of the first(".concat(e.dtype,") and")+" second(".concat(t.dtype,") input must match"))}(o,i),Sr(Er(o.shape,i.shape),()=>"Shape mismatch in v and x");const l=Yu(1),u=ac(l,s);let c=Vu(ac(i,o),u);if(a){Sr(null!=r,()=>"When using zeroDebias: true, step is required.");const e=Il(r,"step","movingAverage");c=Hu(c,ac(l,rc(s,e)))}return Uu(o,c)}});const Hf=Tl({scatterND_:function(e,t,n){Hr(n);const r=Il(e,"indices","scatterND","int32"),a=Il(t,"updates","scatterND");Bc(a,r,n);const o={indices:r,updates:a},i={shape:n};return yl.runKernel(ki,o,i)}});const Vf=Tl({sparseToDense_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;Hr(n);const a=Il(e,"sparseIndices","sparseToDense","int32"),o=Il(t,"sparseValues","sparseToDense","string_or_numeric"),i=Il(r,"defaultValue","sparseToDense",o.dtype);!function(e,t,n,r){if("int32"!==e.dtype)throw new Error("tf.sparseToDense() expects the indices to be int32 type,"+" but the dtype was ".concat(e.dtype,"."));if(e.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix,"+" but got shape ".concat(e.shape,"."));const a=e.rank>0?e.shape[0]:1,o=e.rank>1?e.shape[1]:1;if(n.length!==o)throw new Error("outputShape has incorrect number of elements:,"+" ".concat(n.length,", should be: ").concat(o,"."));const i=t.size;if(0!==t.rank&&(1!==t.rank||i!==a))throw new Error("sparseValues has incorrect shape "+"".concat(t.shape,", should be [] or [").concat(a,"]"));if(t.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(a,o,n,i);const s={sparseIndices:a,sparseValues:o,defaultValue:i},l={outputShape:n};return yl.runKernel(Ui,s,l)}});const qf=Tl({gatherND_:function(e,t){const n=Il(t,"indices","gatherND","int32"),r={params:Il(e,"x","gatherND","string_or_numeric"),indices:n};return yl.runKernel(ho,r)}});const Gf=Tl({dropout_:function(e,t,n,r){const a=Il(e,"x","dropout");if(Sr("float32"===a.dtype,()=>"x has to be a floating point tensor since it's going to be "+"scaled, but got a ".concat(a.dtype," tensor instead.")),Sr(t>=0&&t<1,()=>"rate must be a float in the range [0, 1), but got ".concat(t,".")),0===t)return e instanceof el?a.clone():a;const o=function(e,t){if(null==t)return e.shape.slice();if(Er(e.shape,t))return t;if(e.shape.length===t.length){const n=[];for(let r=0;r<e.shape.length;r++)null==t[r]&&null!=e.shape[r]?n.push(e.shape[r]):n.push(t[r]);return n}return t}(a,n),i=1-t,s=Hu(Op(Uu(jh(o,0,1,"float32",r),i)),i);return Vu(a,s)}});function Kf(e){return Math.floor(Math.pow(2,Math.ceil(Math.log(e)/Math.log(2))))}function $f(e,t,n){const r=1-e%2,a=new Float32Array(e);for(let o=0;o<e;++o){const i=2*Math.PI*o/(e+r-1);a[o]=t-n*Math.cos(i)}return _f(a,"float32")}const Yf=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const r=Il(e,"predictions","inTopK"),a=Il(t,"targets","inTopK");Sr(r.rank>1,()=>"inTopK() expects the predictions to be of rank 2 or higher, "+"but got ".concat(r.rank)),Sr(r.rank-1===a.rank,()=>"predictions rank should be 1 larger than targets rank, but got predictions rank "+"".concat(r.rank," and targets rank ").concat(a.rank)),xr(r.shape.slice(0,r.shape.length-1),a.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");const o=r.shape[r.shape.length-1];Sr(n>0&&n<=o,()=>"'k' passed to inTopK() must be > 0 && <= the predictions last "+"dimension (".concat(o,"), but got ").concat(n));const i=await r.data(),s=await a.data(),[l,u]=[i.length/o,o],c=Ar("bool",l);for(let d=0;d<l;d++){const e=d*u,t=i.subarray(e,e+u),r=[];for(let n=0;n<t.length;n++)r.push({value:t[n],index:n});r.sort((e,t)=>t.value-e.value),c[d]=0;for(let a=0;a<n;a++)if(r[a].index===s[d]){c[d]=1;break}}return e!==r&&r.dispose(),t!==a&&a.dispose(),Ml(c,a.shape,"bool")};const Qf=Tl({conv2DBackpropFilter_:function(e,t,n,r,a){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",i=arguments.length>6?arguments[6]:void 0,s=e;3===e.rank&&(s=wd(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;3===l.rank&&(l=wd(t,[1,t.shape[0],t.shape[1],t.shape[2]])),Sr(4===s.rank,()=>"Error in conv2dDerFilter: input must be rank 4, but got shape "+"".concat(s.shape,".")),Sr(4===l.rank,()=>"Error in conv2dDerFilter: dy must be rank 4, but got shape "+"".concat(l.shape,".")),Sr(4===n.length,()=>"Error in conv2dDerFilter: filterShape must be length 4, but got "+"".concat(n,"."));const u="NHWC"===o?s.shape[3]:s.shape[1],c="NHWC"===o?l.shape[3]:l.shape[1];Sr(u===n[2],()=>"Error in conv2dDerFilter: depth of input ".concat(u,") must ")+"match input depth in filter (".concat(n[2],".")),Sr(c===n[3],()=>"Error in conv2dDerFilter: depth of dy (".concat(c,") must ")+"match output depth for filter (".concat(n[3],").")),bd("conv2dDerFilter",a,i);const d={x:s,dy:l},p={strides:r,pad:a,dataFormat:o,dimRoundingMode:i,filterShape:n};return yl.runKernel(Aa,d,p)}});function Xf(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return Vu(e,Sf(t));throw new Error("Cannot compute gradient for fused activation ".concat(n,"."))}function Jf(e,t){let n=t;const r=function(e,t){const n=[];for(let r=0;r<t.length;r++){const a=e[e.length-r-1],o=t.length-r-1,i=t[o];(null==a||1===a&&i>1)&&n.unshift(o)}return n}(e.shape,t.shape);return r.length>0&&(n=xp(n,r)),wd(n,e.shape)}function Zf(e,t,n,r){if("linear"===t)return e;if("relu"===t)return Kh(e);if("elu"===t)return dp(e);if("relu6"===t)return $h(e);if("prelu"===t)return Ch(e,n);if("leakyrelu"===t)return Wp(e,r);if("sigmoid"===t)return _d(e);throw new Error("Unknown fused activation ".concat(t,"."))}const em=(e,t)=>!(e>0)||"linear"===t;const tm=Tl({fusedConv2d_:function(e){let{x:t,filter:n,strides:r,pad:a,dataFormat:o="NHWC",dilations:i=[1,1],dimRoundingMode:s,bias:l,activation:u="linear",preluActivationWeights:c,leakyreluAlpha:d}=e;if(u=u||"linear",!1===em(yl.state.gradientDepth,u)){Sr("NHWC"===o,()=>"Error in fused conv2d: got dataFormat of ".concat(o," but ")+"only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.");let e=Vd(t,n,r,a,o,i,s);return null!=l&&(e=Uu(e,l)),Zf(e,u,c,d)}const p=Il(t,"x","conv2d","float32"),h=Il(n,"filter","conv2d","float32");let f=p,m=!1;3===p.rank&&(m=!0,f=wd(p,[1,p.shape[0],p.shape[1],p.shape[2]])),Sr(4===f.rank,()=>"Error in fused conv2d: input must be rank 4, but got rank "+"".concat(f.rank,".")),Sr(4===h.rank,()=>"Error in fused conv2d: filter must be rank 4, but got rank "+"".concat(h.rank,".")),bd("fused conv2d",a,s);const g="NHWC"===o?f.shape[3]:f.shape[1];Sr(h.shape[2]===g,()=>"Error in conv2d: depth of input (".concat(g,") must match ")+"input depth for filter ".concat(h.shape[2],".")),Sr(gd(r,i),()=>"Error in conv2D: Either strides or dilations must be 1. "+"Got strides ".concat(r," and dilations '").concat(i,"'"));const v=ld(f.shape,h.shape,r,i,a,s);let y,b;if(null!=l&&(y=Il(l,"bias","fused conv2d"),[y]=dl(y,p),"NHWC"===o?sc(v.outShape,y.shape):(Sr(y.shape.length<=1,()=>"Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of "+"rank-".concat(y.shape.length,".")),Sr(0===y.shape.length||y.shape[0]===v.outChannels||1===y.shape[0],()=>"Error in fused conv2d: bias shape (".concat(y.shape,") is not ")+"compatible with the number of output channels "+"(".concat(v.outChannels,")")))),null!=c){const e=c.shape;if(Sr(e.length<=1||3===e.length,()=>"Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of "+"rank-".concat(e.length,".")),1===e.length)Sr(1===e[0]||e[0]===v.outChannels,()=>"Error in fused conv2d: PReLU activation weights "+"(".concat(e,") is not compatible with the number of output ")+"channels (".concat(v.outChannels,")."));else if(3===e.length)try{sc(e,v.outShape)}catch(ID){const n="Error in fused conv2d: PReLU activation weights (".concat(e,") ")+"is not compatible with the output shape of the conv2d "+"(".concat(v.outShape,").");throw Error(n)}b=Il(c,"prelu weights","fused conv2d")}const w=(e,t)=>{Sr("NHWC"===o,()=>"Error in gradient of fused conv2D: got dataFormat of ".concat(o," but only NHWC is currently supported."));const[n,s,l,c]=t,d=Xf(e,l,u);Sr(md(i),()=>"Error in gradient of fused conv2D: dilation rates greater than 1 "+"are not yet supported in gradients. Got dilations '".concat(i,"'"));const p=[Gd(s.shape,d,n,r,a),Qf(s,d,n.shape,r,a)];if(null!=c){const e=Jf(c,d);p.push(e)}return p},k={x:f,filter:h,bias:y,preluActivationWeights:b},S={strides:r,pad:a,dataFormat:o,dilations:i,dimRoundingMode:s,activation:u,leakyreluAlpha:d};if(null==l){const e=$u((e,t,n)=>{let r=yl.runKernel(cs,k,S);return n([t,e,r]),m&&(r=wd(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:w}});return e(f,h)}{const e=$u((e,t,n,r)=>{let a=yl.runKernel(cs,k,S);return r([t,e,a,n]),m&&(a=wd(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:w}});return e(f,h,y)}}});const nm=Tl({depthwiseConv2dNativeBackpropFilter_:function(e,t,n,r,a){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],i=arguments.length>6?arguments[6]:void 0,s=e;3===e.rank&&(s=wd(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;3===l.rank&&(l=wd(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const u={x:s,dy:l},c={strides:r,pad:a,dimRoundingMode:i,dilations:o,filterShape:n};return yl.runKernel(Va,u,c)}});const rm=Tl({depthwiseConv2dNativeBackpropInput_:function(e,t,n,r,a){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],i=arguments.length>6?arguments[6]:void 0,s=t,l=!1;3===t.rank&&(l=!0,s=wd(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const u={dy:s,filter:n},c={strides:r,pad:a,dimRoundingMode:i,dilations:o,inputShape:e},d=yl.runKernel(qa,u,c);return l?wd(d,[d.shape[1],d.shape[2],d.shape[3]]):d}});const am=Tl({fusedDepthwiseConv2d_:function(e){let{x:t,filter:n,strides:r,pad:a,dataFormat:o="NHWC",dilations:i=[1,1],dimRoundingMode:s,bias:l,activation:u="linear",preluActivationWeights:c,leakyreluAlpha:d}=e;if(!1===em(yl.state.gradientDepth,u)){let e=rp(t,n,r,a,o,i,s);return null!=l&&(e=Uu(e,l)),Zf(e,u,c,d)}const p=Il(t,"x","depthwiseConv2d","float32"),h=Il(n,"filter","depthwiseConv2d","float32");let f=p,m=!1;3===p.rank&&(m=!0,f=wd(p,[1,p.shape[0],p.shape[1],p.shape[2]])),Sr(4===f.rank,()=>"Error in fused depthwiseConv2d: input must be rank 4, but got "+"rank ".concat(f.rank,".")),Sr(4===h.rank,()=>"Error in fused depthwiseConv2d: filter must be rank 4, "+"but got rank ".concat(h.rank,".")),Sr(f.shape[3]===h.shape[2],()=>"Error in fused depthwiseConv2d: number of input channels "+"(".concat(f.shape[3],") must match the inChannels dimension in ")+"filter ".concat(h.shape[2],".")),null==i&&(i=[1,1]),Sr(gd(r,i),()=>"Error in fused depthwiseConv2d: Either strides or dilations must "+"be 1. Got strides ".concat(r," and dilations '").concat(i,"'")),bd("fused depthwiseConv2d",a,s);const g=ld(f.shape,h.shape,r,i,a,s,!0);let v,y;null!=l&&(v=Il(l,"bias","fused conv2d"),[v]=dl(v,p),sc(g.outShape,v.shape)),null!=c&&(y=Il(c,"prelu weights","fused depthwiseConv2d"));const b=(e,t)=>{Sr(md(i),()=>"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations "+"'".concat(i,"'"));const[n,o,l,c]=t,d=Xf(e,l,u),p=rm(o.shape,d,n,r,a,i,s),h=nm(o,d,n.shape,r,a,i,s);if(null!=c){return[p,h,Jf(v,d)]}return[p,h]},w={x:f,filter:h,bias:v,preluActivationWeights:y},k={strides:r,pad:a,dataFormat:o,dilations:i,dimRoundingMode:s,activation:u,leakyreluAlpha:d};if(null==l){const e=$u((e,t,n)=>{let r=yl.runKernel(ds,w,k);return n([t,e,r]),m&&(r=wd(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:b}});return e(f,h)}{const e=$u((e,t,n,r)=>{let a=yl.runKernel(ds,w,k);return r([t,e,a,n]),m&&(a=wd(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:b}});return e(f,h,v)}}});const om=Tl({fusedMatMul_:function(e){let{a:t,b:n,transposeA:r=!1,transposeB:a=!1,bias:o,activation:i="linear",preluActivationWeights:s,leakyreluAlpha:l=.2}=e;if(!1===em(yl.state.gradientDepth,i)){let e=Id(t,n,r,a);return null!=o&&(e=Uu(e,o)),Zf(e,i,s,l)}let u=Il(t,"a","fused matMul"),c=Il(n,"b","fused matMul");[u,c]=dl(u,c);const d=r?u.shape[u.rank-2]:u.shape[u.rank-1],p=a?c.shape[c.rank-1]:c.shape[c.rank-2],h=r?u.shape[u.rank-1]:u.shape[u.rank-2],f=a?c.shape[c.rank-2]:c.shape[c.rank-1],m=u.shape.slice(0,-2),g=c.shape.slice(0,-2),v=_r(m),y=_r(g);Sr(d===p,()=>"Error in fused matMul: inner shapes (".concat(d,") and (")+"".concat(p,") of Tensors with shapes ").concat(u.shape," and ")+"".concat(c.shape," and transposeA=").concat(r)+" and transposeB=".concat(a," must match."));const b=sc(u.shape.slice(0,-2),c.shape.slice(0,-2)).concat([h,f]),w=wd(u,r?[v,d,h]:[v,h,d]),k=wd(c,a?[y,f,p]:[y,p,f]);let S,x;null!=o&&(S=Il(o,"bias","fused matMul"),[S]=dl(S,u),sc(b,S.shape)),null!=s&&(x=Il(s,"prelu weights","fused matMul"));const I=(e,t)=>{const[n,s,l,u]=t,c=Xf(wd(e,l.shape),l,i);let d,p;if(r||a?!r&&a?(d=Id(c,s,!1,!1),p=Id(c,n,!0,!1)):r&&!a?(d=Id(s,c,!1,!0),p=Id(n,c,!1,!1)):(d=Id(s,c,!0,!0),p=Id(c,n,!0,!0)):(d=Id(c,s,!1,!0),p=Id(n,c,!0,!1)),null!=o){return[d,p,Jf(u,c)]}return[d,p]},_={a:w,b:k,bias:S,preluActivationWeights:x},E={transposeA:r,transposeB:a,activation:i,leakyreluAlpha:l};if(null==o){const e=$u((e,t,n)=>{const r=yl.runKernel(us,_,E);return n([e,t,r]),{value:wd(r,b),gradFunc:I}});return e(w,k)}{const e=$u((e,t,n,r)=>{const a=yl.runKernel(us,_,E);return r([e,t,a,n]),{value:wd(a,b),gradFunc:I}});return e(w,k,S)}}});const im=Tl({hammingWindow_:function(e){return $f(e,.54,.46)}});const sm=Tl({hannWindow_:function(e){return $f(e,.5,.5)}});const lm=Tl({frame_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=0;const i=[];for(;o+t<=e.size;)i.push(Ed(e,o,t)),o+=n;if(r)for(;o<e.size;){const r=o+t-e.size,s=xd([Ed(e,o,t-r),nc([r],a)]);i.push(s),o+=n}return 0===i.length?Ef([],[0,t]):wd(xd(i),[i.length,t])}});const um=Tl({stft_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:sm;null==r&&(r=Kf(t));const o=lm(e,t,n),i=Vu(o,a(t));return yf(i,r)}});const cm=Tl({cropAndResize_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"bilinear",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const i=Il(e,"image","cropAndResize"),s=Il(t,"boxes","cropAndResize","float32"),l=Il(n,"boxInd","cropAndResize","int32"),u=s.shape[0];Sr(4===i.rank,()=>"Error in cropAndResize: image must be rank 4,"+"but got rank ".concat(i.rank,".")),Sr(2===s.rank&&4===s.shape[1],()=>"Error in cropAndResize: boxes must be have size [".concat(u,",4] ")+"but had shape ".concat(s.shape,".")),Sr(1===l.rank&&l.shape[0]===u,()=>"Error in cropAndResize: boxInd must be have size [".concat(u,"] ")+"but had shape ".concat(s.shape,".")),Sr(2===r.length,()=>"Error in cropAndResize: cropSize must be of length 2, but got "+"length ".concat(r.length,".")),Sr(r[0]>=1&&r[1]>=1,()=>"cropSize must be atleast [1,1], but was ".concat(r)),Sr("bilinear"===a||"nearest"===a,()=>"method must be bilinear or nearest, but was ".concat(a));const c={image:i,boxes:s,boxInd:l},d={method:a,extrapolationValue:o,cropSize:r};return yl.runKernel(Wa,c,d)}});const dm=Tl({flipLeftRight_:function(e){const t=Il(e,"image","flipLeftRight","float32");Sr(4===t.rank,()=>"Error in flipLeftRight: image must be rank 4,"+"but got rank ".concat(t.rank,"."));const n={image:t};return yl.runKernel(so,n,{})}});const pm=Tl({grayscaleToRGB_:function(e){const t=Il(e,"image","grayscaleToRGB"),n=t.rank-1,r=t.shape[n];Sr(t.rank>=2,()=>"Error in grayscaleToRGB: images must be at least rank 2, "+"but got rank ".concat(t.rank,".")),Sr(1===r,()=>"Error in grayscaleToRGB: last dimension of a grayscale image "+"should be size 1, but got size ".concat(r,"."));const a=new Array(t.rank);return a.fill(1,0,n),a[n]=3,Mp(t,a)}});const hm=Tl({rgbToGrayscale_:function(e){const t=Il(e,"image","RGBToGrayscale"),n=t.rank-1,r=t.shape[n];Sr(t.rank>=2,()=>"Error in RGBToGrayscale: images must be at least rank 2, "+"but got rank ".concat(t.rank,".")),Sr(3===r,()=>"Error in RGBToGrayscale: last dimension of an RGB image "+"should be size 3, but got size ".concat(r,"."));const a=t.dtype,o=Ou(t,"float32"),i=_f([.2989,.587,.114]);let s;switch(t.rank){case 2:s=cp("ij,j->i",o,i);break;case 3:s=cp("ijk,k->ij",o,i);break;case 4:s=cp("ijkl,l->ijk",o,i);break;case 5:s=cp("ijklm,m->ijkl",o,i);break;case 6:s=cp("ijklmn,n->ijklm",o,i);break;default:throw new Error("Not a valid tensor rank.")}return s=Np(s,-1),Ou(s,a)}});const fm=Tl({rotateWithOffset_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;const a=Il(e,"image","rotateWithOffset","float32");Sr(4===a.rank,()=>"Error in rotateWithOffset: image must be rank 4,"+"but got rank ".concat(a.rank,"."));const o={image:a},i={radians:t,fillValue:n,center:r};return yl.runKernel(ls,o,i)}});function mm(e,t,n,r,a,o){null==r&&(r=.5),null==a&&(a=Number.NEGATIVE_INFINITY),null==o&&(o=0);const i=e.shape[0];return n=Math.min(n,i),Sr(0<=r&&r<=1,()=>"iouThreshold must be in [0, 1], but was '".concat(r,"'")),Sr(2===e.rank,()=>"boxes must be a 2D tensor, but was of rank '".concat(e.rank,"'")),Sr(4===e.shape[1],()=>"boxes must have 4 columns, but 2nd dimension was ".concat(e.shape[1])),Sr(1===t.rank,()=>"scores must be a 1D tensor"),Sr(t.shape[0]===i,()=>"scores has incompatible shape with boxes. Expected ".concat(i,", ")+"but was ".concat(t.shape[0])),Sr(0<=o&&o<=1,()=>"softNmsSigma must be in [0, 1], but was '".concat(o,"'")),{maxOutputSize:n,iouThreshold:r,scoreThreshold:a,softNmsSigma:o}}const gm=Tl({nonMaxSuppression_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY;const o=Il(e,"boxes","nonMaxSuppression","float32"),i=Il(t,"scores","nonMaxSuppression","float32"),s=mm(o,i,n,r,a);n=s.maxOutputSize,r=s.iouThreshold,a=s.scoreThreshold;const l={maxOutputSize:n,iouThreshold:r,scoreThreshold:a};return yl.runKernel(Yo,{boxes:o,scores:i},l)}});function vm(e,t,n){const r=function(e,t,n){return function(e,t,n){let r=0,a=e.length,o=0,i=!1;for(;r<a;){o=r+(a-r>>>1);const s=n(t,e[o]);s>0?r=o+1:(a=o,i=!s)}return i?r:-r-1}(e,t,n||ym)}(e,t,n),a=r<0?-(r+1):r;e.splice(a,0,t)}function ym(e,t){return e>t?1:e<t?-1:0}function bm(e,t,n,r,a){return Sm(e,t,n,r,a,0)}function wm(e,t,n,r,a,o){return Sm(e,t,n,r,a,0,!1,o,!0)}function km(e,t,n,r,a,o){return Sm(e,t,n,r,a,o,!0)}function Sm(e,t,n,r,a,o){let i=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]&&arguments[8];const u=[];for(let g=0;g<t.length;g++)t[g]>a&&u.push({score:t[g],boxIndex:g,suppressBeginIndex:0});u.sort(_m);const c=o>0?-.5/o:0,d=[],p=[];for(;d.length<n&&u.length>0;){const t=u.pop(),{score:n,boxIndex:o,suppressBeginIndex:i}=t;if(n<a)break;let s=!1;for(let l=d.length-1;l>=i;--l){const n=xm(e,o,d[l]);if(n>=r){s=!0;break}if(t.score=t.score*Im(r,c,n),t.score<=a)break}t.suppressBeginIndex=d.length,s||(t.score===n?(d.push(o),p.push(t.score)):t.score>a&&vm(u,t,_m))}const h=d.length,f=n-h;s&&f>0&&(d.push(...new Array(f).fill(0)),p.push(...new Array(f).fill(0)));const m={selectedIndices:d};return i&&(m.selectedScores=p),l&&(m.validOutputs=h),m}function xm(e,t,n){const r=e.subarray(4*t,4*t+4),a=e.subarray(4*n,4*n+4),o=Math.min(r[0],r[2]),i=Math.min(r[1],r[3]),s=Math.max(r[0],r[2]),l=Math.max(r[1],r[3]),u=Math.min(a[0],a[2]),c=Math.min(a[1],a[3]),d=Math.max(a[0],a[2]),p=Math.max(a[1],a[3]),h=(s-o)*(l-i),f=(d-u)*(p-c);if(h<=0||f<=0)return 0;const m=Math.max(o,u),g=Math.max(i,c),v=Math.min(s,d),y=Math.min(l,p),b=Math.max(v-m,0)*Math.max(y-g,0);return b/(h+f-b)}function Im(e,t,n){const r=Math.exp(t*n*n);return n<=e?r:0}function _m(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}const Em=async function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY;const o=Il(e,"boxes","nonMaxSuppressionAsync"),i=Il(t,"scores","nonMaxSuppressionAsync"),s=mm(o,i,n,r,a);n=s.maxOutputSize,r=s.iouThreshold,a=s.scoreThreshold;const l=await Promise.all([o.data(),i.data()]),u=l[0],c=l[1],{selectedIndices:d}=bm(u,c,n,r,a);return o!==e&&o.dispose(),i!==t&&i.dispose(),_f(d,"int32")};const Tm=Tl({nonMaxSuppressionWithScore_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const i=Il(e,"boxes","nonMaxSuppression"),s=Il(t,"scores","nonMaxSuppression"),l=mm(i,s,n,r,a,o);n=l.maxOutputSize,r=l.iouThreshold,a=l.scoreThreshold,o=l.softNmsSigma;const u={boxes:i,scores:s},c={maxOutputSize:n,iouThreshold:r,scoreThreshold:a,softNmsSigma:o},d=yl.runKernel(Xo,u,c);return{selectedIndices:d[0],selectedScores:d[1]}}});const Nm=async function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const i=Il(e,"boxes","nonMaxSuppressionAsync"),s=Il(t,"scores","nonMaxSuppressionAsync"),l=mm(i,s,n,r,a,o);n=l.maxOutputSize,r=l.iouThreshold,a=l.scoreThreshold,o=l.softNmsSigma;const u=await Promise.all([i.data(),s.data()]),c=u[0],d=u[1],{selectedIndices:p,selectedScores:h}=km(c,d,n,r,a,o);return i!==e&&i.dispose(),s!==t&&s.dispose(),{selectedIndices:_f(p,"int32"),selectedScores:_f(h)}};const Cm=Tl({nonMaxSuppressionPadded_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const i=Il(e,"boxes","nonMaxSuppression"),s=Il(t,"scores","nonMaxSuppression"),l=mm(i,s,n,r,a,null),u={boxes:i,scores:s},c={maxOutputSize:l.maxOutputSize,iouThreshold:l.iouThreshold,scoreThreshold:l.scoreThreshold,padToMaxOutputSize:o},d=yl.runKernel(Qo,u,c);return{selectedIndices:d[0],validOutputs:d[1]}}});const Mm=async function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const i=Il(e,"boxes","nonMaxSuppressionAsync"),s=Il(t,"scores","nonMaxSuppressionAsync"),l=mm(i,s,n,r,a,null),u=l.maxOutputSize,c=l.iouThreshold,d=l.scoreThreshold,[p,h]=await Promise.all([i.data(),s.data()]),{selectedIndices:f,validOutputs:m}=wm(p,h,u,c,d,o);return i!==e&&i.dispose(),s!==t&&s.dispose(),{selectedIndices:_f(f,"int32"),validOutputs:Yu(m,"int32")}};const Am=Tl({resizeBilinear_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=Il(e,"images","resizeBilinear");Sr(3===a.rank||4===a.rank,()=>"Error in resizeBilinear: x must be rank 3 or 4, but got "+"rank ".concat(a.rank,".")),Sr(2===t.length,()=>"Error in resizeBilinear: new shape must 2D, but got shape "+"".concat(t,".")),Sr(!1===r||!1===n,()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false.");let o=a,i=!1;3===a.rank&&(i=!0,o=wd(a,[1,a.shape[0],a.shape[1],a.shape[2]]));const[]=t,s={images:o},l={alignCorners:n,halfPixelCenters:r,size:t},u=yl.runKernel(mi,s,l);return i?wd(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});const Om=Tl({resizeNearestNeighbor_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=Il(e,"images","resizeNearestNeighbor");Sr(3===a.rank||4===a.rank,()=>"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got "+"rank ".concat(a.rank,".")),Sr(2===t.length,()=>"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+"".concat(t,".")),Sr("float32"===a.dtype||"int32"===a.dtype,()=>"`images` must have `int32` or `float32` as dtype"),Sr(!1===r||!1===n,()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false.");let o=a,i=!1;3===a.rank&&(i=!0,o=wd(a,[1,a.shape[0],a.shape[1],a.shape[2]]));const[]=t,s={images:o},l={alignCorners:n,halfPixelCenters:r,size:t},u=yl.runKernel(hi,s,l);return i?wd(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});const Fm=Tl({threshold_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"binary",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;const a=Il(e,"image","threshold"),o=a.shape[0]*a.shape[1];let i,s,l,u,c=Vu(_f([r]),255);if(Sr(3===a.rank,()=>"Error in threshold: image must be rank 3,"+"but got rank ".concat(a.rank,".")),Sr(3===a.shape[2]||1===a.shape[2],()=>"Error in threshold: image color channel must be equal to 3 or 1"+"but got ".concat(a.shape[2],".")),Sr("int32"===a.dtype||"float32"===a.dtype,()=>"Error in dtype: image dtype must be int32 or float32,"+"but got dtype ".concat(a.dtype,".")),Sr("otsu"===t||"binary"===t,()=>"Method must be binary or otsu, but was ".concat(t)),3===a.shape[2]){[i,s,l]=vf(a,[1,1,1],-1);const e=Vu(i,.2989),t=Vu(s,.587),n=Vu(l,.114);u=Uu(Uu(e,t),n)}else u=e;if("otsu"===t){c=function(e,t){let n,r,a,o,i,s,l=_f([-1]),u=_f([0]),c=_f([0]);for(let d=0;d<e.size-1;d++){n=Ed(e,0,d+1),r=Ed(e,d+1),i=Hu(xp(n),t),s=Hu(xp(r),t);const p=xp(Vu(n,Vh(0,n.size)));a=Hu(p,xp(n));const h=nc(r.shape,n.size),f=Uu(Vh(0,r.size),h),m=Vu(r,f);o=Hu(xp(m),xp(r));const g=ac(a,o),v=ac(a,o),y=Vu(i,s);c=Vu(Vu(y,g),v);const b=Rp(c,u);u=sp(b,c,u),l=sp(b,_f([d]),l)}return l}(Rd(Ou(ef(u),"int32"),Ml([]),256),o)}const d=n?jp(u,c):Rp(u,c);return Ou(Vu(d,255),"int32")}});const Rm=Tl({transform_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"nearest",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"constant",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5?arguments[5]:void 0;const i=Il(e,"image","transform","float32"),s=Il(t,"transforms","transform","float32");Sr(4===i.rank,()=>"Error in transform: image must be rank 4,"+"but got rank ".concat(i.rank,".")),Sr(2===s.rank&&(s.shape[0]===i.shape[0]||1===s.shape[0])&&8===s.shape[1],()=>"Error in transform: Input transform should be batch x 8 or 1 x 8"),Sr(null==o||2===o.length,()=>"Error in transform: outputShape must be [height, width] or null, "+"but got ".concat(o,"."));const l={image:i,transforms:s},u={interpolation:n,fillMode:r,fillValue:a,outputShape:o};return yl.runKernel(es,l,u)}});const Dm=Tl({bandPart_:function(e,t,n){const r=Il(e,"a","bandPart");Sr(r.rank>=2,()=>"bandPart(): Rank must be at least 2, got ".concat(r.rank,"."));const a=r.shape,[o,i]=r.shape.slice(-2);let s,l;"number"===typeof t?(Sr(t%1===0,()=>"bandPart(): numLower must be an integer, got ".concat(t,".")),Sr(t<=o,()=>"bandPart(): numLower (".concat(t,")")+" must not be greater than the number of rows (".concat(o,").")),s=Il(t<0?o:t,"numLower","bandPart")):(Sr("int32"===t.dtype,()=>"bandPart(): numLower's dtype must be an int32."),s=sp(Up(t,0),o,ph(t,o))),"number"===typeof n?(Sr(n%1===0,()=>"bandPart(): numUpper must be an integer, got ".concat(n,".")),Sr(n<=i,()=>"bandPart(): numUpper (".concat(n,")")+" must not be greater than the number of columns (".concat(i,").")),l=Il(n<0?i:n,"numUpper","bandPart")):(Sr("int32"===n.dtype,()=>"bandPart(): numUpper's dtype must be an int32."),l=sp(Up(n,0),i,ph(n,i)));const u=wd(Vh(0,o,1,"int32"),[-1,1]),c=Vh(0,i,1,"int32"),d=ac(u,c),p=Jp(jp(d,s),Dp(d,Kp(l))),h=uh([o,i],r.dtype);return wd(kf(Df(wd(r,[-1,o,i])).map(e=>sp(p,e,h))),a)}});const Pm=Tl({gramSchmidt_:function(e){let t;if(Array.isArray(e)){t=!1,Sr(null!=e&&e.length>0,()=>"Gram-Schmidt process: input must not be null, undefined, or empty");const n=e[0].shape[0];for(let t=1;t<e.length;++t)Sr(e[t].shape[0]===n,()=>"Gram-Schmidt: Non-unique lengths found in the input vectors: "+"(".concat(e[t].shape[0]," vs. ").concat(n,")"))}else t=!0,e=vf(e,e.shape[0],0).map(e=>wf(e,[0]));Sr(e.length<=e[0].shape[0],()=>"Gram-Schmidt: Number of vectors (".concat(e.length,") exceeds ")+"number of dimensions (".concat(e[0].shape[0],")."));const n=[],r=e;for(let a=0;a<e.length;++a)n.push(yl.tidy(()=>{let e=r[a];if(a>0)for(let t=0;t<a;++t){const r=Vu(xp(Vu(n[t],e)),n[t]);e=ac(e,r)}return Hu(e,_p(e,"euclidean"))}));return t?kf(n,0):n}});function Lm(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return yl.tidy(()=>{Sr(2===e.shape.length,()=>"qr2d() requires a 2D Tensor, but got a ".concat(e.shape.length,"D Tensor."));const n=e.shape[0],r=e.shape[1];let a=Ap(n),o=Fu(e);const i=Ef([[1]],[1,1]);let s=Fu(i);const l=n>=r?r:n;for(let e=0;e<l;++e){const t=o,l=s,u=a;[s,o,a]=yl.tidy(()=>{const t=Ed(o,[e,e],[n-e,1]),l=_p(t),u=Ed(o,[e,e],[1,1]),c=sp(Rp(u,0),Ef([[-1]]),Ef([[1]])),d=ac(u,Vu(c,l)),p=Hu(t,d);s=1===p.shape[0]?Fu(i):xd([i,Ed(p,[1,0],[p.shape[0]-1,p.shape[1]])],0);const h=Kp(Hu(Id(c,d),l)),f=Ed(o,[e,0],[n-e,r]),m=Vu(h,s),g=Uf(s);if(0===e)o=ac(f,Id(m,Id(g,f)));else{const t=ac(f,Id(m,Id(g,f)));o=xd([Ed(o,[0,0],[e,r]),t],0)}const v=Uf(m),y=Ed(a,[0,e],[n,a.shape[1]-e]);if(0===e)a=ac(y,Id(Id(y,s),v));else{const t=ac(y,Id(Id(y,s),v));a=xd([Ed(a,[0,0],[n,e]),t],1)}return[s,o,a]}),Lu([t,l,u])}return!t&&n>r&&(a=Ed(a,[0,0],[n,r]),o=Ed(o,[0,0],[r,r])),[a,o]})}const zm=Tl({qr_:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Sr(e.rank>=2,()=>"qr() requires input tensor to have a rank >= 2, but got rank ".concat(e.rank)),2===e.rank)return Lm(e,t);{const n=e.shape.slice(0,e.shape.length-2).reduce((e,t)=>e*t),r=Df(wd(e,[n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),a=[],o=[];r.forEach(e=>{const[n,r]=Lm(e,t);a.push(n),o.push(r)});return[wd(kf(a,0),e.shape),wd(kf(o,0),e.shape)]}}});var Bm;!function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(Bm||(Bm={}));const Wm=Tl({computeWeightedLoss_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bm.SUM_BY_NONZERO_WEIGHTS;const r=Il(e,"losses","computeWeightedLoss");let a=null;null!=t&&(a=Il(t,"weights","computeWeightedLoss"));const o=null==a?r:Vu(r,a);if(n===Bm.NONE)return o;if(n===Bm.SUM)return xp(o);if(n===Bm.MEAN){if(null==a)return lh(o);{const e=r.size/a.size,t=Hu(xp(o),xp(a));return e>1?Hu(t,Yu(e)):t}}if(n===Bm.SUM_BY_NONZERO_WEIGHTS){if(null==a)return Hu(xp(o),Yu(r.size));{const e=Vu(a,ch(r.shape)),t=Ou(xp(yh(e,Yu(0))),"float32");return Hu(xp(o),t)}}throw Error("Unknown reduction: ".concat(n))}});const Um=Tl({absoluteDifference_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Bm.SUM_BY_NONZERO_WEIGHTS;const a=Il(e,"labels","absoluteDifference"),o=Il(t,"predictions","absoluteDifference");let i=null;null!=n&&(i=Il(n,"weights","absoluteDifference")),xr(a.shape,o.shape,"Error in absoluteDifference: ");const s=oc(ac(a,o));return Wm(s,i,r)}});const jm=Tl({cosineDistance_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Bm.SUM_BY_NONZERO_WEIGHTS;const o=Il(e,"labels","cosineDistance"),i=Il(t,"predictions","cosineDistance");let s=null;null!=r&&(s=Il(r,"weights","cosineDistance")),xr(o.shape,i.shape,"Error in cosineDistance: ");const l=Yu(1),u=ac(l,xp(Vu(o,i),n,!0));return Wm(u,s,a)}});const Hm=Tl({hingeLoss_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Bm.SUM_BY_NONZERO_WEIGHTS,a=Il(e,"labels","hingeLoss");const o=Il(t,"predictions","hingeLoss");let i=null;null!=n&&(i=Il(n,"weights","hingeLoss")),xr(a.shape,o.shape,"Error in hingeLoss: ");const s=Yu(1);a=ac(Vu(Yu(2),a),s);const l=Kh(ac(s,Vu(a,o)));return Wm(l,i,r)}});const Vm=Tl({huberLoss_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Bm.SUM_BY_NONZERO_WEIGHTS;const o=Il(e,"labels","huberLoss"),i=Il(t,"predictions","huberLoss");let s=null;null!=n&&(s=Il(n,"weights","huberLoss")),xr(o.shape,i.shape,"Error in huberLoss: ");const l=Yu(r),u=oc(ac(i,o)),c=ph(u,l),d=ac(u,c),p=Uu(Vu(Yu(.5),Gu(c)),Vu(l,d));return Wm(p,s,a)}});const qm=Tl({logLoss_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-7,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Bm.SUM_BY_NONZERO_WEIGHTS;const o=Il(e,"labels","logLoss"),i=Il(t,"predictions","logLoss");let s=null;null!=n&&(s=Il(n,"weights","logLoss")),xr(o.shape,i.shape,"Error in logLoss: ");const l=Yu(1),u=Yu(r),c=Kp(Vu(o,qp(Uu(i,u)))),d=Vu(ac(l,o),qp(Uu(ac(l,i),u))),p=ac(c,d);return Wm(p,s,a)}});const Gm=Tl({meanSquaredError_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Bm.SUM_BY_NONZERO_WEIGHTS;const a=Il(e,"labels","meanSquaredError"),o=Il(t,"predictions","meanSquaredError");let i=null;null!=n&&(i=Il(n,"weights","meanSquaredError")),xr(a.shape,o.shape,"Error in meanSquaredError: ");const s=bf(a,o);return Wm(s,i,r)}});const Km=Tl({sigmoidCrossEntropy_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Bm.SUM_BY_NONZERO_WEIGHTS,o=Il(e,"multiClassLabels","sigmoidCrossEntropy");const i=Il(t,"logits","sigmoidCrossEntropy");let s=null;if(null!=n&&(s=Il(n,"weights","sigmoidCrossEntropy")),xr(o.shape,i.shape,"Error in sigmoidCrossEntropy: "),r>0){const e=Yu(r),t=Yu(1),n=Yu(.5);o=Uu(Vu(o,ac(t,e)),Vu(n,e))}const l=function(e,t){const n=Il(e,"labels","sigmoidCrossEntropyWithLogits"),r=Il(t,"logits","sigmoidCrossEntropyWithLogits");xr(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");const a=Kh(r),o=Vu(r,n),i=Gp(Tp(Kp(oc(r))));return Uu(ac(a,o),i)}(o,i);return Wm(l,s,a)}});const $m=Tl({softmaxCrossEntropy_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Bm.SUM_BY_NONZERO_WEIGHTS,o=Il(e,"onehotLabels","softmaxCrossEntropy");const i=Il(t,"logits","softmaxCrossEntropy");let s=null;if(null!=n&&(s=Il(n,"weights","softmaxCrossEntropy")),xr(o.shape,i.shape,"Error in softmaxCrossEntropy: "),r>0){const e=Yu(r),t=Yu(1),n=Yu(o.shape[1]);o=Uu(Vu(o,ac(t,e)),Hu(e,n))}const l=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet "+"supported. Labels / logits was rank ".concat(t.rank," ")+"and dim was ".concat(n));const r=$u((e,t,r)=>{const a=Xp(t,[n],!0),o=ac(Ou(t,"float32"),a);r([e,o]);const i=Kp(Vu(o,e));return{value:xp(i,[n]),gradFunc:(e,t)=>{const[r,a]=t,o=gp(e.shape,[n]);return[Vu(wd(e,o),ac(Ou(r,"float32"),Tp(a))),Vu(wd(e,o),ac(Tp(a),Ou(r,"float32")))]}}});return r(e,t)}(o,i);return Wm(l,s,a)}});const Ym=Tl({sparseFillEmptyRows_:function(e,t,n,r){const a=Il(e,"indices","sparseFillEmptyRows","int32"),o=Il(t,"values","sparseFillEmptyRows"),i=Il(n,"denseShape","sparseFillEmptyRows","int32"),s=Il(r,"defaultValue","sparseFillEmptyRows",o.dtype);if(2!==a.rank)throw new Error("Indices should be Tensor2D but received shape\n        ".concat(a.shape));if(1!==o.rank)throw new Error("Values should be Tensor1D but received shape ".concat(o.shape));if(1!==i.rank)throw new Error("Dense shape should be Tensor1D but received shape ".concat(i.shape));if(0!==s.rank)throw new Error("Default value should be a scalar but received shape ".concat(s.shape));const l={indices:a,values:o,denseShape:i,defaultValue:s},u=yl.runKernel(Li,l);return{outputIndices:u[0],outputValues:u[1],emptyRowIndicator:u[2],reverseIndexMap:u[3]}}});const Qm=Tl({sparseReshape_:function(e,t,n){const r=Il(e,"inputIndices","sparseReshape","int32"),a=Il(t,"inputShape","sparseReshape","int32"),o=Il(n,"newShape","sparseReshape","int32");if(2!==r.rank)throw new Error("Input indices should be Tensor2D but received shape\n        ".concat(r.shape));if(1!==a.rank)throw new Error("Input shape should be Tensor1D but received shape ".concat(a.shape));if(1!==o.rank)throw new Error("New shape should be Tensor1D but received shape ".concat(o.shape));const i={inputIndices:r,inputShape:a,newShape:o},s=yl.runKernel(zi,i);return{outputIndices:s[0],outputShape:s[1]}}});const Xm=Tl({sparseSegmentMean_:function(e,t,n){const r=Il(e,"data","sparseSegmentMean"),a=Il(t,"indices","sparseSegmentMean","int32"),o=Il(n,"segmentIds","sparseSegmentMean","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.rank)throw new Error("Indices should be Tensor1D but received shape\n          ".concat(a.shape));if(1!==o.rank)throw new Error("Segment ids should be Tensor1D but received shape\n          ".concat(o.shape));const i={data:r,indices:a,segmentIds:o};return yl.runKernel(Bi,i)}});const Jm=Tl({sparseSegmentSum_:function(e,t,n){const r=Il(e,"data","sparseSegmentSum"),a=Il(t,"indices","sparseSegmentSum","int32"),o=Il(n,"segmentIds","sparseSegmentSum","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.rank)throw new Error("Indices should be Tensor1D but received shape\n         ".concat(a.shape));if(1!==o.rank)throw new Error("Segment ids should be Tensor1D but received shape\n         ".concat(o.shape));const i={data:r,indices:a,segmentIds:o};return yl.runKernel(Wi,i)}});const Zm=Tl({stringNGrams_:function(e,t,n,r,a,o,i,s){const l=Il(e,"data","stringNGrams","string");if("string"!==l.dtype)throw new Error("Data must be of datatype string");if(1!==l.shape.length)throw new Error("Data must be a vector, saw: ".concat(l.shape));const u=Il(t,"dataSplits","stringNGrams");if("int32"!==u.dtype)throw new Error("Data splits must be of datatype int32");const c={separator:n,nGramWidths:r,leftPad:a,rightPad:o,padWidth:i,preserveShortSequences:s},d={data:l,dataSplits:u},p=yl.runKernel(Gi,d,c);return{nGrams:p[0],nGramsSplits:p[1]}}});const eg=Tl({stringSplit_:function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Il(e,"input","stringSplit","string"),a=Il(t,"delimiter","stringSplit","string");if(1!==r.rank)throw new Error("Input should be Tensor1D but received shape ".concat(r.shape));if(0!==a.rank)throw new Error("Delimiter should be a scalar but received shape ".concat(a.shape));const o={skipEmpty:n},i={input:r,delimiter:a},s=yl.runKernel(Ki,i,o);return{indices:s[0],values:s[1],shape:s[2]}}});const tg=Tl({stringToHashBucketFast_:function(e,t){const n=Il(e,"input","stringToHashBucketFast","string"),r={numBuckets:t};if(t<=0)throw new Error("Number of buckets must be at least 1");const a={input:n};return yl.runKernel($i,a,r)}});const ng=Tl({staticRegexReplace_:function(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const a=Il(e,"input","staticRegexReplace","string"),o={pattern:t,rewrite:n,replaceGlobal:r};return yl.runKernel(Vi,{x:a},o)}}),rg={fft:ff,ifft:mf,rfft:yf,irfft:gf},ag={hammingWindow:im,hannWindow:sm,frame:lm,stft:um},og={flipLeftRight:dm,grayscaleToRGB:pm,resizeNearestNeighbor:Om,resizeBilinear:Am,rgbToGrayscale:hm,rotateWithOffset:fm,cropAndResize:cm,nonMaxSuppression:gm,nonMaxSuppressionAsync:Em,nonMaxSuppressionWithScore:Tm,nonMaxSuppressionWithScoreAsync:Nm,nonMaxSuppressionPadded:Cm,nonMaxSuppressionPaddedAsync:Mm,threshold:Fm,transform:Rm},ig={bandPart:Dm,gramSchmidt:Pm,qr:zm},sg={absoluteDifference:Um,computeWeightedLoss:Wm,cosineDistance:jm,hingeLoss:Hm,huberLoss:Vm,logLoss:qm,meanSquaredError:Gm,sigmoidCrossEntropy:Km,softmaxCrossEntropy:$m},lg={sparseFillEmptyRows:Ym,sparseReshape:Qm,sparseSegmentMean:Xm,sparseSegmentSum:Jm},ug={stringNGrams:Zm,stringSplit:eg,stringToHashBucketFast:tg,staticRegexReplace:ng};function cg(e,t){const n=e[0].length;e.forEach((e,t)=>{Sr(e.length===n,()=>"Error in concat".concat(n,"D: rank of tensors[").concat(t,"] must be the same ")+"as the rank of the rest (".concat(n,")"))}),Sr(t>=0&&t<n,()=>"Error in concat".concat(n,"D: axis must be between 0 and ").concat(n-1,"."));const r=e[0];e.forEach((e,a)=>{for(let o=0;o<n;o++)Sr(o===t||e[o]===r[o],()=>"Error in concat".concat(n,"D: Shape of tensors[").concat(a,"] (").concat(e,") ")+"does not match the shape of the rest (".concat(r,") ")+"along the non-concatenated axis ".concat(a,"."))})}function dg(e,t){const n=e[0].slice();for(let r=1;r<e.length;r++)n[t]+=e[r][t];return n}var pg;!function(e){e[e.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",e[e.VALUE_ROWIDS=1]="VALUE_ROWIDS",e[e.ROW_LENGTHS=2]="ROW_LENGTHS",e[e.ROW_SPLITS=3]="ROW_SPLITS",e[e.ROW_LIMITS=4]="ROW_LIMITS",e[e.ROW_STARTS=5]="ROW_STARTS"}(pg||(pg={}));function hg(e,t,n){return[n*("number"===typeof e?e:e[0]),t*("number"===typeof e?e:e[1])]}function fg(e,t,n){let r=[];if(!(arguments.length>3&&void 0!==arguments[3])||arguments[3])r=r.concat(t.slice(0)),r.push(e[0]/n),r=r.concat(e.slice(1));else{r=r.concat(e[0]);const n=t.length;for(let a=0;a<n;++a)r=r.concat([e[a+1]/t[a],t[a]]);r=r.concat(e.slice(n+1))}return r}function mg(e,t){const n=[];if(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]){n.push(t);for(let r=t+1;r<e;++r)r<=2*t?(n.push(r),n.push(r-(t+1))):n.push(r)}else{const r=[],a=[];for(let n=1;n<e;++n)n>=2*t+1||n%2===1?a.push(n):r.push(n);n.push(...r),n.push(0),n.push(...a)}return n}function gg(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const a=[];r?a.push(e[0]/n):a.push(e[0]*n);for(let o=1;o<e.length;++o)o<=t.length?r?a.push(t[o-1]*e[o]):a.push(e[o]/t[o-1]):a.push(e[o]);return a}function vg(e,t){const n=[0];for(let r=0;r<t;++r)n.push(e[r][0]);return n}function yg(e,t,n){const r=e.slice(0,1);for(let a=0;a<n;++a)r.push(e[a+1]-t[a][0]-t[a][1]);return r}function bg(e,t){if(e.length!==t.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+"".concat(e.length,", imag: ").concat(t.length,"."));const n=new Float32Array(2*e.length);for(let r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function wg(e,t){return{real:e[2*t],imag:e[2*t+1]}}function kg(e,t,n,r){e[2*r]=t,e[2*r+1]=n}function Sg(e,t,n){const r=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(r),imag:Math.sin(r)}}const xg="->",Ig=/->/g;function _g(e,t){let n=new Array(e);n.fill(-1);for(let a=0;a<t.length;++a)n[t[a]]=a;const r=[];for(let a=0;a<e;++a)-1===n[a]&&r.push(a);return n=n.filter(e=>-1!==e),{permutationIndices:n,expandDims:r}}function Eg(e){return e.every((e,t)=>e===t)}function Tg(e,t){const n=[];for(let r=0;r<e.length;++r)0!==e[r].length&&-1===e[r].indexOf(t)&&-1!==t||n.push(r);return n}function Ng(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=[];if("number"===typeof t)Sr(e.shape[n]%t===0,()=>"Number of splits must evenly divide the axis."),r=new Array(t).fill(e.shape[n]/t);else{const a=t.reduce((e,t)=>(-1===t&&(e+=1),e),0);Sr(a<=1,()=>"There should be only one negative value in split array.");const o=t.indexOf(-1);if(-1!==o){const r=t.reduce((e,t)=>t>0?e+t:e);t[o]=e.shape[n]-r}Sr(e.shape[n]===t.reduce((e,t)=>e+t),()=>"The sum of sizes must match the size of the axis dimension."),r=t}return r}function Cg(e){return"Received SparseTensor with denseShape[0] = 0 but\n  indices.shape[0] = ".concat(e)}function Mg(e,t){return"indices(".concat(e,", 0) is invalid: ").concat(t," < 0")}function Ag(e,t,n){return"indices(".concat(e,", 0) is invalid: ").concat(t," >= ").concat(n)}function Og(e,t){return"only one output dimension may be -1, not both ".concat(e," and ").concat(t)}function Fg(e,t){return"size ".concat(e," must be non-negative, not ").concat(t)}function Rg(e,t){const n=_r(e),r=_r(t);return"Input to reshape is a SparseTensor with ".concat(n,"\n  dense values, but the requested shape requires a multiple of ").concat(r,". inputShape=").concat(e," outputShape= ").concat(t)}function Dg(e,t){const n=_r(e),r=_r(t);return"Input to reshape is a tensor with ".concat(n," dense values, but the requested shape has ").concat(r,". inputShape=").concat(e," outputShape=").concat(t)}function Pg(){return"segment ids are not increasing"}function Lg(e,t){return"Segment id ".concat(e," out of range [0, ").concat(t,"), possibly because segmentIds input is not sorted.")}function zg(e,t,n){return"Bad: indices[".concat(e,"] == ").concat(t," out of range [0, ").concat(n,")")}function Bg(e,t,n,r){const a=t.shape.length,o=e.shape.length;if(0!==r&&(r<-a||r>a))throw new Error("Expect batchDims in the range of [-".concat(a,", ").concat(a,"], but got ").concat(r));if(r<0&&(r+=a),r>o)throw new Error("batchDims (".concat(r,") must be less than rank(x) (\n    ").concat(o,")."));if(n<r)throw new Error("batchDims (".concat(r,") must be less than or equal to axis (").concat(n,")."));for(let d=0;d<r;++d)if(e.shape[d]!==t.shape[d])throw new Error("x.shape[".concat(d,"]: ").concat(e.shape[d]," should be equal to indices.shape[").concat(d,"]: ").concat(t.shape[d],"."));const i=e.shape[n],s=[];let l=1,u=1,c=1;for(let d=0;d<r;++d)s.push(e.shape[d]),l*=e.shape[d];for(let d=r;d<n;d++)s.push(e.shape[d]),u*=e.shape[d];for(let d=r;d<a;d++)s.push(t.shape[d]);for(let d=n+1;d<o;d++)s.push(e.shape[d]),c*=e.shape[d];return{batchSize:l,sliceSize:c,outerSize:u,dimSize:i,outputShape:s}}function Wg(e){try{return e.map(e=>Bs(e))}catch(uq){throw new Error("Failed to decode encoded string bytes into utf-8, error: ".concat(uq))}}function Ug(e){return e.map(e=>zs(e))}!function(){for(const e of cc)ec(e)}();var jg=n(5615);var Hg,Vg;Qr().registerFlag("KEEP_INTERMEDIATE_TENSORS",()=>!1,e=>{e&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")}),function(e){e[e.DT_INVALID=0]="DT_INVALID",e[e.DT_FLOAT=1]="DT_FLOAT",e[e.DT_DOUBLE=2]="DT_DOUBLE",e[e.DT_INT32=3]="DT_INT32",e[e.DT_UINT8=4]="DT_UINT8",e[e.DT_INT16=5]="DT_INT16",e[e.DT_INT8=6]="DT_INT8",e[e.DT_STRING=7]="DT_STRING",e[e.DT_COMPLEX64=8]="DT_COMPLEX64",e[e.DT_INT64=9]="DT_INT64",e[e.DT_BOOL=10]="DT_BOOL",e[e.DT_QINT8=11]="DT_QINT8",e[e.DT_QUINT8=12]="DT_QUINT8",e[e.DT_QINT32=13]="DT_QINT32",e[e.DT_BFLOAT16=14]="DT_BFLOAT16",e[e.DT_QINT16=15]="DT_QINT16",e[e.DT_QUINT16=16]="DT_QUINT16",e[e.DT_UINT16=17]="DT_UINT16",e[e.DT_COMPLEX128=18]="DT_COMPLEX128",e[e.DT_HALF=19]="DT_HALF",e[e.DT_RESOURCE=20]="DT_RESOURCE",e[e.DT_VARIANT=21]="DT_VARIANT",e[e.DT_UINT32=22]="DT_UINT32",e[e.DT_UINT64=23]="DT_UINT64",e[e.DT_FLOAT_REF=101]="DT_FLOAT_REF",e[e.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",e[e.DT_INT32_REF=103]="DT_INT32_REF",e[e.DT_UINT8_REF=104]="DT_UINT8_REF",e[e.DT_INT16_REF=105]="DT_INT16_REF",e[e.DT_INT8_REF=106]="DT_INT8_REF",e[e.DT_STRING_REF=107]="DT_STRING_REF",e[e.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",e[e.DT_INT64_REF=109]="DT_INT64_REF",e[e.DT_BOOL_REF=110]="DT_BOOL_REF",e[e.DT_QINT8_REF=111]="DT_QINT8_REF",e[e.DT_QUINT8_REF=112]="DT_QUINT8_REF",e[e.DT_QINT32_REF=113]="DT_QINT32_REF",e[e.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",e[e.DT_QINT16_REF=115]="DT_QINT16_REF",e[e.DT_QUINT16_REF=116]="DT_QUINT16_REF",e[e.DT_UINT16_REF=117]="DT_UINT16_REF",e[e.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",e[e.DT_HALF_REF=119]="DT_HALF_REF",e[e.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",e[e.DT_VARIANT_REF=121]="DT_VARIANT_REF",e[e.DT_UINT32_REF=122]="DT_UINT32_REF",e[e.DT_UINT64_REF=123]="DT_UINT64_REF"}(Hg||(Hg={})),function(e){let t;!function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"}(t=e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))}(Vg||(Vg={}));const qg={};function Gg(e){return qg[e]}function Kg(e,t,n,r,a){const o=t.inputParams[e];if(o&&void 0!==o.inputIndexStart){const e=o.inputIndexStart,i=0===o.inputIndexEnd?void 0:void 0===o.inputIndexEnd?e+1:o.inputIndexEnd,s=e<0?t.inputNames.length+e:e;if("tensor"===o.type)return $g(t.inputNames[s],n,r,a);if("tensors"===o.type){const o=t.inputs.slice(e,i),s=t.inputNames.slice(e,i).filter((e,t)=>{var n;return"NoOp"!==(null===(n=o[t])||void 0===n?void 0:n.op)});return s.map(e=>$g(e,n,r,a))}const l=$g(t.inputNames[s],n,r,a),u=l.dataSync();return"number"===o.type?u[0]:Br(l.shape,u)}const i=t.attrParams[e];return i&&i.value}function $g(e,t,n,r){const[a,o]=Jg(e,n);if(null!=r){const e=r.getHashTableHandleByName(a);if(null!=e)return e}const i=n.currentContextIds.find(e=>!!t[Xg(a,e)]);return void 0!==i?t[Xg(a,i)][o]:void 0}function Yg(e,t,n){return t[Xg(e,n.currentContextId)]}function Qg(e,t){const[n,r,a]=Jg(e,t);return[Xg(n,t&&t.currentContextId),r,a]}function Xg(e,t){return t?"".concat(e,"-").concat(t):e}function Jg(e,t){if(""===e)return["",0,void 0];const n=null!=t&&null!=t.parseNodeNameCache;if(n){const n=t.parseNodeNameCache.get(e);if(null!=n)return n}const r=e.split(":");let a;if(1===r.length)a=[e,0,void 0];else{const e=r[0],t=3===r.length?r[1]:void 0;a=[e,Number(r[r.length-1]),t]}return n&&t.parseNodeNameCache.set(e,a),a}function Zg(e,t,n){let r=Kg("pad",e,t,n);if("explicit"===r){r=Kg("explicitPaddings",e,t,n);const a=[[0,0],[0,0],[0,0],[0,0]];for(let e=0;e<4;e++)a[e][0]=r[2*e],a[e][1]=r[2*e+1];return a}return r}function ev(e){return e.kept?e:Fu(e)}const tv=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],nv=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsFinite",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsInf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],rv=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}],av=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],ov=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniformInt",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number"},{tfName:"maxval",name:"maxval",type:"number"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],iv=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],sv=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],lv=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],uv=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"InitializeTable",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]},{tfOpName:"InitializeTableV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],cv=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}],dv=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BitwiseAnd",category:"logical",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}]}],pv=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"MatrixBandPart",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"numLower",type:"tensor"},{start:1,name:"numUpper",type:"tensor"}]}],hv=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]}],fv=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],mv=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]},{tfOpName:"TensorScatterUpdate",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],gv=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],vv=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],yv=[{tfOpName:"StaticRegexReplace",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"pattern",name:"pattern",type:"string"},{tfName:"rewrite",name:"rewrite",type:"string"},{tfName:"replace_global",name:"replaceGlobal",type:"bool"}]},{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],bv=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"EnsureShape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}];class wv{static get Instance(){return this._instance||(this._instance=new this)}constructor(){const e=[].concat(...[r,a,o,i,s,l,u,c,d,p,h,f,m,g,v,y,b,w,k].map(e=>e.json));this.opMappers=e.reduce((e,t)=>(e[t.tfOpName]=t,e),{})}transformGraph(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.node,r=[],a=[],o=[],i=n.reduce((e,t)=>(e[t.name]=this.mapNode(t),t.op.startsWith("Placeholder")?r.push(e[t.name]):"Const"===t.op?a.push(e[t.name]):null!=t.input&&0!==t.input.length||o.push(e[t.name]),e),{});let s=[];const l=[];let u={},c={};null!=t&&(u=this.mapSignatureEntries(t.inputs),c=this.mapSignatureEntries(t.outputs));const d=Object.keys(i);d.forEach(e=>{const t=i[e];t.inputNames.forEach((e,n)=>{const[r,,a]=Qg(e),o=i[r];if(null!=o.outputs){const e=o.outputs.indexOf(a);if(-1!==e){const a="".concat(r,":").concat(e);t.inputNames[n]=a}}t.inputs.push(o),o.children.push(t)})}),0===Object.keys(c).length?d.forEach(e=>{const t=i[e];0===t.children.length&&l.push(t)}):Object.keys(c).forEach(e=>{const[t]=Qg(e),n=i[t];null!=n&&(n.signatureKey=c[e],l.push(n))}),Object.keys(u).length>0?Object.keys(u).forEach(e=>{const[t]=Qg(e),n=i[t];n&&(n.signatureKey=u[e],s.push(n))}):s=r;let p={};null!=e.library&&null!=e.library.function&&(p=e.library.function.reduce((e,t)=>(e[t.signature.name]=this.mapFunction(t),e),{}));const h={nodes:i,inputs:s,outputs:l,weights:a,placeholders:r,signature:t,functions:p};return o.length>0&&(h.initNodes=o),h}mapSignatureEntries(e){return Object.keys(e||{}).reduce((t,n)=>(t[e[n].name]=n,t),{})}mapNode(e){const t=Gg(e.op)||this.opMappers[e.op]||{};null==e.attr&&(e.attr={});const n={name:e.name,op:e.op,category:t.category,inputNames:(e.input||[]).map(e=>e.startsWith("^")?e.slice(1):e),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:t.outputs};return null!=t.inputs&&(n.inputParams=t.inputs.reduce((e,t)=>(e[t.name]={type:t.type,inputIndexStart:t.start,inputIndexEnd:t.end},e),{})),null!=t.attrs&&(n.attrParams=t.attrs.reduce((t,n)=>{const r=n.type;let a;switch(n.type){case"string":a=Sv(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=Sv(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"string[]":a=Ov(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=Ov(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number":a=Iv(e.attr,n.tfName,n.defaultValue||0),void 0===a&&n.tfDeprecatedName&&(a=Iv(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number[]":a=Av(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=Av(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool":a=xv(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=xv(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool[]":a=Rv(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=Rv(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape":a=Mv(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=Mv(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape[]":a=Fv(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=Fv(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype":a=Tv(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=Tv(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype[]":a=Nv(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=Nv(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"func":a=Ev(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=Ev(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error("Unsupported param type: ".concat(n.type," for op: ").concat(e.op))}return t[n.name]={value:a,type:r},t},{})),n}mapFunction(e){const t=e.nodeDef,n=[];let r={};null!=t&&(r=t.reduce((e,t)=>(e[t.name]=this.mapNode(t),"Const"===t.op&&n.push(e[t.name]),e),{}));const a=[],o=[];e.signature.inputArg.forEach(e=>{const[t]=Qg(e.name),n={name:t,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:_v(e.type),type:"dtype"}},children:[]};n.signatureKey=e.name,a.push(n),r[t]=n});Object.keys(r).forEach(e=>{const t=r[e];t.inputNames.forEach((e,n)=>{const[a,,o]=Qg(e),i=r[a];if(null!=i.outputs){const e=i.outputs.indexOf(o);if(-1!==e){const r="".concat(a,":").concat(e);t.inputNames[n]=r}}t.inputs.push(i),i.children.push(t)})});const i=e.ret;e.signature.outputArg.forEach(e=>{const[t,n]=Qg(i[e.name]),a=r[t];null!=a&&(a.defaultOutput=n,o.push(a))});const s=this.mapArgsToSignature(e);return{nodes:r,inputs:a,outputs:o,weights:n,placeholders:[],signature:s}}mapArgsToSignature(e){return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce((e,t)=>(e[t.name]=this.mapArgToTensorInfo(t),e),{}),outputs:e.signature.outputArg.reduce((t,n)=>(t[n.name]=this.mapArgToTensorInfo(n,e.ret),t),{})}}mapArgToTensorInfo(e,t){let n=e.name;return null!=t&&(n=t[n]),{name:n,dtype:e.type}}}function kv(e,t){const n=Array.isArray(e)?String.fromCharCode.apply(null,e):function(e){const t=Qr().global;if("undefined"!==typeof t.atob)return t.atob(e);if("undefined"!==typeof Buffer)return new Buffer(e,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}(e);return t?n:n.toLowerCase()}function Sv(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=e[t];return null!=a?kv(a.s,r):n}function xv(e,t,n){const r=e[t];return r?r.b:n}function Iv(e,t,n){const r=e[t]||{},a=null!=r.i?r.i:null!=r.f?r.f:n;return"number"===typeof a?a:parseInt(a,10)}function _v(e){switch("string"===typeof e&&(e=Hg[e]),e){case Hg.DT_FLOAT:case Hg.DT_HALF:return"float32";case Hg.DT_INT32:case Hg.DT_INT64:case Hg.DT_INT8:case Hg.DT_UINT8:return"int32";case Hg.DT_BOOL:return"bool";case Hg.DT_DOUBLE:return"float32";case Hg.DT_STRING:return"string";default:return null}}function Ev(e,t,n){const r=e[t];return r&&r.func?r.func.name:n}function Tv(e,t,n){const r=e[t];return r&&r.type?_v(r.type):n}function Nv(e,t,n){const r=e[t];return r&&r.list&&r.list.type?r.list.type.map(e=>_v(e)):n}function Cv(e){if(!e.unknownRank)return null!=e.dim?e.dim.map(e=>"number"===typeof e.size?e.size:parseInt(e.size,10)):[]}function Mv(e,t,n){const r=e[t];return r&&r.shape?Cv(r.shape):n}function Av(e,t,n){const r=e[t];return r?((r.list.f&&r.list.f.length?r.list.f:r.list.i)||[]).map(e=>"number"===typeof e?e:parseInt(e,10)):n}function Ov(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=e[t];return a&&a.list&&a.list.s?a.list.s.map(e=>kv(e,r)):n}function Fv(e,t,n){const r=e[t];return r&&r.list&&r.list.shape?r.list.shape.map(e=>Cv(e)):n}function Rv(e,t,n){const r=e[t];return r&&r.list&&r.list.b?r.list.b:n}class Dv{constructor(e,t,n){this.node=e,this.tensorMap=t,this.context=n,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map(e=>this.getInput(e)),null!=e.rawAttrs&&(this.attrs=Object.keys(e.rawAttrs).reduce((e,t)=>(e[t]=this.getAttr(t),e),{}))}getInput(e){return $g(e,this.tensorMap,this.context)}getAttr(e,t){const n=this.node.rawAttrs[e];if(null!=n.tensor)return $g(e,this.tensorMap,this.context);if(null!=n.i||null!=n.f)return Iv(this.node.rawAttrs,e,t);if(null!=n.s)return Sv(this.node.rawAttrs,e,t);if(null!=n.b)return xv(this.node.rawAttrs,e,t);if(null!=n.shape)return Mv(this.node.rawAttrs,e,t);if(null!=n.type)return Tv(this.node.rawAttrs,e,t);if(null!=n.list){if(null!=n.list.i||null!=n.list.f)return Av(this.node.rawAttrs,e,t);if(null!=n.list.s)return Ov(this.node.rawAttrs,e,t);if(null!=n.list.shape)return Fv(this.node.rawAttrs,e,t);if(null!=n.list.b)return Rv(this.node.rawAttrs,e,t);if(null!=n.list.type)return Nv(this.node.rawAttrs,e,t)}return t}}function Pv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if("number"!==typeof e&&"number"!==typeof t){Sr(e.length===t.length,()=>n+" Shapes ".concat(e," and ").concat(t," must match"));for(let r=0;r<e.length;r++){const a=e[r],o=t[r];Sr(a<0||o<0||a===o,()=>n+" Shapes ".concat(e," and ").concat(t," must match"))}}}function Lv(e){return"number"!==typeof e&&!e.some(e=>e<0)}function zv(e,t,n){let r=Bv(e,n);const a=!Lv(r);if(a&&0===t.length)throw new Error("Tried to calculate elements of an empty list"+" with non-fully-defined elementShape: ".concat(r));if(a&&t.forEach(e=>{r=Bv(e.shape,r)}),!Lv(r))throw new Error("Non-fully-defined elementShape: ".concat(r));return r}function Bv(e,t){if("number"===typeof e)return t;if("number"===typeof t)return e;if(e.length!==t.length)throw new Error("Incompatible ranks during merge: ".concat(e," vs. ").concat(t));const n=[];for(let r=0;r<e.length;++r){const a=e[r],o=t[r];if(a>=0&&o>=0&&a!==o)throw new Error("Incompatible shape during merge: ".concat(e," vs. ").concat(t));n[r]=a>=0?a:o}return n}class Wv{constructor(e,t,n,r,a,o,i){this.name=e,this.dtype=t,this.maxSize=n,this.elementShape=r,this.identicalElementShapes=a,this.dynamicSize=o,this.clearAfterRead=i,this.tensors=[],this.closed_=!1,this.idTensor=Yu(0),zu(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(e){this.tensors.forEach(t=>{null!=e&&e.has(t.tensor.id)||t.tensor.dispose()}),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(e){if(this.closed_)throw new Error("TensorArray ".concat(this.name," has already been closed."));if(e<0||e>=this.size())throw new Error("Tried to read from index ".concat(e,", but array size is: ").concat(this.size()));const t=this.tensors[e];if(t.cleared)throw new Error("TensorArray ".concat(this.name,": Could not read index ").concat(e," twice because it was cleared after a previous read ")+"(perhaps try setting clear_after_read = false?).");return this.clearAfterRead&&(t.cleared=!0),t.read=!0,t.tensor}readMany(e){return e.map(e=>this.read(e))}write(e,t){if(this.closed_)throw new Error("TensorArray ".concat(this.name," has already been closed."));if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error("Tried to write to index ".concat(e,", but array is not resizeable and size is: ").concat(this.maxSize));const n=this.tensors[e]||{};if(t.dtype!==this.dtype)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,",\n          because the value dtype is ").concat(t.dtype,", but TensorArray dtype is ").concat(this.dtype,"."));if(0!==this.size()||null!=this.elementShape&&0!==this.elementShape.length||(this.elementShape=t.shape),Pv(this.elementShape,t.shape,"TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,".")),n.read)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,", because it has already been read."));if(n.written)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,", because it has already been written."));n.tensor=t,zu(t),n.written=!0,this.tensors[e]=n}writeMany(e,t){if(e.length!==t.length)throw new Error("TensorArray ".concat(this.name,": could not write multiple tensors,")+"because the index size: ".concat(e.length," is not the same as tensors size: ").concat(t.length,"."));e.forEach((e,n)=>this.write(e,t[n]))}gather(e,t){if(t&&t!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but gather requested dtype ").concat(t));if(e)e=e.slice(0,this.size());else{e=[];for(let t=0;t<this.size();t++)e.push(t)}if(0===e.length)return Ml([],[0].concat(this.elementShape));const n=this.readMany(e);return Pv(this.elementShape,n[0].shape,"TensorArray shape mismatch: "),kf(n,0)}concat(e){if(e&&e!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but concat requested dtype ").concat(e));if(0===this.size())return Ml([],[0].concat(this.elementShape));const t=[];for(let r=0;r<this.size();r++)t.push(r);const n=this.readMany(t);return Pv(this.elementShape,n[0].shape,"TensorArray shape mismatch: tensor array shape (".concat(this.elementShape,") vs first tensor shape (").concat(n[0].shape,")")),xd(n,0)}scatter(e,t){if(t.dtype!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but tensor has dtype ").concat(t.dtype));if(e.length!==t.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: ".concat(e.length," vs. ").concat(t.shape[0]));const n=Math.max(...e);if(!this.dynamicSize&&n>=this.maxSize)throw new Error("Max index must be < array size (".concat(n,"  vs. ").concat(this.maxSize,")"));this.writeMany(e,Df(t,0))}split(e,t){if(t.dtype!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but tensor has dtype ").concat(t.dtype));let n=0;const r=e.map(e=>(n+=e,n));if(n!==t.shape[0])throw new Error("Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ".concat(n,", and tensor's shape is: ").concat(t.shape));if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error("TensorArray's size is not equal to the size of lengths (".concat(this.maxSize," vs. ").concat(e.length,"), ")+"and the TensorArray is not marked as dynamically resizeable");const a=0===n?0:t.size/n,o=[];Pu(()=>{t=wd(t,[1,n,a]);for(let n=0;n<e.length;++n){const i=[0,0===n?0:r[n-1],0],s=[1,e[n],a];o[n]=wd(Ed(t,i,s),this.elementShape)}return o});const i=[];for(let s=0;s<e.length;s++)i[s]=s;this.writeMany(i,o)}}class Uv{get id(){return this.idTensor.id}constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;this.tensors=e,this.elementShape=t,this.elementDtype=n,null!=e&&e.forEach(e=>{if(n!==e.dtype)throw new Error("Invalid data types; op elements ".concat(n,", but list elements ").concat(e.dtype));Pv(t,e.shape,"TensorList shape mismatch: "),zu(e)}),this.idTensor=Yu(0),this.maxNumElements=r,zu(this.idTensor)}copy(){return new Uv([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(e){this.tensors.forEach(t=>{null!=e&&e.has(t.id)||t.dispose()}),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(t!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));if(-1!==n&&this.tensors.length!==n)throw new Error("Operation expected a list with ".concat(n," elements but got a list with ").concat(this.tensors.length," elements."));Pv(e,this.elementShape,"TensorList shape mismatch: ");const r=zv(this.elementShape,this.tensors,e);return Pu(()=>{const e=this.tensors.map(e=>wd(e,r));return kf(e,0)})}popBack(e,t){if(t!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));if(0===this.size())throw new Error("Trying to pop from an empty list.");const n=zv(this.elementShape,this.tensors,e),r=this.tensors.pop();return r.kept=!1,Pv(r.shape,e,"TensorList shape mismatch: "),wd(r,n)}pushBack(e){if(e.dtype!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(e.dtype,", but list elements ").concat(this.elementDtype));if(Pv(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");zu(e),this.tensors.push(e)}resize(e){if(e<0)throw new Error("TensorListResize expects size to be non-negative. Got: ".concat(e));if(-1!==this.maxNumElements&&e>this.maxNumElements)throw new Error("TensorListResize input size ".concat(e," is greater maxNumElement ").concat(this.maxNumElements,"."));const t=new Uv([],this.elementShape,this.elementDtype,this.maxNumElements);t.tensors.length=e;for(let n=0;n<Math.min(this.tensors.length,e);++n)t.tensors[n]=this.tensors[n];return t}getItem(e,t,n){if(n!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(n,", but list elements ").concat(this.elementDtype));if(e<0||e>this.tensors.length)throw new Error("Trying to access element ".concat(e," in a list with ").concat(this.tensors.length," elements."));if(null==this.tensors[e])throw new Error("element at index ".concat(e," is null."));Pv(this.tensors[e].shape,t,"TensorList shape mismatch: ");const r=zv(this.elementShape,this.tensors,t);return wd(this.tensors[e],r)}setItem(e,t){if(t.dtype!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t.dtype,", but list elements ").concat(this.elementDtype));if(e<0||-1!==this.maxNumElements&&e>=this.maxNumElements)throw new Error("Trying to set element ".concat(e," in a list with max ").concat(this.maxNumElements," elements."));Pv(this.elementShape,t.shape,"TensorList shape mismatch: "),zu(t),null!=this.tensors[e]&&(this.tensors[e].kept=!1),this.tensors[e]=t}gather(e,t,n){if(t!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));Pv(this.elementShape,n,"TensorList shape mismatch: "),e=e.slice(0,this.size());const r=zv(this.elementShape,this.tensors,n);return 0===e.length?Ml([],[0].concat(r)):Pu(()=>{const t=e.map(e=>wd(this.tensors[e],r));return kf(t,0)})}concat(e,t){if(e&&e!==this.elementDtype)throw new Error("TensorList dtype is ".concat(this.elementDtype," but concat requested dtype ").concat(e));Pv(this.elementShape,t,"TensorList shape mismatch: ");const n=zv(this.elementShape,this.tensors,t);return 0===this.size()?Ml([],[0].concat(n)):Pu(()=>{const e=this.tensors.map(e=>wd(e,n));return xd(e,0)})}}const jv=async(e,t,n)=>{switch(e.op){case"If":case"StatelessIf":{const r=Kg("thenBranch",e,t,n),a=Kg("elseBranch",e,t,n),o=Kg("cond",e,t,n),i=Kg("args",e,t,n);return(await o.data())[0]?n.functionMap[r].executeFunctionAsync(i,n.tensorArrayMap,n.tensorListMap):n.functionMap[a].executeFunctionAsync(i,n.tensorArrayMap,n.tensorListMap)}case"While":case"StatelessWhile":{const r=Kg("body",e,t,n),a=Kg("cond",e,t,n),o=Kg("args",e,t,n),i=await n.functionMap[a].executeFunctionAsync(o,n.tensorArrayMap,n.tensorListMap),s=o.map(e=>e.id);let l=await i[0].data();i.forEach(e=>{e.kept||-1!==s.indexOf(e.id)||e.dispose()});let u=o;for(;l[0];){const e=u;u=await n.functionMap[r].executeFunctionAsync(u,n.tensorArrayMap,n.tensorListMap);const t=u.map(e=>e.id);e.forEach(e=>{e.kept||-1!==s.indexOf(e.id)||-1!==t.indexOf(e.id)||e.dispose()});const o=await n.functionMap[a].executeFunctionAsync(u,n.tensorArrayMap,n.tensorListMap);l=await o[0].data(),o.forEach(e=>{e.kept||-1!==s.indexOf(e.id)||-1!==t.indexOf(e.id)||e.dispose()})}return u}case"LoopCond":return[ev(Kg("pred",e,t,n))];case"Switch":{const r=Kg("pred",e,t,n);let a=Kg("data",e,t,n);return a.kept||(a=ev(a)),(await r.data())[0]?[void 0,a]:[a,void 0]}case"Merge":{const r=e.inputNames.find(e=>void 0!==$g(e,t,n));if(r){return[ev($g(r,t,n))]}return}case"Enter":{const r=Kg("frameName",e,t,n),a=Kg("tensor",e,t,n);return n.enterFrame(r),[ev(a)]}case"Exit":{const r=Kg("tensor",e,t,n);return n.exitFrame(),[ev(r)]}case"NextIteration":{const r=Kg("tensor",e,t,n);return n.nextIteration(),[ev(r)]}case"TensorArrayV3":{const r=Kg("size",e,t,n),a=Kg("dtype",e,t,n),o=Kg("elementShape",e,t,n),i=Kg("dynamicSize",e,t,n),s=Kg("clearAfterRead",e,t,n),l=Kg("identicalElementShapes",e,t,n),u=Kg("name",e,t,n),c=new Wv(u,a,r,o,l,i,s);return n.addTensorArray(c),[c.idTensor,Yu(1)]}case"TensorArrayWriteV3":{const r=Kg("tensorArrayId",e,t,n),a=Kg("index",e,t,n),o=Kg("tensor",e,t,n),i=n.getTensorArray(r.id);return i.write(a,o),[i.idTensor]}case"TensorArrayReadV3":{const r=Kg("tensorArrayId",e,t,n),a=Kg("index",e,t,n);return[n.getTensorArray(r.id).read(a)]}case"TensorArrayGatherV3":{const r=Kg("tensorArrayId",e,t,n),a=Kg("indices",e,t,n),o=Kg("dtype",e,t,n);return[n.getTensorArray(r.id).gather(a,o)]}case"TensorArrayScatterV3":{const r=Kg("tensorArrayId",e,t,n),a=Kg("indices",e,t,n),o=Kg("tensor",e,t,n),i=n.getTensorArray(r.id);return i.scatter(a,o),[i.idTensor]}case"TensorArrayConcatV3":{const r=Kg("tensorArrayId",e,t,n),a=n.getTensorArray(r.id),o=Kg("dtype",e,t,n);return[a.concat(o)]}case"TensorArraySplitV3":{const r=Kg("tensorArrayId",e,t,n),a=Kg("tensor",e,t,n),o=Kg("lengths",e,t,n),i=n.getTensorArray(r.id);return i.split(o,a),[i.idTensor]}case"TensorArraySizeV3":{const r=Kg("tensorArrayId",e,t,n);return[Yu(n.getTensorArray(r.id).size(),"int32")]}case"TensorArrayCloseV3":{const r=Kg("tensorArrayId",e,t,n),a=n.getTensorArray(r.id);return a.clearAndClose(),[a.idTensor]}case"TensorListSetItem":{const r=Kg("tensorListId",e,t,n),a=Kg("index",e,t,n),o=Kg("tensor",e,t,n),i=n.getTensorList(r.id);return i.setItem(a,o),[i.idTensor]}case"TensorListGetItem":{const r=Kg("tensorListId",e,t,n),a=Kg("index",e,t,n),o=Kg("elementShape",e,t,n),i=Kg("elementDType",e,t,n);return[n.getTensorList(r.id).getItem(a,o,i)]}case"TensorListScatterV2":case"TensorListScatter":{const r=Kg("indices",e,t,n),a=function(e,t,n,r){if(t.length!==e.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: ".concat(t.length," vs. ").concat(e.shape[0]));const a=Math.max(...t);if(null!=r&&-1!==r&&a>=r)throw new Error("Max index must be < array size (".concat(a,"  vs. ").concat(r,")"));const o=new Uv([],n,e.dtype,r),i=Df(e,0);return t.forEach((e,t)=>{o.setItem(e,i[t])}),o}(Kg("tensor",e,t,n),r,Kg("elementShape",e,t,n),Kg("numElements",e,t,n));return n.addTensorList(a),[a.idTensor]}case"TensorListReserve":case"EmptyTensorList":{const r=Kg("elementShape",e,t,n),a=Kg("elementDType",e,t,n);let o;o="TensorListReserve"===e.op?"numElements":"maxNumElements";const i=Kg(o,e,t,n),s=function(e,t,n,r){return new Uv([],e,t,r)}(r,a,0,"TensorListReserve"===e.op?-1:i);return n.addTensorList(s),[s.idTensor]}case"TensorListGather":{const r=Kg("tensorListId",e,t,n),a=Kg("indices",e,t,n),o=Kg("elementShape",e,t,n),i=Kg("elementDType",e,t,n);return[n.getTensorList(r.id).gather(a,i,o)]}case"TensorListStack":{const r=Kg("tensorListId",e,t,n),a=Kg("elementShape",e,t,n),o=Kg("elementDType",e,t,n),i=Kg("numElements",e,t,n);return[n.getTensorList(r.id).stack(a,o,i)]}case"TensorListFromTensor":{const r=function(e,t,n){const r=e.dtype;if(e.shape.length<1)throw new Error("Tensor must be at least a vector, but saw shape: ".concat(e.shape));if(e.dtype!==n)throw new Error("Invalid data types; op elements ".concat(e.dtype,", but list elements ").concat(n));Pv(e.shape.slice(1),t,"TensorList shape mismatch: ");const a=Df(e);return new Uv(a,t,r)}(Kg("tensor",e,t,n),Kg("elementShape",e,t,n),Kg("elementDType",e,t,n));return n.addTensorList(r),[r.idTensor]}case"TensorListConcat":case"TensorListConcatV2":{const r=Kg("tensorListId",e,t,n),a=n.getTensorList(r.id),o=Kg("dtype",e,t,n),i=Kg("elementShape",e,t,n);return[a.concat(o,i)]}case"TensorListPushBack":{const r=Kg("tensorListId",e,t,n),a=Kg("tensor",e,t,n),o=n.getTensorList(r.id);return o.pushBack(a),[o.idTensor]}case"TensorListPopBack":{const r=Kg("tensorListId",e,t,n),a=Kg("elementShape",e,t,n),o=Kg("elementDType",e,t,n);return[n.getTensorList(r.id).popBack(a,o)]}case"TensorListSplit":{const r=Kg("tensor",e,t,n),a=Kg("elementShape",e,t,n),o=function(e,t,n){let r=0;const a=t.map(e=>(r+=e,r));if(r!==e.shape[0])throw new Error("Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ".concat(r,", and tensor's shape is: ").concat(e.shape));const o=Bv(e.shape.slice(1),n),i=0===r?0:e.size/r,s=Pu(()=>{const n=[];e=wd(e,[1,r,i]);for(let r=0;r<t.length;++r){const s=[0,0===r?0:a[r-1],0],l=[1,t[r],i];n[r]=wd(Ed(e,s,l),o)}return e.dispose(),n}),l=new Uv([],n,e.dtype,t.length);for(let u=0;u<s.length;u++)l.setItem(u,s[u]);return l}(r,Kg("lengths",e,t,n),a);return n.addTensorList(o),[o.idTensor]}case"TensorListLength":{const r=Kg("tensorListId",e,t,n);return[Yu(n.getTensorList(r.id).size(),"int32")]}case"TensorListResize":{const r=Kg("tensorListId",e,t,n),a=Kg("size",e,t,n),o=n.getTensorList(r.id).resize(a);return n.addTensorList(o),[o.idTensor]}default:throw TypeError("Node type ".concat(e.op," is not implemented"))}};function Hv(e,t,n){const[r,a]=Kg("fusedOps",e,t,n),o="biasadd"===r,i=!o,s="prelu"===a,l="fusedbatchnorm"===r,u=Kg("numArgs",e,t,n);if(o){if(s&&2!==u)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!s&&o&&1!==u)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(l)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");const c=Kg("strides",e,t,n),d=Zg(e,t,n),p=Kg("dataFormat",e,t,n).toUpperCase(),h=Kg("dilations",e,t,n);let[f,m]=Kg("args",e,t,n);i&&(m=f,f=void 0);return{stride:c,pad:d,dataFormat:p,dilations:h,biasArg:f,preluArg:m,activationFunc:a,leakyreluAlpha:Kg("leakyreluAlpha",e,t,n)}}function Vv(e,t,n){return{boxes:Kg("boxes",e,t,n),scores:Kg("scores",e,t,n),maxOutputSize:Kg("maxOutputSize",e,t,n),iouThreshold:Kg("iouThreshold",e,t,n),scoreThreshold:Kg("scoreThreshold",e,t,n),softNmsSigma:Kg("softNmsSigma",e,t,n)}}class qv{get id(){return this.handle.id}constructor(e,t){this.keyDType=e,this.valueDType=t,this.handle=Yu(0),this.tensorMap=new Map,zu(this.handle)}clearAndClose(){this.tensorMap.forEach(e=>e.dispose()),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return Yu(this.size(),"int32")}async import(e,t){this.checkKeyAndValueTensor(e,t);const n=await e.data();return this.tensorMap.forEach(e=>e.dispose()),this.tensorMap.clear(),Pu(()=>{const e=Df(t),r=n.length,a=e.length;Sr(r===a,()=>"The number of elements doesn't match, keys has "+"".concat(r," elements, the values has ").concat(a," ")+"elements.");for(let t=0;t<r;t++){const r=n[t],a=e[t];zu(a),this.tensorMap.set(r,a)}return this.handle})}async find(e,t){this.checkKeyAndValueTensor(e,t);const n=await e.data();return Pu(()=>{const e=[];for(let r=0;r<n.length;r++){const a=n[r],o=this.findWithDefault(a,t);e.push(o)}return kf(e)})}findWithDefault(e,t){const n=this.tensorMap.get(e);return null!=n?n:t}checkKeyAndValueTensor(e,t){if(e.dtype!==this.keyDType)throw new Error("Expect key dtype ".concat(this.keyDType,", but got ")+"".concat(e.dtype));if(t.dtype!==this.valueDType)throw new Error("Expect value dtype ".concat(this.valueDType,", but got ")+"".concat(t.dtype))}}function Gv(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Pu;const o=((e,t,n)=>{switch(e.category){case"arithmetic":return a(()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"BiasAdd":case"AddV2":case"Add":return[r.add(Kg("a",e,t,n),Kg("b",e,t,n))];case"AddN":return[r.addN(Kg("tensors",e,t,n))];case"FloorMod":case"Mod":return[r.mod(Kg("a",e,t,n),Kg("b",e,t,n))];case"Mul":return[r.mul(Kg("a",e,t,n),Kg("b",e,t,n))];case"RealDiv":case"Div":return[r.div(Kg("a",e,t,n),Kg("b",e,t,n))];case"DivNoNan":return[r.divNoNan(Kg("a",e,t,n),Kg("b",e,t,n))];case"FloorDiv":return[r.floorDiv(Kg("a",e,t,n),Kg("b",e,t,n))];case"Sub":return[r.sub(Kg("a",e,t,n),Kg("b",e,t,n))];case"Minimum":return[r.minimum(Kg("a",e,t,n),Kg("b",e,t,n))];case"Maximum":return[r.maximum(Kg("a",e,t,n),Kg("b",e,t,n))];case"Pow":return[r.pow(Kg("a",e,t,n),Kg("b",e,t,n))];case"SquaredDifference":return[r.squaredDifference(Kg("a",e,t,n),Kg("b",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n));case"basic_math":return a(()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"Abs":case"ComplexAbs":return[r.abs(Kg("x",e,t,n))];case"Acos":return[r.acos(Kg("x",e,t,n))];case"Acosh":return[r.acosh(Kg("x",e,t,n))];case"Asin":return[r.asin(Kg("x",e,t,n))];case"Asinh":return[r.asinh(Kg("x",e,t,n))];case"Atan":return[r.atan(Kg("x",e,t,n))];case"Atan2":return[r.atan2(Kg("x",e,t,n),Kg("y",e,t,n))];case"Atanh":return[r.atanh(Kg("x",e,t,n))];case"Ceil":return[r.ceil(Kg("x",e,t,n))];case"Complex":return[r.complex(Kg("real",e,t,n),Kg("imag",e,t,n))];case"Cos":return[r.cos(Kg("x",e,t,n))];case"Cosh":return[r.cosh(Kg("x",e,t,n))];case"Elu":return[r.elu(Kg("x",e,t,n))];case"Erf":return[r.erf(Kg("x",e,t,n))];case"Exp":return[r.exp(Kg("x",e,t,n))];case"Expm1":return[r.expm1(Kg("x",e,t,n))];case"Floor":return[r.floor(Kg("x",e,t,n))];case"Log":return[r.log(Kg("x",e,t,n))];case"Log1p":return[r.log1p(Kg("x",e,t,n))];case"Imag":return[r.imag(Kg("x",e,t,n))];case"Neg":return[r.neg(Kg("x",e,t,n))];case"Reciprocal":return[r.reciprocal(Kg("x",e,t,n))];case"Real":return[r.real(Kg("x",e,t,n))];case"Relu":return[r.relu(Kg("x",e,t,n))];case"Round":return[r.round(Kg("x",e,t,n))];case"Selu":return[r.selu(Kg("x",e,t,n))];case"Sigmoid":return[r.sigmoid(Kg("x",e,t,n))];case"Sin":return[r.sin(Kg("x",e,t,n))];case"Sign":return[r.sign(Kg("x",e,t,n))];case"Sinh":return[r.sinh(Kg("x",e,t,n))];case"Softplus":return[r.softplus(Kg("x",e,t,n))];case"Sqrt":return[r.sqrt(Kg("x",e,t,n))];case"Square":return[r.square(Kg("x",e,t,n))];case"Tanh":return[r.tanh(Kg("x",e,t,n))];case"Tan":return[r.tan(Kg("x",e,t,n))];case"ClipByValue":return[r.clipByValue(Kg("x",e,t,n),Kg("clipValueMin",e,t,n),Kg("clipValueMax",e,t,n))];case"Relu6":return[r.relu6(Kg("x",e,t,n))];case"Rsqrt":return[r.rsqrt($g(e.inputNames[0],t,n))];case"LeakyRelu":return[r.leakyRelu(Kg("x",e,t,n),Kg("alpha",e,t,n))];case"Prelu":return[r.prelu(Kg("x",e,t,n),Kg("alpha",e,t,n))];case"IsNan":return[r.isNaN($g(e.inputNames[0],t,n))];case"IsInf":return[r.isInf($g(e.inputNames[0],t,n))];case"IsFinite":return[r.isFinite($g(e.inputNames[0],t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n));case"control":return jv(e,t,n);case"convolution":return a(()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"Conv1D":{const a=Kg("stride",e,t,n),o=Kg("pad",e,t,n),i=Kg("dataFormat",e,t,n).toUpperCase(),s=Kg("dilation",e,t,n);return[r.conv1d(Kg("x",e,t,n),Kg("filter",e,t,n),a,o,i,s)]}case"Conv2D":{const a=Kg("strides",e,t,n),o=Zg(e,t,n),i=Kg("dataFormat",e,t,n).toUpperCase(),s=Kg("dilations",e,t,n);return[r.conv2d(Kg("x",e,t,n),Kg("filter",e,t,n),[a[1],a[2]],o,i,[s[1],s[2]])]}case"_FusedConv2D":{const{stride:a,pad:o,dataFormat:i,dilations:s,biasArg:l,preluArg:u,activationFunc:c,leakyreluAlpha:d}=Hv(e,t,n);return[r.fused.conv2d({x:Kg("x",e,t,n),filter:Kg("filter",e,t,n),strides:[a[1],a[2]],pad:o,dataFormat:i,dilations:[s[1],s[2]],bias:l,activation:c,preluActivationWeights:u,leakyreluAlpha:d})]}case"FusedDepthwiseConv2dNative":{const{stride:a,pad:o,dataFormat:i,dilations:s,biasArg:l,preluArg:u,activationFunc:c,leakyreluAlpha:d}=Hv(e,t,n);return[r.fused.depthwiseConv2d({x:Kg("x",e,t,n),filter:Kg("filter",e,t,n),strides:[a[1],a[2]],pad:o,dataFormat:i,dilations:[s[1],s[2]],bias:l,activation:c,preluActivationWeights:u,leakyreluAlpha:d})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const a=Kg("outputShape",e,t,n),o=Kg("strides",e,t,n),i=Zg(e,t,n);return[r.conv2dTranspose(Kg("x",e,t,n),Kg("filter",e,t,n),a,[o[1],o[2]],i)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const a=Kg("strides",e,t,n),o=Zg(e,t,n),i=Kg("dilations",e,t,n),s=Kg("dataFormat",e,t,n).toUpperCase();return[r.depthwiseConv2d(Kg("input",e,t,n),Kg("filter",e,t,n),[a[1],a[2]],o,s,[i[1],i[2]])]}case"Conv3D":{const a=Kg("strides",e,t,n),o=Kg("pad",e,t,n),i=Kg("dataFormat",e,t,n).toUpperCase(),s=Kg("dilations",e,t,n);return[r.conv3d(Kg("x",e,t,n),Kg("filter",e,t,n),[a[1],a[2],a[3]],o,i,[s[1],s[2],s[3]])]}case"AvgPool":{const a=Kg("strides",e,t,n),o=Kg("pad",e,t,n),i=Kg("kernelSize",e,t,n);return[r.avgPool(Kg("x",e,t,n),[i[1],i[2]],[a[1],a[2]],o)]}case"MaxPool":{const a=Kg("strides",e,t,n),o=Kg("pad",e,t,n),i=Kg("kernelSize",e,t,n);return[r.maxPool(Kg("x",e,t,n),[i[1],i[2]],[a[1],a[2]],o)]}case"MaxPoolWithArgmax":{const a=Kg("strides",e,t,n),o=Kg("pad",e,t,n),i=Kg("kernelSize",e,t,n),s=Kg("includeBatchInIndex",e,t,n),{result:l,indexes:u}=r.maxPoolWithArgmax(Kg("x",e,t,n),[i[1],i[2]],[a[1],a[2]],o,s);return[l,u]}case"AvgPool3D":{const a=Kg("strides",e,t,n),o=Kg("pad",e,t,n),i=Kg("kernelSize",e,t,n);return[r.avgPool3d(Kg("x",e,t,n),[i[1],i[2],i[3]],[a[1],a[2],a[3]],o)]}case"MaxPool3D":{const a=Kg("strides",e,t,n),o=Kg("pad",e,t,n),i=Kg("kernelSize",e,t,n);return[r.maxPool3d(Kg("x",e,t,n),[i[1],i[2],i[3]],[a[1],a[2],a[3]],o)]}case"Dilation2D":{const a=Kg("strides",e,t,n),o=Kg("pad",e,t,n),i=Kg("dilations",e,t,n),s=a[1],l=a[2],u=i[1],c=i[2];return[r.dilation2d(Kg("x",e,t,n),Kg("filter",e,t,n),[s,l],o,[u,c],"NHWC")]}default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n));case"creation":return a(()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"Fill":{const a=Kg("shape",e,t,n),o=Kg("dtype",e,t,n),i=Kg("value",e,t,n);return[r.fill(a,i,o)]}case"LinSpace":{const a=Kg("start",e,t,n),o=Kg("stop",e,t,n),i=Kg("num",e,t,n);return[r.linspace(a,o,i)]}case"Multinomial":{const a=Kg("logits",e,t,n),o=Kg("numSamples",e,t,n),i=Kg("seed",e,t,n);return[r.multinomial(a,o,i)]}case"OneHot":{const a=Kg("indices",e,t,n),o=Kg("depth",e,t,n),i=Kg("onValue",e,t,n),s=Kg("offValue",e,t,n),l=Kg("dtype",e,t,n);return[r.oneHot(a,o,i,s,l)]}case"Ones":return[r.ones(Kg("shape",e,t,n),Kg("dtype",e,t,n))];case"OnesLike":return[r.onesLike(Kg("x",e,t,n))];case"RandomStandardNormal":return[r.randomStandardNormal(Kg("shape",e,t,n),Kg("dtype",e,t,n),Kg("seed",e,t,n))];case"RandomUniform":return[r.randomUniform(Kg("shape",e,t,n),Kg("minval",e,t,n),Kg("maxval",e,t,n),Kg("dtype",e,t,n))];case"RandomUniformInt":return[r.randomUniformInt(Kg("shape",e,t,n),Kg("minval",e,t,n),Kg("maxval",e,t,n),Kg("seed",e,t,n))];case"Range":{const a=Kg("start",e,t,n),o=Kg("stop",e,t,n),i=Kg("step",e,t,n);return[r.range(a,o,i,Kg("dtype",e,t,n))]}case"TruncatedNormal":{const a=Kg("shape",e,t,n),o=Kg("mean",e,t,n),i=Kg("stdDev",e,t,n),s=Kg("seed",e,t,n);return[r.truncatedNormal(a,o,i,Kg("dtype",e,t,n),s)]}case"Zeros":return[r.zeros(Kg("shape",e,t,n),Kg("dtype",e,t,n))];case"ZerosLike":return[r.zerosLike(Kg("x",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n));case"dynamic":return async function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:S;switch(e.op){case"NonMaxSuppressionV5":{const{boxes:r,scores:o,maxOutputSize:i,iouThreshold:s,scoreThreshold:l,softNmsSigma:u}=Vv(e,t,n),c=await a.image.nonMaxSuppressionWithScoreAsync(r,o,i,s,l,u);return[c.selectedIndices,c.selectedScores]}case"NonMaxSuppressionV4":{const{boxes:r,scores:o,maxOutputSize:i,iouThreshold:s,scoreThreshold:l}=Vv(e,t,n),u=Kg("padToMaxOutputSize",e,t,n),c=await a.image.nonMaxSuppressionPaddedAsync(r,o,i,s,l,u);return[c.selectedIndices,c.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const{boxes:r,scores:o,maxOutputSize:i,iouThreshold:s,scoreThreshold:l}=Vv(e,t,n);return[await a.image.nonMaxSuppressionAsync(r,o,i,s,l)]}case"Where":{const r=a.cast(Kg("condition",e,t,n),"bool"),o=[await a.whereAsync(r)];return r.dispose(),o}case"ListDiff":return a.setdiff1dAsync(Kg("x",e,t,n),Kg("y",e,t,n));default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n);case"evaluation":return a(()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"LowerBound":{const a=Kg("sortedSequence",e,t,n),o=Kg("values",e,t,n);return[r.lowerBound(a,o)]}case"TopKV2":{const a=Kg("x",e,t,n),o=Kg("k",e,t,n),i=Kg("sorted",e,t,n),s=r.topk(a,o,i);return[s.values,s.indices]}case"UpperBound":{const a=Kg("sortedSequence",e,t,n),o=Kg("values",e,t,n);return[r.upperBound(a,o)]}case"Unique":{const a=Kg("x",e,t,n),o=r.unique(a);return[o.values,o.indices]}case"UniqueV2":{const a=Kg("x",e,t,n),o=Kg("axis",e,t,n),i=r.unique(a,o);return[i.values,i.indices]}default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n));case"image":return a(()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"ResizeBilinear":{const a=Kg("images",e,t,n),o=Kg("size",e,t,n),i=Kg("alignCorners",e,t,n),s=Kg("halfPixelCenters",e,t,n);return[r.image.resizeBilinear(a,[o[0],o[1]],i,s)]}case"ResizeNearestNeighbor":{const a=Kg("images",e,t,n),o=Kg("size",e,t,n),i=Kg("alignCorners",e,t,n),s=Kg("halfPixelCenters",e,t,n);return[r.image.resizeNearestNeighbor(a,[o[0],o[1]],i,s)]}case"CropAndResize":{const a=Kg("image",e,t,n),o=Kg("boxes",e,t,n),i=Kg("boxInd",e,t,n),s=Kg("cropSize",e,t,n),l=Kg("method",e,t,n),u=Kg("extrapolationValue",e,t,n);return[r.image.cropAndResize(a,o,i,s,l,u)]}case"ImageProjectiveTransformV3":{const a=Kg("images",e,t,n),o=Kg("transforms",e,t,n),i=Kg("outputShape",e,t,n),s=Kg("fillValue",e,t,n),l=Kg("interpolation",e,t,n),u=Kg("fillMode",e,t,n);return[r.image.transform(a,o,l.toLowerCase(),u.toLowerCase(),s,i)]}default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n));case"graph":return a(()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"Const":return t[e.name];case"PlaceholderWithDefault":const a=Kg("default",e,t,n);return[$g(e.name,t,n)||a];case"Placeholder":return[$g(e.name,t,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":case"Snapshot":return[ev(Kg("x",e,t,n))];case"IdentityN":return Kg("x",e,t,n).map(e=>ev(e));case"Shape":return[r.tensor1d(Kg("x",e,t,n).shape,"int32")];case"ShapeN":return Kg("x",e,t,n).map(e=>r.tensor1d(e.shape));case"Size":return[r.scalar(Kg("x",e,t,n).size,"int32")];case"Rank":return[r.scalar(Kg("x",e,t,n).rank,"int32")];case"NoOp":return[r.scalar(1)];case"Print":const o=Kg("x",e,t,n),i=Kg("data",e,t,n),s=Kg("message",e,t,n),l=Kg("summarize",e,t,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(s);for(let e=0;e<i.length;e++)console.log(Array.prototype.slice.call(i[e].dataSync()).slice(0,l));return[o];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n));case"logical":return a(()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"Equal":return[r.equal(Kg("a",e,t,n),Kg("b",e,t,n))];case"NotEqual":return[r.notEqual(Kg("a",e,t,n),Kg("b",e,t,n))];case"Greater":return[r.greater(Kg("a",e,t,n),Kg("b",e,t,n))];case"GreaterEqual":return[r.greaterEqual(Kg("a",e,t,n),Kg("b",e,t,n))];case"Less":return[r.less(Kg("a",e,t,n),Kg("b",e,t,n))];case"LessEqual":return[r.lessEqual(Kg("a",e,t,n),Kg("b",e,t,n))];case"LogicalAnd":return[r.logicalAnd(Kg("a",e,t,n),Kg("b",e,t,n))];case"LogicalNot":return[r.logicalNot(Kg("a",e,t,n))];case"LogicalOr":return[r.logicalOr(Kg("a",e,t,n),Kg("b",e,t,n))];case"Select":case"SelectV2":return[r.where(Kg("condition",e,t,n),Kg("a",e,t,n),Kg("b",e,t,n))];case"BitwiseAnd":return[r.bitwiseAnd(Kg("a",e,t,n),Kg("b",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n));case"matrices":return a(()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[r.matMul(Kg("a",e,t,n),Kg("b",e,t,n),Kg("transposeA",e,t,n),Kg("transposeB",e,t,n))];case"Einsum":return[r.einsum(Kg("equation",e,t,n),...Kg("tensors",e,t,n))];case"Transpose":return[r.transpose(Kg("x",e,t,n),Kg("perm",e,t,n))];case"_FusedMatMul":const[a,o]=Kg("fusedOps",e,t,n),i="biasadd"===a,s="prelu"===o,l=Kg("numArgs",e,t,n),u=Kg("leakyreluAlpha",e,t,n);if(i){if(s&&2!==l)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!s&&1!==l)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[c,d]=Kg("args",e,t,n);return[r.fused.matMul({a:Kg("a",e,t,n),b:Kg("b",e,t,n),transposeA:Kg("transposeA",e,t,n),transposeB:Kg("transposeB",e,t,n),bias:c,activation:o,preluActivationWeights:d,leakyreluAlpha:u})];case"MatrixBandPart":return[r.linalg.bandPart(Kg("a",e,t,n),Kg("numLower",e,t,n),Kg("numUpper",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n));case"normalization":return a(()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"EuclideanNorm":return[r.euclideanNorm(Kg("x",e,t,n),Kg("axis",e,t,n),Kg("keepDims",e,t,n))];case"FusedBatchNorm":case"FusedBatchNormV2":case"FusedBatchNormV3":return[r.batchNorm(Kg("x",e,t,n),Kg("mean",e,t,n),Kg("variance",e,t,n),Kg("offset",e,t,n),Kg("scale",e,t,n),Kg("epsilon",e,t,n))];case"LRN":return[r.localResponseNormalization(Kg("x",e,t,n),Kg("radius",e,t,n),Kg("bias",e,t,n),Kg("alpha",e,t,n),Kg("beta",e,t,n))];case"Softmax":return[r.softmax(Kg("x",e,t,n))];case"LogSoftmax":return[r.logSoftmax(Kg("x",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n));case"ragged":return a(()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"RaggedGather":{const{outputNestedSplits:a,outputDenseValues:o}=r.raggedGather(Kg("paramsNestedSplits",e,t,n),Kg("paramsDenseValues",e,t,n),Kg("indices",e,t,n),Kg("outputRaggedRank",e,t,n));return a.concat(o)}case"RaggedRange":{const{rtNestedSplits:a,rtDenseValues:o}=r.raggedRange(Kg("starts",e,t,n),Kg("limits",e,t,n),Kg("splits",e,t,n));return[a,o]}case"RaggedTensorToTensor":return[r.raggedTensorToTensor(Kg("shape",e,t,n),Kg("values",e,t,n),Kg("defaultValue",e,t,n),Kg("rowPartitionTensors",e,t,n),Kg("rowPartitionTypes",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n));case"reduction":return a(()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"Max":{const a=Kg("axis",e,t,n),o=Kg("keepDims",e,t,n);return[r.max(Kg("x",e,t,n),a,o)]}case"Mean":{const a=Kg("axis",e,t,n),o=Kg("keepDims",e,t,n);return[r.mean(Kg("x",e,t,n),a,o)]}case"Min":{const a=Kg("axis",e,t,n),o=Kg("keepDims",e,t,n);return[r.min(Kg("x",e,t,n),a,o)]}case"Sum":{const a=Kg("axis",e,t,n),o=Kg("keepDims",e,t,n);return[r.sum(Kg("x",e,t,n),a,o)]}case"All":{const a=Kg("axis",e,t,n),o=Kg("keepDims",e,t,n);return[r.all(Kg("x",e,t,n),a,o)]}case"Any":{const a=Kg("axis",e,t,n),o=Kg("keepDims",e,t,n);return[r.any(Kg("x",e,t,n),a,o)]}case"ArgMax":{const a=Kg("axis",e,t,n);return[r.argMax(Kg("x",e,t,n),a)]}case"ArgMin":{const a=Kg("axis",e,t,n);return[r.argMin(Kg("x",e,t,n),a)]}case"Prod":{const a=Kg("axis",e,t,n),o=Kg("keepDims",e,t,n);return[r.prod(Kg("x",e,t,n),a,o)]}case"Cumprod":{const a=Kg("axis",e,t,n),o=Kg("exclusive",e,t,n),i=Kg("reverse",e,t,n);return[r.cumprod(Kg("x",e,t,n),a,o,i)]}case"Cumsum":{const a=Kg("axis",e,t,n),o=Kg("exclusive",e,t,n),i=Kg("reverse",e,t,n);return[r.cumsum(Kg("x",e,t,n),a,o,i)]}case"Bincount":const a=Kg("x",e,t,n),o=Kg("weights",e,t,n),i=Kg("size",e,t,n);return[r.bincount(a,o,i)];case"DenseBincount":{const a=Kg("x",e,t,n),o=Kg("weights",e,t,n),i=Kg("size",e,t,n),s=Kg("binaryOutput",e,t,n);return[r.denseBincount(a,o,i,s)]}default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n));case"slice_join":return a(()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"ConcatV2":case"Concat":{const a=Kg("n",e,t,n),o=Kg("axis",e,t,n);let i=Kg("tensors",e,t,n);return i=i.slice(0,a),[r.concat(i,o)]}case"Gather":{const a=Kg("x",e,t,n),o=Kg("indices",e,t,n);return[r.gather(a,r.cast(o,"int32"),0)]}case"GatherV2":{const a=Kg("axis",e,t,n),o=Kg("batchDims",e,t,n),i=Kg("x",e,t,n),s=Kg("indices",e,t,n);return[r.gather(i,r.cast(s,"int32"),a,o)]}case"Reverse":{const a=Kg("dims",e,t,n),o=[];for(let e=0;e<a.length;e++)a[e]&&o.push(e);const i=Kg("x",e,t,n);return[r.reverse(i,o)]}case"ReverseV2":{const a=Kg("axis",e,t,n),o=Kg("x",e,t,n);return[r.reverse(o,a)]}case"Slice":{const a=Kg("begin",e,t,n),o=Kg("size",e,t,n);return[r.slice(Kg("x",e,t,n),a,o)]}case"StridedSlice":{const a=Kg("begin",e,t,n),o=Kg("end",e,t,n),i=Kg("strides",e,t,n),s=Kg("beginMask",e,t,n),l=Kg("endMask",e,t,n),u=Kg("ellipsisMask",e,t,n),c=Kg("newAxisMask",e,t,n),d=Kg("shrinkAxisMask",e,t,n),p=Kg("x",e,t,n);return[r.stridedSlice(p,a,o,i,s,l,u,c,d)]}case"Pack":return Pu(()=>{const a=Kg("axis",e,t,n),o=Kg("tensors",e,t,n),i=o[0].shape,s=r.squeeze(o[0]).shape,l=o.map(e=>{const t=Er(e.shape,i);if(!t&&!Er(r.squeeze(e).shape,s))throw new Error("the input tensors shape does not match");return t?e:r.reshape(e,i)});return[r.stack(l,a)]});case"Unpack":{const a=Kg("axis",e,t,n),o=Kg("tensor",e,t,n);return r.unstack(o,a)}case"Tile":{const a=Kg("reps",e,t,n);return[r.tile(Kg("x",e,t,n),a)]}case"Split":case"SplitV":{const a=Kg("axis",e,t,n),o=Kg("numOrSizeSplits",e,t,n),i=Kg("x",e,t,n);return r.split(i,o,a)}case"ScatterNd":{const a=Kg("indices",e,t,n),o=Kg("values",e,t,n),i=Kg("shape",e,t,n);return[r.scatterND(a,o,i)]}case"GatherNd":{const a=Kg("x",e,t,n),o=Kg("indices",e,t,n);return[r.gatherND(a,o)]}case"SparseToDense":{const a=Kg("sparseIndices",e,t,n),o=Kg("outputShape",e,t,n),i=Kg("sparseValues",e,t,n),s=Kg("defaultValue",e,t,n);return[r.sparseToDense(a,i,o,i.dtype===s.dtype?s:r.cast(s,i.dtype))]}case"TensorScatterUpdate":{const a=Kg("indices",e,t,n),o=Kg("values",e,t,n),i=Kg("tensor",e,t,n);return[r.tensorScatterUpdate(i,a,o)]}default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n));case"sparse":return a(()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"SparseFillEmptyRows":{const{outputIndices:a,outputValues:o,emptyRowIndicator:i,reverseIndexMap:s}=r.sparse.sparseFillEmptyRows(Kg("indices",e,t,n),Kg("values",e,t,n),Kg("denseShape",e,t,n),Kg("defaultValue",e,t,n));return[a,o,i,s]}case"SparseReshape":{const{outputIndices:a,outputShape:o}=r.sparse.sparseReshape(Kg("inputIndices",e,t,n),Kg("inputShape",e,t,n),Kg("newShape",e,t,n));return[a,o]}case"SparseSegmentMean":return[r.sparse.sparseSegmentMean(Kg("data",e,t,n),Kg("indices",e,t,n),Kg("segmentIds",e,t,n))];case"SparseSegmentSum":return[r.sparse.sparseSegmentSum(Kg("data",e,t,n),Kg("indices",e,t,n),Kg("segmentIds",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n));case"spectral":return a(()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"FFT":return[r.fft(Kg("x",e,t,n))];case"IFFT":return[r.ifft(Kg("x",e,t,n))];case"RFFT":return[r.rfft(Kg("x",e,t,n))];case"IRFFT":return[r.irfft(Kg("x",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n));case"string":return a(()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"StaticRegexReplace":return[r.string.staticRegexReplace(Kg("input",e,t,n),Kg("pattern",e,t,n),Kg("rewrite",e,t,n),Kg("replaceGlobal",e,t,n))];case"StringNGrams":{const{nGrams:a,nGramsSplits:o}=r.string.stringNGrams(Kg("data",e,t,n),Kg("dataSplits",e,t,n),Kg("separator",e,t,n),Kg("nGramWidths",e,t,n),Kg("leftPad",e,t,n),Kg("rightPad",e,t,n),Kg("padWidth",e,t,n),Kg("preserveShortSequences",e,t,n));return[a,o]}case"StringSplit":{const{indices:a,values:o,shape:i}=r.string.stringSplit(Kg("input",e,t,n),Kg("delimiter",e,t,n),Kg("skipEmpty",e,t,n));return[a,o,i]}case"StringToHashBucketFast":return[r.string.stringToHashBucketFast(Kg("input",e,t,n),Kg("numBuckets",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n));case"transformation":return a(()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"Cast":return[r.cast(Kg("x",e,t,n),Kg("dtype",e,t,n))];case"ExpandDims":{const a=Kg("axis",e,t,n);return[r.expandDims(Kg("x",e,t,n),a)]}case"Squeeze":{const a=Kg("axis",e,t,n);return[r.squeeze(Kg("x",e,t,n),a)]}case"Reshape":return[r.reshape(Kg("x",e,t,n),Kg("shape",e,t,n))];case"EnsureShape":return[r.ensureShape(Kg("x",e,t,n),Kg("shape",e,t,n))];case"MirrorPad":return[r.mirrorPad(Kg("x",e,t,n),Kg("padding",e,t,n),Kg("mode",e,t,n))];case"PadV2":case"Pad":return[r.pad(Kg("x",e,t,n),Kg("padding",e,t,n),Kg("constantValue",e,t,n))];case"SpaceToBatchND":{const a=Kg("blockShape",e,t,n),o=Kg("paddings",e,t,n);return[r.spaceToBatchND(Kg("x",e,t,n),a,o)]}case"BatchToSpaceND":{const a=Kg("blockShape",e,t,n),o=Kg("crops",e,t,n);return[r.batchToSpaceND(Kg("x",e,t,n),a,o)]}case"DepthToSpace":{const a=Kg("blockSize",e,t,n),o=Kg("dataFormat",e,t,n).toUpperCase();return[r.depthToSpace(Kg("x",e,t,n),a,o)]}case"BroadcastTo":return[r.broadcastTo(Kg("x",e,t,n),Kg("shape",e,t,n))];case"BroadcastArgs":return[r.broadcastArgs(Kg("s0",e,t,n),Kg("s1",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n));case"hash_table":return(async(e,t,n,r)=>{switch(e.op){case"HashTable":case"HashTableV2":{const a=r.getHashTableHandleByName(e.name);if(null!=a)return[a];{const a=Kg("keyDType",e,t,n),o=Kg("valueDType",e,t,n),i=new qv(a,o);return r.addHashTable(e.name,i),[i.handle]}}case"InitializeTable":case"InitializeTableV2":case"LookupTableImport":case"LookupTableImportV2":{const a=Kg("tableHandle",e,t,n,r),o=Kg("keys",e,t,n),i=Kg("values",e,t,n),s=r.getHashTableById(a.id);return[await s.import(o,i)]}case"LookupTableFind":case"LookupTableFindV2":{const a=Kg("tableHandle",e,t,n,r),o=Kg("keys",e,t,n),i=Kg("defaultValue",e,t,n),s=r.getHashTableById(a.id);return[await s.find(o,i)]}case"LookupTableSize":case"LookupTableSizeV2":{const a=Kg("tableHandle",e,t,n,r);return[r.getHashTableById(a.id).tensorSize()]}default:throw TypeError("Node type ".concat(e.op," is not implemented"))}})(e,t,n,r);case"custom":const o=Gg(e.op);if(o&&o.customExecutor)return o.customExecutor(new Dv(e,t,n));throw TypeError("Custom op ".concat(e.op," is not registered."));default:throw TypeError("Unknown op '".concat(e.op,"'. File an issue at ")+"https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()")}})(e,t,n);return Gr(o)?o.then(e=>[].concat(e)):[].concat(o)}class Kv{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4?arguments[4]:void 0;this.weightMap=e,this.tensorArrayMap=t,this.tensorListMap=n,this.functionMap=r,this.parseNodeNameCache=a,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(e,t){return{id:e,frameName:t,iterationId:0}}set currentContext(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const e=[];for(let t=0;t<this.contexts.length-1;t++){const n=this.contexts.slice(0,this.contexts.length-t);e.push(this.contextIdforContexts(n))}e.push(""),this._currentContextIds=e}contextIdforContexts(e){return e?e.map(e=>0===e.id&&0===e.iterationId?"":"".concat(e.frameName,"-").concat(e.iterationId)).join("/"):""}enterFrame(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(!(this.contexts&&this.contexts.length>1))throw new Error("Cannot exit frame, the context is empty");this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift()}nextIteration(){if(!(this.contexts&&this.contexts.length>0))throw new Error("Cannot increase frame iteration, the context is empty");{this.contexts=this.contexts.slice(),this.lastId++;const e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}}getWeight(e){return this.weightMap[e]}addTensorArray(e){this.tensorArrayMap[e.id]=e}getTensorArray(e){return this.tensorArrayMap[e]}addTensorList(e){this.tensorListMap[e.id]=e}getTensorList(e){return this.tensorListMap[e]}dispose(e){for(const t in this.tensorArrayMap)this.tensorArrayMap[t].clearAndClose(e);for(const t in this.tensorListMap)this.tensorListMap[t].clearAndClose(e)}}function $v(e,t,n,r){const a=new Set,o=[];let i=null,s=null;const l=new Set,u=new Set(Object.keys(e).map(e=>Jg(e)[0]));r=r||[];const c=new Set(r.map(e=>Jg(e.name)[0])),d=[...t];for(;d.length>0;){const e=d.pop();(ey(e)||ty(e)||ny(e))&&null==i&&(i=e,s=i.children.map(e=>e.name).filter(e=>a.has(e))),a.add(e.name),null==n[e.name]&&(u.has(e.name)||c.has(e.name)||(0!==e.inputs.length?e.inputs.forEach(e=>{l.has(e.name)||(l.add(e.name),d.push(e))}):o.push(e.name)))}return{inputs:e,outputs:t,usedNodes:a,missingInputs:o,dynamicNode:i,syncInputs:s}}function Yv(e,t){const{usedNodes:n,inputs:r}=t,a=Object.keys(r).map(e=>Jg(e)[0]).map(t=>e.nodes[t]),o=e.initNodes||[],i=e=>n.has("string"===typeof e?e:e.name);function s(e){return[...new Map(e.map(e=>[e.name,e])).values()]}const l=s([...a,...e.weights,...o]).filter(i),u=s([...l,...Object.values(e.nodes)]).filter(i),c=new Map(u.map(e=>[e.name,e])),d={};for(const m of u){d[m.name]=d[m.name]||0;for(const e of m.children)i(e)||(d[e.name]=Number.POSITIVE_INFINITY),d[e.name]=(d[e.name]||0)+1}const p=Object.entries(d).filter(e=>{let[,t]=e;return 0===t}).map(e=>{let[t]=e;return t}),h=[...p];for(;p.length>0;){const e=p.pop(),t=c.get(e);for(const n of t.children.filter(i))0===--d[n.name]&&(h.push(n.name),p.push(n.name))}const f=function(e,t){const n=new Map(e.map(e=>[e.name,e])),r=t.map(e=>e.name),a=new Set(r);for(;r.length>0;){const e=r.pop(),t=n.get(e);for(const o of t.children)n.has(o.name)&&!a.has(o.name)&&(a.add(o.name),r.push(o.name))}const o=e.filter(e=>a.has(e.name));return o}(h.map(e=>c.get(e)),l);return function(e,t){const n=new Map(e.map((e,t)=>[e.name,t])),r=new Set(t.map(e=>e.name)),a=e=>r.has("string"===typeof e?e:e.name),o=new Set(e.map(e=>e.name)),i=e=>o.has("string"===typeof e?e:e.name);for(const s of e){for(const e of s.children.filter(i)){if(!n.has(e.name))throw new Qv("Child ".concat(e.name," of node ").concat(s.name," is unreachable."));if(n.get(s.name)>n.get(e.name))throw new Qv("Node ".concat(s.name," is scheduled to run after its child ").concat(e.name,"."))}if(!a(s))for(const e of s.inputs){if(!n.has(e.name))throw new Qv("Input ".concat(e.name," of node ").concat(s.name," is unreachable."));if(n.get(e.name)>n.get(s.name))throw new Qv("Node ".concat(s.name," is scheduled to run before its input ").concat(e.name,"."))}}}(f,l),f}class Qv extends Error{constructor(e){super("NodesExecutionOrderError: ".concat(e))}}const Xv=new Set(["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"]),Jv=new Set(["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"]),Zv=new Set(["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"]);function ey(e){return Xv.has(e.op)}function ty(e){return Jv.has(e.op)}function ny(e){return Zv.has(e.op)}class ry{get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(e){const t=Object.keys(e).map(t=>e[t].map(e=>e.id));this._weightIds=[].concat(...t),this._weightMap=e}set resourceManager(e){this._resourceManager=e}get inputs(){return this._inputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get outputs(){return this._outputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get inputNodes(){return this._inputs.map(e=>e.signatureKey||e.name)}get outputNodes(){return this._outputs.map(e=>{const t=e.signatureKey||e.name;return e.defaultOutput?"".concat(t,":").concat(e.defaultOutput):t})}get functions(){return Object.keys(this._functions).reduce((e,t)=>(e[t]=this._functions[t].signature,e),{})}constructor(e,t){this.graph=e,this.parent=t,this.compiledMap=new Map,this.parseNodeNameCache=new Map,this._weightMap={},this.SEPARATOR=",",this._functions={},this._functionExecutorMap={},this.keepIntermediateTensors=!1,this._outputs=e.outputs,this._inputs=e.inputs,this._initNodes=e.initNodes,this._signature=e.signature,this._functions=e.functions,null!=e.functions&&Object.keys(e.functions).forEach(t=>{this._functionExecutorMap[t]=new ry(e.functions[t],this)})}getCompilationKey(e,t){const n=e.map(e=>e.name).sort(),r=t.map(e=>e.name).sort();return n.join(this.SEPARATOR)+"--"+r.join(this.SEPARATOR)}compile(e,t){const n=$v(e,t,this.weightMap,this._initNodes),{missingInputs:r,dynamicNode:a,syncInputs:o}=n;if(null!=a)throw new Error("This execution contains the node '".concat(a.name,"', which has ")+"the dynamic op '".concat(a.op,"'. Please use ")+"model.executeAsync() instead. Alternatively, to avoid the "+"dynamic ops, specify the inputs [".concat(o,"]"));if(r.length>0){const n=t.map(e=>e.name),a=Object.keys(e);throw new Error("Cannot compute the outputs [".concat(n,"] from the provided inputs ")+"[".concat(a,"]. Missing the following inputs: [").concat(r,"]"))}const i=Yv(this.graph,n),s=function(e){const t=new Map(e.map((e,t)=>[e.name,t])),n=Number.MAX_SAFE_INTEGER,r=e.map((e,t)=>ey(e)?n:t),a=e=>{const n=r[t.get(e.name)];return null==n?-1:n},o=e.map((e,t)=>e.children.map(a).reduce((e,t)=>Math.max(e,t),r[t])),i=new Map;for(let s=0;s<e.length;++s){const t=o[s];if(t===n)continue;const r=e[s],a=e[t];i.has(a.name)||i.set(a.name,[]),i.get(a.name).push(r)}return i}(i);return{orderedNodes:i,nodeLiveUntilMap:s}}cloneAndKeepTensor(e){if(null==e)return null;const t=e.clone();return zu(t),t}cloneTensorList(e){if(!e)return null;const t=e.map(e=>this.cloneAndKeepTensor(e));return t}cloneTensorMap(e){return Object.fromEntries(Object.entries(e).map(e=>{let[t,n]=e;return[t,this.cloneTensorList(n)]}))}execute(e,t){this.disposeIntermediateTensors(),e=this.mapInputs(e);const n=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t);const r=n.map(e=>this.graph.nodes[Jg(e)[0]]),a=t.map(e=>Jg(e)[0]),o=new Set(a);let i=a.map(e=>this.graph.nodes[e]);0===i.length&&(i=this._outputs);const s=this.getCompilationKey(r,i);let l=this.compiledMap.get(s);null==l&&(l=this.compile(e,i),this.compiledMap.set(s,l));try{this.keepIntermediateTensors=Qr().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(ID){this.keepIntermediateTensors=!1,console.warn(ID.message)}const u={},c={};return Pu(()=>{const n=new Kv(this.weightMap,u,c,this.functionExecutorMap,this.parseNodeNameCache),r=Object.assign({},this.weightMap);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap)),Object.keys(e).forEach(t=>{const[a,o]=Jg(t,n),i=[];i[o]=e[t],r[a]=i,this.keepIntermediateTensors&&(this.clonedTensorsMap[a]=this.cloneTensorList(i))});const a=this.getFrozenTensorIds(r),{orderedNodes:i,nodeLiveUntilMap:s}=l;for(const e of i){if(r[e.name])continue;const t=Gv(e,r,n,this._resourceManager);if(Gr(t))throw new Error("The execution of the op '".concat(e.op,"' returned a promise. ")+"Please use model.executeAsync() instead.");r[e.name]=t,this.keepIntermediateTensors&&(this.clonedTensorsMap[e.name]=this.cloneTensorList(t)),this.checkTensorForDisposalWithNodeLiveUntilInfo(e,r,n,a,o,s.get(e.name))}return null==this.parent&&n.dispose(a),t.map(e=>$g(e,r,n))})}getFrozenTensorIds(e){const t=[].concat.apply([],Object.keys(e).map(t=>e[t]).map(e=>e.map(e=>e.id)));return new Set(t)}checkTensorForDisposal(e,t,n,r,a,o,i){if(!ey(t)&&!o.has(e)){for(const r of n[e])null!=r&&(i[r.id]=(i[r.id]||0)+t.children.length);for(const e of t.inputs){if(ey(e))continue;const t=Yg(e.name,n,r);if(null!=t)for(const e of t){if(!e||e.kept||a.has(e.id))continue;const t=i[e.id];1===t?(e.dispose(),delete i[e.id]):null!=t&&i[e.id]--}}}}checkTensorForDisposalWithNodeLiveUntilInfo(e,t,n,r,a,o){function i(e){return ey(e)||a.has(e.name)}if(!ey(e)&&null!=o)for(const s of o){if(i(s))continue;const e=Yg(s.name,t,n);for(const t of e)!t||t.kept||r.has(t.id)||t.dispose()}}async executeAsync(e,t){return this._executeAsync(e,t)}disposeIntermediateTensors(){this.clonedTensorsMap&&(Object.values(this.clonedTensorsMap).forEach(e=>{for(const t of e)t&&!t.isDisposed&&t.dispose()}),this.clonedTensorsMap=null)}getIntermediateTensors(){return this.clonedTensorsMap}async _executeAsync(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};this.disposeIntermediateTensors(),n||(e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t));try{this.keepIntermediateTensors=Qr().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(ID){this.keepIntermediateTensors=!1,console.warn(ID.message)}const o=new Kv(this.weightMap,r,a,this.functionExecutorMap,this.parseNodeNameCache);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap));const i=await this.executeWithControlFlow(e,o,t,n),s=t.map(e=>$g(e,i,o)),l=s.map(e=>e.id),u=Object.keys(e).map(t=>e[t].id),c=new Set([...l,...u,...this.weightIds]);return Object.values(i).forEach(e=>{e.forEach(e=>{!e||e.isDisposed||c.has(e.id)||e.dispose()})}),null==this.parent&&o.dispose(c),s}async executeFunctionAsync(e,t,n){const r=e.reduce((e,t,n)=>(e[this.inputs[n].name]=t,e),{});return this._executeAsync(r,this.outputNodes,!0,t,n)}async executeWithControlFlow(e,t,n,r){const a=Object.keys(e),o=a.map(e=>this.graph.nodes[Jg(e)[0]]),i=n.map(e=>Jg(e)[0]),s=new Set(i);let l=i.map(e=>this.graph.nodes[e]);0===l.length&&(l=this._outputs);const{usedNodes:u,missingInputs:c,dynamicNode:d,syncInputs:p}=$v(e,l,this.weightMap,this._initNodes),h=[...o,...this.graph.weights,...this._initNodes||[]].map(e=>({node:e,contexts:t.currentContext})),f=Object.assign({},this.weightMap);Object.keys(e).forEach(t=>{const[n,r]=Jg(t),a=[];a[r]=e[t],f[n]=a});const m={},g=this.getFrozenTensorIds(f),v={};for(;h.length>0;){const e=this.processStack(o,h,t,f,v,g,s,m,u);await Promise.all(e)}null!=d||r||console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");const y=l.filter(e=>!ey(e)&&!$g(e.name,f,t)).map(e=>e.name);if(y.length>0){let e="";throw null!=d&&(e="Alternatively, to avoid the dynamic ops, use model.execute() "+"and specify the inputs [".concat(p,"]")),new Error("Cannot compute the outputs [".concat(y,"] from the provided ")+"inputs [".concat(a,"]. Consider providing the following inputs: ")+"[".concat(c,"]. ").concat(e))}return f}processStack(e,t,n,r,a,o,i,s,l){const u=[];for(;t.length>0;){const e=t.pop();n.currentContext=e.contexts;let c="";if("Enter"===e.node.op&&Kg("isConstant",e.node,r,n)&&([c]=Qg(e.node.name,n)),null==r[e.node.name]){const d=Gv(e.node,r,n,this._resourceManager);c||([c]=Qg(e.node.name,n));const p=n.currentContext;Gr(d)?u.push(d.then(u=>(r[c]=u,this.keepIntermediateTensors&&(this.clonedTensorsMap[c]=this.cloneTensorList(u)),n.currentContext=p,this.checkTensorForDisposal(c,e.node,r,n,o,i,s),this.processChildNodes(e.node,t,n,r,a,l),u))):(r[c]=d,this.keepIntermediateTensors&&(this.clonedTensorsMap[c]=this.cloneTensorList(d)),this.checkTensorForDisposal(c,e.node,r,n,o,i,s),this.processChildNodes(e.node,t,n,r,a,l))}else this.processChildNodes(e.node,t,n,r,a,l)}return u}processChildNodes(e,t,n,r,a,o){e.children.forEach(e=>{const[i]=Qg(e.name,n);!a[i]&&o.has(e.name)&&("Merge"===e.op?e.inputNames.some(e=>!!$g(e,r,n))&&(a[i]=!0,t.push({contexts:n.currentContext,node:e})):e.inputNames.every(e=>!!$g(e,r,n))&&(a[i]=!0,t.push({contexts:n.currentContext,node:e})))})}dispose(){Object.keys(this.weightMap).forEach(e=>this.weightMap[e].forEach(e=>e.dispose()))}checkInputShapeAndType(e){Object.keys(e).forEach(t=>{const n=e[t],[r]=Jg(t),a=this.graph.nodes[r];if(a.attrParams.shape&&a.attrParams.shape.value){const e=a.attrParams.shape.value,t=e.length===n.shape.length&&n.shape.every((t,n)=>-1===e[n]||e[n]===t);Sr(t,()=>"The shape of dict['".concat(a.name,"'] provided in ")+"model.execute(dict) must be [".concat(e,"], but was ")+"[".concat(n.shape,"]"))}a.attrParams.dtype&&a.attrParams.dtype.value&&Sr(n.dtype===a.attrParams.dtype.value,()=>"The dtype of dict['".concat(a.name,"'] provided in ")+"model.execute(dict) must be "+"".concat(a.attrParams.dtype.value,", but was ").concat(n.dtype))})}mapInputs(e){var t,n;const r={};for(const a in e){const o=null===(n=null===(t=this._signature)||void 0===t?void 0:t.inputs)||void 0===n?void 0:n[a];null!=o?r[o.name]=e[a]:r[a]=e[a]}return r}checkInputs(e){const t=Object.keys(e).filter(e=>{const[t]=Jg(e);return null==this.graph.nodes[t]});if(t.length>0)throw new Error("The dict provided in model.execute(dict) has "+"keys: [".concat(t,"] that are not part of graph"))}mapOutputs(e){return e.map(e=>{var t,n;const r=null===(n=null===(t=this._signature)||void 0===t?void 0:t.outputs)||void 0===n?void 0:n[e];return null!=r?r.name:e},{})}checkOutputs(e){e.forEach(e=>{const[t]=Jg(e);if(!this.graph.nodes[t])throw new Error("The output '".concat(e,"' is not found in the graph"))})}}class ay{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.hashTableNameToHandle=e,this.hashTableMap=t}addHashTable(e,t){this.hashTableNameToHandle[e]=t.handle,this.hashTableMap[t.id]=t}getHashTableHandleByName(e){return this.hashTableNameToHandle[e]}getHashTableById(e){return this.hashTableMap[e]}dispose(){for(const e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(const e in this.hashTableNameToHandle)this.hashTableNameToHandle[e].dispose(),delete this.hashTableNameToHandle[e]}}const oy="?tfjs-format=file",iy="model.json";class sy{get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}get modelStructuredOutputKeys(){return this.structuredOutputKeys}constructor(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;this.modelUrl=t,this.loadOptions=n,this.version="n/a",this.io=r,null==n&&(this.loadOptions={}),this.resourceManager=new ay}findIOHandler(){const e=this.modelUrl;if(null!=e.load)this.handler=e;else if(null!=this.loadOptions.requestInit)this.handler=this.io.browserHTTPRequest(e,this.loadOptions);else{const t=this.io.getLoadHandlers(e,this.loadOptions);if(0===t.length)t.push(this.io.browserHTTPRequest(e,this.loadOptions));else if(t.length>1)throw new Error("Found more than one (".concat(t.length,") load handlers for ")+"URL '".concat([e],"'"));this.handler=t[0]}}load(){if(this.findIOHandler(),null==this.handler.load)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const e=this.handler.load();return Gr(e)?e.then(e=>this.loadSync(e)):this.loadSync(e)}loadSync(e){this.artifacts=e;const t=this.artifacts.modelTopology;let n=this.artifacts.signature;if(null!=this.artifacts.userDefinedMetadata){const e=this.artifacts.userDefinedMetadata;null!=e.signature&&(n=e.signature),null!=e.structuredOutputKeys&&(this.structuredOutputKeys=e.structuredOutputKeys)}this.signature=n,this.version="".concat(t.versions.producer,".").concat(t.versions.minConsumer);const r=this.io.decodeWeights(this.artifacts.weightData,this.artifacts.weightSpecs);if(this.executor=new ry(wv.Instance.transformGraph(t,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(r),this.executor.resourceManager=this.resourceManager,null!=e.modelInitializer&&null!=e.modelInitializer.node){const t=wv.Instance.transformGraph(e.modelInitializer);this.initializer=new ry(t),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializerSignature=e.initializerSignature}return!0}async save(e,t){if("string"===typeof e){const t=this.io.getSaveHandlers(e);if(0===t.length)throw new Error("Cannot find any save handlers for URL '".concat(e,"'"));if(t.length>1)throw new Error("Found more than one (".concat(t.length,") save handlers for ")+"URL '".concat(e,"'"));e=t[0]}if(null==e.save)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return e.save(this.artifacts)}addStructuredOutputNames(e){if(this.structuredOutputKeys){const t={};return(e instanceof el?[e]:e).forEach((e,n)=>t[this.structuredOutputKeys[n]]=e),t}return e}predict(e,t){const n=this.execute(e,this.outputNodes);return this.addStructuredOutputNames(n)}async predictAsync(e,t){const n=await this.executeAsync(e,this.outputNodes);return this.addStructuredOutputNames(n)}normalizeInputs(e){var t;if(!(e instanceof el)&&!Array.isArray(e)){const n=null===(t=this.signature)||void 0===t?void 0:t.inputs;if(null!=n)for(const t in n){const r=n[t];null!=r.resourceId&&(e[t]=this.resourceIdToCapturedInput[r.resourceId])}return e}e=Array.isArray(e)?e:[e];const n=Object.keys(this.resourceIdToCapturedInput).length;if(e.length+n!==this.inputNodes.length)throw new Error("Input tensor count mismatch, the graph model has ".concat(this.inputNodes.length-n," non-resource placeholders, while there are ").concat(e.length," input tensors provided."));let r=0;return this.inputNodes.reduce((t,n)=>{var a,o,i;const s=null===(i=null===(o=null===(a=this.signature)||void 0===a?void 0:a.inputs)||void 0===o?void 0:o[n])||void 0===i?void 0:i.resourceId;return t[n]=null!=s?this.resourceIdToCapturedInput[s]:e[r++],t},{})}normalizeOutputs(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}executeInitializerGraph(){return null==this.initializer?[]:null==this.initializerSignature?this.initializer.execute({},[]):this.initializer.execute({},Object.keys(this.initializerSignature.outputs))}async executeInitializerGraphAsync(){return null==this.initializer?[]:null==this.initializerSignature?this.initializer.executeAsync({},[]):this.initializer.executeAsync({},Object.keys(this.initializerSignature.outputs))}setResourceIdToCapturedInput(e){if(this.resourceIdToCapturedInput={},this.initializerSignature){const t=this.initializerSignature.outputs,n=Object.keys(t);for(let r=0;r<n.length;r++){const a=t[n[r]];this.resourceIdToCapturedInput[a.resourceId]=e[r]}}}execute(e,t){null==this.resourceIdToCapturedInput&&this.setResourceIdToCapturedInput(this.executeInitializerGraph()),e=this.normalizeInputs(e),t=this.normalizeOutputs(t);const n=this.executor.execute(e,t);return n.length>1?n:n[0]}async executeAsync(e,t){null==this.resourceIdToCapturedInput&&this.setResourceIdToCapturedInput(await this.executeInitializerGraphAsync()),e=this.normalizeInputs(e),t=this.normalizeOutputs(t);const n=await this.executor.executeAsync(e,t);return n.length>1?n:n[0]}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(e){return Object.keys(e).reduce((t,n)=>(t[n]=[e[n]],t),{})}dispose(){this.executor.dispose(),this.initializer&&(this.initializer.dispose(),this.resourceIdToCapturedInput&&Lu(this.resourceIdToCapturedInput)),this.resourceManager.dispose()}}async function ly(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;if(null==t)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");null==n&&(n={}),n.fromTFHub&&"string"===typeof t&&(t=function(e){e.endsWith("/")||(e+="/");return"".concat(e).concat(iy).concat(oy)}(t));const a=new sy(t,n,r);return await a.load(),a}var uy=function(){return uy=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},uy.apply(this,arguments)};function cy(e,t,n,r){return new(n||(n=Promise))(function(a,o){function i(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,s)}l((r=r.apply(e,t||[])).next())})}function dy(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var py=["rightEye","leftEye","noseTip","mouthCenter","rightEarTragion","leftEarTragion"],hy={modelType:"short",runtime:"mediapipe",maxFaces:1},fy=function(){function e(e){var t=this;this.width=0,this.height=0,this.selfieMode=!1,this.faceDetectorSolution=new jg.FaceDetection({locateFile:function(t,n){if(e.solutionPath){var r=e.solutionPath.replace(/\/+$/,"");return"".concat(r,"/").concat(t)}return"".concat(n,"/").concat(t)}}),this.faceDetectorSolution.setOptions({selfieMode:this.selfieMode,model:e.modelType}),this.faceDetectorSolution.onResults(function(e){if(t.height=e.image.height,t.width=e.image.width,t.faces=[],null!==e.detections)for(var n=0,r=e.detections;n<r.length;n++){var a=r[n];t.faces.push(t.normalizedToAbsolute(a.landmarks,(void 0,void 0,{xMin:i=(o=a.boundingBox).xCenter-o.width/2,xMax:i+o.width,yMin:s=o.yCenter-o.height/2,yMax:s+o.height,width:o.width,height:o.height})))}var o,i,s})}return e.prototype.normalizedToAbsolute=function(e,t){var n=this;return{keypoints:e.map(function(e,t){return{x:e.x*n.width,y:e.y*n.height,name:py[t]}}),box:{xMin:t.xMin*this.width,yMin:t.yMin*this.height,xMax:t.xMax*this.width,yMax:t.yMax*this.height,width:t.width*this.width,height:t.height*this.height}}},e.prototype.estimateFaces=function(e,t){return cy(this,void 0,void 0,function(){var n,r;return dy(this,function(a){switch(a.label){case 0:return t&&t.flipHorizontal&&t.flipHorizontal!==this.selfieMode&&(this.selfieMode=t.flipHorizontal,this.faceDetectorSolution.setOptions({selfieMode:this.selfieMode})),e instanceof el?(r=ImageData.bind,[4,Pc(e)]):[3,2];case 1:return n=new(r.apply(ImageData,[void 0,a.sent(),e.shape[1],e.shape[0]])),[3,3];case 2:n=e,a.label=3;case 3:return e=n,[4,this.faceDetectorSolution.send({image:e})];case 4:return a.sent(),[2,this.faces]}})})},e.prototype.dispose=function(){this.faceDetectorSolution.close()},e.prototype.reset=function(){this.faceDetectorSolution.reset(),this.width=0,this.height=0,this.faces=null,this.selfieMode=!1},e.prototype.initialize=function(){return this.faceDetectorSolution.initialize()},e}();function my(e){return cy(this,void 0,void 0,function(){var t,n;return dy(this,function(r){switch(r.label){case 0:return t=function(e){if(null==e)return uy({},hy);var t=uy({},e);return t.runtime="mediapipe",null==t.modelType&&(t.modelType=hy.modelType),null==t.maxFaces&&(t.maxFaces=hy.maxFaces),t}(e),[4,(n=new fy(t)).initialize()];case 1:return r.sent(),[2,n]}})})}function gy(e){return e instanceof el?{height:e.shape[0],width:e.shape[1]}:{height:e.height,width:e.width}}function vy(e){return e instanceof el?e:Lc(e)}function yy(e,t){Sr(0!==e.width,function(){return"".concat(t," width cannot be 0.")}),Sr(0!==e.height,function(){return"".concat(t," height cannot be 0.")})}function by(e,t,n){var r=t.outputTensorSize,a=t.keepAspectRatio,o=t.borderMode,i=t.outputTensorFloatRange,s=gy(e),l=function(e,t){return t?{xCenter:t.xCenter*e.width,yCenter:t.yCenter*e.height,width:t.width*e.width,height:t.height*e.height,rotation:t.rotation}:{xCenter:.5*e.width,yCenter:.5*e.height,width:e.width,height:e.height,rotation:0}}(s,n),u=function(e,t,n){if(void 0===n&&(n=!1),!n)return{top:0,left:0,right:0,bottom:0};var r=t.height,a=t.width;yy(t,"targetSize"),yy(e,"roi");var o,i,s=r/a,l=e.height/e.width,u=0,c=0;return s>l?(o=e.width,i=e.width*s,c=(1-l/s)/2):(o=e.height/s,i=e.height,u=(1-s/l)/2),e.width=o,e.height=i,{top:c,left:u,right:u,bottom:c}}(l,r,a),c=function(e,t,n,r){var a=e.width,o=e.height,i=r?-1:1,s=Math.cos(e.rotation),l=Math.sin(e.rotation),u=e.xCenter,c=e.yCenter,d=1/t,p=1/n,h=new Array(16);return h[0]=a*s*i*d,h[1]=-o*l*d,h[2]=0,h[3]=(-.5*a*s*i+.5*o*l+u)*d,h[4]=a*l*i*p,h[5]=o*s*p,h[6]=0,h[7]=(-.5*o*s-.5*a*l*i+c)*p,h[8]=0,h[9]=0,h[10]=a*d,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,function(e){if(16!==e.length)throw new Error("Array length must be 16 but got ".concat(e.length));return[[e[0],e[1],e[2],e[3]],[e[4],e[5],e[6],e[7]],[e[8],e[9],e[10],e[11]],[e[12],e[13],e[14],e[15]]]}(h)}(l,s.width,s.height,!1),d=Pu(function(){var t=vy(e),n=Ef(function(e,t,n){return yy(n,"inputResolution"),[1/n.width*e[0][0]*t.width,1/n.height*e[0][1]*t.width,e[0][3]*t.width,1/n.width*e[1][0]*t.height,1/n.height*e[1][1]*t.height,e[1][3]*t.height,0,0]}(c,s,r),[1,8]),a="zero"===o?"constant":"nearest",l=og.transform(Np(Ou(t,"float32")),n,"bilinear",a,0,[r.height,r.width]);return null!=i?function(e,t){var n=function(e,t,n,r){var a=(r-n)/255;return{scale:a,offset:n-0*a}}(0,0,t[0],t[1]);return Pu(function(){return Uu(Vu(e,n.scale),n.offset)})}(l,i):l});return{imageTensor:d,padding:u,transformationMatrix:c}}function wy(e){null==e.reduceBoxesInLowestLayer&&(e.reduceBoxesInLowestLayer=!1),null==e.interpolatedScaleAspectRatio&&(e.interpolatedScaleAspectRatio=1),null==e.fixedAnchorSize&&(e.fixedAnchorSize=!1);for(var t=[],n=0;n<e.numLayers;){for(var r=[],a=[],o=[],i=[],s=n;s<e.strides.length&&e.strides[s]===e.strides[n];){var l=ky(e.minScale,e.maxScale,s,e.strides.length);if(0===s&&e.reduceBoxesInLowestLayer)o.push(1),o.push(2),o.push(.5),i.push(.1),i.push(l),i.push(l);else{for(var u=0;u<e.aspectRatios.length;++u)o.push(e.aspectRatios[u]),i.push(l);if(e.interpolatedScaleAspectRatio>0){var c=s===e.strides.length-1?1:ky(e.minScale,e.maxScale,s+1,e.strides.length);i.push(Math.sqrt(l*c)),o.push(e.interpolatedScaleAspectRatio)}}s++}for(var d=0;d<o.length;++d){var p=Math.sqrt(o[d]);r.push(i[d]/p),a.push(i[d]*p)}var h=0,f=0;if(e.featureMapHeight.length>0)h=e.featureMapHeight[n],f=e.featureMapWidth[n];else{var m=e.strides[n];h=Math.ceil(e.inputSizeHeight/m),f=Math.ceil(e.inputSizeWidth/m)}for(var g=0;g<h;++g)for(var v=0;v<f;++v)for(var y=0;y<r.length;++y){var b={xCenter:(v+e.anchorOffsetX)/f,yCenter:(g+e.anchorOffsetY)/h,width:0,height:0};e.fixedAnchorSize?(b.width=1,b.height=1):(b.width=a[y],b.height=r[y]),t.push(b)}n=s}return t}function ky(e,t,n,r){return 1===r?.5*(e+t):e+(t-e)*n/(r-1)}function Sy(e,t){var n=t[0],r=t[1];return[n*e[0]+r*e[1]+e[3],n*e[4]+r*e[5]+e[7]]}function xy(e,t,n,r){return cy(this,void 0,void 0,function(){var r,a,o,i,s;return dy(this,function(l){switch(l.label){case 0:return e.sort(function(e,t){return Math.max.apply(Math,t.score)-Math.max.apply(Math,e.score)}),r=Ef(e.map(function(e){return[e.locationData.relativeBoundingBox.yMin,e.locationData.relativeBoundingBox.xMin,e.locationData.relativeBoundingBox.yMax,e.locationData.relativeBoundingBox.xMax]})),a=_f(e.map(function(e){return e.score[0]})),[4,og.nonMaxSuppressionAsync(r,a,t,n)];case 1:return[4,(o=l.sent()).array()];case 2:return i=l.sent(),s=e.filter(function(e,t){return i.indexOf(t)>-1}),Lu([r,a,o]),[2,s]}})})}function Iy(e,t,n){return cy(this,void 0,void 0,function(){var r,a,o,i,s;return dy(this,function(l){switch(l.label){case 0:return r=e[0],a=e[1],o=function(e,t,n){return Pu(function(){var r,a,o,i;n.reverseOutputOrder?(a=wf(Ed(e,[0,n.boxCoordOffset+0],[-1,1])),r=wf(Ed(e,[0,n.boxCoordOffset+1],[-1,1])),i=wf(Ed(e,[0,n.boxCoordOffset+2],[-1,1])),o=wf(Ed(e,[0,n.boxCoordOffset+3],[-1,1]))):(r=wf(Ed(e,[0,n.boxCoordOffset+0],[-1,1])),a=wf(Ed(e,[0,n.boxCoordOffset+1],[-1,1])),o=wf(Ed(e,[0,n.boxCoordOffset+2],[-1,1])),i=wf(Ed(e,[0,n.boxCoordOffset+3],[-1,1]))),a=Uu(Vu(Hu(a,n.xScale),t.w),t.x),r=Uu(Vu(Hu(r,n.yScale),t.h),t.y),n.applyExponentialOnBoxSize?(o=Vu(Tp(Hu(o,n.hScale)),t.h),i=Vu(Tp(Hu(i,n.wScale)),t.w)):(o=Vu(Hu(o,n.hScale),t.h),i=Vu(Hu(i,n.wScale),t.h));var s=ac(r,Hu(o,2)),l=ac(a,Hu(i,2)),u=Uu(r,Hu(o,2)),c=Uu(a,Hu(i,2)),d=xd([wd(s,[n.numBoxes,1]),wd(l,[n.numBoxes,1]),wd(u,[n.numBoxes,1]),wd(c,[n.numBoxes,1])],1);if(n.numKeypoints)for(var p=0;p<n.numKeypoints;++p){var h=n.keypointCoordOffset+p*n.numValuesPerKeypoint,f=void 0,m=void 0;n.reverseOutputOrder?(f=wf(Ed(e,[0,h],[-1,1])),m=wf(Ed(e,[0,h+1],[-1,1]))):(m=wf(Ed(e,[0,h],[-1,1])),f=wf(Ed(e,[0,h+1],[-1,1])));var g=Uu(Vu(Hu(f,n.xScale),t.w),t.x),v=Uu(Vu(Hu(m,n.yScale),t.h),t.y);d=xd([d,wd(g,[n.numBoxes,1]),wd(v,[n.numBoxes,1])],1)}return d})}(a,t,n),i=Pu(function(){var e=r;return n.sigmoidScore?(null!=n.scoreClippingThresh&&(e=Bd(r,-n.scoreClippingThresh,n.scoreClippingThresh)),e=_d(e)):e}),[4,_y(o,i,n)];case 1:return s=l.sent(),Lu([o,i]),[2,s]}})})}function _y(e,t,n){return cy(this,void 0,void 0,function(){var r,a,o,i,s,l,u,c,d,p,h,f;return dy(this,function(m){switch(m.label){case 0:return r=[],[4,e.data()];case 1:return a=m.sent(),[4,t.data()];case 2:for(o=m.sent(),i=0;i<n.numBoxes;++i)if(!(null!=n.minScoreThresh&&o[i]<n.minScoreThresh||(s=i*n.numCoords,l=Ey(a[s+0],a[s+1],a[s+2],a[s+3],o[i],n.flipVertically,i),(u=l.locationData.relativeBoundingBox).width<0||u.height<0))){if(n.numKeypoints>0)for((c=l.locationData).relativeKeypoints=[],d=n.numKeypoints*n.numValuesPerKeypoint,p=0;p<d;p+=n.numValuesPerKeypoint)h=s+n.keypointCoordOffset+p,f={x:a[h+0],y:n.flipVertically?1-a[h+1]:a[h+1]},c.relativeKeypoints.push(f);r.push(l)}return[2,r]}})})}function Ey(e,t,n,r,a,o,i){return{score:[a],ind:i,locationData:{relativeBoundingBox:{xMin:t,yMin:o?1-n:e,xMax:r,yMax:o?1-e:n,width:r-t,height:n-e}}}}var Ty,Ny,Cy,My={reduceBoxesInLowestLayer:!1,interpolatedScaleAspectRatio:1,featureMapHeight:[],featureMapWidth:[],numLayers:4,minScale:.1484375,maxScale:.75,inputSizeHeight:128,inputSizeWidth:128,anchorOffsetX:.5,anchorOffsetY:.5,strides:[8,16,16,16],aspectRatios:[1],fixedAnchorSize:!0},Ay={reduceBoxesInLowestLayer:!1,interpolatedScaleAspectRatio:0,featureMapHeight:[],featureMapWidth:[],numLayers:1,minScale:.1484375,maxScale:.75,inputSizeHeight:192,inputSizeWidth:192,anchorOffsetX:.5,anchorOffsetY:.5,strides:[4],aspectRatios:[1],fixedAnchorSize:!0},Oy={runtime:"tfjs",modelType:"short",maxFaces:1,detectorModelUrl:"https://tfhub.dev/mediapipe/tfjs-model/face_detection/short/1"},Fy={applyExponentialOnBoxSize:!1,flipVertically:!1,ignoreClasses:[],numClasses:1,numBoxes:896,numCoords:16,boxCoordOffset:0,keypointCoordOffset:4,numKeypoints:6,numValuesPerKeypoint:2,sigmoidScore:!0,scoreClippingThresh:100,reverseOutputOrder:!0,xScale:128,yScale:128,hScale:128,wScale:128,minScoreThresh:.5},Ry={applyExponentialOnBoxSize:!1,flipVertically:!1,ignoreClasses:[],numClasses:1,numBoxes:2304,numCoords:16,boxCoordOffset:0,keypointCoordOffset:4,numKeypoints:6,numValuesPerKeypoint:2,sigmoidScore:!0,scoreClippingThresh:100,reverseOutputOrder:!0,xScale:192,yScale:192,hScale:192,wScale:192,minScoreThresh:.6},Dy={outputTensorSize:{width:128,height:128},keepAspectRatio:!0,outputTensorFloatRange:[-1,1],borderMode:"zero"},Py={outputTensorSize:{width:192,height:192},keepAspectRatio:!0,outputTensorFloatRange:[-1,1],borderMode:"zero"},Ly=function(){function e(e,t,n){this.detectorModel=t,this.maxFaces=n,"full"===e?(this.imageToTensorConfig=Py,this.tensorsToDetectionConfig=Ry,this.anchors=wy(Ay)):(this.imageToTensorConfig=Dy,this.tensorsToDetectionConfig=Fy,this.anchors=wy(My));var r=_f(this.anchors.map(function(e){return e.width})),a=_f(this.anchors.map(function(e){return e.height})),o=_f(this.anchors.map(function(e){return e.xCenter})),i=_f(this.anchors.map(function(e){return e.yCenter}));this.anchorTensor={x:o,y:i,w:r,h:a}}return e.prototype.dispose=function(){this.detectorModel.dispose(),Lu([this.anchorTensor.x,this.anchorTensor.y,this.anchorTensor.w,this.anchorTensor.h])},e.prototype.reset=function(){},e.prototype.detectFaces=function(e,t){return void 0===t&&(t=!1),cy(this,void 0,void 0,function(){var n,r,a,o,i,s,l,u,c,d,p;return dy(this,function(h){switch(h.label){case 0:return null==e?(this.reset(),[2,[]]):(n=Pu(function(){var n=Ou(vy(e),"float32");return t&&(n=wf(og.flipLeftRight(Np(n,0)),[0])),n}),r=by(n,this.imageToTensorConfig),a=r.imageTensor,o=r.transformationMatrix,i=this.detectorModel.execute(a,"Identity:0"),s=function(e){return Pu(function(){var t=function(e){return Pu(function(){return[Ed(e,[0,0,0],[1,-1,1]),Ed(e,[0,0,1],[1,-1,-1])]})}(e),n=t[0],r=t[1];return{boxes:wf(r),logits:wf(n)}})}(i),l=s.boxes,[4,Iy([u=s.logits,l],this.anchorTensor,this.tensorsToDetectionConfig)]);case 1:return 0===(c=h.sent()).length?(Lu([n,a,i,u,l]),[2,c]):[4,xy(c,this.maxFaces,.3)];case 2:return d=h.sent(),p=function(e,t){void 0===e&&(e=[]);var n,r=(n=t,[].concat.apply([],n));return e.forEach(function(e){var t=e.locationData;t.relativeKeypoints.forEach(function(e){var t=Sy(r,[e.x,e.y]),n=t[0],a=t[1];e.x=n,e.y=a});var n=t.relativeBoundingBox,a=Number.MAX_VALUE,o=Number.MAX_VALUE,i=Number.MIN_VALUE,s=Number.MIN_VALUE;[[n.xMin,n.yMin],[n.xMin+n.width,n.yMin],[n.xMin+n.width,n.yMin+n.height],[n.xMin,n.yMin+n.height]].forEach(function(e){var t=Sy(r,e),n=t[0],l=t[1];a=Math.min(a,n),i=Math.max(i,n),o=Math.min(o,l),s=Math.max(s,l)}),t.relativeBoundingBox={xMin:a,xMax:i,yMin:o,yMax:s,width:i-a,height:s-o}}),e}(d,o),Lu([n,a,i,u,l]),[2,p]}})})},e.prototype.estimateFaces=function(e,t){return cy(this,void 0,void 0,function(){var n,r;return dy(this,function(a){return n=gy(e),r=!!t&&t.flipHorizontal,[2,this.detectFaces(e,r).then(function(e){return e.map(function(e){for(var t=e.locationData.relativeKeypoints.map(function(e,t){return uy(uy({},e),{x:e.x*n.width,y:e.y*n.height,name:py[t]})}),r=e.locationData.relativeBoundingBox,a=0,o=["width","xMax","xMin"];a<o.length;a++)r[o[a]]*=n.width;for(var i=0,s=["height","yMax","yMin"];i<s.length;i++)r[s[i]]*=n.height;return{keypoints:t,box:r}})})]})})},e}();function zy(e){return cy(this,void 0,void 0,function(){var t,n,r;return dy(this,function(a){switch(a.label){case 0:return t=function(e){if(null==e)return uy({},Oy);var t=uy({},e);return null==t.modelType&&(t.modelType=Oy.modelType),null==t.maxFaces&&(t.maxFaces=Oy.maxFaces),null==t.detectorModelUrl&&("full"===t.modelType?t.detectorModelUrl="https://tfhub.dev/mediapipe/tfjs-model/face_detection/full/1":t.detectorModelUrl="https://tfhub.dev/mediapipe/tfjs-model/face_detection/short/1"),t}(e),n="string"==typeof t.detectorModelUrl&&t.detectorModelUrl.indexOf("https://tfhub.dev")>-1,[4,ly(t.detectorModelUrl,{fromTFHub:n})];case 1:return r=a.sent(),[2,new Ly(t.modelType,r,t.maxFaces)]}})})}let By;!function(e){e.MediaPipeFaceDetector="MediaPipeFaceDetector"}(Ty||(Ty={})),function(e){e[e.float32=0]="float32",e[e.int32=1]="int32",e[e.bool=2]="bool",e[e.string=3]="string",e[e.complex64=4]="complex64"}(Ny||(Ny={})),function(e){e[e.linear=0]="linear",e[e.relu=1]="relu",e[e.relu6=2]="relu6",e[e.prelu=3]="prelu",e[e.leakyrelu=4]="leakyrelu",e[e.sigmoid=5]="sigmoid",e[e.elu=6]="elu"}(Cy||(Cy={}));const Wy={kernelName:us,backendName:"wasm",setupFunc:function(e){By=e.wasm.cwrap(us,null,["number","array","number","number","array","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{a:a,b:o,bias:i,preluActivationWeights:s}=t;if("float32"!==a.dtype||"float32"!==o.dtype)throw new Error("_FusedMatMul for non non-float32 tensors not yet supported.");const{transposeA:l,transposeB:u,activation:c,leakyreluAlpha:d}=r,p=n.dataIdMap.get(a.dataId).id,h=n.dataIdMap.get(o.dataId).id;let f=0;if(null!=i){const e=n.dataIdMap.get(i.dataId);if(1!==e.shape.length)throw new Error("_FusedMatMul only supports rank-1 bias but got "+"rank ".concat(e.shape.length,"."));f=e.id}const m=null==s?0:n.dataIdMap.get(s.dataId).id,g=Cy[c];if(null==g)throw new Error("".concat(c," activation not yet supported for FusedConv2D ")+"in the wasm backend.");const v=l?a.shape[2]:a.shape[1],y=u?o.shape[1]:o.shape[2],b=sc(a.shape.slice(0,-2),o.shape.slice(0,-2)),w=n.makeOutput([...b,v,y],a.dtype),k=n.dataIdMap.get(w.dataId).id,S=new Uint8Array(new Int32Array(a.shape).buffer),x=new Uint8Array(new Int32Array(o.shape).buffer);return By(p,S,a.shape.length,h,x,o.shape.length,l,u,g,f,m,d||0,k),w}};function Uy(e,t){let n;return{kernelName:e,backendName:"wasm",setupFunc:function(t){n=t.wasm.cwrap(e,null,["number","number","number"])},kernelFunc:function(e){const{backend:r,inputs:{x:a}}=e,o=r.dataIdMap.get(a.dataId).id,i=r.makeOutput(a.shape,t||a.dtype),s=r.dataIdMap.get(i.dataId).id;return 0===_r(i.shape)||n(o,Ny[a.dtype],s),i}}}const jy=Uy(ta),Hy=Uy(na),Vy=Uy(ra);function qy(e,t,n){let r;return{kernelName:e,backendName:"wasm",setupFunc:function(t){r=t.wasm.cwrap(e,null,["number","array","number","number","array","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:a}=e,{a:o,b:i}=a,s=t.dataIdMap.get(o.dataId).id,l=t.dataIdMap.get(i.dataId).id,u=null!=n?n:o.dtype,c=sc(o.shape,i.shape),d=t.makeOutput(c,u);if(0===_r(c))return d;const p=new Uint8Array(new Int32Array(o.shape).buffer),h=new Uint8Array(new Int32Array(i.shape).buffer),f=t.dataIdMap.get(d.dataId).id;return r(s,p,o.shape.length,l,h,i.shape.length,Ny[o.dtype],f),d}}}const Gy=qy(aa);let Ky;const $y={kernelName:oa,backendName:"wasm",setupFunc:function(e){Ky=e.wasm.cwrap(oa,null,["array","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n}=e,r=n.makeOutput(t[0].shape,t[0].dtype);if(0===_r(r.shape))return r;const a=t.map(e=>n.dataIdMap.get(e.dataId).id),o=new Uint8Array(new Int32Array(a).buffer),i=n.dataIdMap.get(r.dataId).id;return Ky(o,a.length,Ny[r.dtype],i),r}};function Yy(e){const{inputs:{x:t},backend:n}=e;if("string"===t.dtype)return Ml(n.readSync(t.dataId),t.shape,t.dtype);const r=n.makeOutput(t.shape,t.dtype),a=n.typedArrayFromHeap(t);return n.typedArrayFromHeap(r).set(a),r}const Qy={kernelName:go,backendName:"wasm",kernelFunc:Yy};let Xy;function Jy(e){const{inputs:t,backend:n,attrs:r}=e,[a,o]=function(e,t){const n=[],r=[];for(let a=0;a<e.length;++a)1!==e[a]&&n.push(e[a]),1!==e[t[a]]&&r.push(t[a]);for(let a=0;a<r.length;++a){let e=-1;for(let t=0;t<r.length;++t)r[t]>=a&&(-1===e||r[e]>r[t])&&(e=t);r[e]=a}return[n,r]}(t.x.shape,r.perm);let i=!0;for(let f=0;f<o.length;f++)o[f]!==f&&(i=!1);const s=function(e,t){const n=new Array(e.length);for(let r=0;r<n.length;r++)n[r]=e[t[r]];return n}(t.x.shape,r.perm),l={dataId:t.x.dataId,shape:a,dtype:t.x.dtype};if(i){const e=Yy({inputs:t,backend:n});return e.shape=s,e}const u=n.makeOutput(s,l.dtype),c=n.dataIdMap.get(l.dataId).id,d=n.dataIdMap.get(u.dataId).id,p=new Uint8Array(new Int32Array(o).buffer),h=new Uint8Array(new Int32Array(l.shape).buffer);return Xy(c,h,l.shape.length,Ny[l.dtype],d,p,o.length),u}const Zy={kernelName:ts,backendName:"wasm",kernelFunc:Jy,setupFunc:function(e){Xy=e.wasm.cwrap(ts,null,["number","array","number","number","number","array","number"])}};function eb(e,t,n){const r=e.shape,a=e.shape.length,o=Mr(t,r);let i=o;const s=yp(i,a);let l=null,u=!1;if(null!=s){const t=new Array(a);for(let e=0;e<t.length;e++)t[e]=r[s[e]];i=wp(i.length,a),l=Jy({inputs:{x:e},attrs:{perm:s},backend:n});const o=n.dataIdMap.get(e.dataId).id;n.dataIdMap.get(l.dataId).id!==o&&(u=!0)}return{transposed:l,originalAxes:o,axes:i,inputWasTransposed:u}}let tb;const nb={kernelName:ia,backendName:"wasm",setupFunc:function(e){tb=e.wasm.cwrap(ia,null,["number, number, number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{axis:a,keepDims:o}=r,{x:i}=n;let s=t.dataIdMap.get(i.dataId).id,l=i;const{transposed:u,axes:c,originalAxes:d,inputWasTransposed:p}=eb(i,a,t);if(p){l=u,s=t.dataIdMap.get(u.dataId).id}vp("all",c,l.shape.length);const[h,f]=mp(l.shape,c),m=_r(f),g=t.makeOutput(h,i.dtype);if(0!==_r(l.shape)){const e=t.dataIdMap.get(g.dataId).id;tb(s,m,e)}if(p&&t.disposeData(u.dataId),o){const e=gp(g.shape,d);g.shape=e}return g}};let rb;const ab={kernelName:sa,backendName:"wasm",setupFunc:function(e){rb=e.wasm.cwrap(sa,null,["number, number, number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{axis:a,keepDims:o}=r,{x:i}=n;let s=t.dataIdMap.get(i.dataId).id,l=i;const{transposed:u,axes:c,originalAxes:d,inputWasTransposed:p}=eb(i,a,t);if(p){l=u,s=t.dataIdMap.get(u.dataId).id}vp("any",c,l.shape.length);const[h,f]=mp(l.shape,c),m=_r(f),g=t.makeOutput(h,i.dtype);if(0!==_r(l.shape)){const e=t.dataIdMap.get(g.dataId).id;rb(s,m,e)}if(p&&t.disposeData(u.dataId),o){const e=gp(g.shape,d);g.shape=e}return g}};function ob(e){let t;return{kernelName:e,backendName:"wasm",setupFunc:function(n){t=n.wasm.cwrap(e,null,["number","number","number","number","number"])},kernelFunc:function(e){const{backend:n,inputs:r,attrs:a}=e,{axis:o}=a,{x:i}=r,s=n.dataIdMap.get(i.dataId).id;let l=s,u=i;const{transposed:c,axes:d,inputWasTransposed:p}=eb(i,o,n);if(p){const e=n.dataIdMap.get(c.dataId).id;e!==s&&(u=c,l=e)}const h=u.shape.slice(0,-1),f=n.makeOutput(h,"int32"),m=n.dataIdMap.get(f.dataId).id,g=_r(f.shape),v=u.shape[d[0]];return t(l,Ny[u.dtype],g,v,m),p&&n.disposeData(c.dataId),f}}}const ib=ob(la),sb=ob(ua),lb=Uy(ca),ub=Uy(da),cb=Uy(pa),db=qy(fa),pb=Uy(ha);let hb;const fb={kernelName:ma,backendName:"wasm",setupFunc:function(e){hb=e.wasm.cwrap(ma,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,a=t.x,o=r.dataIdMap.get(a.dataId).id,{filterSize:i,strides:s,pad:l,dimRoundingMode:u}=n,c=id(a.shape,i,s,1,l,u),d=c.filterHeight,p=c.filterWidth,h=c.padInfo.top,f=c.padInfo.right,m=c.padInfo.bottom,g=c.padInfo.left,v=c.strideHeight,y=c.strideWidth,b=c.inChannels;if("channelsLast"!==c.dataFormat)throw new Error("wasm backend does not support dataFormat:'"+"".concat(c.dataFormat,"'. Please use 'channelsLast'."));if(1!==c.dilationWidth||1!==c.dilationHeight)throw new Error("was backend only supports average pooling with dilation = [1, 1], "+"got [".concat(c.dilationHeight,", ").concat(c.dilationWidth,"]."));const w=r.makeOutput(c.outShape,"float32"),k=r.dataIdMap.get(w.dataId).id;return hb(o,a.shape[0],a.shape[1],a.shape[2],d,p,h,f,m,g,v,y,b,k),w}};let mb;const gb={kernelName:va,backendName:"wasm",setupFunc:function(e){mb=e.wasm.cwrap("AvgPool3D",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{filterSize:o,strides:i,pad:s,dimRoundingMode:l,dataFormat:u}=r,c=sd(a.shape,o,i,1,s,l,u),d=n.makeOutput(c.outShape,a.dtype);return mb(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(d.dataId).id,c.batchSize,c.inChannels,c.inDepth,c.inHeight,c.inWidth,c.outDepth,c.outHeight,c.outWidth,c.strideDepth,c.strideHeight,c.strideWidth,c.dilationDepth,c.dilationHeight,c.dilationWidth,c.effectiveFilterDepth,c.effectiveFilterHeight,c.effectiveFilterWidth,c.padInfo.front,c.padInfo.top,c.padInfo.left),d}};let vb;const yb={kernelName:ya,backendName:"wasm",setupFunc:function(e){vb=e.wasm.cwrap("AvgPool3DGrad",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:o}=t,{filterSize:i,strides:s,pad:l,dimRoundingMode:u}=r,c=sd(o.shape,i,s,1,l,u),d=n.makeOutput(o.shape,o.dtype);return vb(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(d.dataId).id,c.batchSize,c.inChannels,c.inDepth,c.inHeight,c.inWidth,c.outDepth,c.outHeight,c.outWidth,c.strideDepth,c.strideHeight,c.strideWidth,c.dilationDepth,c.dilationHeight,c.dilationWidth,c.effectiveFilterDepth,c.effectiveFilterHeight,c.effectiveFilterWidth,c.padInfo.front,c.padInfo.top,c.padInfo.left,c.filterDepth,c.filterHeight,c.filterWidth),d}};let bb;const wb={kernelName:ga,backendName:"wasm",setupFunc:function(e){bb=e.wasm.cwrap("AvgPoolGrad",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:o}=t,{filterSize:i,strides:s,pad:l}=r,u=id(o.shape,i,s,1,l),c=n.makeOutput(o.shape,o.dtype);return bb(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(c.dataId).id,u.batchSize,u.inChannels,u.inHeight,u.inWidth,u.outHeight,u.outWidth,u.strideHeight,u.strideWidth,u.dilationHeight,u.dilationWidth,u.effectiveFilterHeight,u.effectiveFilterWidth,u.padInfo.top,u.padInfo.left,u.filterHeight,u.filterWidth),c}};function kb(e){const{inputs:t,attrs:n}=e,{x:r}=t,{shape:a}=n,o=_r(r.shape),i=Cr(a,o);return Sr(o===_r(i),()=>"new shape: ".concat(i,", old shape: ").concat(r.shape,". New shape and old ")+"shape must have the same number of elements."),e.backend.incRef(r.dataId),{dataId:r.dataId,shape:i,dtype:r.dtype}}const Sb={kernelName:pi,backendName:"wasm",kernelFunc:kb};let xb;const Ib={kernelName:ba,backendName:"wasm",setupFunc:function(e){xb=e.wasm.cwrap(ba,null,["number","array","number","number","array","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{a:a,b:o}=t,{transposeA:i,transposeB:s}=r;if("float32"!==a.dtype||"float32"!==o.dtype)throw new Error("BatchMatMul for non non-float32 tensors not yet supported.");const l=a.shape.length,u=o.shape.length,c=i?a.shape[l-2]:a.shape[l-1],d=s?o.shape[u-1]:o.shape[u-2],p=i?a.shape[l-1]:a.shape[l-2],h=s?o.shape[u-2]:o.shape[u-1],f=a.shape.slice(0,-2),m=o.shape.slice(0,-2),g=_r(f),v=_r(m),y=sc(a.shape.slice(0,-2),o.shape.slice(0,-2)).concat([p,h]);Sr(c===d,()=>"Error in matMul: inner shapes (".concat(c,") and (")+"".concat(d,") of Tensors with shapes ").concat(a.shape," and ")+"".concat(o.shape," and transposeA=").concat(i)+" and transposeB=".concat(s," must match."));const b=s?[v,h,d]:[v,d,h],w=kb({inputs:{x:a},backend:n,attrs:{shape:i?[g,c,p]:[g,p,c]}}),k=kb({inputs:{x:o},backend:n,attrs:{shape:b}}),S=n.dataIdMap.get(w.dataId).id,x=n.dataIdMap.get(k.dataId).id,I=i?w.shape[2]:w.shape[1],_=s?k.shape[1]:k.shape[2],E=Math.max(g,v),T=n.makeOutput([E,I,_],w.dtype),N=n.dataIdMap.get(T.dataId).id,C=new Uint8Array(new Int32Array(w.shape).buffer),M=new Uint8Array(new Int32Array(k.shape).buffer);return xb(S,C,w.shape.length,x,M,k.shape.length,i,s,N),n.disposeData(w.dataId),n.disposeData(k.dataId),T.shape=y,T}};function _b(e,t){Array.isArray(e)||(e=[e]),e.forEach(e=>{null!=e&&Sr("complex64"!==e.dtype,()=>"".concat(t," does not support complex64 tensors in the CPU backend."))})}function Eb(e,t,n,r,a){const o=jc(r,t,n),i=_r(n),s=Lr(r);if(o){const n=Hc(t,s);return"string"===a?e.slice(n,n+i):e.subarray(n,n+i)}const l=Au(r,a,"string"===a?Wg(e):e),u=Au(n,a);for(let c=0;c<u.size;++c){const e=u.indexToLoc(c),n=e.map((e,n)=>e+t[n]);u.set(l.get(...n),...e)}return"string"===a?Ug(u.values):u.values}function Tb(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{begin:o,size:i}=r;_b(a,"slice");const[s,l]=Vc(a,o,i);!function(e,t,n){const r=e.shape.length;Sr(r===t.length,()=>"Error in slice".concat(r,"D: Length of begin ").concat(t," must ")+"match the rank of the array (".concat(r,").")),Sr(r===n.length,()=>"Error in slice".concat(r,"D: Length of size ").concat(n," must ")+"match the rank of the array (".concat(r,")."));for(let a=0;a<r;++a)Sr(t[a]+n[a]<=e.shape[a],()=>"Error in slice".concat(r,"D: begin[").concat(a,"] + size[").concat(a,"] ")+"(".concat(t[a]+n[a],") would overflow input.shape[").concat(a,"] (").concat(e.shape[a],")"))}(a,s,l);const u=Eb(n.data.get(a.dataId).values,s,l,a.shape,a.dtype);return n.makeTensorInfo(l,a.dtype,u)}const Nb={kernelName:Ei,backendName:"cpu",kernelFunc:Tb};function Cb(e){const{inputs:{x:t},attrs:{begin:n,size:r},backend:a}=e,[o,i]=Vc(t,n,r),s=jc(t.shape,o,i),l=a.readSync(t.dataId),u=a.makeOutput(i,t.dtype),c=Lr(t.shape),d=a.dataIdMap.get(u.dataId);if(s){const e=Hc(o,c);if("string"===t.dtype)d.stringBytes=l.slice(e,e+_r(i));else{a.typedArrayFromHeap(u).set(l.subarray(e,e+_r(i)))}return u}if("string"===t.dtype){const e=Eb(l,o,i,t.shape,t.dtype);return d.stringBytes=e,u}const p=a.typedArrayFromHeap(u),h=t.shape.length;if(2===h)!function(e,t,n,r,a){let o=0;const i=r[0],s=r[1],l=i+a[0];for(let u=i;u<l;u++){const r=u*t+s;n.set(e.subarray(r,r+a[1]),o),o+=a[1]}}(l,c[0],p,o,i);else if(3===h)!function(e,t,n,r,a,o){let i=0;const s=a[0],l=a[1],u=a[2],c=s+o[0],d=l+o[1];for(let p=s;p<c;p++)for(let a=l;a<d;a++){const s=p*t+a*n+u;r.set(e.subarray(s,s+o[2]),i),i+=o[2]}}(l,c[0],c[1],p,o,i);else if(4===h)!function(e,t,n,r,a,o,i){let s=0;const l=o[0],u=o[1],c=o[2],d=l+i[0],p=u+i[1],h=c+i[2],f=o[3];for(let m=l;m<d;m++)for(let o=u;o<p;o++)for(let l=c;l<h;l++){const u=m*t+o*n+l*r+f;a.set(e.subarray(u,u+i[3]),s),s+=i[3]}}(l,c[0],c[1],c[2],p,o,i);else{const e=Eb(l,o,i,t.shape,t.dtype);p.set(e)}return u}const Mb={kernelName:Ei,backendName:"wasm",kernelFunc:Cb};const Ab={kernelName:wa,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockShape:o,crops:i}=r,s=o.reduce((e,t)=>e*t),l=fg(a.shape,o,s),u=mg(l.length,o.length),c=gg(a.shape,o,s),d=vg(i,o.length),p=yg(c,i,o.length),h=kb({inputs:{x:a},backend:n,attrs:{shape:l}}),f=Jy({inputs:{x:h},backend:n,attrs:{perm:u}}),m=kb({inputs:{x:f},backend:n,attrs:{shape:c}}),g=Cb({inputs:{x:m},backend:n,attrs:{begin:d,size:p}});return n.disposeData(h.dataId),n.disposeData(f.dataId),n.disposeData(m.dataId),g}};let Ob;const Fb={kernelName:ka,backendName:"wasm",setupFunc:function(e){Ob=e.wasm.cwrap(ka,null,["number","number","boolean","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{x:a,weights:o}=n,{size:i}=r,s=0!==o.shape.reduce((e,t)=>e*t,1),l=1===a.shape.length?[i]:[a.shape[0],i],u=t.makeOutput(l,o.dtype);function c(e){return t.dataIdMap.get(e.dataId).id}return Ob(c(a),i,s,c(o),Ny[o.dtype],c(u)),u}},Rb=qy(Sa);const Db={kernelName:xa,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n}=e,{s0:r,s1:a}=t,o=n.typedArrayFromHeap(r),i=n.typedArrayFromHeap(a),s=sc(Array.from(o),Array.from(i));return n.makeOutput([s.length],"int32",void 0,new Int32Array(s))}};function Pb(e){const{inputs:{x:t},attrs:{dtype:n},backend:r}=e,a=r.makeOutput(t.shape,n),o=r.typedArrayFromHeap(t);return r.typedArrayFromHeap(a).set(o),a}const Lb={kernelName:Ia,backendName:"wasm",kernelFunc:Pb},zb=Uy(_a);let Bb;const Wb={kernelName:Ea,backendName:"wasm",setupFunc:function(e){Bb=e.wasm.cwrap(Ea,null,["number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{clipValueMin:o,clipValueMax:i}=r,s=n.dataIdMap.get(a.dataId).id,l=n.makeOutput(a.shape,a.dtype),u=n.dataIdMap.get(l.dataId).id;return Bb(s,o,i,u),l}};function Ub(e,t,n,r){const a=Or(n,_r(t));if(r&&"string"!==n){let t=0;e.forEach(e=>{const n=_r(e.shape);a.set(e.vals,t),t+=n})}else{let r=0;e.forEach(e=>{const o="string"===n?Wg(e.vals):e.vals;let i=0;for(let n=0;n<e.shape[0];++n){const s=n*t[1]+r;for(let t=0;t<e.shape[1];++t)a[s+t]=o[i++]}r+=e.shape[1]})}return a}function jb(e){const{inputs:t,backend:n}=e,r=Mr(e.attrs.axis,t[0].shape)[0],a=t.map(e=>e.shape);cg(a,r);let o=dg(t.map(e=>e.shape),r);const i=t.filter(e=>_r(e.shape)>0);if(1===i.length)return Yy({inputs:{x:i[0]},backend:n});const s=n.makeOutput(o,t[0].dtype);if(0===_r(o))return s;if("string"===i[0].dtype){const e=i.map(e=>{const t=_r(e.shape.slice(r));return kb({inputs:{x:e},backend:n,attrs:{shape:[-1,t]}})}),a=e.map(e=>({vals:n.readSync(e.dataId),shape:e.shape}));o=dg(e.map(e=>e.shape),1);const l=1===e[0].shape[0],u=Ub(a,o,t[0].dtype,l),c=dg(i.map(e=>e.shape),r);s.shape=c;return n.dataIdMap.get(s.dataId).stringBytes=Ug(u),e.forEach(e=>n.disposeData(e.dataId)),s}const l=_r(i[0].shape.slice(0,r));let u=0;const c=i.map(e=>{const t=_r(e.shape.slice(r));return u+=t,t}),d=i.map(e=>n.typedArrayFromHeap(e)),p=n.typedArrayFromHeap(s);for(let h=0;h<l;h++){let e=h*u;for(let t=0;t<d.length;t++){const n=c[t],r=h*n,a=d[t].subarray(r,r+n);p.set(a,e),e+=n}}return s}const Hb={kernelName:Ca,backendName:"wasm",kernelFunc:jb};let Vb;const qb={kernelName:Ma,backendName:"wasm",setupFunc:function(e){Vb=e.wasm.cwrap(Ma,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{x:a,filter:o}=t,i=r.dataIdMap.get(a.dataId).id,s=r.dataIdMap.get(o.dataId).id,{strides:l,dilations:u,pad:c,dimRoundingMode:d,dataFormat:p}=n,h=yd(p),f=ld(a.shape,o.shape,l,u,c,d,!1,h),m=f.filterHeight,g=f.filterWidth,v=f.padInfo.top,y=f.padInfo.right,b=f.padInfo.bottom,w=f.padInfo.left,k=f.dilationHeight,S=f.dilationWidth,x=f.strideHeight,I=f.strideWidth,_=f.inChannels,E=f.outChannels,T="SAME"===f.padInfo.type?1:0;if("channelsLast"!==f.dataFormat)throw new Error("wasm backend Conv2D does not support dataFormat:'"+"".concat(f.dataFormat,"'. Please use 'channelsLast'."));const N=r.makeOutput(f.outShape,"float32"),C=r.dataIdMap.get(N.dataId).id;return Vb(i,a.shape[0],a.shape[1],a.shape[2],s,m,g,v,y,b,w,T,k,S,x,I,_,E,C),N}};let Gb;const Kb={kernelName:Oa,backendName:"wasm",setupFunc:function(e){Gb=e.wasm.cwrap(Oa,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{dy:a,filter:o}=n,{strides:i,pad:s,dataFormat:l,dimRoundingMode:u,inputShape:c}=r,d=yd(l),p=ld(c,o.shape,i,1,s,u,!1,d),{batchSize:h,filterHeight:f,filterWidth:m,inChannels:g,inHeight:v,inWidth:y,outChannels:b,outHeight:w,outWidth:k,strideHeight:S,strideWidth:x}=p,I=f-1-p.padInfo.top,_=m-1-p.padInfo.left,E="channelsLast"===p.dataFormat,T=Lr(p.inShape),N=Lr(a.shape),[C,M,A]=Lr(o.shape),O=T[0],F=E?T[1]:T[2],R=E?T[2]:1,D=E?1:T[1],P=N[0],L=E?N[1]:N[2],z=E?N[2]:1,B=E?1:N[1],W=t.makeOutput(p.inShape,"float32"),U=t.dataIdMap.get(W.dataId).id,j=t.dataIdMap.get(a.dataId).id,H=t.dataIdMap.get(o.dataId).id;return Gb(j,H,h,f,m,v,y,g,w,k,b,S,x,I,_,C,M,A,O,F,R,D,P,L,z,B,U),W}};let $b;const Yb={kernelName:Fa,backendName:"wasm",setupFunc:function(e){$b=e.wasm.cwrap(Fa,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:o}=t,{strides:i,pad:s,dilations:l}=r;if("float32"!==a.dtype)throw new Error("Tensor x must have dtype float32, got ".concat(a.dtype));if("float32"!==o.dtype)throw new Error("Tensor filter must have dtype float32, got ".concat(o.dtype));const u=ud(a.shape,o.shape,i,l,s),c=n.makeOutput(u.outShape,a.dtype);return $b(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(c.dataId).id,u.batchSize,u.inDepth,u.inHeight,u.inWidth,u.inChannels,u.outDepth,u.outHeight,u.outWidth,u.outChannels,u.strideDepth,u.strideHeight,u.strideWidth,u.dilationDepth,u.dilationHeight,u.dilationWidth,u.filterDepth,u.filterHeight,u.filterWidth,u.padInfo.front,u.padInfo.top,u.padInfo.left),c}};let Qb;const Xb={kernelName:Ra,backendName:"wasm",setupFunc:function(e){Qb=e.wasm.cwrap(Ra,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,dy:o}=t,{strides:i,pad:s,filterShape:l}=r;if("float32"!==a.dtype)throw new Error("Tensor dy must have dtype float32, got ".concat(a.dtype));if("float32"!==o.dtype)throw new Error("Tensor filter must have dtype float32, got ".concat(o.dtype));const u=ud(a.shape,l,i,1,s),c=n.makeOutput(u.filterShape,o.dtype);return Qb(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(c.dataId).id,u.batchSize,u.inDepth,u.inHeight,u.inWidth,u.inChannels,u.outDepth,u.outHeight,u.outWidth,u.outChannels,u.strideDepth,u.strideHeight,u.strideWidth,u.dilationDepth,u.dilationHeight,u.dilationWidth,u.filterDepth,u.filterHeight,u.filterWidth,u.padInfo.front,u.padInfo.top,u.padInfo.left),c}};let Jb;const Zb={kernelName:Da,backendName:"wasm",setupFunc:function(e){Jb=e.wasm.cwrap(Da,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,filter:o}=t,{pad:i,strides:s,inputShape:l}=r;if("float32"!==a.dtype)throw new Error("Tensor dy must have dtype float32, got ".concat(a.dtype));if("float32"!==o.dtype)throw new Error("Tensor filter must have dtype float32, got ".concat(o.dtype));const u=ud(l,o.shape,s,1,i),c=n.makeOutput(u.inShape,a.dtype);return Jb(n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(c.dataId).id,u.batchSize,u.inDepth,u.inHeight,u.inWidth,u.inChannels,u.outDepth,u.outHeight,u.outWidth,u.outChannels,u.strideDepth,u.strideHeight,u.strideWidth,u.dilationDepth,u.dilationHeight,u.dilationWidth,u.filterDepth,u.filterHeight,u.filterWidth,u.padInfo.front,u.padInfo.top,u.padInfo.left),c}},ew=Uy(Pa),tw=Uy(La);var nw;let rw;!function(e){e[e.bilinear=0]="bilinear",e[e.nearest=1]="nearest"}(nw||(nw={}));const aw={kernelName:Wa,backendName:"wasm",setupFunc:function(e){rw=e.wasm.cwrap(Wa,null,["number","number","number","number","array","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{method:a,extrapolationValue:o,cropSize:i}=r,{image:s,boxes:l,boxInd:u}=n,c=l.shape[0],[d,p]=i,h=[c,d,p,s.shape[3]];let f,m=t.dataIdMap.get(s.dataId);"float32"!==s.dtype&&(f=Pb({backend:t,inputs:{x:s},attrs:{dtype:"float32"}}),m=t.dataIdMap.get(f.dataId));const g=m.id,v=t.dataIdMap.get(l.dataId).id,y=t.dataIdMap.get(u.dataId).id,b=t.makeOutput(h,"float32"),w=t.dataIdMap.get(b.dataId).id,k=new Uint8Array(new Int32Array(s.shape).buffer);return rw(g,v,y,c,k,d,p,nw[a],o,w),null!=f&&t.disposeData(f.dataId),b}};let ow;const iw={kernelName:za,backendName:"wasm",setupFunc:function(e){ow=e.wasm.cwrap(za,null,["number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:o,exclusive:i,reverse:s}=r,l=a.shape.length;Sr("float32"===a.dtype||"int32"===a.dtype,()=>"cumprod does not support ".concat(a.dtype," tensors in the WASM backend"));const u=yp([o],l);let c=a;null!==u&&(c=Jy({inputs:{x:a},attrs:{perm:u},backend:n}));const d=wp(1,l)[0];vp("cumprod",[d],l);const p=n.makeOutput(c.shape,c.dtype),h=c.shape[d],f=n.dataIdMap.get(c.dataId).id,m=n.dataIdMap.get(p.dataId).id;ow(f,i?1:0,s?1:0,h,m,Ny[a.dtype]);let g=p;if(null!==u){g=Jy({inputs:{x:p},attrs:{perm:bp(u)},backend:n}),n.disposeData(c.dataId),n.disposeData(p.dataId)}return g}};let sw;const lw={kernelName:Ba,backendName:"wasm",setupFunc:function(e){sw=e.wasm.cwrap(Ba,null,["number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:o,exclusive:i,reverse:s}=r,l=a.shape.length;Sr("float32"===a.dtype||"int32"===a.dtype,()=>"cumsum does not support ".concat(a.dtype," tensors in the WASM backend"));const u=yp([o],l);let c=a;null!==u&&(c=Jy({inputs:{x:a},attrs:{perm:u},backend:n}));const d=wp(1,l)[0];vp("cumsum",[d],l);const p=n.makeOutput(c.shape,c.dtype),h=c.shape[d],f=n.dataIdMap.get(c.dataId).id,m=n.dataIdMap.get(p.dataId).id;sw(f,i?1:0,s?1:0,h,m,Ny[a.dtype]);let g=p;if(null!==u){g=Jy({inputs:{x:p},attrs:{perm:bp(u)},backend:n}),n.disposeData(c.dataId),n.disposeData(p.dataId)}return g}};let uw;const cw={kernelName:Ua,backendName:"wasm",setupFunc:function(e){uw=e.wasm.cwrap("DenseBincount",null,["number","array","number","number","boolean","number","number","boolean","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{x:a,weights:o}=n,{size:i,binaryOutput:s}=r,l=0!==o.shape.reduce((e,t)=>e*t,1),u=1===a.shape.length?[i]:[a.shape[0],i],c=t.makeOutput(u,o.dtype);function d(e){return t.dataIdMap.get(e.dataId).id}return uw(d(a),new Uint8Array(new Int32Array(a.shape).buffer),a.shape.length,i,l,d(o),Ny[o.dtype],s,d(c)),c}};let dw;const pw={kernelName:ja,backendName:"wasm",setupFunc:function(e){dw=e.wasm.cwrap(ja,null,["number","number","number","array","number","array","array","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{x:a}=n,{blockSize:o,dataFormat:i}=r,s=a.shape[0],l=("NHWC"===i?a.shape[1]:a.shape[2])*o,u=("NHWC"===i?a.shape[2]:a.shape[3])*o,c=("NHWC"===i?a.shape[3]:a.shape[1])/(o*o),d="NHWC"===i?[s,l,u,c]:[s,c,l,u],p=t.makeOutput(d,"float32"),h=t.dataIdMap.get(a.dataId).id,f=new Uint8Array(new Int32Array(Lr(a.shape)).buffer),m=new Uint8Array(new Int32Array(d).buffer),g=new Uint8Array(new Int32Array(Lr(d)).buffer),v=t.dataIdMap.get(p.dataId).id;return dw(h,o,"NHWC"===i?1:0,f,a.shape.length-1,m,g,d.length,v),p}};let hw;const fw={kernelName:Ha,backendName:"wasm",setupFunc:function(e){hw=e.wasm.cwrap(Ha,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{x:a,filter:o}=t,i=r.dataIdMap.get(a.dataId).id,s=r.dataIdMap.get(o.dataId).id,{strides:l,dilations:u,pad:c,dimRoundingMode:d}=n,p=null==u?[1,1]:u,h=ld(a.shape,o.shape,l,p,c,d,!0),f=h.filterHeight,m=h.filterWidth,g=h.padInfo.top,v=h.padInfo.right,y=h.padInfo.bottom,b=h.padInfo.left,w=h.dilationHeight,k=h.dilationWidth,S=h.strideHeight,x=h.strideWidth,I=h.inChannels,_=h.outChannels,E="SAME"===h.padInfo.type?1:0;if("channelsLast"!==h.dataFormat)throw new Error("wasm backend DepthwiseConv2dNative does not support dataFormat:'"+"".concat(h.dataFormat,"'. Please use 'channelsLast'."));const T=r.makeOutput(h.outShape,"float32"),N=r.dataIdMap.get(T.dataId).id;return hw(i,a.shape[0],a.shape[1],a.shape[2],s,f,m,g,v,y,b,E,w,k,S,x,I,_,N),T}};let mw;const gw={kernelName:Ga,backendName:"wasm",setupFunc:function(e){mw=e.wasm.cwrap("Diag",null,["number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t,a=_r(r.shape),o=n.makeOutput([...r.shape,...r.shape],r.dtype);return mw(n.dataIdMap.get(r.dataId).id,Ny[r.dtype],a,n.dataIdMap.get(o.dataId).id),o}};let vw;const yw={kernelName:Ka,backendName:"wasm",setupFunc:function(e){vw=e.wasm.cwrap(Ka,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:o}=t,{strides:i,pad:s,dilations:l}=r;if(a.dtype!==o.dtype)throw new Error("Dilation2D error: x must have the same dtype as filter. Got ".concat(a.dtype," and ").concat(o.dtype));const u=od(a.shape,o.shape,i,s,"NHWC",l),c=n.makeOutput(u.outShape,a.dtype);return vw(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(c.dataId).id,Ny[a.dtype],u.batchSize,u.inChannels,u.inHeight,u.inWidth,u.outHeight,u.outWidth,u.strideHeight,u.strideWidth,u.dilationHeight,u.dilationWidth,u.filterHeight,u.filterWidth,u.padInfo.top,u.padInfo.left),c}};let bw;const ww={kernelName:Ya,backendName:"wasm",setupFunc:function(e){bw=e.wasm.cwrap(Ya,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:o,dy:i}=t,{strides:s,pad:l,dilations:u}=r;if(a.dtype!==o.dtype||a.dtype!==i.dtype)throw new Error("Dilation2DBackpropFilter error: x must have the same dtype as filter and dy. Got ".concat(a.dtype,", ").concat(o.dtype,", and ").concat(i.dtype));const c=od(a.shape,o.shape,s,l,"NHWC",u),d=n.makeOutput(o.shape,o.dtype);return bw(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(i.dataId).id,n.dataIdMap.get(d.dataId).id,Ny[a.dtype],c.batchSize,c.inChannels,c.inHeight,c.inWidth,c.outHeight,c.outWidth,c.strideHeight,c.strideWidth,c.dilationHeight,c.dilationWidth,c.filterHeight,c.filterWidth,c.padInfo.top,c.padInfo.left),d}};let kw;const Sw={kernelName:$a,backendName:"wasm",setupFunc:function(e){kw=e.wasm.cwrap($a,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:o,dy:i}=t,{strides:s,pad:l,dilations:u}=r;if(a.dtype!==o.dtype||a.dtype!==i.dtype)throw new Error("Dilation2DBackpropInput error: x must have the same dtype as filter and dy. Got ".concat(a.dtype,", ").concat(o.dtype,", and ").concat(i.dtype));const c=od(a.shape,o.shape,s,l,"NHWC",u),d=n.makeOutput(a.shape,a.dtype);return kw(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(i.dataId).id,n.dataIdMap.get(d.dataId).id,Ny[a.dtype],c.batchSize,c.inChannels,c.inHeight,c.inWidth,c.outHeight,c.outWidth,c.strideHeight,c.strideWidth,c.dilationHeight,c.dilationWidth,c.filterHeight,c.filterWidth,c.padInfo.top,c.padInfo.left),d}},xw=Uy(Za);let Iw;const _w={kernelName:eo,backendName:"wasm",setupFunc:function(e){Iw=e.wasm.cwrap(eo,null,["number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n}=e,{dy:r,y:a}=t,o=n.makeOutput(a.shape,"float32"),i=e=>n.dataIdMap.get(e.dataId).id;return Iw(i(a),i(r),i(o)),o}},Ew=qy(no,0,"bool"),Tw=Uy(to),Nw=Uy(ro,"float32");function Cw(e){const{inputs:t,attrs:n,backend:r}=e,{input:a}=t,{dim:o}=n,i=a.shape.length,s=a.shape.slice();let l=o;return o<0&&(Sr(-(i+1)<=o,()=>"Axis must be in the interval [".concat(-(i+1),", ").concat(i,"]")),l=i+o+1),s.splice(l,0,1),kb({inputs:{x:a},backend:r,attrs:{shape:s}})}const Mw={kernelName:ao,backendName:"wasm",kernelFunc:Cw},Aw=Uy(oo,"float32");function Ow(e){const{attrs:{shape:t,value:n,dtype:r},backend:a}=e,o=a.makeOutput(t,r);return a.typedArrayFromHeap(o).fill(n),o}const Fw={kernelName:io,backendName:"wasm",kernelFunc:Ow};let Rw;const Dw={kernelName:so,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n}=e,{image:r}=t,a=n.makeOutput(r.shape,r.dtype),o=n.dataIdMap.get(r.dataId).id,i=n.dataIdMap.get(a.dataId).id,[s,l,u,c]=r.shape;return Rw(o,s,l,u,c,i),a},setupFunc:function(e){Rw=e.wasm.cwrap(so,null,["number","number","number","number","number","number"])}},Pw=Uy(lo),Lw=qy(uo);let zw;const Bw={kernelName:co,backendName:"wasm",setupFunc:function(e){zw=e.wasm.cwrap(co,null,["number","number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{varianceEpsilon:a}=r,{x:o,mean:i,variance:s,offset:l,scale:u}=n,c=t.dataIdMap.get(o.dataId).id,d=t.dataIdMap.get(i.dataId).id,p=t.dataIdMap.get(s.dataId).id,h=null!=l?t.dataIdMap.get(l.dataId).id:0,f=null!=u?t.dataIdMap.get(u.dataId).id:0,m=t.makeOutput(o.shape,o.dtype);if(0===_r(o.shape))return m;const g=t.dataIdMap.get(m.dataId).id;return zw(c,d,p,h,f,a,g),m}};let Ww;const Uw={kernelName:cs,backendName:"wasm",setupFunc:function(e){Ww=e.wasm.cwrap(cs,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{x:a,filter:o,bias:i,preluActivationWeights:s}=t,{strides:l,pad:u,dilations:c,dataFormat:d,dimRoundingMode:p,activation:h,leakyreluAlpha:f}=n,m=ld(a.shape,o.shape,l,c,u,p),g=Cy[h];if(null==g)throw new Error("".concat(h," activation not yet supported for FusedConv2D ")+"in the wasm backend.");const v=r.dataIdMap.get(a.dataId).id,y=r.dataIdMap.get(o.dataId).id,b=m.outChannels;let w=0;if(null!=i){const e=r.dataIdMap.get(i.dataId);if(1!==e.shape.length)throw new Error("FusedConv2D only supports rank-1 bias but got "+"rank ".concat(e.shape.length,"."));if(e.shape[0]!==b)throw new Error("FusedConv2D bias shape (".concat(e.shape,") does not ")+"match the number of output channels (".concat(b,")"));w=e.id}const k=m.filterHeight,S=m.filterWidth,x=m.padInfo.top,I=m.padInfo.right,_=m.padInfo.bottom,E=m.padInfo.left,T=m.dilationHeight,N=m.dilationWidth,C=m.strideHeight,M=m.strideWidth,A=m.inChannels,O="SAME"===m.padInfo.type?1:0,F=m.batchSize,R=m.inHeight,D=m.inWidth;if("NHWC"!==d)throw new Error("wasm backend FusedConv2D does not support dataFormat:'"+"".concat(d,"'. Please use 'NHWC'."));const P=r.makeOutput(m.outShape,"float32"),L=r.dataIdMap.get(P.dataId).id,z=null==s?0:r.dataIdMap.get(s.dataId).id;return Ww(v,F,R,D,y,k,S,w,x,I,_,E,O,T,N,C,M,A,b,g,z,f||0,L),P}};let jw;const Hw={kernelName:ds,backendName:"wasm",setupFunc:function(e){jw=e.wasm.cwrap(ds,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{x:a,filter:o,bias:i,preluActivationWeights:s}=t,{strides:l,pad:u,dilations:c,dataFormat:d,dimRoundingMode:p,activation:h,leakyreluAlpha:f}=n,m=ld(a.shape,o.shape,l,c,u,p,!0),g=Cy[h];if(null==g)throw new Error("".concat(h," activation not yet supported for FusedDepthwiseConv2D ")+"in the wasm backend.");const v=r.dataIdMap.get(a.dataId).id,y=r.dataIdMap.get(o.dataId).id,b=m.outChannels;let w=0;if(null!=i){const e=r.dataIdMap.get(i.dataId);if(1!==e.shape.length)throw new Error("FusedDepthwiseConv2D only supports rank-1 bias but got "+"rank ".concat(e.shape.length,"."));if(e.shape[0]!==b)throw new Error("FusedDepthwiseConv2D bias shape (".concat(e.shape,") does not ")+"match the number of output channels (".concat(b,")"));w=e.id}const k=m.filterHeight,S=m.filterWidth,x=m.padInfo.top,I=m.padInfo.right,_=m.padInfo.bottom,E=m.padInfo.left,T=m.dilationHeight,N=m.dilationWidth,C=m.strideHeight,M=m.strideWidth,A=m.inChannels,O="SAME"===m.padInfo.type?1:0,F=m.batchSize,R=m.inHeight,D=m.inWidth;if("NHWC"!==d)throw new Error("wasm backend FusedDepthwiseConv2D does not support dataFormat:'"+"".concat(d,"'. Please use 'NHWC'."));const P=r.makeOutput(m.outShape,"float32"),L=r.dataIdMap.get(P.dataId).id,z=null==s?0:r.dataIdMap.get(s.dataId).id;return jw(v,F,R,D,y,k,S,w,x,I,_,E,O,T,N,C,M,A,b,g,z,f||0,L),P}};let Vw;const qw={kernelName:ho,backendName:"wasm",setupFunc:function(e){Vw=e.wasm.cwrap(ho,null,["number","number","number","number","number","number","array","number"])},kernelFunc:function(e){const{backend:t,inputs:n}=e,{params:r,indices:a}=n,[o,i,s,l]=zc(r,a),u=t.makeOutput(o,r.dtype);if(0===i)return u;const c=a.shape,d=c[c.length-1],p=t.dataIdMap.get(r.dataId).id,h=t.dataIdMap.get(a.dataId).id,f=new Uint8Array(new Int32Array(l).buffer),m=t.dataIdMap.get(u.dataId).id;return Vw(p,Ny[r.dtype],h,i,d,s,f,m),u}};let Gw;const Kw={kernelName:po,backendName:"wasm",setupFunc:function(e){Gw=e.wasm.cwrap("Gather",null,["number","number","array","number","number","number","array","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{x:a,indices:o}=n,{axis:i,batchDims:s}=r,l=Mr(i,a.shape)[0],u=t.readSync(o.dataId),c=a.shape[l];for(let x=0;x<u.length;++x){const e=u[x];Sr(e<=c-1&&e>=0,()=>"GatherV2: the index value ".concat(e," is not in [0, ").concat(c-1,"]"))}const d=Bg(a,o,l,s),p=kb({inputs:{x:a},attrs:{shape:[d.batchSize,d.outerSize,d.dimSize,d.sliceSize]},backend:t}),h=_r(o.shape),f=kb({inputs:{x:o},attrs:{shape:[d.batchSize,h/d.batchSize]},backend:t}),m=[d.batchSize,d.outerSize,h/d.batchSize,d.sliceSize],g=t.makeOutput(m,a.dtype);if(0===_r(a.shape))return g;const v=p.shape.length-1,y=t.dataIdMap.get(p.dataId).id,b=t.dataIdMap.get(f.dataId).id,w=t.dataIdMap.get(g.dataId).id,k=new Uint8Array(new Int32Array(Lr(p.shape)).buffer),S=new Uint8Array(new Int32Array(Lr(m)).buffer);return Gw(y,Ny[a.dtype],k,v,b,d.batchSize,S,w),t.disposeData(p.dataId),t.disposeData(f.dataId),g.shape=d.outputShape,g}},$w=qy(fo,0,"bool"),Yw=qy(mo,0,"bool"),Qw=Uy(bo,"bool"),Xw=Uy(wo,"bool"),Jw=Uy(ko,"bool");let Zw;const ek={kernelName:So,backendName:"wasm",setupFunc:function(e){Zw=e.wasm.cwrap(So,null,["number","number","number","number"])},kernelFunc:function(e){const{inputs:{x:t},attrs:{alpha:n},backend:r}=e,a=r.dataIdMap.get(t.dataId).id,o=r.makeOutput(t.shape,"float32");if(0!==_r(t.shape)){const e=r.dataIdMap.get(o.dataId).id;Zw(a,Ny[t.dtype],n,e)}return o}},tk=qy(xo,0,"bool"),nk=qy(Io,0,"bool");let rk;const ak={kernelName:_o,backendName:"wasm",setupFunc:function(e){rk=e.wasm.cwrap(_o,null,["number","number","number","number"])},kernelFunc:function(e){const{attrs:t,backend:n}=e,{start:r,stop:a,num:o}=t,i=Math.floor(o),s=n.makeOutput([i],"float32");return rk(n.dataIdMap.get(s.dataId).id,r,a,i),s}},ok=Uy(Eo),ik=Uy(To),sk=qy(No,0,"bool"),lk=Uy(Co),uk=qy(Mo,0,"bool"),ck=qy("LogicalXor",0,"bool");let dk;const pk={kernelName:Ao,backendName:"wasm",setupFunc:function(e){dk=e.wasm.cwrap(Ao,null,["number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{depthRadius:o,bias:i,alpha:s,beta:l}=r;if("float32"!==a.dtype)throw new Error("LRN error: x must have dtype float32");const u=n.makeOutput(a.shape,a.dtype);return dk(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(u.dataId).id,a.shape[3],o,i,s,l),u}};let hk;const fk={kernelName:Oo,backendName:"wasm",setupFunc:function(e){hk=e.wasm.cwrap(Oo,null,["number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,y:o,dy:i}=t,{depthRadius:s,bias:l,alpha:u,beta:c}=r;if("float32"!==a.dtype||"float32"!==o.dtype||"float32"!==i.dtype)throw new Error("LRNGrad error: x, y, and dy must have dtype float32");const d=n.makeOutput(a.shape,a.dtype);return hk(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(i.dataId).id,n.dataIdMap.get(d.dataId).id,i.shape[3],s,l,u,c),d}};let mk;const gk={kernelName:Fo,backendName:"wasm",setupFunc:function(e){mk=e.wasm.cwrap(Fo,null,["number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{reductionIndices:a,keepDims:o}=r,{x:i}=n;let s=t.dataIdMap.get(i.dataId).id,l=i;const{transposed:u,axes:c,originalAxes:d,inputWasTransposed:p}=eb(i,a,t);if(p){l=u,s=t.dataIdMap.get(u.dataId).id}vp("max",c,l.shape.length);const[h,f]=mp(l.shape,c),m=_r(f),g=t.makeOutput(h,i.dtype);if(0!==_r(l.shape)){const e=t.dataIdMap.get(g.dataId).id;mk(s,Ny[i.dtype],m,e)}if(p&&t.disposeData(u.dataId),o){const e=gp(g.shape,d);g.shape=e}return g}},vk=qy(Ro);let yk;const bk={kernelName:Do,backendName:"wasm",setupFunc:function(e){yk=e.wasm.cwrap(Do,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,a=t.x,o=r.dataIdMap.get(a.dataId).id;Sr("float32"===a.dtype,()=>"Error in MaxPool: only float32 input is supported. Got ".concat(a.dtype,"."));const{filterSize:i,strides:s,pad:l,dimRoundingMode:u}=n,c=id(a.shape,i,s,1,l,u),d=c.filterHeight,p=c.filterWidth,h=c.padInfo.top,f=c.padInfo.right,m=c.padInfo.bottom,g=c.padInfo.left,v=c.dilationHeight,y=c.dilationWidth,b=c.strideHeight,w=c.strideWidth,k=c.inChannels,S=c.outChannels;if("channelsLast"!==c.dataFormat)throw new Error("wasm backend does not support dataFormat:'"+"".concat(c.dataFormat,"'. Please use 'channelsLast'."));const x=r.makeOutput(c.outShape,"float32"),I=r.dataIdMap.get(x.dataId).id;return yk(o,a.shape[0],a.shape[1],a.shape[2],d,p,h,f,m,g,v,y,b,w,k,S,I),x}};let wk;const kk={kernelName:Lo,backendName:"wasm",setupFunc:function(e){wk=e.wasm.cwrap("MaxPool3D",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{filterSize:o,strides:i,pad:s,dimRoundingMode:l,dataFormat:u}=r,c=sd(a.shape,o,i,1,s,l,u),d=n.makeOutput(c.outShape,a.dtype);return wk(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(d.dataId).id,c.batchSize,c.inChannels,c.inDepth,c.inHeight,c.inWidth,c.outDepth,c.outHeight,c.outWidth,c.strideDepth,c.strideHeight,c.strideWidth,c.dilationDepth,c.dilationHeight,c.dilationWidth,c.effectiveFilterDepth,c.effectiveFilterHeight,c.effectiveFilterWidth,c.padInfo.front,c.padInfo.top,c.padInfo.left),d}};let Sk;const xk={kernelName:zo,backendName:"wasm",setupFunc:function(e){Sk=e.wasm.cwrap("MaxPool3DGrad",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:o}=t,{filterSize:i,strides:s,pad:l,dimRoundingMode:u}=r,c=sd(o.shape,i,s,1,l,u),d=n.makeOutput(o.shape,o.dtype);return Sk(n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(d.dataId).id,c.batchSize,c.inChannels,c.inDepth,c.inHeight,c.inWidth,c.outDepth,c.outHeight,c.outWidth,c.strideDepth,c.strideHeight,c.strideWidth,c.dilationDepth,c.dilationHeight,c.dilationWidth,c.effectiveFilterDepth,c.effectiveFilterHeight,c.effectiveFilterWidth,c.padInfo.front,c.padInfo.top,c.padInfo.left),d}};let Ik;const _k={kernelName:Po,backendName:"wasm",setupFunc:function(e){Ik=e.wasm.cwrap("MaxPoolGrad",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:o}=t,{filterSize:i,strides:s,pad:l,dimRoundingMode:u}=r,c=id(o.shape,i,s,1,l,u),d=n.makeOutput(o.shape,o.dtype);return Ik(n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(d.dataId).id,c.batchSize,c.inChannels,c.inHeight,c.inWidth,c.outHeight,c.outWidth,c.strideHeight,c.strideWidth,c.dilationHeight,c.dilationWidth,c.effectiveFilterHeight,c.effectiveFilterWidth,c.padInfo.top,c.padInfo.left),d}};let Ek;const Tk={kernelName:Bo,backendName:"wasm",setupFunc:function(e){Ek=e.wasm.cwrap("MaxPoolWithArgmax",null,["number","number","number","number","boolean","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{filterSize:o,strides:i,pad:s,includeBatchInIndex:l}=r;Sr(4===a.shape.length,()=>"Error in maxPool: input must be rank 4 but got rank ".concat(a.shape.length,"."));const u=[1,1];Sr(gd(i,u),()=>"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(i," and dilations '").concat(u,"'"));const c=id(a.shape,o,i,[1,1],s),d=n.makeOutput(c.outShape,a.dtype),p=n.makeOutput(c.outShape,"int32");return Ek(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(d.dataId).id,n.dataIdMap.get(p.dataId).id,Ny[a.dtype],l,c.batchSize,c.inChannels,c.inHeight,c.inWidth,c.outHeight,c.outWidth,c.strideHeight,c.strideWidth,c.dilationHeight,c.dilationWidth,c.effectiveFilterHeight,c.effectiveFilterWidth,c.padInfo.top,c.padInfo.left),[d,p]}};let Nk;const Ck={kernelName:Wo,backendName:"wasm",setupFunc:function(e){Nk=e.wasm.cwrap(Wo,null,["number, number, number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{axis:a,keepDims:o}=r,{x:i}=n,s=t.dataIdMap.get(i.dataId).id;let l=s,u=i;const{transposed:c,axes:d,originalAxes:p,inputWasTransposed:h}=eb(i,a,t);let f=d;if(h){const e=t.dataIdMap.get(c.dataId).id;e!==s&&(u=c,l=e,f=wp(f.length,u.shape.length))}vp("mean",f,u.shape.length);const[m,g]=mp(u.shape,f),v=_r(g);let y=u;"float32"!==u.dtype&&(y=Pb({backend:t,inputs:{x:u},attrs:{dtype:"float32"}}),l=t.dataIdMap.get(y.dataId).id);const b=t.makeOutput(m,"float32");if(0!==_r(u.shape)){const e=t.dataIdMap.get(b.dataId).id;Nk(l,v,e)}if(h&&t.disposeData(c.dataId),o){const e=gp(b.shape,p);b.shape=e}return"float32"!==u.dtype&&t.disposeData(y.dataId),b}};let Mk;const Ak={kernelName:Uo,backendName:"wasm",setupFunc:function(e){Mk=e.wasm.cwrap(Uo,null,["number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{axis:a,keepDims:o}=r,{x:i}=n,s=t.dataIdMap.get(i.dataId).id;let l=s,u=i;const{transposed:c,axes:d,originalAxes:p,inputWasTransposed:h}=eb(i,a,t);if(h){const e=t.dataIdMap.get(c.dataId).id;e!==s&&(u=c,l=e)}vp("min",d,u.shape.length);const[f,m]=mp(u.shape,d),g=_r(m),v=t.makeOutput(f,u.dtype);if(0!==_r(u.shape)){const e=t.dataIdMap.get(v.dataId).id;Mk(l,Ny[i.dtype],g,e)}if(h&&t.disposeData(c.dataId),o){const e=gp(v.shape,p);v.shape=e}return v}},Ok=qy(jo);var Fk;let Rk;!function(e){e[e.reflect=0]="reflect",e[e.symmetric=1]="symmetric"}(Fk||(Fk={}));const Dk={kernelName:Ho,backendName:"wasm",kernelFunc:function(e){const{inputs:{x:t},backend:n,attrs:{paddings:r,mode:a}}=e,o=r.map((e,n)=>e[0]+t.shape[n]+e[1]),i=n.dataIdMap.get(t.dataId).id,s=n.makeOutput(o,t.dtype),l=n.dataIdMap.get(s.dataId).id,u=new Uint8Array(new Int32Array(t.shape).buffer),c=r.map(e=>e[0]),d=r.map(e=>e[1]),p=new Uint8Array(new Int32Array(c).buffer),h=new Uint8Array(new Int32Array(d).buffer);return Rk(i,u,t.shape.length,Ny[t.dtype],p,h,Fk[a],l),s},setupFunc:function(e){Rk=e.wasm.cwrap(Ho,null,["number","array","number","number","array","array","number","number"])}};let Pk;function Lk(e){const{backend:t,inputs:{logits:n},attrs:{dim:r}}=e,a=t.dataIdMap.get(n.dataId).id,o=t.makeOutput(n.shape,n.dtype),i=t.dataIdMap.get(o.dataId).id,s=n.shape[r],l=_r(n.shape)/s;return 0===_r(o.shape)||Pk(a,i,s,l),o}const zk={kernelName:Pi,backendName:"wasm",setupFunc:function(e){Pk=e.wasm.cwrap(Pi,null,["number","number","number","number"])},kernelFunc:Lk};let Bk;const Wk={kernelName:qo,backendName:"wasm",setupFunc:function(e){Bk=e.wasm.cwrap(qo,null,["number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{logits:a}=t,{numSamples:o,seed:i,normalized:s}=r;if("float32"!==a.dtype)throw new Error("Tensor logits must have dtype float32, got ".concat(a.dtype));const l=s?a:Lk({inputs:{logits:a},backend:n,attrs:{dim:a.shape.length-1}}),[u,c]=l.shape,d=n.makeOutput([u,o],"int32");return Bk(n.dataIdMap.get(l.dataId).id,u,c,o,i,n.dataIdMap.get(d.dataId).id),s||n.disposeData(l.dataId),d}},Uk=qy(Vo),jk=qy(Go),Hk=Uy(Ko);function Vk(e,t){const n=new Int32Array(e.wasm.HEAPU8.buffer,t,4),r=n[0],a=n[1],o=n[2],i=n[3];return e.wasm._free(t),{pSelectedIndices:r,selectedSize:a,pSelectedScores:o,pValidOutputs:i}}let qk;const Gk={kernelName:Yo,backendName:"wasm",setupFunc:function(e){qk=e.wasm.cwrap(Yo,"number",["number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{iouThreshold:a,maxOutputSize:o,scoreThreshold:i}=r,{boxes:s,scores:l}=n,u=t.dataIdMap.get(s.dataId).id,c=t.dataIdMap.get(l.dataId).id,d=qk(u,c,o,a,i),{pSelectedIndices:p,selectedSize:h,pSelectedScores:f,pValidOutputs:m}=Vk(t,d);return t.wasm._free(f),t.wasm._free(m),t.makeOutput([h],"int32",p)}};let Kk;const $k={kernelName:Qo,backendName:"wasm",setupFunc:function(e){Kk=e.wasm.cwrap(Qo,"number",["number","number","number","number","number","bool"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{iouThreshold:a,maxOutputSize:o,scoreThreshold:i,padToMaxOutputSize:s}=r,{boxes:l,scores:u}=n,c=t.dataIdMap.get(l.dataId).id,d=t.dataIdMap.get(u.dataId).id,p=Kk(c,d,o,a,i,s),{pSelectedIndices:h,selectedSize:f,pSelectedScores:m,pValidOutputs:g}=Vk(t,p);return t.wasm._free(m),[t.makeOutput([f],"int32",h),t.makeOutput([],"int32",g)]}};let Yk;const Qk={kernelName:Xo,backendName:"wasm",setupFunc:function(e){Yk=e.wasm.cwrap(Xo,"number",["number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{iouThreshold:a,maxOutputSize:o,scoreThreshold:i,softNmsSigma:s}=r,{boxes:l,scores:u}=n,c=t.dataIdMap.get(l.dataId).id,d=t.dataIdMap.get(u.dataId).id,p=Yk(c,d,o,a,i,s),{pSelectedIndices:h,selectedSize:f,pSelectedScores:m,pValidOutputs:g}=Vk(t,p);return t.wasm._free(g),[t.makeOutput([f],"int32",h),t.makeOutput([f],"float32",m)]}},Xk=qy($o,0,"bool");let Jk;const Zk={kernelName:Zo,backendName:"wasm",setupFunc:function(e){Jk=e.wasm.cwrap(Zo,null,["number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{indices:a}=t,{dtype:o,depth:i,onValue:s,offValue:l}=r,u=n.makeOutput([...a.shape,i],o),c=n.dataIdMap.get(u.dataId).id,d=n.dataIdMap.get(a.dataId).id;return Jk(d,i,s,l,c),u}};const eS={kernelName:Jo,backendName:"wasm",kernelFunc:function(e){const{inputs:{x:t},backend:n}=e,r=n.makeOutput(t.shape,t.dtype);return n.typedArrayFromHeap(r).fill(1),r}};const tS={kernelName:ei,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{axis:a}=r;if(1===t.length)return Cw({inputs:{input:t[0]},backend:n,attrs:{dim:a}});const o=t[0].shape,i=t[0].dtype;t.forEach(e=>{xr(o,e.shape,"All tensors passed to stack must have matching shapes"),Sr(i===e.dtype,()=>"All tensors passed to stack must have matching dtypes")});const s=[],l=t.map(e=>{const t=Cw({inputs:{input:e},backend:n,attrs:{dim:a}});return s.push(t),t}),u=jb({inputs:l,backend:n,attrs:{axis:a}});return s.forEach(e=>n.disposeData(e.dataId)),u}};let nS;const rS={kernelName:ti,backendName:"wasm",kernelFunc:function(e){const{inputs:{x:t},backend:n,attrs:{paddings:r,constantValue:a}}=e,o=r.map((e,n)=>e[0]+t.shape[n]+e[1]);if(0===_r(t.shape))return Ow({backend:n,attrs:{shape:o,value:a,dtype:t.dtype}});const i=n.dataIdMap.get(t.dataId).id,s=n.makeOutput(o,t.dtype),l=n.dataIdMap.get(s.dataId).id,u=new Uint8Array(new Int32Array(t.shape).buffer),c=r.map(e=>e[0]),d=r.map(e=>e[1]),p=new Uint8Array(new Int32Array(c).buffer),h=new Uint8Array(new Int32Array(d).buffer);return nS(i,u,t.shape.length,Ny[t.dtype],p,h,a,l),s},setupFunc:function(e){nS=e.wasm.cwrap(ti,null,["number","array","number","number","array","array","number","number"])}},aS=qy(ni);let oS;const iS={kernelName:ri,backendName:"wasm",setupFunc:function(e){oS=e.wasm.cwrap(ri,null,["number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r,alpha:a}=t,o=n.dataIdMap.get(r.dataId).id,i=n.dataIdMap.get(a.dataId).id;let s=o;const l=r;let u=l;"float32"!==l.dtype&&(u=Pb({backend:n,inputs:{x:r},attrs:{dtype:"float32"}}),s=n.dataIdMap.get(u.dataId).id);const c=n.makeOutput(r.shape,"float32"),d=n.dataIdMap.get(c.dataId).id;return oS(s,i,d),"float32"!==l.dtype&&n.disposeData(u.dataId),c}};let sS;const lS={kernelName:ai,backendName:"wasm",setupFunc:function(e){sS=e.wasm.cwrap(ai,null,["number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{axis:a,keepDims:o}=r,{x:i}=n,s=t.dataIdMap.get(i.dataId).id;let l=s,u=i;const{transposed:c,axes:d,originalAxes:p,inputWasTransposed:h}=eb(i,a,t);let f=d;if(h){const e=t.dataIdMap.get(c.dataId).id;e!==s&&(u=c,l=e,f=wp(f.length,u.shape.length))}vp("prod",f,u.shape.length);const[m,g]=mp(u.shape,f),v=_r(g),y=t.makeOutput(m,u.dtype);if(0!==_r(u.shape)){const e=t.dataIdMap.get(y.dataId).id;sS(l,v,Ny[y.dtype],e)}if(h&&t.disposeData(c.dataId),o){const e=gp(y.shape,p);y.shape=e}return y}};function uS(e,t,n,r){if(e===t||e<t&&n<0||t<e&&n>1)return Ur(0,r);const a=Ur(Math.abs(Math.ceil((t-e)/n)),r);t<e&&1===n&&(n=-1),a[0]=e;for(let o=1;o<a.length;o++)a[o]=a[o-1]+n;return a}const cS={kernelName:li,backendName:"wasm",kernelFunc:e=>{const{backend:t,attrs:n}=e,{start:r,stop:a,step:o,dtype:i}=n,s=uS(r,a,o,i),l=t.makeOutput([s.length],i);return t.typedArrayFromHeap(l).set(s),l}},dS=qy(Xa),pS=Uy(ci),hS=Uy(di),fS=Uy(vi);let mS;const gS={kernelName:mi,backendName:"wasm",setupFunc:function(e){mS=e.wasm.cwrap(mi,null,["number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{images:a}=n,{alignCorners:o,halfPixelCenters:i,size:s}=r,[l,u]=s,[c,d,p,h]=a.shape,f=[c,l,u,h];let m,g=t.dataIdMap.get(a.dataId);"float32"!==g.dtype&&(m=Pb({backend:t,inputs:{x:a},attrs:{dtype:"float32"}}),g=t.dataIdMap.get(m.dataId));const v=g.id,y=t.makeOutput(f,"float32");if(0===_r(a.shape))return y;const b=t.dataIdMap.get(y.dataId).id;return mS(v,c,d,p,h,l,u,o?1:0,i?1:0,b),null!=m&&t.disposeData(m.dataId),y}};let vS;const yS={kernelName:gi,backendName:"wasm",setupFunc:function(e){vS=e.wasm.cwrap(gi,null,["number","number","number","array","array","boolean"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:a,dy:o}=t,{alignCorners:i}=r,s=n.makeOutput(a.shape,"float32");let l,u=n.dataIdMap.get(a.dataId);return"float32"!==u.dtype&&(l=Pb({backend:n,inputs:{x:a},attrs:{dtype:"float32"}}),u=n.dataIdMap.get(l.dataId)),vS(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(s.dataId).id,new Uint8Array(new Int32Array(a.shape).buffer),new Uint8Array(new Int32Array(o.shape).buffer),i),null!=l&&n.disposeData(l.dataId),s}};let bS;const wS={kernelName:hi,backendName:"wasm",setupFunc:function(e){bS=e.wasm.cwrap(hi,null,["number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{images:a}=n,{alignCorners:o,halfPixelCenters:i,size:s}=r,[l,u]=s,[c,d,p,h]=a.shape,f=[c,l,u,h],m=t.makeOutput(f,"float32");if(0===_r(a.shape))return m;let g,v=t.dataIdMap.get(a.dataId);"float32"!==v.dtype&&(g=Pb({backend:t,inputs:{x:a},attrs:{dtype:"float32"}}),v=t.dataIdMap.get(g.dataId));const y=v.id,b=t.dataIdMap.get(m.dataId).id;return bS(y,c,d,p,h,l,u,o?1:0,i?1:0,b),null!=g&&t.disposeData(g.dataId),m}};let kS;const SS={kernelName:fi,backendName:"wasm",setupFunc:function(e){kS=e.wasm.cwrap(fi,null,["number","number","number","array","array","boolean"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:a,dy:o}=t,{alignCorners:i}=r,s=n.makeOutput(a.shape,"float32");let l,u=n.dataIdMap.get(a.dataId);return"float32"!==u.dtype&&(l=Pb({backend:n,inputs:{x:a},attrs:{dtype:"float32"}}),u=n.dataIdMap.get(l.dataId)),kS(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(s.dataId).id,new Uint8Array(new Int32Array(a.shape).buffer),new Uint8Array(new Int32Array(o.shape).buffer),i),null!=l&&n.disposeData(l.dataId),s}};let xS;const IS={kernelName:yi,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{dims:o}=r,i=Mr(o,a.shape);if(0===a.shape.length)return Yy({inputs:{x:a},backend:n});const s=n.makeOutput(a.shape,a.dtype),l=n.dataIdMap.get(a.dataId).id,u=n.dataIdMap.get(s.dataId).id,c=new Uint8Array(new Int32Array(i).buffer),d=new Uint8Array(new Int32Array(a.shape).buffer);xS(l,c,i.length,d,a.shape.length,u);const p=kb({inputs:{x:s},attrs:{shape:a.shape},backend:n});return n.disposeData(s.dataId),p},setupFunc:function(e){xS=e.wasm.cwrap(yi,null,["number","array","number","array","number","number"])}};let _S;const ES={kernelName:ls,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{image:a}=t,{radians:o,fillValue:i,center:s}=r,l=n.makeOutput(a.shape,a.dtype),u=n.dataIdMap.get(a.dataId).id,c=n.dataIdMap.get(l.dataId).id,[d,p,h,f]=a.shape,[m,g]=hg(s,p,h),v="number"===typeof i?[i,i,i,0===i?0:255]:[...i,255],y=new Uint8Array(new Int32Array(v).buffer);return _S(u,d,p,h,f,o,m,g,y,v.length,c),l},setupFunc:function(e){_S=e.wasm.cwrap(ls,null,["number","number","number","number","number","number","number","number","array","number","number"])}},TS=Uy(bi),NS=Uy(wi);let CS;const MS={kernelName:ki,backendName:"wasm",setupFunc:function(e){CS=e.wasm.cwrap(ki,null,["number","number","number","number","number","number","array","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{indices:a,updates:o}=n,{shape:i}=r,s=t.makeOutput(i,o.dtype);if(0===_r(i))return s;const{sliceRank:l,numUpdates:u,sliceSize:c,strides:d,outputSize:p}=Wc(0,a,i),h=t.dataIdMap.get(a.dataId).id,f=t.dataIdMap.get(o.dataId).id,m=new Uint8Array(new Int32Array(d).buffer),g=t.dataIdMap.get(s.dataId).id;return CS(h,f,Ny[o.dtype],l,u,c,m,p,g),s}};let AS;const OS={kernelName:xi,backendName:"wasm",setupFunc:function(e){AS=e.wasm.cwrap(xi,null,["number","number","number","number","number","number","bool","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{sortedSequence:a,values:o}=t,{side:i}=r;if(a.dtype!==o.dtype)throw new Error("SearchSorted error: sorted_sequence must have the same dtype as values. Got ".concat(a.dtype," and ").concat(o.dtype));const s=n.makeOutput(o.shape,"int32");function l(e){return n.dataIdMap.get(e.dataId).id}return AS(l(a),l(o),a.shape[0],a.shape[1],o.shape[1],Ny[a.dtype],"left"===i,l(s)),s}};let FS;const RS={kernelName:Ii,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n}=e,{condition:r,t:a,e:o}=t,i=n.dataIdMap.get(r.dataId).id,s=n.dataIdMap.get(a.dataId).id,l=n.dataIdMap.get(o.dataId).id,u=n.makeOutput(a.shape,a.dtype),c=n.dataIdMap.get(u.dataId).id,d=r.shape.length,p=a.shape.length,h=0===d||d>1||1===p?1:_r(a.shape.slice(1));return FS(i,s,l,h,c),u},setupFunc:function(e){FS=e.wasm.cwrap("SelectV2",null,["number","number","number","number","number"])}},DS=Uy(_i);let PS;const LS={kernelName:"Sigmoid",backendName:"wasm",setupFunc:function(e){PS=e.wasm.cwrap(Mi,null,["number","number"])},kernelFunc:function(e){const{backend:t,inputs:{x:n}}=e,r=t.dataIdMap.get(n.dataId).id,a=t.makeOutput(n.shape,n.dtype),o=t.dataIdMap.get(a.dataId).id;return 0===_r(a.shape)||PS(r,o),a}},zS=Uy(Ci),BS=Uy(Ti),WS=Uy(Ni),US=Uy(Ai);const jS={kernelName:Ri,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockShape:o,paddings:i}=r,s=_r(o),l=[[0,0]];l.push(...i);for(let g=1+o.length;g<a.shape.length;++g)l.push([0,0]);const u=rS.kernelFunc({inputs:{x:a},backend:n,attrs:{paddings:l,constantValue:0}}),c=fg(u.shape,o,s,!1),d=mg(c.length,o.length,!1),p=gg(u.shape,o,s,!1),h=kb({inputs:{x:u},backend:n,attrs:{shape:c}}),f=Jy({inputs:{x:h},backend:n,attrs:{perm:d}}),m=kb({inputs:{x:f},backend:n,attrs:{shape:p}});return n.disposeData(u.dataId),n.disposeData(h.dataId),n.disposeData(f.dataId),m}};let HS;const VS={kernelName:Li,backendName:"wasm",setupFunc:function(e){HS=e.wasm.cwrap("SparseFillEmptyRows","number",["number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n}=e,{indices:r,values:a,denseShape:o,defaultValue:i}=n,s=r.shape[0],l=r.shape[1],u=t.readSync(o.dataId)[0],c=[s+u,l],d=t.dataIdMap.get(r.dataId).id,p=t.dataIdMap.get(a.dataId).id,h=t.dataIdMap.get(i.dataId).id,f=t.makeOutput(c,r.dtype),m=t.dataIdMap.get(f.dataId).id,g=t.makeOutput(c.slice(0,1),a.dtype),v=t.dataIdMap.get(g.dataId).id,y=t.makeOutput([u],"bool"),b=t.dataIdMap.get(y.dataId).id,w=t.makeOutput([s],r.dtype),k=t.dataIdMap.get(w.dataId).id,S=t.makeOutput([4],"int32"),x=t.dataIdMap.get(S.dataId).id,I=HS(d,p,Ny[a.dtype],s,u,l,h,m,v,b,k,x),_=t.readSync(S.dataId);let E;switch(_[0]){case 1:E=Cg(_[1]);break;case 2:E=Mg(_[1],_[2]);break;case 3:E=Ag(_[1],_[2],_[3]);break;default:E=""}if(t.disposeData(S.dataId),E)throw t.disposeData(f.dataId),t.disposeData(g.dataId),t.disposeData(y.dataId),t.disposeData(w.dataId),new Error(E);let T=f,N=g;return I!==c[0]&&(T=Cb({inputs:{x:f},attrs:{begin:0,size:[I,l]},backend:t}),N=Cb({inputs:{x:g},attrs:{begin:0,size:I},backend:t}),t.disposeData(f.dataId),t.disposeData(g.dataId)),[T,N,y,w]}};let qS;const GS={kernelName:zi,backendName:"wasm",setupFunc:function(e){qS=e.wasm.cwrap(zi,null,["number","number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n}=e,{inputIndices:r,inputShape:a,newShape:o}=n;if(2!==r.shape.length)throw new Error("Input indices should be a matrix but received shape\n        ".concat(r.shape));if(1!==a.shape.length)throw new Error("Input shape should be a vector but received shape\n        ".concat(a.shape));if(1!==o.shape.length)throw new Error("Target shape should be a vector but received shape ".concat(o.shape));const i=t.dataIdMap.get(r.dataId).id,s=t.dataIdMap.get(a.dataId).id,l=t.dataIdMap.get(o.dataId).id,u=r.shape[0],c=_r(o.shape),d=t.makeOutput([u,c],r.dtype),p=t.dataIdMap.get(d.dataId).id,h=t.makeOutput([c],o.dtype),f=t.dataIdMap.get(h.dataId).id,m=t.makeOutput([3],"int32"),g=t.dataIdMap.get(m.dataId).id;qS(i,s,l,u,p,f,g);const v=t.readSync(m.dataId);let y;switch(v[0]){case 0:y=Og(v[1],v[2]);break;case 1:y=Fg(v[1],v[2]);break;case 2:y="reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero";break;case 3:y=Rg(Array.from(t.readSync(a.dataId)),Array.from(t.readSync(h.dataId)));break;case 4:y=Dg(Array.from(t.readSync(a.dataId)),Array.from(t.readSync(h.dataId)));break;default:y=""}if(t.disposeData(m.dataId),y)throw t.disposeData(d.dataId),t.disposeData(h.dataId),new Error(y);return[d,h]}};let KS;function $S(e){KS=e.wasm.cwrap("SparseSegmentReduction",null,["number","number","number","number","number","number","number","number","number"])}function YS(e,t){const{backend:n,inputs:r}=e,{data:a,indices:o,segmentIds:i}=r,s=o.shape[0],l=n.readSync(i.dataId,s-1,s)[0],u=s>0?l+1:0;if(u<0)throw new Error("segment ids must be >= 0");const c=a.shape.slice();c[0]=u;const d=n.dataIdMap.get(a.dataId).id,p=n.dataIdMap.get(o.dataId).id,h=n.dataIdMap.get(i.dataId).id,f=n.makeOutput(c,a.dtype),m=n.dataIdMap.get(f.dataId).id,g=n.makeOutput([4],"int32"),v=n.dataIdMap.get(g.dataId).id;KS(d,Ny[a.dtype],a.shape[0],p,h,m,v,t,0);const y=n.readSync(g.dataId);let b;switch(y[0]){case 0:b="segment ids must be >= 0";break;case 1:b="segment ids are not increasing";break;case 2:b=Lg(y[1],y[2]);break;case 3:b=zg(y[1],y[2],y[3]);break;default:b=""}if(n.disposeData(g.dataId),b)throw n.disposeData(f.dataId),new Error(b);return f}const QS={kernelName:Bi,backendName:"wasm",setupFunc:$S,kernelFunc:function(e){return YS(e,!0)}};const XS={kernelName:Wi,backendName:"wasm",setupFunc:$S,kernelFunc:function(e){return YS(e,!1)}};let JS;const ZS={kernelName:Ui,backendName:"wasm",setupFunc:function(e){JS=e.wasm.cwrap(Ui,null,["number","number","number","number","number","number","number","number","array","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{sparseIndices:a,sparseValues:o,defaultValue:i}=n,{outputShape:s}=r,l=t.makeOutput(s,i.dtype);if(0===_r(s))return l;const{sliceRank:u,numUpdates:c,sliceSize:d,strides:p,outputSize:h}=Wc(0,a,s),f=t.dataIdMap.get(a.dataId).id,m=t.dataIdMap.get(o.dataId).id,g=t.dataIdMap.get(i.dataId).id,v=new Uint8Array(new Int32Array(p).buffer),y=t.dataIdMap.get(l.dataId).id;return JS(f,m,o.shape.length,g,Ny[i.dtype],u,c,d,v,h,y),l}};const ex={kernelName:Di,backendName:"wasm",kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{x:a}=t,{numOrSizeSplits:o,axis:i}=n,s=Mr(i,a.shape)[0],l=Ng(a,o,s),u=new Array(a.shape.length).fill(0),c=a.shape.slice();return l.map(e=>{const t=[...c];t[s]=e;const n=Cb({inputs:{x:a},attrs:{begin:u,size:t},backend:r});return u[s]+=e,n})}},tx=Uy(Oi),nx=Uy(Hi),rx=qy(ji);let ax;const ox={kernelName:is,backendName:"wasm",setupFunc:function(e){ax=e.wasm.cwrap(is,null,["number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{alpha:a}=r,{x:o}=n,i=t.dataIdMap.get(o.dataId).id,s=t.makeOutput(o.shape,o.dtype),l=t.dataIdMap.get(s.dataId).id;return ax(i,a,Ny[o.dtype],l),s}};let ix;const sx={kernelName:qi,backendName:"wasm",setupFunc:function(e){ix=e.wasm.cwrap(qi,null,["number","array","number","array","array","array","array","array","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{x:a}=n,{begin:o,end:i,strides:s,beginMask:l,endMask:u,ellipsisMask:c,newAxisMask:d,shrinkAxisMask:p}=r,{finalShapeSparse:h,finalShape:f,isIdentity:m,sliceDim0:g,isSimpleSlice:v,begin:y,end:b,strides:w}=qc(a.shape,o,i,s,l,u,c,d,p);let k;if(m)k=kb({inputs:{x:a},backend:t,attrs:{shape:f}});else if(g||v){Sr(a.shape.length>=1,()=>"Input must have rank at least 1, got: ".concat(a.shape.length));const e=Uc(y,b,w),n=Cb({inputs:{x:a},backend:t,attrs:{begin:y,size:e}});k=kb({inputs:{x:n},backend:t,attrs:{shape:f}}),t.disposeData(n.dataId)}else{const e=t.makeOutput(h,"float32"),n=t.dataIdMap.get(a.dataId).id,r=new Uint8Array(new Int32Array(Lr(a.shape)).buffer),o=new Uint8Array(new Int32Array(y).buffer),i=new Uint8Array(new Int32Array(b).buffer),s=new Uint8Array(new Int32Array(w).buffer),l=new Uint8Array(new Int32Array(h).buffer),u=new Uint8Array(new Int32Array(Lr(h)).buffer),c=t.dataIdMap.get(e.dataId).id;ix(n,r,a.shape.length,o,i,s,l,u,h.length,c),k=kb({inputs:{x:e},backend:t,attrs:{shape:f}}),t.disposeData(e.dataId)}return k}};class lx{constructor(e,t,n,r,a,o){this.separator=zs(e),this.nGramWidths=t,this.leftPad=zs(n),this.rightPad=zs(r),this.padWidth=a,this.preserveShort=o}getPadWidth(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}getNumNGrams(e,t){const n=this.getPadWidth(t);return Math.max(0,e+2*n-t+1)}createNGrams(e,t,n,r,a,o){for(let i=0;i<a;++i){const s=this.getPadWidth(o),l=Math.max(0,s-i),u=Math.max(0,s-(a-(i+1))),c=o-(l+u),d=t+(l>0?0:i-s);let p=0;p+=l*this.leftPad.length;for(let t=0;t<c;++t)p+=e[d+t].length;p+=u*this.rightPad.length;p+=(l+u+c-1)*this.separator.length,n[r+i]=new Uint8Array(p);const h=n[r+i];let f=0;const m=e=>e.forEach(e=>h[f++]=e);for(let e=0;e<l;++e)m(this.leftPad),m(this.separator);for(let t=0;t<c-1;++t)m(e[d+t]),m(this.separator);if(c>0){m(e[d+c-1]);for(let e=0;e<u;++e)m(this.separator),m(this.rightPad)}else{for(let e=0;e<u-1;++e)m(this.rightPad),m(this.separator);m(this.rightPad)}}}compute(e,t){const n=e.length,r=t.length;if(r>0){let e=t[0];if(0!==e)throw new Error("First split value must be 0, got ".concat(e));for(let a=1;a<r;++a){let r=t[a]>=e;if(r=r&&t[a]<=n,!r)throw new Error("Invalid split value ".concat(t[a],", must be in [").concat(e,", ").concat(n,"]"));e=t[a]}if(e!==n)throw new Error("Last split value must be data size. Expected ".concat(n,", got ").concat(e))}const a=r-1,o=Or("int32",r);if(0===n||0===r){const e=new Array(n);for(let t=0;t<=a;++t)o[t]=0;return[e,o]}o[0]=0;for(let s=1;s<=a;++s){const e=t[s]-t[s-1];let n=0;this.nGramWidths.forEach(t=>{n+=this.getNumNGrams(e,t)}),this.preserveShort&&e>0&&0===n&&(n=1),o[s]=o[s-1]+n}const i=new Array(o[a]);for(let s=0;s<a;++s){const n=t[s];let r=o[s];if(this.nGramWidths.forEach(a=>{const o=t[s+1]-t[s],l=this.getNumNGrams(o,a);this.createNGrams(e,n,i,r,l,a),r+=l}),this.preserveShort&&r===o[s]){const a=t[s+1]-t[s];if(0===a)continue;const o=a+2*this.padWidth,l=1;this.createNGrams(e,n,i,r,l,o)}}return[i,o]}}function ux(e,t,n,r,a,o,i,s){return new lx(n,r,a,o,i,s).compute(e,t)}const cx={kernelName:Gi,backendName:"wasm",kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{data:a,dataSplits:o}=n,{separator:i,nGramWidths:s,leftPad:l,rightPad:u,padWidth:c,preserveShortSequences:d}=r,p=t.readSync(a.dataId),h=t.readSync(o.dataId),[f,m]=ux(p,h,i,s,l,u,c,d),g=t.makeOutput([f.length],"string");t.dataIdMap.get(g.dataId).stringBytes=f;const v=t.makeOutput(o.shape,"int32");return t.typedArrayFromHeap(v).set(m),[g,v]}};function dx(e,t,n,r){if(!e.length)return;if(0===t.length){for(let t=0;t<e.length;++t)r.push(e.subarray(t,t+1));return}if(1===t.length){const a=t[0];let o=e.indexOf(a);for(;-1!==o;){const t=e.subarray(0,o);n&&0===t.length||r.push(t),o=(e=e.subarray(o+1)).indexOf(a)}return void(n&&0===e.length||r.push(e))}let a=0;for(let o=0;o<e.length+1;o++)if(o===e.length||-1!==t.indexOf(e[o])){const t=e.subarray(a,o);n&&0===t.length||r.push(t),a=o+1}}function px(e,t,n){const r=e.length,a=[];let o=0,i=0;const s=new Array(r);for(let p=0;p<r;++p){const r=a.length;dx(e[p],t,n,a);const l=a.length-r;s[p]=l,o+=l,i=Math.max(i,l)}const l=Or("int32",2*o),u=new Array(o),c=[r,i];let d=0;for(let p=0;p<r;++p)for(let e=0;e<s[p];++e)l[2*d]=p,l[2*d+1]=e,u[d]=a[d],++d;return[l,u,c]}const hx={kernelName:Ki,backendName:"wasm",kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{input:a,delimiter:o}=n,{skipEmpty:i}=r,s=t.readSync(a.dataId),l=t.readSync(o.dataId),[u,c,d]=px(s,l[0],i),p=c.length,h=t.makeOutput([p,2],"int32");t.typedArrayFromHeap(h).set(u);const f=t.makeOutput([p],"string");t.dataIdMap.get(f.dataId).stringBytes=c;const m=t.makeOutput([2],"int32");return t.typedArrayFromHeap(m).set(d),[h,f,m]}};function fx(e,t){const n=Or("int32",e.length);for(let r=0;r<e.length;++r)n[r]=Rs(e[r]).modulo(t).getLowBitsUnsigned();return n}const mx={kernelName:$i,backendName:"wasm",kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{input:a}=n,{numBuckets:o}=r,i=fx(t.readSync(a.dataId),o),s=t.makeOutput(a.shape,"int32");return t.typedArrayFromHeap(s).set(i),s}},gx=qy(Yi);let vx;const yx={kernelName:Fi,backendName:"wasm",setupFunc:function(e){vx=e.wasm.cwrap(Fi,null,["number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{axis:a,keepDims:o}=r,{x:i}=n,s=t.dataIdMap.get(i.dataId).id;let l=s,u=i;const{transposed:c,axes:d,originalAxes:p,inputWasTransposed:h}=eb(i,a,t);let f=d;if(h){const e=t.dataIdMap.get(c.dataId).id;e!==s&&(u=c,l=e,f=wp(f.length,u.shape.length))}vp("sum",f,u.shape.length);const[m,g]=mp(u.shape,f),v=_r(g),y=t.makeOutput(m,u.dtype);if(0!==_r(u.shape)){const e=t.dataIdMap.get(y.dataId).id;vx(l,v,Ny[y.dtype],e)}if(h&&t.disposeData(c.dataId),o){const e=gp(y.shape,p);y.shape=e}return y}},bx=Uy(Qi),wx=Uy(Xi);let kx;const Sx={kernelName:Si,backendName:"wasm",setupFunc:function(e){kx=e.wasm.cwrap(Si,null,["number","number","number","number","number","number","array","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{tensor:a,indices:o,updates:i}=n,{}=r,s=t.makeOutput(a.shape,a.dtype);if(0===_r(a.shape))return s;const{sliceRank:l,numUpdates:u,sliceSize:c,strides:d,outputSize:p}=Wc(0,o,a.shape),h=t.dataIdMap.get(o.dataId).id,f=t.dataIdMap.get(i.dataId).id,m=t.dataIdMap.get(a.dataId).id,g=new Uint8Array(new Int32Array(d).buffer),v=t.dataIdMap.get(s.dataId).id;return kx(h,f,Ny[i.dtype],l,u,c,g,p,v,m),s}};let xx;const Ix={kernelName:Ji,backendName:"wasm",setupFunc:function(e){xx=e.wasm.cwrap(Ji,null,["number","array","number","array","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,o=n.dataIdMap.get(a.dataId).id,{reps:i}=r,s=new Array(a.shape.length);for(let p=0;p<s.length;p++)s[p]=a.shape[p]*i[p];const l=new Uint8Array(new Int32Array(a.shape).buffer),u=new Uint8Array(new Int32Array(s).buffer),c=n.makeOutput(s,a.dtype),d=n.dataIdMap.get(c.dataId).id;return xx(o,l,a.shape.length,u,s.length,Ny[c.dtype],d),c}};let _x;const Ex={kernelName:Zi,backendName:"wasm",setupFunc:function(e){_x=e.wasm.cwrap(Zi,null,["number","array","number","number","number","bool","number","number"])},kernelFunc:e=>{let{inputs:t,backend:n,attrs:r}=e;const{x:a}=t,{k:o,sorted:i}=r,s=n.dataIdMap.get(a.dataId).id,l=new Uint8Array(new Int32Array(a.shape).buffer),u=a.shape.slice();u[u.length-1]=o;const c=n.makeOutput(u,a.dtype),d=n.dataIdMap.get(c.dataId).id,p=n.makeOutput(u,"int32"),h=n.dataIdMap.get(p.dataId).id;return _x(s,l,a.shape.length,Ny[a.dtype],o,i,d,h),[c,p]}};let Tx;const Nx={kernelName:es,backendName:"wasm",setupFunc:function(e){Tx=e.wasm.cwrap(es,null,["number","number","bool","number","number","number","number","number","number","array","number","array","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{image:a,transforms:o}=n,{interpolation:i,fillMode:s,fillValue:l,outputShape:u}=r,[c,d,p,h]=a.shape,[f,m]=null!=u?u:[d,p],g=[c,f,m,h],v=new Uint8Array(new Int32Array(Lr(a.shape)).buffer),y=new Uint8Array(new Int32Array(Lr(g)).buffer),b=t.makeOutput(g,a.dtype),w=t.dataIdMap.get(b.dataId).id,k=t.dataIdMap.get(a.dataId).id,S=t.dataIdMap.get(o.dataId).id,x="nearest"===i?1:2;let I;switch(s){case"constant":default:I=1;break;case"reflect":I=2;break;case"wrap":I=3;break;case"nearest":I=4}return Tx(k,S,o.shape[0]>1,c,f,m,h,p,d,v,a.shape.length-1,y,g.length-1,x,I,l,w),b}};function Cx(e,t,n,r){const a=Mr(t,n)[0],o=[1,n[0],1];for(let f=0;f<a;f++)o[0]*=n[f];o[1]=n[a];for(let f=a+1;f<n.length;f++)o[2]*=n[f];const i=new Map,s=new Int32Array(n[a]),l=new Qs(o,r,e),u=[],c=1===o[0]&&1===o[2];for(let f=0;f<n[a];f++){let t;if(c)t=e[f].toString();else{const e=[];for(let t=0;t<o[0];t++)for(let n=0;n<o[2];n++)e.push(l.get(t,f,n));t=e.join(",")}const n=i.get(t);if(null!=n)s[f]=n;else{const e=i.size;i.set(t,e),s[f]=e,u.push(f)}}const d=o.slice();d[1]=i.size;const p=new Qs(d,r);u.forEach((e,t)=>{for(let n=0;n<o[0];n++)for(let r=0;r<o[2];r++)p.set(l.get(n,e,r),n,t,r)});const h=n.slice();return h[a]=d[1],{outputValues:p.values,outputShape:h,indices:s}}const Mx={kernelName:ns,backendName:"wasm",kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{axis:a}=n,{x:o}=t,{outputValues:i,outputShape:s,indices:l}=Cx(r.readSync(o.dataId),a,o.shape,o.dtype);return[r.makeOutput(s,o.dtype,void 0,i),r.makeOutput([l.length],"int32",void 0,l)]}};const Ax={kernelName:rs,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{value:a}=t;let{axis:o}=r;o<0&&(o+=a.shape.length);const i=a.shape[o],s=a.shape.length,l=new Array(s-1);let u=0;for(let h=0;h<s;h++)h!==o&&(l[u++]=a.shape[h]);const c=new Array(i),d=new Array(s).fill(0),p=a.shape.slice();p[o]=1;for(let h=0;h<c.length;h++)d[o]=h,c[h]=Cb({inputs:{x:a},attrs:{begin:d,size:p},backend:n});return c.map(e=>{let{dataId:t,dtype:n}=e;return{dataId:t,dtype:n,shape:l}})}};const Ox={kernelName:os,backendName:"wasm",kernelFunc:function(e){const{inputs:{x:t},backend:n}=e,r=n.makeOutput(t.shape,t.dtype);return n.typedArrayFromHeap(r).fill(0),r}},Fx=[Wy,jy,Hy,Vy,Gy,$y,nb,ab,ib,sb,lb,ub,cb,db,pb,fb,wb,gb,yb,Ib,Ab,Fb,Rb,Db,Lb,zb,Wb,Hb,qb,Kb,Yb,Xb,Zb,ew,tw,aw,iw,lw,cw,pw,fw,gw,yw,ww,Sw,xw,_w,Ew,Tw,Nw,Mw,Aw,Fw,Dw,Pw,Lw,Bw,Uw,Hw,qw,Kw,$w,Yw,Qy,Qw,Xw,Jw,ek,tk,nk,ak,ik,ok,sk,lk,uk,ck,pk,fk,gk,vk,bk,kk,xk,_k,Tk,Ck,Ak,Ok,Dk,Wk,Uk,jk,Hk,Gk,$k,Qk,Xk,Zk,eS,tS,rS,aS,iS,lS,cS,dS,pS,hS,fS,Sb,gS,yS,wS,SS,IS,ES,TS,NS,MS,OS,RS,DS,LS,zS,BS,WS,Mb,zk,US,jS,VS,GS,QS,XS,ZS,ex,tx,nx,rx,ox,sx,cx,hx,mx,gx,yx,bx,wx,Sx,Ix,Ex,Nx,Zy,Mx,Ax,Ox];for(const n of Fx)ys(n);const Rx=Qr();Rx.registerFlag("WASM_HAS_SIMD_SUPPORT",async()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]))}catch(ID){return!1}}),Rx.registerFlag("WASM_HAS_MULTITHREAD_SUPPORT",async()=>{if(Rx.get("IS_NODE"))return!1;try{return(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))}catch(ID){return!1}});var Dx=n(9764),Px=n.n(Dx),Lx=n(8562),zx=n(1372),Bx=n.n(zx);const Wx=Px()||Dx,Ux=Bx()||zx;class jx extends yr{constructor(e){super(),this.wasm=e,this.dataIdNextNumber=1,this.wasm.tfjs.initWithThreadsCount(Xx),Jx=this.wasm.tfjs.getThreadsCount(),this.dataIdMap=new vr(this,Du())}write(e,t,n){const r={id:this.dataIdNextNumber++};return this.move(r,e,t,n,1),r}numDataIds(){return this.dataIdMap.numDataIds()}async time(e){const t=Ls();e();return{kernelMs:Ls()-t}}move(e,t,n,r,a){const o=this.dataIdNextNumber++;if("string"===r){const i=t;return void this.dataIdMap.set(e,{id:o,stringBytes:i,shape:n,dtype:r,memoryOffset:null,refCount:a})}const i=_r(n),s=i*Fr(r),l=this.wasm._malloc(s)>>>0;this.dataIdMap.set(e,{id:o,memoryOffset:l,shape:n,dtype:r,refCount:a}),this.wasm.tfjs.registerTensor(o,i,l),null!=t&&this.wasm.HEAPU8.set(new Uint8Array(t.buffer,t.byteOffset,s),l)}async read(e){return this.readSync(e)}readSync(e,t,n){const{memoryOffset:r,dtype:a,shape:o,stringBytes:i}=this.dataIdMap.get(e);if("string"===a)return null!=t&&0!==t||!(null==n||n>=i.length)?i.slice(t,n):i;t=t||0,n=n||_r(o);const s=Fr(a);return function(e,t){switch(t){case"float32":return new Float32Array(e);case"int32":return new Int32Array(e);case"bool":return new Uint8Array(e);default:throw new Error("Unknown dtype ".concat(t))}}(this.wasm.HEAPU8.slice(r+t*s,r+n*s).buffer,a)}disposeData(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.dataIdMap.has(e)){const n=this.dataIdMap.get(e);if(n.refCount--,!t&&n.refCount>0)return!1;this.wasm._free(n.memoryOffset),this.wasm.tfjs.disposeData(n.id),this.dataIdMap.delete(e)}return!0}refCount(e){if(this.dataIdMap.has(e)){return this.dataIdMap.get(e).refCount}return 0}incRef(e){const t=this.dataIdMap.get(e);null!=t&&t.refCount++}floatPrecision(){return 32}getMemoryOffset(e){return this.dataIdMap.get(e).memoryOffset}dispose(){this.wasm.tfjs.dispose(),"PThread"in this.wasm&&this.wasm.PThread.terminateAllThreads(),this.wasm=null}memory(){return{unreliable:!1}}makeOutput(e,t,n,r){let a;if(null==n)a=this.write(null!==r&&void 0!==r?r:null,e,t);else{const r=this.dataIdNextNumber++;a={id:r},this.dataIdMap.set(a,{id:r,memoryOffset:n,shape:e,dtype:t,refCount:1});const o=_r(e);this.wasm.tfjs.registerTensor(r,o,n)}return{dataId:a,shape:e,dtype:t}}typedArrayFromHeap(e){let{shape:t,dtype:n,dataId:r}=e;const a=this.wasm.HEAPU8.buffer,{memoryOffset:o}=this.dataIdMap.get(r),i=_r(t);switch(n){case"float32":return new Float32Array(a,o,i);case"int32":return new Int32Array(a,o,i);case"bool":return new Uint8Array(a,o,i);default:throw new Error("Unknown dtype ".concat(n))}}}function Hx(e){return(t,n)=>(function(e,t){return Qr().platform.fetch(e,t)}(e,{credentials:"same-origin"}).then(r=>{r.ok||t.env.a("failed to load wasm binary file at '".concat(e,"'")),r.arrayBuffer().then(e=>{WebAssembly.instantiate(e,t).then(e=>{n(e.instance,e.module)})})}),{})}function Vx(e,t,n){if(null!=Gx)return Gx;let r="tfjs-backend-wasm.wasm";return e&&t?r="tfjs-backend-wasm-threaded-simd.wasm":e&&(r="tfjs-backend-wasm-simd.wasm"),null!=$x&&null!=$x[r]?$x[r]:n+r}const qx=["tfjs-backend-wasm.wasm","tfjs-backend-wasm-simd.wasm","tfjs-backend-wasm-threaded-simd.wasm"];let Gx=null,Kx=null,$x={},Yx=!1,Qx=!1;let Xx=-1,Jx=null;Wu("wasm",async()=>{const{wasm:e}=await async function(){const[e,t]=await Promise.all([Qr().getAsync("WASM_HAS_SIMD_SUPPORT"),Qr().getAsync("WASM_HAS_MULTITHREAD_SUPPORT")]);return new Promise((n,r)=>{const a={locateFile:(n,r)=>{if(n.endsWith(".worker.js")){const e=Lx.$.replace(/\n/g,"\\n"),t=new Blob([e],{type:"application/javascript"});return URL.createObjectURL(t)}return n.endsWith(".wasm")?Vx(e,t,null!=Kx?Kx:r):r+n}};Qx&&(a.instantiateWasm=Hx(Vx(e,t,null!=Kx?Kx:"")));let o,i=!1;a.onAbort=()=>{i||Yx||(Yx=!0,r({message:"Make sure the server can serve the `.wasm` file relative to the bundled js file. For more details see https://github.com/tensorflow/tfjs/blob/master/tfjs-backend-wasm/README.md#using-bundlers"}))},t&&e&&null==Gx?(a.mainScriptUrlOrBlob=new Blob(["var WasmBackendModuleThreadedSimd = "+Wx.toString()],{type:"text/javascript"}),o=Wx(a)):o=Ux(a),o.then(e=>{i=!0,Yx=!1,e.tfjs={init:e.cwrap("init",null,[]),initWithThreadsCount:e.cwrap("init_with_threads_count",null,["number"]),getThreadsCount:e.cwrap("get_threads_count","number",[]),registerTensor:e.cwrap("register_tensor",null,["number","number","number"]),disposeData:e.cwrap("dispose_data",null,["number"]),dispose:e.cwrap("dispose",null,[])},n({wasm:e})}).catch(r)})}();return new jx(e)},2);const Zx=zf;class eI extends yr{nextDataId(){return eI.nextDataId++}constructor(){super(),this.blockSize=48,this.firstUse=!0,this.data=new vr(this,Du())}write(e,t,n){this.firstUse&&(this.firstUse=!1,Qr().get("IS_NODE")&&ps("\n============================\nHi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. \n============================"));const r={id:this.nextDataId()};return this.data.set(r,{values:e,dtype:n,refCount:1}),r}makeTensorInfo(e,t,n){let r;if("string"===t&&null!=n&&n.length>0&&Rr(n[0])){const a=n.map(e=>zs(e));r=this.write(a,e,t)}else r=this.write(n,e,t);return{dataId:r,shape:e,dtype:t}}refCount(e){if(this.data.has(e)){return this.data.get(e).refCount}return 0}incRef(e){this.data.get(e).refCount++}decRef(e){if(this.data.has(e)){this.data.get(e).refCount--}}move(e,t,n,r,a){this.data.set(e,{values:t,dtype:r,refCount:a})}numDataIds(){return this.data.numDataIds()}async read(e){return this.readSync(e)}readSync(e){const{dtype:t,complexTensorInfos:n}=this.data.get(e);if("complex64"===t){return bg(this.readSync(n.real.dataId),this.readSync(n.imag.dataId))}return function(e,t){if(Array.isArray(e))return e;if("float32"===t)return e instanceof Float32Array?e:new Float32Array(e);if("int32"===t)return e instanceof Int32Array?e:new Int32Array(e);if("bool"===t||"string"===t)return Uint8Array.from(new Int32Array(e));throw new Error("Unknown dtype ".concat(t))}(this.data.get(e).values,t)}bufferSync(e){const t=this.readSync(e.dataId);if("string"===e.dtype)try{const n=t.map(e=>Bs(e));return Au(e.shape,e.dtype,n)}catch(Me){throw new Error("Failed to decode encoded string bytes into utf-8")}return Au(e.shape,e.dtype,t)}makeOutput(e,t,n){return Du().makeTensorFromTensorInfo(this.makeTensorInfo(t,n,e),this)}disposeData(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.data.has(e)){if(this.data.get(e).refCount--,!t&&this.data.get(e).refCount>0)return!1;const{complexTensorInfos:n}=this.data.get(e);null!=n&&(this.disposeData(n.real.dataId,!0),this.disposeData(n.imag.dataId,!0)),this.data.delete(e)}return!0}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}async time(e){const t=Ls();e();return{kernelMs:Ls()-t}}memory(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}where(e){_b([e],"where");const t=this.readSync(e.dataId);return Zx(e.shape,t)}dispose(){}floatPrecision(){return 32}epsilon(){return super.epsilon()}}function tI(e){return(t,n,r)=>{const a=Or(n,t.length);for(let o=0;o<t.length;++o)a[o]=e(t[o],r);return a}}function nI(e,t,n){return rI(e,tI(t),n)}function rI(e,t,n){return r=>{let{inputs:a,attrs:o,backend:i}=r;const{x:s}=a;_b(s,e);const l=i,u=l.data.get(s.dataId).values;let c;if("string"===s.dtype){if(!Array.isArray(u))throw new Error("String tensor's value was not an instance of Array");c=Wg(u)}else c=u;const d=n||s.dtype,p=t(c,d,o);return l.makeTensorInfo(s.shape,d,p)}}eI.nextDataId=0,Wu("cpu",()=>new eI,1);const aI=nI(Za,e=>e>=0?e:Math.exp(e)-1),oI={kernelName:Za,backendName:"cpu",kernelFunc:aI};function iI(e){const{inputs:t,backend:n}=e,{x:r}=t;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}const sI={kernelName:go,backendName:"cpu",kernelFunc:iI};function lI(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{alpha:o}=r;_b([a],"leakyRelu");const i=_r(a.shape),s=n.data.get(a.dataId).values,l=Ar("float32",i);for(let u=0;u<s.length;u++)l[u]=s[u]<0?o*s[u]:s[u];return n.makeTensorInfo(a.shape,"float32",l)}const uI={kernelName:So,backendName:"cpu",kernelFunc:lI};function cI(e){return(t,n,r,a,o)=>{const i=sc(t,n),s=i.length,l=Lr(i),u=Ar(o,_r(i)),c=t.length,d=n.length,p=Lr(t),h=Lr(n),f=ic(t,i),m=ic(n,i);if(f.length+m.length===0)for(let g=0;g<u.length;++g)u[g]=e(r[g%r.length],a[g%a.length]);else for(let g=0;g<u.length;++g){const t=qr(g,s,l),n=t.slice(-c);f.forEach(e=>n[e]=0);const o=Vr(n,c,p),i=t.slice(-d);m.forEach(e=>i[e]=0);const v=Vr(i,d,h);u[g]=e(r[o],a[v])}return[u,i]}}const dI=cI((e,t)=>e<0?t*e:e);function pI(e){const{inputs:t,backend:n}=e,{x:r,alpha:a}=t;_b([r,a],"prelu");const o=n.data.get(r.dataId).values,i=n.data.get(a.dataId).values,[s,l]=dI(r.shape,a.shape,o,i,"float32");return n.makeTensorInfo(l,"float32",s)}const hI={kernelName:ri,backendName:"cpu",kernelFunc:pI},fI=nI(di,e=>Math.max(0,e)),mI={kernelName:di,backendName:"cpu",kernelFunc:fI},gI=nI(vi,e=>Math.min(Math.max(0,e),6)),vI={kernelName:vi,backendName:"cpu",kernelFunc:gI},yI=(tI(e=>1/(1+Math.exp(-e))),nI(Mi,e=>1/(1+Math.exp(-e)))),bI={kernelName:Mi,backendName:"cpu",kernelFunc:yI};function wI(e,t,n,r,a){if("linear"===n)return iI({inputs:{x:t},backend:e});if("relu"===n)return fI({inputs:{x:t},backend:e});if("elu"===n)return aI({inputs:{x:t},backend:e});if("relu6"===n)return gI({inputs:{x:t},backend:e});if("prelu"===n)return pI({inputs:{x:t,alpha:r},backend:e});if("leakyrelu"===n)return lI({inputs:{x:t},backend:e,attrs:{alpha:a}});if("sigmoid"===n)return yI({inputs:{x:t},backend:e});throw new Error("Activation ".concat(n," has not been implemented for the CPU backend."))}function kI(e){const{inputs:t,backend:n}=e,{real:r,imag:a}=t,o=n.data.get(r.dataId).values,i=n.data.get(a.dataId).values,s=n.makeTensorInfo(r.shape,"complex64");return n.data.get(s.dataId).complexTensorInfos={real:n.makeTensorInfo(r.shape,"float32",o),imag:n.makeTensorInfo(a.shape,"float32",i)},s}const SI={kernelName:Ta,backendName:"cpu",kernelFunc:kI};function xI(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"float32";if("complex64"===n){return kI({inputs:{real:xI(e,t,"float32"),imag:xI(e,t,"float32")},backend:e})}const r=Ur(_r(t),n);return e.makeTensorInfo(t,n,r)}function II(e){const{inputs:t,backend:n}=e,{input:r}=t,a=n.data.get(r.dataId).complexTensorInfos.real,o=n.data.get(a.dataId).values;return n.makeTensorInfo(a.shape,a.dtype,o)}const _I={kernelName:ui,backendName:"cpu",kernelFunc:II};function EI(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{dtype:o}=r;if("complex64"===o){if("complex64"===a.dtype)return iI({inputs:{x:a},backend:n});const e=xI(n,a.shape,a.dtype),t=EI({inputs:{x:a},backend:n,attrs:{dtype:"float32"}}),r=kI({inputs:{real:t,imag:e},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),r}if("complex64"===a.dtype){const e=II({inputs:{input:a},backend:n}),t=EI({inputs:{x:e},backend:n,attrs:{dtype:o}});return n.disposeIntermediateTensorInfo(e),t}if(i=a.dtype,"complex64"===(s=o)||"float32"===s&&"complex64"!==i||"int32"===s&&"float32"!==i&&"complex64"!==i||"bool"===s&&"bool"===i){const e=iI({inputs:{x:a},backend:n});return{dataId:e.dataId,shape:e.shape,dtype:o}}var i,s;const l=n.data.get(a.dataId).values,[u,c,d]=function(e,t,n,r){if("int32"===r)return[t,"int32",Int32Array.from(e)];if("bool"===r){const r=Ps([0],n),[a,o]=cI((e,t)=>e!==t?1:0)(t,[],e,r,"bool");return[o,"bool",a]}throw new Error("Error in Cast: failed to cast ".concat(n," to ").concat(r))}(l,a.shape,a.dtype,o);return n.makeTensorInfo(u,c,d)}const TI={kernelName:Ia,backendName:"cpu",kernelFunc:EI};function NI(e,t,n,r){return null==n?n=>{let{inputs:a,backend:o}=n;const{a:i,b:s}=a,l=o;_b([i,s],e);const u=l.data.get(i.dataId).values,c=l.data.get(s.dataId).values,d="string"===i.dtype?Wg(u):u,p="string"===i.dtype?Wg(c):c,h=r||i.dtype,[f,m]=t(i.shape,s.shape,d,p,h);return l.makeTensorInfo(m,h,f)}:e=>{let{inputs:a,backend:o}=e;const{a:i,b:s}=a,l=o;if("complex64"===i.dtype||"complex64"===s.dtype){const e=EI({inputs:{x:i},backend:l,attrs:{dtype:"complex64"}}),t=l.data.get(e.dataId),r=t.complexTensorInfos.real,a=t.complexTensorInfos.imag,o=l.data.get(r.dataId).values,u=l.data.get(a.dataId).values,c=EI({inputs:{x:s},backend:l,attrs:{dtype:"complex64"}}),d=l.data.get(c.dataId),p=d.complexTensorInfos.real,h=d.complexTensorInfos.imag,f=l.data.get(p.dataId).values,m=l.data.get(h.dataId).values,[g,v,y]=n(i.shape,s.shape,o,u,f,m),b=l.makeTensorInfo(y,"float32",g),w=l.makeTensorInfo(y,"float32",v),k=kI({inputs:{real:b,imag:w},backend:l});return l.disposeIntermediateTensorInfo(e),l.disposeIntermediateTensorInfo(c),l.disposeIntermediateTensorInfo(b),l.disposeIntermediateTensorInfo(w),k}{const e=l.data.get(i.dataId).values,n=l.data.get(s.dataId).values,a=r||i.dtype,[o,u]=t(i.shape,s.shape,e,n,a);return l.makeTensorInfo(u,a,o)}}}function CI(e){return(t,n,r,a,o,i)=>{const s=sc(t,n),l=_r(s),u=s.length,c=Lr(s),d=Ar("float32",l),p=Ar("float32",l),h=ic(t,s),f=ic(n,s),m=bg(r,a),g=bg(o,i),v=t.length,y=Lr(t),b=n.length,w=Lr(n);if(h.length+f.length===0)for(let k=0;k<d.length;k++){const t=k%m.length,n=k%g.length,r=e(m[2*t],m[2*t+1],g[2*n],g[2*n+1]);d[k]=r.real,p[k]=r.imag}else for(let k=0;k<d.length;k++){const t=qr(k,u,c),n=t.slice(-v);h.forEach(e=>n[e]=0);const r=Vr(n,v,y),a=t.slice(-b);f.forEach(e=>a[e]=0);const o=Vr(a,b,w),i=e(m[2*r],m[2*r+1],g[2*o],g[2*o+1]);d[k]=i.real,p[k]=i.imag}return[d,p,s]}}const MI=cI((e,t)=>e+t),AI=CI((e,t,n,r)=>({real:e+n,imag:t+r})),OI=NI(aa,MI,AI),FI={kernelName:aa,backendName:"cpu",kernelFunc:OI};function RI(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{shape:o}=r,i=_r(a.shape),s=Cr(o,i),l=_r(s);Sr(i===l,()=>"The new shape (".concat(s,") has ").concat(l," elements and the old ")+"shape (".concat(a.shape,") has ").concat(i," elements. The new shape and old ")+"shape must have the same number of elements."),n.incRef(a.dataId);const u=n.data.get(a.dataId);if(null!=u.complexTensorInfos){const e=u.complexTensorInfos.real,t=u.complexTensorInfos.imag;e.shape=s,t.shape=s}return{dataId:a.dataId,shape:s,dtype:a.dtype}}const DI={kernelName:pi,backendName:"cpu",kernelFunc:RI};function PI(e){const{inputs:t,backend:n,attrs:r}=e,{a:a,b:o}=t,{transposeA:i,transposeB:s}=r;_b([a,o],"matMul");const l=a.shape.length,u=o.shape.length,c=i?a.shape[l-2]:a.shape[l-1],d=s?o.shape[u-1]:o.shape[u-2],p=i?a.shape[l-1]:a.shape[l-2],h=s?o.shape[u-2]:o.shape[u-1],f=a.shape.slice(0,-2),m=o.shape.slice(0,-2),g=_r(f),v=_r(m),y=sc(a.shape.slice(0,-2),o.shape.slice(0,-2)).concat([p,h]);Sr(c===d,()=>"Error in matMul: inner shapes (".concat(c,") and (")+"".concat(d,") of Tensors with shapes ").concat(a.shape," and ")+"".concat(o.shape," and transposeA=").concat(i)+" and transposeB=".concat(s," must match."));const b=s?[v,h,d]:[v,d,h],w=RI({inputs:{x:a},backend:n,attrs:{shape:i?[g,c,p]:[g,p,c]}}),k=RI({inputs:{x:o},backend:n,attrs:{shape:b}}),S=i?w.shape[1]:w.shape[2],x=i?w.shape[2]:w.shape[1],I=s?k.shape[1]:k.shape[2],_=Math.max(g,v),E=n.data.get(w.dataId).values,T=n.data.get(k.dataId).values,N=Lr(w.shape),C=Lr(k.shape),[M,A,O]=i?[N[0],1,N[1]]:[N[0],N[1],1],[F,R,D]=s?[1,C[1],C[0]]:[C[1],1,C[0]],P=x*I,L=Au([_,x,I],w.dtype),z=L.values,B=n.blockSize;for(let W=0;W<_;W++){const e=W%g,t=W%v;for(let n=0;n<x;n+=B){const r=Math.min(n+B,x);for(let a=0;a<I;a+=B){const o=Math.min(a+B,I);for(let i=0;i<S;i+=B){const s=Math.min(i+B,S);for(let l=n;l<r;l++)for(let n=a;n<o;n++){let r=0;for(let a=i;a<s;a++){r+=E[e*M+l*A+a*O]*T[a*F+n*R+t*D]}z[W*P+(l*I+n)]+=r}}}}}return n.disposeIntermediateTensorInfo(w),n.disposeIntermediateTensorInfo(k),n.makeTensorInfo(y,L.dtype,L.values)}const LI={kernelName:ba,backendName:"cpu",kernelFunc:PI};const zI={kernelName:us,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{a:a,b:o,bias:i,preluActivationWeights:s}=t,{transposeA:l,transposeB:u,activation:c,leakyreluAlpha:d}=r;let p,h,f;const m=[];p=PI({inputs:{a:a,b:o},attrs:{transposeA:l,transposeB:u},backend:n}),i&&(h=OI({inputs:{a:p,b:i},backend:n}),m.push(p),p=h),c&&(f=wI(n,p,c,s,d),m.push(p),p=f);for(const g of m)n.disposeIntermediateTensorInfo(g);return p}};const BI={kernelName:ta,backendName:"cpu",kernelFunc:e=>{const{x:t}=e.inputs,n=e.backend;_b(t,"abs");let r=new Float32Array(_r(t.shape));return r=function(e){const t=new Float32Array(e.length);for(let n=0;n<e.length;++n)t[n]=Math.abs(e[n]);return t}(n.data.get(t.dataId).values),n.makeOutput(r,t.shape,t.dtype)}},WI=nI(na,e=>Math.acos(e)),UI={kernelName:na,backendName:"cpu",kernelFunc:WI},jI=nI(ra,e=>Math.acosh(e)),HI={kernelName:ra,backendName:"cpu",kernelFunc:jI};const VI={kernelName:oa,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,r=t;_b(t,"addN");const a=r.map(e=>n.data.get(e.dataId).values),o=Au(r[0].shape,r[0].dtype),i=o.values;for(let s=0;s<r.length;s++){const e=a[s];for(let t=0;t<i.length;t++)i[t]+=e[t]}return n.makeTensorInfo(o.shape,o.dtype,o.values)}};function qI(e,t,n,r,a){const o=t.length,i=_r(t),s=Lr(t),l=Lr(a),u=Ar(n,_r(a));for(let c=0;c<i;++c){const t=qr(c,o,s),n=new Array(t.length);for(let e=0;e<n.length;e++)n[e]=t[r[e]];u[Vr(n,o,l)]=e[c]}return u}function GI(e){const{inputs:t,attrs:n,backend:r}=e,{x:a}=t,{perm:o}=n;_b(a,"transpose");const i=a.shape.length,s=new Array(i);for(let u=0;u<s.length;u++)s[u]=a.shape[o[u]];const l=qI(r.data.get(a.dataId).values,a.shape,a.dtype,o,s);return{dataId:r.write(l,s,a.dtype),shape:s,dtype:a.dtype}}const KI={kernelName:ts,backendName:"cpu",kernelFunc:GI};const $I={kernelName:ia,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:o,keepDims:i}=r;_b(a,"all");const s=Mr(o,a.shape);let l=s;const u=yp(l,a.shape.length);let c=a;null!=u&&(c=GI({inputs:{x:a},backend:n,attrs:{perm:u}}),l=wp(l.length,a.shape.length)),vp("all",l,c.shape.length);const[d,p]=mp(c.shape,l),h=_r(p),f=Ur(_r(d),c.dtype),m=n.data.get(c.dataId).values;for(let v=0;v<f.length;++v){const e=v*h;let t=m[e];for(let n=0;n<h;++n){const r=m[e+n];t=t&&r}f[v]=t}null!=u&&n.disposeIntermediateTensorInfo(c);const g=n.makeTensorInfo(d,c.dtype,f);if(i){const e=RI({inputs:{x:g},backend:n,attrs:{shape:gp(d,s)}});return n.disposeIntermediateTensorInfo(g),e}return g}};const YI={kernelName:sa,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:o,keepDims:i}=r;_b(a,"any");const s=Mr(o,a.shape);let l=s;const u=yp(l,a.shape.length);let c=a;null!=u&&(c=GI({inputs:{x:a},backend:n,attrs:{perm:u}}),l=wp(l.length,a.shape.length)),vp("any",l,c.shape.length);const[d,p]=mp(c.shape,l),h=_r(p),f=Ur(_r(d),c.dtype),m=n.data.get(c.dataId).values;for(let v=0;v<f.length;++v){const e=v*h;let t=m[e];for(let n=0;n<h;++n){const r=m[e+n];t=t||r}f[v]=t}null!=u&&n.disposeIntermediateTensorInfo(c);const g=n.makeTensorInfo(d,c.dtype,f);if(i){const e=RI({inputs:{x:g},backend:n,attrs:{shape:gp(d,s)}});return n.disposeIntermediateTensorInfo(g),e}return g}};const QI={kernelName:la,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:o}=r;_b(a,"argMax");let i=Mr(o,a.shape);const s=yp(i,a.shape.length);let l=a;const u=[];null!=s&&(l=GI({inputs:{x:a},backend:n,attrs:{perm:s}}),u.push(l),i=wp(i.length,l.shape.length)),i=[i[0]],vp("argMax",i,l.shape.length);const[c,d]=mp(l.shape,i),p=Ur(_r(c),"int32"),h=_r(d),f=n.data.get(l.dataId).values;for(let m=0;m<p.length;++m){const e=m*h;let t=f[e],n=0;for(let r=0;r<h;++r){const a=f[e+r];a>t&&(t=a,n=r)}p[m]=n}return u.forEach(e=>n.disposeIntermediateTensorInfo(e)),n.makeTensorInfo(c,"int32",p)}};const XI={kernelName:ua,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:o}=r;_b(a,"argMin");let i=Mr(o,a.shape);const s=yp(i,a.shape.length);let l=a;const u=[];null!=s&&(l=GI({inputs:{x:a},backend:n,attrs:{perm:s}}),u.push(l),i=wp(i.length,l.shape.length)),i=[i[0]],vp("argMin",i,l.shape.length);const[c,d]=mp(l.shape,i),p=Ur(_r(c),"int32"),h=_r(d),f=n.data.get(l.dataId).values;for(let m=0;m<p.length;++m){const e=m*h;let t=f[e],n=0;for(let r=0;r<h;++r){const a=f[e+r];a<t&&(t=a,n=r)}p[m]=n}return u.forEach(e=>n.disposeIntermediateTensorInfo(e)),n.makeTensorInfo(c,"int32",p)}},JI=nI(ca,e=>Math.asin(e)),ZI={kernelName:ca,backendName:"cpu",kernelFunc:JI},e_=nI(da,e=>Math.asinh(e)),t_={kernelName:da,backendName:"cpu",kernelFunc:e_},n_=nI(pa,e=>Math.atan(e)),r_={kernelName:pa,backendName:"cpu",kernelFunc:n_},a_=cI((e,t)=>Math.atan2(e,t)),o_=NI(fa,a_),i_={kernelName:fa,backendName:"cpu",kernelFunc:o_},s_=nI(ha,e=>Math.atanh(e)),l_={kernelName:ha,backendName:"cpu",kernelFunc:s_};function u_(e,t,n,r,a,o){const i=a.strideHeight,s=a.strideWidth,l=a.dilationHeight,u=a.dilationWidth,c=a.effectiveFilterHeight,d=a.effectiveFilterWidth,p=a.padInfo.top,h=a.padInfo.left,f="max"===o?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,m=Au(a.outShape,n),g=m.values,v=a.outShape[1]*a.outShape[2]*a.outShape[3],y=a.outShape[2]*a.outShape[3],b=a.outShape[3];for(let w=0;w<a.batchSize;++w){const t=w*v,n=w*r[0];for(let m=0;m<a.inChannels;++m)for(let v=0;v<a.outHeight;++v){const w=v*i-p,k=Math.max(0,w),S=Math.min(a.inHeight,c+w),x=t+v*y;for(let t=0;t<a.outWidth;++t){const i=t*s-h,c=Math.max(0,i),p=Math.min(a.inWidth,d+i);let v=f,y=0,w=0;for(let t=k;t<S;t+=l){const a=n+t*r[1];for(let t=c;t<p;t+=u){const n=e[a+t*r[2]+m];"max"===o&&n>v?v=n:"avg"===o&&(y+=n,w++)}if(isNaN(v))break}g[x+t*b+m]="avg"===o?y/w:v}}}return m}function c_(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const i=Au(r.outShape,"int32"),s=r.strideHeight,l=r.strideWidth,u=r.dilationHeight,c=r.dilationWidth,d=r.effectiveFilterHeight,p=r.effectiveFilterWidth,h=r.padInfo.top,f=r.padInfo.left,m=Au(t,n,e);for(let g=0;g<r.batchSize;++g)for(let e=0;e<r.inChannels;++e)for(let t=0;t<r.outHeight;++t){const n=t*s-h;let v=n;for(;v<0;)v+=u;const y=Math.min(r.inHeight,d+n);for(let s=0;s<r.outWidth;++s){const d=s*l-f;let h=d;for(;h<0;)h+=c;const b=Math.min(r.inWidth,p+d);let w=Number.NEGATIVE_INFINITY,k=-1;for(let t=v;t<y;t+=u){const i=t-n;for(let n=h;n<b;n+=c){const s=n-d,l=m.get(g,t,n,e);l>w&&(w=l,k=a?o?((g*r.inHeight+t)*r.inWidth+n)*r.inChannels+e:(t*r.inWidth+n)*r.inChannels+e:i*p+s)}}i.set(k,g,t,s,e)}}return i}function d_(e,t,n,r,a,o){const i=a.strideDepth,s=a.strideHeight,l=a.strideWidth,u=a.dilationDepth,c=a.dilationHeight,d=a.dilationWidth,p=a.effectiveFilterDepth,h=a.effectiveFilterHeight,f=a.effectiveFilterWidth,m=a.padInfo.front,g=a.padInfo.top,v=a.padInfo.left,y="max"===o?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,b=Au(a.outShape,n),w=b.values,k=a.outShape[1]*a.outShape[2]*a.outShape[3]*a.outShape[4],S=a.outShape[2]*a.outShape[3]*a.outShape[4],x=a.outShape[3]*a.outShape[4],I=a.outShape[4];for(let _=0;_<a.batchSize;++_){const t=_*k,n=_*r[0];for(let b=0;b<a.inChannels;++b)for(let k=0;k<a.outDepth;++k){const _=k*i-m;let E=_;for(;E<0;)E+=u;const T=Math.min(a.inDepth,p+_),N=t+k*S;for(let t=0;t<a.outHeight;++t){const i=t*s-g;let p=i;for(;p<0;)p+=c;const m=Math.min(a.inHeight,h+i),k=N+t*x;for(let t=0;t<a.outWidth;++t){const i=t*l-v;let s=i;for(;s<0;)s+=d;const h=Math.min(a.inWidth,f+i),g=k+t*I;let S=y,x=0,_=0;for(let t=E;t<T;t+=u){const a=n+t*r[1];for(let t=p;t<m;t+=c){const n=a+t*r[2];for(let t=s;t<h;t+=d){const a=e[n+t*r[3]+b];if("max"===o&&a>S?S=a:"avg"===o&&(x+=a,_++),isNaN(S))break}if(isNaN(S))break}if(isNaN(S))break}w[g+b]="avg"===o?x/Math.max(_,1):S}}}}return b}const p_={kernelName:ma,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t;_b(a,"avgPool");const{filterSize:o,strides:i,pad:s,dimRoundingMode:l}=r;Sr(gd(i,1),()=>"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(i," and dilations '").concat(1,"'"));const u=id(a.shape,o,i,1,s,l);let c;if(1===u.filterWidth&&1===u.filterHeight&&Er(u.inShape,u.outShape))c=iI({inputs:{x:a},backend:n});else{const e=n.data.get(a.dataId).values,t=Lr(a.shape),r=u_(e,a.shape,a.dtype,t,u,"avg");c=n.makeTensorInfo(u.outShape,a.dtype,r.values)}return c}};const h_={kernelName:va,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{filterSize:o,strides:i,pad:s,dimRoundingMode:l,dataFormat:u}=r;_b(a,"avgPool3d");const c=sd(a.shape,o,i,1,s,l,u),d=d_(n.data.get(a.dataId).values,a.shape,a.dtype,Lr(a.shape),c,"avg");return n.makeTensorInfo(d.shape,"float32",d.values)}};const f_={kernelName:ya,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:o}=t,{filterSize:i,strides:s,pad:l,dimRoundingMode:u}=r;_b([a,o],"avgPool3DGrad");const c=sd(o.shape,i,s,1,l,u),d=c.strideDepth,p=c.strideHeight,h=c.strideWidth,f=c.filterDepth,m=c.filterHeight,g=c.filterWidth,v=c.dilationDepth,y=c.dilationHeight,b=c.dilationWidth,w=c.effectiveFilterDepth,k=c.effectiveFilterHeight,S=c.effectiveFilterWidth,x=w-1-c.padInfo.front,I=S-1-c.padInfo.left,_=k-1-c.padInfo.top,E=Au(o.shape,"float32"),T=1/(f*m*g),N=n.bufferSync(a);for(let C=0;C<c.batchSize;++C)for(let e=0;e<c.inChannels;++e)for(let t=0;t<c.inDepth;++t)for(let n=0;n<c.inHeight;++n)for(let r=0;r<c.inWidth;++r){const a=t-x,o=n-_,i=r-I;let s=0;for(let t=0;t<w;t+=v){const n=(a+t)/d;if(!(n<0||n>=c.outDepth||Math.floor(n)!==n))for(let t=0;t<k;t+=y){const r=(o+t)/p;if(!(r<0||r>=c.outHeight||Math.floor(r)!==r))for(let t=0;t<S;t+=b){const a=(i+t)/h;if(a<0||a>=c.outWidth||Math.floor(a)!==a)continue;s+=N.get(C,n,r,a,e)}}}E.set(s*T,C,t,n,r,e)}return n.makeTensorInfo(E.shape,E.dtype,E.values)}};const m_={kernelName:ga,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:o}=t,i=o;_b([a,o],"avgPoolGrad");const{filterSize:s,strides:l,pad:u}=r,c=id(i.shape,s,l,1,u),d=c.strideHeight,p=c.strideWidth,h=c.filterHeight,f=c.filterWidth,m=c.dilationHeight,g=c.dilationWidth,v=c.effectiveFilterHeight,y=c.effectiveFilterWidth,b=y-1-c.padInfo.left,w=v-1-c.padInfo.top,k=Au(i.shape,"float32"),S=1/(h*f),x=n.data.get(a.dataId).values,I=Au(a.shape,"float32",x);for(let _=0;_<c.batchSize;++_)for(let e=0;e<c.inChannels;++e)for(let t=0;t<c.inHeight;++t)for(let n=0;n<c.inWidth;++n){const r=t-w,a=n-b;let o=0;for(let t=0;t<v;t+=m){const n=(r+t)/d;if(!(n<0||n>=c.outHeight||Math.floor(n)!==n))for(let t=0;t<y;t+=g){const r=(a+t)/p;if(r<0||r>=c.outWidth||Math.floor(r)!==r)continue;o+=I.get(_,n,r,e)}}k.set(o*S,_,t,n,e)}return n.makeTensorInfo(k.shape,k.dtype,k.values)}};const g_={kernelName:co,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,scale:o,offset:i,mean:s,variance:l}=t;Sr(s.shape.length===l.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),Sr(null==i||s.shape.length===i.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),Sr(null==o||s.shape.length===o.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks."),_b([a,s,l,o,i],"batchNorm");let{varianceEpsilon:u}=r;null==u&&(u=.001);const c=n.data.get(a.dataId).values,d=n.data.get(s.dataId).values,p=n.data.get(l.dataId).values,h=o?n.data.get(o.dataId).values:new Float32Array([1]),f=i?n.data.get(i.dataId).values:new Float32Array([0]),m=new Float32Array(c.length),g=f.length,v=h.length,y=p.length,b=d.length;let w=0,k=0,S=0,x=0;for(let I=0;I<c.length;++I)m[I]=f[w++]+(c[I]-d[k++])*h[S++]/Math.sqrt(p[x++]+u),w>=g&&(w=0),k>=b&&(k=0),S>=v&&(S=0),x>=y&&(x=0);return n.makeTensorInfo(a.shape,a.dtype,m)}};const v_={kernelName:wa,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockShape:o,crops:i}=r;_b([a],"batchToSpaceND");const s=o.reduce((e,t)=>e*t),l=fg(a.shape,o,s),u=mg(l.length,o.length),c=gg(a.shape,o,s),d=vg(i,o.length),p=yg(c,i,o.length),h=RI({inputs:{x:a},backend:n,attrs:{shape:l}}),f=GI({inputs:{x:h},backend:n,attrs:{perm:u}}),m=RI({inputs:{x:f},backend:n,attrs:{shape:c}}),g=Tb({inputs:{x:m},backend:n,attrs:{begin:d,size:p}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),g}};function y_(e,t,n,r,a){const o=_r(r),i=Ur(a,n);for(let s=0;s<e.length;s++){const n=e[s];if(n<0)throw new Error("Input x must be non-negative!");n>=a||(i[n]+=o>0?t[s]:1)}return i}const b_={kernelName:ka,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,weights:o}=t,{size:i}=r,s=y_(n.data.get(a.dataId).values,n.data.get(o.dataId).values,o.dtype,o.shape,i);return n.makeTensorInfo([i],o.dtype,s)}},w_=cI((e,t)=>e&t),k_=NI(Sa,w_),S_={kernelName:Sa,backendName:"cpu",kernelFunc:k_};const x_={kernelName:xa,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{s0:r,s1:a}=t,o=n.data.get(r.dataId).values,i=n.data.get(a.dataId).values,s=sc(Array.from(o),Array.from(i));return n.makeTensorInfo([s.length],"int32",Int32Array.from(s))}},I_=tI(e=>Math.ceil(e)),__=rI(_a,I_),E_={kernelName:_a,backendName:"cpu",kernelFunc:__},T_=nI(Ea,(e,t)=>{const n=t;return e>n.clipValueMax?n.clipValueMax:e<n.clipValueMin?n.clipValueMin:e}),N_={kernelName:Ea,backendName:"cpu",kernelFunc:T_},C_={kernelName:Na,backendName:"cpu",kernelFunc:e=>{const{x:t}=e.inputs,n=e.backend,r=new Float32Array(_r(t.shape)),a=n.data.get(t.dataId),o=a.complexTensorInfos.real,i=a.complexTensorInfos.imag,s=n.data.get(o.dataId).values,l=n.data.get(i.dataId).values;for(let u=0;u<s.length;u++){const e=s[u],t=l[u];r[u]=Math.hypot(e,t)}return n.makeOutput(r,t.shape,"float32")}};function M_(e){const{inputs:t,backend:n}=e,{input:r}=t,a=n.data.get(r.dataId).complexTensorInfos.imag,o=n.data.get(a.dataId).values;return n.makeTensorInfo(a.shape,a.dtype,o)}const A_={kernelName:yo,backendName:"cpu",kernelFunc:M_};function O_(e){const{inputs:t,backend:n,attrs:r}=e,{axis:a}=r,o=Mr(a,t[0].shape)[0],i=t.map(e=>e.shape);cg(i,o);let s=dg(t.map(e=>e.shape),o);if(0===_r(s))return n.makeTensorInfo(s,t[0].dtype,[]);const l=t.filter(e=>_r(e.shape)>0);if(1===l.length)return iI({inputs:{x:l[0]},backend:n});if("complex64"===l[0].dtype){const e=l.map(e=>II({inputs:{input:e},backend:n})),t=l.map(e=>M_({inputs:{input:e},backend:n})),r=O_({inputs:e,backend:n,attrs:{axis:o}}),a=O_({inputs:t,backend:n,attrs:{axis:o}}),i=kI({inputs:{real:r,imag:a},backend:n});return e.forEach(e=>n.disposeIntermediateTensorInfo(e)),t.forEach(e=>n.disposeIntermediateTensorInfo(e)),n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(a),i}const u=l.map(e=>{const t=_r(e.shape.slice(o));return RI({inputs:{x:e},backend:n,attrs:{shape:[-1,t]}})}),c=u.map(e=>({vals:n.data.get(e.dataId).values,shape:e.shape}));s=dg(u.map(e=>e.shape),1);const d=1===u[0].shape[0],p=Ub(c,s,t[0].dtype,d),h=dg(l.map(e=>e.shape),o),f=n.makeTensorInfo(h,t[0].dtype,p);return u.forEach(e=>n.disposeIntermediateTensorInfo(e)),f}const F_={kernelName:Ca,backendName:"cpu",kernelFunc:O_};function R_(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:o}=t,{strides:i,pad:s,dataFormat:l,dilations:u,dimRoundingMode:c}=r;_b([a,o],"conv2d");const d=yd(l),p=ld(a.shape,o.shape,i,u,s,c,!1,d),h=p.filterHeight,f=p.filterWidth,m=p.dilationHeight,g=p.dilationWidth,v=p.padInfo.left,y=p.padInfo.top,b="channelsLast"===p.dataFormat,w=new Qs(p.outShape,a.dtype),k=Lr(a.shape),S=Lr(o.shape),x=k[0],I=b?k[1]:k[2],_=b?k[2]:1,E=b?1:k[1],T=w.strides[0],N=b?w.strides[1]:w.strides[2],C=b?w.strides[2]:1,M=b?1:w.strides[1],A=n.data.get(a.dataId).values,O=n.data.get(o.dataId).values,F=w.values;for(let R=0;R<p.batchSize;++R){const e=R*x,t=R*T;for(let n=0;n<p.outHeight;++n){const r=t+n*N,a=n*p.strideHeight-y;for(let t=0;t<h;++t){const n=a+t*m;if(n<0||n>=p.inHeight)continue;const o=t*S[0],i=e+n*I;for(let e=0;e<p.outWidth;++e){const t=r+e*C,n=e*p.strideWidth-v;for(let e=0;e<f;++e){const r=n+e*g;if(r<0||r>=p.inWidth)continue;const a=i+r*_;let s=o+e*S[1];for(let e=0;e<p.inChannels;++e){const n=A[a+e*E];for(let e=0;e<p.outChannels;++e)F[t+e*M]+=n*O[s+e];s+=p.outChannels}}}}}}return n.makeTensorInfo(w.shape,w.dtype,F)}const D_={kernelName:Ma,backendName:"cpu",kernelFunc:R_};const P_={kernelName:Aa,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,dy:o}=t,{strides:i,pad:s,dataFormat:l,dimRoundingMode:u,filterShape:c}=r;_b([a,o],"conv2dBackpropFilter");const d=yd(l),p=ld(a.shape,c,i,1,s,u,!1,d),{strideHeight:h,strideWidth:f,filterHeight:m,filterWidth:g}=p,v="channelsLast"===p.dataFormat,y=new Qs(p.filterShape,"float32"),b=p.padInfo.left,w=p.padInfo.top,k=n.data.get(a.dataId).values,S=n.data.get(o.dataId).values,x=new Qs(a.shape,a.dtype,k),I=new Qs(o.shape,o.dtype,S);for(let _=0;_<m;++_){const e=Math.max(0,Math.ceil((w-_)/h)),t=Math.min(p.outHeight,(p.inHeight+w-_)/h);for(let n=0;n<g;++n){const r=Math.max(0,Math.ceil((b-n)/f)),a=Math.min(p.outWidth,(p.inWidth+b-n)/f);for(let o=0;o<p.inChannels;++o)for(let i=0;i<p.outChannels;++i){let s=0;for(let l=0;l<p.batchSize;++l)for(let u=e;u<t;++u){const e=_+u*h-w;for(let t=r;t<a;++t){const r=n+t*f-b;s+=v?x.get(l,e,r,o)*I.get(l,u,t,i):x.get(l,o,e,r)*I.get(l,i,u,t)}}y.set(s,_,n,o,i)}}}return n.makeTensorInfo(y.shape,y.dtype,y.values)}};const L_={kernelName:Oa,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,filter:o}=t,{inputShape:i,strides:s,pad:l,dataFormat:u,dimRoundingMode:c}=r;_b([a,o],"conv2dBackpropInput");const d=Lr(o.shape),p=Lr(a.shape);let h=yd(u);const f=ld(i,o.shape,s,1,l,c,!1,h),m=new Qs(f.inShape,"float32"),g=m.values,v=n.data.get(a.dataId).values,y=n.data.get(o.dataId).values,[b,w,k]=d,{batchSize:S,filterHeight:x,filterWidth:I,inChannels:_,inHeight:E,inWidth:T,outChannels:N,outHeight:C,outWidth:M,strideHeight:A,strideWidth:O}=f;h=f.dataFormat;const F=x-1-f.padInfo.top,R=I-1-f.padInfo.left,D="channelsLast"===h,P=m.strides[0],L=D?m.strides[1]:m.strides[2],z=D?m.strides[2]:1,B=D?1:m.strides[1],W=p[0],U=D?p[1]:p[2],j=D?p[2]:1,H=D?1:p[1];for(let V=0;V<S;++V)for(let e=0;e<_;++e)for(let t=0;t<E;++t){const n=t-F,r=Math.max(0,Math.ceil(n/A)),a=Math.min(C,(x+n)/A);for(let o=0;o<T;++o){const i=o-R,s=Math.max(0,Math.ceil(i/O)),l=Math.min(M,(I+i)/O);let u=0;for(let t=r;t<a;++t){const r=t*A-n;for(let n=s;n<l;++n){const a=W*V+U*t+j*n,o=b*(x-1-r)+w*(I-1-(n*O-i))+k*e;for(let e=0;e<N;++e){u+=v[a+H*e]*y[o+e]}}}g[P*V+L*t+z*o+B*e]=u}}return n.makeTensorInfo(m.shape,m.dtype,m.values)}};const z_={kernelName:Fa,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:o}=t,{strides:i,pad:s,dilations:l}=r;_b([a,o],"conv3d");const u=ud(a.shape,o.shape,i,l,s),{filterDepth:c,filterHeight:d,filterWidth:p,dilationDepth:h,dilationHeight:f,dilationWidth:m,padInfo:g}=u,v=g.front,y=g.left,b=g.top,w=new Qs(u.outShape,a.dtype),k=n.data.get(a.dataId).values,S=n.data.get(o.dataId).values,x=w.values,I=Lr(a.shape),_=Lr(o.shape);for(let E=0;E<u.batchSize;++E){const e=E*I[0],t=E*w.strides[0];for(let n=0;n<u.outDepth;++n){const r=t+n*w.strides[1],a=n*u.strideDepth-v;for(let t=0;t<c;++t){const n=a+t*h;if(n<0||n>=u.inDepth)continue;const o=t*_[0],i=e+n*I[1];for(let e=0;e<u.outHeight;++e){const t=r+e*w.strides[2],n=e*u.strideHeight-b;for(let e=0;e<d;++e){const r=n+e*f;if(r<0||r>=u.inHeight)continue;const a=o+e*_[1],s=i+r*I[2];for(let e=0;e<u.outWidth;++e){const n=t+e*u.outChannels,r=e*u.strideWidth-y;for(let e=0;e<p;++e){const t=r+e*m;if(t<0||t>=u.inWidth)continue;const o=a+e*_[2],i=s+t*u.inChannels;let l=o;for(let e=0;e<u.inChannels;++e){const t=k[i+e];for(let e=0;e<u.outChannels;++e)x[n+e]+=t*S[l+e];l+=u.outChannels}}}}}}}}return n.makeTensorInfo(w.shape,w.dtype,w.values)}};const B_={kernelName:Ra,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,dy:o}=t,{strides:i,pad:s,filterShape:l}=r;_b([a,o],"conv3dBackpropFilterV2");const u=Lr(a.shape),c=Lr(o.shape),d=ud(a.shape,l,i,1,s),p=d.strideDepth,h=d.strideHeight,f=d.strideWidth,m=d.filterDepth,g=d.filterHeight,v=d.filterWidth,y=new Qs(d.filterShape,"float32"),b=y.values,[w,k,S,x]=y.strides,I=n.data.get(o.dataId).values,[_,E,T,N]=c,C=n.data.get(a.dataId).values,[M,A,O,F]=u,R=d.padInfo.front,D=d.padInfo.left,P=d.padInfo.top;for(let L=0;L<m;++L){const e=Math.max(0,Math.ceil((R-L)/p)),t=Math.min(d.outDepth,(d.inDepth+R-L)/p),n=L*w;for(let r=0;r<g;++r){const a=Math.max(0,Math.ceil((P-r)/h)),o=Math.min(d.outHeight,(d.inHeight+P-r)/h),i=r*k+n;for(let n=0;n<v;++n){const s=Math.max(0,Math.ceil((D-n)/f)),l=Math.min(d.outWidth,(d.inWidth+D-n)/f),u=n*S+i;for(let i=0;i<d.inChannels;++i){const c=i*x+u;for(let u=0;u<d.outChannels;++u){let m=0;for(let c=0;c<d.batchSize;++c){const d=c*M,g=c*_;for(let c=e;c<t;++c){const e=(L+c*p-R)*A+d,t=c*E+g;for(let c=a;c<o;++c){const a=(r+c*h-P)*O+e,o=c*T+t;for(let e=s;e<l;++e){const t=e*N+o;m+=C[(n+e*f-D)*F+a+i]*I[t+u]}}}}b[c+u]=m}}}}}return n.makeTensorInfo(y.shape,y.dtype,y.values)}};const W_={kernelName:Da,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,filter:o}=t,{pad:i,strides:s,inputShape:l}=r;_b([a],"conv3dBackpropInputV2");const u=Lr(a.shape),c=Lr(o.shape),d=ud(l,o.shape,s,1,i),p=new Qs(d.inShape,"float32"),h=p.values,[f,m,g,v]=p.strides,y=n.data.get(a.dataId).values,[b,w,k,S]=u,x=n.data.get(o.dataId).values,[I,_,E,T]=c,{batchSize:N,filterDepth:C,filterHeight:M,filterWidth:A,inChannels:O,inDepth:F,inHeight:R,inWidth:D,outChannels:P,outDepth:L,outHeight:z,outWidth:B,strideDepth:W,strideHeight:U,strideWidth:j}=d,H=C-1-d.padInfo.front,V=M-1-d.padInfo.top,q=A-1-d.padInfo.left;for(let G=0;G<N;++G)for(let e=0;e<O;++e)for(let t=0;t<F;++t){const n=t-H,r=Math.max(0,Math.ceil(n/W)),a=Math.min(L,(C+n)/W);for(let o=0;o<R;++o){const i=o-V,s=Math.max(0,Math.ceil(i/U)),l=Math.min(z,(M+i)/U);for(let u=0;u<D;++u){const c=u-q,d=Math.max(0,Math.ceil(c/j)),p=Math.min(B,(A+c)/j);let N=0;for(let t=r;t<a;++t){const r=t*W-n;for(let n=s;n<l;++n){const a=n*U-i;for(let o=d;o<p;++o){const i=b*G+w*t+k*n+S*o,s=I*(C-1-r)+_*(M-1-a)+E*(A-1-(o*j-c))+T*e;for(let e=0;e<P;++e){N+=y[i+e]*x[s+e]}}}}h[f*G+m*t+g*o+v*u+e]=N}}}return n.makeTensorInfo(p.shape,p.dtype,p.values)}},U_=nI(Pa,e=>Math.cos(e)),j_={kernelName:Pa,backendName:"cpu",kernelFunc:U_},H_=nI(La,e=>Math.cosh(e)),V_={kernelName:La,backendName:"cpu",kernelFunc:H_};const q_={kernelName:Wa,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{image:a,boxes:o,boxInd:i}=t,{cropSize:s,method:l,extrapolationValue:u}=r,[c,d,p,h]=a.shape,f=o.shape[0],[m,g]=s,v=Au([f,m,g,h],"float32"),y=n.data.get(o.dataId).values,b=n.data.get(i.dataId).values,w=n.data.get(a.dataId).values,k=Lr(a.shape),S=Lr(v.shape);for(let x=0;x<f;x++){const e=4*x,t=y[e],n=y[e+1],r=y[e+2],a=y[e+3],o=b[x];if(o>=c)continue;const i=m>1?(r-t)*(d-1)/(m-1):0,s=g>1?(a-n)*(p-1)/(g-1):0;for(let c=0;c<m;c++){const e=m>1?t*(d-1)+c*i:.5*(t+r)*(d-1);if(e<0||e>d-1)for(let t=0;t<g;t++)for(let e=0;e<h;e++){const n=e+t*S[2]+c*S[1]+x*S[0];v.values[n]=u}else if("bilinear"===l){const t=Math.floor(e),r=Math.ceil(e),i=e-t;for(let e=0;e<g;e++){const l=g>1?n*(p-1)+e*s:.5*(n+a)*(p-1);if(l<0||l>p-1){for(let t=0;t<h;t++){const n=t+e*S[2]+c*S[1]+x*S[0];v.values[n]=u}continue}const d=Math.floor(l),f=Math.ceil(l),m=l-d;for(let n=0;n<h;n++){let a=n+d*k[2]+t*k[1]+o*k[0];const s=w[a];a=n+f*k[2]+t*k[1]+o*k[0];const l=w[a];a=n+d*k[2]+r*k[1]+o*k[0];const u=w[a];a=n+f*k[2]+r*k[1]+o*k[0];const p=s+(l-s)*m,h=u+(w[a]-u)*m;a=n+e*S[2]+c*S[1]+x*S[0],v.values[a]=p+(h-p)*i}}}else for(let t=0;t<g;++t){const r=g>1?n*(p-1)+t*s:.5*(n+a)*(p-1);if(r<0||r>p-1){for(let e=0;e<h;e++){const n=e+t*S[2]+c*S[1]+x*S[0];v.values[n]=u}continue}const i=Math.round(r),l=Math.round(e);for(let e=0;e<h;e++){const n=e+i*k[2]+l*k[1]+o*k[0],r=e+t*S[2]+c*S[1]+x*S[0];v.values[r]=w[n]}}}}return n.makeTensorInfo(v.shape,v.dtype,v.values)}};const G_={kernelName:za,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:o,exclusive:i,reverse:s}=r;_b(a,"cumprod");const l=yp([o],a.shape.length);let u=a;null!=l&&(u=GI({inputs:{x:a},backend:n,attrs:{perm:l}}));const c=wp(1,a.shape.length)[0];if(c!==u.shape.length-1)throw new Error("backend.cumprod in CPU expects an inner-most "+"axis=".concat(u.shape.length-1," but got axis=").concat(c));const d=ll(u.dtype,"int32"),p=Wr(_r(u.shape),d),h=n.data.get(u.dataId).values,f=u.shape[u.shape.length-1],m=s?(e,t)=>e+f-t-1:(e,t)=>e+t;for(let v=0;v<h.length;v+=f)for(let e=0;e<f;e++){const t=m(v,e);if(0===e)p[t]=i?1:h[t];else{const n=m(v,e-1);p[t]=i?h[n]*p[n]:h[t]*p[n]}}const g=n.makeTensorInfo(u.shape,d,p);if(null!=l){const e=GI({inputs:{x:g},backend:n,attrs:{perm:bp(l)}});return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(u),e}return g}};const K_={kernelName:Ba,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:o,exclusive:i,reverse:s}=r;_b(a,"cumsum");const l=yp([o],a.shape.length);let u=a;null!=l&&(u=GI({inputs:{x:a},backend:n,attrs:{perm:l}}));const c=wp(1,a.shape.length)[0];if(c!==u.shape.length-1)throw new Error("backend.cumsum in CPU expects an inner-most "+"axis=".concat(u.shape.length-1," but got axis=").concat(c));const d=ll(u.dtype,"int32"),p=Ur(_r(u.shape),d),h=n.data.get(u.dataId).values,f=u.shape[u.shape.length-1],m=s?(e,t)=>e+f-t-1:(e,t)=>e+t;for(let v=0;v<h.length;v+=f)for(let e=0;e<f;e++){const t=m(v,e);if(0===e)p[t]=i?0:h[t];else{const n=m(v,e-1);p[t]=i?h[n]+p[n]:h[t]+p[n]}}const g=n.makeTensorInfo(u.shape,d,p);if(null!=l){const e=GI({inputs:{x:g},backend:n,attrs:{perm:bp(l)}});return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(u),e}return g}};const $_={kernelName:Ua,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,weights:o}=t,{size:i,binaryOutput:s}=r;if(1===a.shape.length){const e=y_(n.data.get(a.dataId).values,n.data.get(o.dataId).values,o.dtype,o.shape,i);return n.makeTensorInfo([i],o.dtype,e)}if(2===a.shape.length){const e=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=e.shape[0],o=e.shape[1],i=Au([a,n],t.dtype);for(let s=0;s<a;s++)for(let a=0;a<o;a++){const o=e.get(s,a);if(o<0)throw new Error("Input x must be non-negative!");o>=n||(r?i.set(1,s,o):t.size>0?i.set(i.get(s,o)+t.get(s,a),s,o):i.set(i.get(s,o)+1,s,o))}return i}(n.bufferSync(a),n.bufferSync(o),i,s);return n.makeTensorInfo(e.shape,o.dtype,e.values)}throw new Error("Error in denseBincount: input must be at most rank 2, but got rank"+"".concat(a.shape.length,"."))}};const Y_={kernelName:ja,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockSize:o,dataFormat:i}=r;Sr("NHWC"===i,()=>"Only NHWC dataFormat supported on CPU for depthToSpace. Got ".concat(i));const s=a.shape[0],l=a.shape[1],u=a.shape[2],c=a.shape[3],d=l*o,p=u*o,h=c/(o*o),f=n.data.get(a.dataId).values,m=new Float32Array(s*d*p*h);let g=0;for(let v=0;v<s;++v)for(let e=0;e<d;++e){const t=Math.floor(e/o),n=e%o;for(let e=0;e<p;++e){const r=Math.floor(e/o),a=(n*o+e%o)*h;for(let e=0;e<h;++e){const n=e+a+c*(r+u*(t+l*v));m[g++]=f[n]}}}return n.makeTensorInfo([s,d,p,h],a.dtype,m)}};function Q_(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:o}=t,{strides:i,pad:s,dilations:l,dimRoundingMode:u}=r;_b([a,o],"depthwiseConv2DNative");const c=Lr(a.shape),d=Lr(o.shape);let p=l;null==p&&(p=[1,1]),Sr(gd(i,p),()=>"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(i," and dilations '").concat(p,"'"));const h=ld(a.shape,o.shape,i,p,s,u,!0),{filterHeight:f,filterWidth:m,dilationHeight:g,dilationWidth:v,padInfo:y}=h,b=y.left,w=y.top,k=h.outChannels/h.inChannels,S=new Qs(h.outShape,a.dtype),x=n.data.get(a.dataId).values,I=n.data.get(o.dataId).values,_=S.values;for(let E=0;E<h.batchSize;++E){const e=E*c[0],t=E*S.strides[0];for(let n=0;n<h.outHeight;++n){const r=t+n*S.strides[1],a=n*h.strideHeight-w;for(let t=0;t<f;++t){const n=a+t*g;if(n<0||n>=h.inHeight)continue;const o=t*d[0],i=e+n*c[1];for(let e=0;e<h.outWidth;++e){const t=r+e*S.strides[2],n=e*h.strideWidth-b;for(let e=0;e<m;++e){const r=n+e*v;if(r<0||r>=h.inWidth)continue;const a=o+e*d[1],s=i+r*h.inChannels;let l=t,u=a;for(let e=0;e<h.inChannels;++e){const t=x[s+e];for(let e=0;e<k;++e)_[l+e]+=t*I[u+e];l+=k,u+=k}}}}}}return n.makeTensorInfo(S.shape,S.dtype,S.values)}const X_={kernelName:Ha,backendName:"cpu",kernelFunc:Q_};const J_={kernelName:Va,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,dy:o}=t,{strides:i,dilations:s,pad:l,dimRoundingMode:u,filterShape:c}=r;_b([a,o],"depthwiseConv2dNativeBackpropFilter");const d=ld(a.shape,c,i,s,l,u,!0),{strideHeight:p,strideWidth:h,filterHeight:f,filterWidth:m}=d,g=new Qs(d.filterShape,"float32"),v=d.padInfo.left,y=d.padInfo.top,b=d.outChannels/d.inChannels,w=n.data.get(a.dataId).values,k=new Qs(a.shape,a.dtype,w),S=n.data.get(o.dataId).values,x=new Qs(o.shape,o.dtype,S);for(let I=0;I<f;++I){const e=Math.max(0,Math.ceil((y-I)/p)),t=Math.min(d.outHeight,(d.inHeight+y-I)/p);for(let n=0;n<m;++n){const r=Math.max(0,Math.ceil((v-n)/h)),a=Math.min(d.outWidth,(d.inWidth+v-n)/h);for(let o=0;o<d.outChannels;++o){const i=Math.trunc(o/b),s=o%b;let l=0;for(let u=0;u<d.batchSize;++u)for(let s=e;s<t;++s){const e=I+s*p-y;for(let t=r;t<a;++t){const r=n+t*h-v;l+=k.get(u,e,r,i)*x.get(u,s,t,o)}}g.set(l,I,n,i,s)}}}return n.makeTensorInfo(g.shape,g.dtype,g.values)}};const Z_={kernelName:qa,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,filter:o}=t,{strides:i,dilations:s,pad:l,dimRoundingMode:u,inputShape:c}=r;_b([a,o],"depthwiseConv2DNativeBackpropInput");const d=Lr(a.shape),p=Lr(o.shape),h=ld(c,o.shape,i,s,l,u,!0),f=new Qs(h.inShape,"float32"),m=f.values,[g,v,y]=f.strides,b=n.data.get(a.dataId).values,[w,k,S]=d,x=n.data.get(o.dataId).values,[I,_,E]=p,{batchSize:T,filterHeight:N,filterWidth:C,inChannels:M,inHeight:A,inWidth:O,outChannels:F,outHeight:R,outWidth:D,strideHeight:P,strideWidth:L}=h,z=N-1-h.padInfo.top,B=C-1-h.padInfo.left,W=F/M;for(let U=0;U<T;++U)for(let e=0;e<M;++e)for(let t=0;t<A;++t){const n=t-z,r=Math.max(0,Math.ceil(n/P)),a=Math.min(R,(N+n)/P);for(let o=0;o<O;++o){const i=o-B,s=Math.max(0,Math.ceil(i/L)),l=Math.min(D,(C+i)/L);let u=0;for(let t=r;t<a;++t){const r=t*P-n;for(let n=s;n<l;++n){const a=w*U+k*t+S*n,o=I*(N-1-r)+_*(C-1-(n*L-i))+E*e;for(let t=0;t<W;++t){u+=b[a+(e*W+t)]*x[o+t]}}}m[g*U+v*t+y*o+e]=u}}return n.makeTensorInfo(f.shape,f.dtype,f.values)}};const eE={kernelName:Ga,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t,a=_r(r.shape),o=n.data.get(r.dataId).values,i=Au([a,a],r.dtype),s=i.values;for(let u=0;u<o.length;u++)s[u*a+u]=o[u];const l=[...r.shape,...r.shape];return n.makeTensorInfo(l,i.dtype,i.values)}},tE={kernelName:Ka,backendName:"cpu",kernelFunc:e=>{let{inputs:t,backend:n,attrs:r}=e;const{x:a,filter:o}=t,{strides:i,pad:s,dilations:l}=r,u=n,c=u.data.get(a.dataId).values,d=a.shape.length,p=u.data.get(o.dataId).values,h=o.shape.length,{batchSize:f,inHeight:m,inWidth:g,inChannels:v,outHeight:y,outWidth:b,padInfo:w,strideHeight:k,strideWidth:S,filterHeight:x,filterWidth:I,dilationHeight:_,dilationWidth:E,outShape:T}=od(a.shape,o.shape,i,s,"NHWC",l),N=_r(T),C=T.length,M=Or(a.dtype,N);for(let A=0;A<f;++A)for(let e=0;e<y;++e){const t=e*k-w.top;for(let n=0;n<b;++n){const r=n*S-w.left;for(let i=0;i<v;++i){let s=Number.MIN_SAFE_INTEGER;for(let e=0;e<x;++e){const n=t+e*_;if(n>=0&&n<m)for(let t=0;t<I;++t){const l=r+t*E;if(l>=0&&l<g){const r=Vr([A,n,l,i],d,Lr(a.shape)),u=Vr([e,t,i],h,Lr(o.shape)),f=c[r]+p[u];f>s&&(s=f)}}}M[Vr([A,e,n,i],C,Lr(T))]=s}}}return{dataId:u.write(Ps(M,a.dtype),T,a.dtype),shape:T,dtype:a.dtype}}},nE={kernelName:Ya,backendName:"cpu",kernelFunc:e=>{let{inputs:t,backend:n,attrs:r}=e;const{x:a,filter:o,dy:i}=t,{strides:s,pad:l,dilations:u}=r,c=n,d=Br(a.shape,c.data.get(a.dataId).values),p=Br(o.shape,c.data.get(o.dataId).values),{batchSize:h,inHeight:f,inWidth:m,inChannels:g,outHeight:v,outWidth:y,padInfo:b,strideHeight:w,strideWidth:k,filterHeight:S,filterWidth:x,dilationHeight:I,dilationWidth:_,outShape:E}=od(a.shape,o.shape,s,l,"NHWC",u);Sr(i.rank===E.length,()=>"Error in ".concat(Ya,", dy ")+"must have the same rank as output ".concat(E.length,", but got ")+"".concat(i.rank));const T=Br(E,c.data.get(i.dataId).values),N=jr(o.shape,o.dtype);for(let C=0;C<h;++C)for(let e=0;e<v;++e){const t=e*w-b.top;for(let n=0;n<y;++n){const r=n*k-b.left;for(let a=0;a<g;++a){let o=Number.MIN_SAFE_INTEGER,i=0,s=0;for(let e=0;e<S;++e){const n=t+e*I;if(n>=0&&n<f)for(let t=0;t<x;++t){const l=r+t*_;if(l>=0&&l<m){const r=d[C][n][l][a]+p[e][t][a];r>o&&(o=r,i=e,s=t)}}}N[i][s][a]+=T[C][e][n][a]}}}return{dataId:c.write(Ps(N,a.dtype),o.shape,o.dtype),shape:o.shape,dtype:o.dtype}}},rE={kernelName:$a,backendName:"cpu",kernelFunc:e=>{let{inputs:t,backend:n,attrs:r}=e;const{x:a,filter:o,dy:i}=t,{strides:s,pad:l,dilations:u}=r,c=n,d=Br(a.shape,c.data.get(a.dataId).values),p=Br(o.shape,c.data.get(o.dataId).values),{batchSize:h,inHeight:f,inWidth:m,inChannels:g,outHeight:v,outWidth:y,padInfo:b,strideHeight:w,strideWidth:k,filterHeight:S,filterWidth:x,dilationHeight:I,dilationWidth:_,outShape:E}=od(a.shape,o.shape,s,l,"NHWC",u);Sr(i.rank===E.length,()=>"Error in ".concat($a,", dy ")+"must have the same rank as output ".concat(E.length,", but got ")+"".concat(i.rank));const T=Br(E,c.data.get(i.dataId).values),N=jr(a.shape,a.dtype);for(let C=0;C<h;++C)for(let e=0;e<v;++e){const t=e*w-b.top;for(let n=0;n<y;++n){const r=n*k-b.left;for(let a=0;a<g;++a){let o=Number.MIN_SAFE_INTEGER,i=t<0?0:t,s=r<0?0:r;for(let e=0;e<S;++e){const n=t+e*I;if(n>=0&&n<f)for(let t=0;t<x;++t){const l=r+t*_;if(l>=0&&l<m){const r=d[C][n][l][a]+p[e][t][a];r>o&&(o=r,i=n,s=l)}}}N[C][i][s][a]+=T[C][e][n][a]}}}return{dataId:c.write(Ps(N,a.dtype),a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}};const aE={kernelName:Qa,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{image:a}=t,{canvas:o,options:i}=r,{contextOptions:s,imageOptions:l}=i||{},u=(null===l||void 0===l?void 0:l.alpha)||1,c=(null===s||void 0===s?void 0:s.contextType)||"2d";if("2d"!==c)throw new Error("Context type ".concat(s.contextType," is not supported by the CPU backend."));const d=o.getContext(c,(null===s||void 0===s?void 0:s.contextAttributes)||{});if(null==d)throw new Error("Could not get the context with ".concat(c," type."));const[p,h]=a.shape.slice(0,2),f=2===a.shape.length?1:a.shape[2],m=n.data.get(a.dataId).values,g="float32"===a.dtype?255:1,v=new Uint8ClampedArray(h*p*4);for(let b=0;b<p*h;++b){const e=[0,0,0,255*u];for(let n=0;n<f;n++){const t=m[b*f+n];if("float32"===a.dtype){if(t<0||t>1)throw new Error("Tensor values for a float32 Tensor must be in the "+"range [0 - 1] but encountered ".concat(t,"."))}else if("int32"===a.dtype&&(t<0||t>255))throw new Error("Tensor values for a int32 Tensor must be in the "+"range [0 - 255] but encountered ".concat(t,"."));1===f?(e[0]=t*g,e[1]=t*g,e[2]=t*g):e[n]=t*g}const t=4*b;v[t+0]=Math.round(e[0]),v[t+1]=Math.round(e[1]),v[t+2]=Math.round(e[2]),v[t+3]=Math.round(e[3])}o.width=h,o.height=p;const y=new ImageData(v,h,p);return d.putImageData(y,0,0),a}},oE=cI((e,t)=>e*t),iE=CI((e,t,n,r)=>({real:e*n-t*r,imag:e*r+t*n})),sE=NI(Go,oE,iE),lE={kernelName:Go,backendName:"cpu",kernelFunc:sE};function uE(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:o,keepDims:i}=r;let s;_b(a,"sum"),s="bool"===a.dtype?EI({inputs:{x:a},backend:n,attrs:{dtype:"int32"}}):iI({inputs:{x:a},backend:n});const l=s.shape.length,u=Mr(o,s.shape),c=yp(u,l);let d=u,p=s;null!=c&&(p=GI({inputs:{x:s},backend:n,attrs:{perm:c}}),d=wp(d.length,l)),vp("sum",d,p.shape.length);const[h,f]=mp(p.shape,d);let m=xI(n,h,ll(p.dtype,"int32"));const g=_r(f),v=n.data.get(m.dataId).values,y=n.data.get(p.dataId).values;for(let b=0;b<v.length;++b){const e=b*g;let t=0;for(let n=0;n<g;++n)t+=y[e+n];v[b]=t}if(i){const e=m;m=RI({inputs:{x:m},backend:n,attrs:{shape:gp(m.shape,u)}}),n.disposeIntermediateTensorInfo(e)}return n.disposeIntermediateTensorInfo(s),null!=c&&n.disposeIntermediateTensorInfo(p),m}const cE={kernelName:Fi,backendName:"cpu",kernelFunc:uE};const dE={kernelName:Ja,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{equation:a}=r,o=t,{allDims:i,summedDims:s,idDims:l}=function(e,t){const n=((e=e.replace(/\s/g,"")).length-e.replace(Ig,"").length)/2;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error('Equation must contain exactly one arrow ("'.concat(xg,'").'));const[r,a]=e.split(xg);Sr(-1===r.indexOf("..."),()=>'The ellipsis notation ("'.concat("...",'") is not supported yet.'));const o=r.split(","),i=o.length;if(t!==i)throw new Error("Expected ".concat(i," input tensors, received ").concat(t));if(i>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const s=[];for(let d=0;d<a.length;++d){const e=a[d];if(!o.some(t=>-1!==t.indexOf(e)))throw new Error("Output subscripts contain the label ".concat(e," ")+"not present in the input subscripts.");-1===s.indexOf(e)&&s.push(e)}for(let d=0;d<r.length;++d){const e=r[d];-1===s.indexOf(e)&&","!==e&&s.push(e)}const l=new Array(o.length);for(let d=0;d<i;++d){if(new Set(o[d].split("")).size!==o[d].length)throw new Error("Found duplicate axes in input component ".concat(o[d],". ")+"Support for duplicate axes in input is not implemented yet.");l[d]=[];for(let e=0;e<o[d].length;++e)l[d].push(s.indexOf(o[d][e]))}const u=s.length,c=[];for(let d=a.length;d<u;++d)c.push(d);return{allDims:s,summedDims:c,idDims:l}}(a,o.length);!function(e,t,n){const r=new Array(e);for(let a=0;a<n.length;++a){const e=n[a].shape;for(let n=0;n<t[a].length;++n)void 0===r[t[a][n]]?r[t[a][n]]=e[n]:Sr(r[t[a][n]]===e[n],()=>"Expected dimension ".concat(r[t[a][n]]," at axis ").concat(n," ")+"of input shaped ".concat(JSON.stringify(e),", ")+"but got dimension ".concat(e[n]))}}(i.length,l,o);const{path:u,steps:c}=function(e,t){const n=e,r=[];let a=0;0===e.length&&n.push(-1),a=e.length+1;for(let i=0;i<a;++i)r.push([]);const o=[];for(let i=0;i<n.length;++i){const e=Tg(t,n[i]);for(const t of e)-1===o.indexOf(t)&&(r[i].push(t),o.push(t))}return{path:n,steps:r}}(s,l),d=c.length;let p=null,h=i.length;const f=[];for(let m=0;m<d;++m){for(const e of c[m]){const{permutationIndices:t,expandDims:r}=_g(h,l[e]);let a;Eg(t)?a=o[e]:(a=GI({inputs:{x:o[e]},backend:n,attrs:{perm:t}}),f.push(a));const i=a.shape.slice();for(let e=0;e<r.length;++e)i.splice(r[e],0,1);Er(a.shape,i)||(a=RI({inputs:{x:a},backend:n,attrs:{shape:i}}),f.push(a)),null===p?p=a:(p=sE({inputs:{a:a,b:p},backend:n}),f.push(p))}m<d-1&&(u[m]>=0&&(p=uE({inputs:{x:p},backend:n,attrs:{axis:u[m]-(i.length-h),keepDims:!1}}),f.push(p)),h--)}for(const m of f)m!==p&&n.disposeIntermediateTensorInfo(m);return p}};const pE={kernelName:eo,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{dy:r,y:a}=t;_b([r,a],"eluGrad");const o=new Float32Array(_r(a.shape)),i=n.data.get(a.dataId).values,s=n.data.get(r.dataId).values;for(let l=0;l<i.length;++l){const e=i[l];o[l]=e>=0?s[l]:s[l]*(e+1)}return n.makeTensorInfo(a.shape,"float32",o)}},hE=cI((e,t)=>e===t?1:0),fE=NI(no,hE,null,"bool"),mE={kernelName:no,backendName:"cpu",kernelFunc:fE},gE=nI(to,e=>{const t=Math.sign(e),n=Math.abs(e),r=1/(1+.3275911*n);return t*(1-((((1.061405429*r-1.453152027)*r+1.421413741)*r-.284496736)*r+.254829592)*r*Math.exp(-n*n))}),vE={kernelName:to,backendName:"cpu",kernelFunc:gE},yE=tI(e=>Math.exp(e)),bE=rI(ro,yE,"float32"),wE={kernelName:ro,backendName:"cpu",kernelFunc:bE};function kE(e){const{inputs:t,backend:n,attrs:r}=e,{input:a}=t,{dim:o}=r,i=a.shape.length,s=a.shape.slice();let l=o;return o<0&&(Sr(-(i+1)<=o,()=>"Axis must be in the interval [".concat(-(i+1),", ").concat(i,"]")),l=i+o+1),s.splice(l,0,1),RI({inputs:{x:a},backend:n,attrs:{shape:s}})}const SE={kernelName:ao,backendName:"cpu",kernelFunc:kE},xE=tI(e=>Math.expm1(e)),IE=rI(oo,xE),_E={kernelName:oo,backendName:"cpu",kernelFunc:IE},EE=cI((e,t)=>e/t),TE=NI(Xa,EE),NE={kernelName:Xa,backendName:"cpu",kernelFunc:TE},CE=cI((e,t)=>e-t),ME=CI((e,t,n,r)=>({real:e-n,imag:t-r})),AE=NI(Yi,CE,ME),OE={kernelName:Yi,backendName:"cpu",kernelFunc:AE};function FE(e,t,n){const r=e.shape,a=r[0],o=r[1],i=n.data.get(e.dataId),s=i.complexTensorInfos.real,l=i.complexTensorInfos.imag,u=[a,o],c=_r(u),d=Ar("float32",c),p=Ar("float32",c);for(let g=0;g<a;g++){const e=Tb({inputs:{x:s},backend:n,attrs:{begin:[g,0],size:[1,o]}}),r=Tb({inputs:{x:l},backend:n,attrs:{begin:[g,0],size:[1,o]}}),a=kI({inputs:{real:e,imag:r},backend:n}),{real:i,imag:u}=RE(a,t,n),c=bg(i,u);for(let t=0;t<o;t++){const e=wg(c,t);d[g*o+t]=e.real,p[g*o+t]=e.imag}n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(a)}const h=n.makeTensorInfo(u,"float32",d),f=n.makeTensorInfo(u,"float32",p),m=kI({inputs:{real:h,imag:f},backend:n});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),m}function RE(e,t,n){const r=_r(e.shape),a=n.data.get(e.dataId),o=n.data.get(a.complexTensorInfos.real.dataId).values,i=n.data.get(a.complexTensorInfos.imag.dataId).values;if(0===((s=r)&s-1)){const a=DE(o,i,r,t,n),s=[e.shape[0],e.shape[1]];if(t){const e=n.makeTensorInfo(s,"float32",a.real),t=n.makeTensorInfo(s,"float32",a.imag),o=n.makeTensorInfo([],"float32",Ds(r,"float32")),i=iI({inputs:{x:o},backend:n}),l=NE.kernelFunc({inputs:{a:e,b:o},backend:n}),u=NE.kernelFunc({inputs:{a:t,b:i},backend:n}),c=n.data.get(l.dataId).values,d=n.data.get(u.dataId).values;return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(u),{real:c,imag:d}}return a}{const e=function(e,t,n){const r=new Float32Array(2*t);for(let a=0;a<t;a++){let o=0,i=0;for(let r=0;r<t;r++){const s=Sg(a*r,t,n),l=wg(e,r);o+=l.real*s.real-l.imag*s.imag,i+=l.real*s.imag+l.imag*s.real}n&&(o/=t,i/=t),kg(r,o,i,a)}return r}(bg(o,i),r,t);return function(e){const t=new Float32Array(e.length/2),n=new Float32Array(e.length/2);for(let r=0;r<e.length;r+=2)t[r/2]=e[r],n[r/2]=e[r+1];return{real:t,imag:n}}(e)}var s}function DE(e,t,n,r,a){if(1===n)return{real:e,imag:t};const o=bg(e,t),i=n/2,s=function(e){const t=Math.ceil(e.length/4),n=new Float32Array(t),r=new Float32Array(t);for(let a=0;a<e.length;a+=4)n[Math.floor(a/4)]=e[a],r[Math.floor(a/4)]=e[a+1];return{real:n,imag:r}}(o),l=s.real,u=s.imag,c=[l.length],d=a.makeTensorInfo(c,"float32",l),p=a.makeTensorInfo(c,"float32",u),h=kI({inputs:{real:d,imag:p},backend:a}),f=function(e){const t=Math.floor(e.length/4),n=new Float32Array(t),r=new Float32Array(t);for(let a=2;a<e.length;a+=4)n[Math.floor(a/4)]=e[a],r[Math.floor(a/4)]=e[a+1];return{real:n,imag:r}}(o),m=f.real,g=f.imag,v=[m.length],y=a.makeTensorInfo(v,"float32",m),b=a.makeTensorInfo(v,"float32",g),w=kI({inputs:{real:y,imag:b},backend:a}),k=DE(l,u,i,r,a),S=k.real,x=k.imag,I=[S.length],_=a.makeTensorInfo(I,"float32",S),E=a.makeTensorInfo(I,"float32",x),T=kI({inputs:{real:_,imag:E},backend:a}),N=DE(m,g,i,r,a),C=N.real,M=N.imag,A=[C.length],O=a.makeTensorInfo(A,"float32",C),F=a.makeTensorInfo(A,"float32",M),R=kI({inputs:{real:O,imag:F},backend:a}),D=function(e,t){const n=new Float32Array(e/2),r=new Float32Array(e/2);for(let a=0;a<Math.ceil(e/2);a++){const o=(t?2:-2)*Math.PI*(a/e);n[a]=Math.cos(o),r[a]=Math.sin(o)}return{real:n,imag:r}}(n,r),P=[D.real.length],L=a.makeTensorInfo(P,"float32",D.real),z=a.makeTensorInfo(P,"float32",D.imag),B=kI({inputs:{real:L,imag:z},backend:a}),W=sE({inputs:{a:B,b:R},backend:a}),U=OI({inputs:{a:T,b:W},backend:a}),j=AE({inputs:{a:T,b:W},backend:a}),H=II({inputs:{input:U},backend:a}),V=II({inputs:{input:j},backend:a}),q=M_({inputs:{input:U},backend:a}),G=M_({inputs:{input:j},backend:a}),K=O_({inputs:[H,V],backend:a,attrs:{axis:0}}),$=O_({inputs:[q,G],backend:a,attrs:{axis:0}}),Y=a.data.get(K.dataId).values,Q=a.data.get($.dataId).values;return a.disposeIntermediateTensorInfo(d),a.disposeIntermediateTensorInfo(p),a.disposeIntermediateTensorInfo(h),a.disposeIntermediateTensorInfo(y),a.disposeIntermediateTensorInfo(b),a.disposeIntermediateTensorInfo(w),a.disposeIntermediateTensorInfo(_),a.disposeIntermediateTensorInfo(E),a.disposeIntermediateTensorInfo(T),a.disposeIntermediateTensorInfo(O),a.disposeIntermediateTensorInfo(F),a.disposeIntermediateTensorInfo(R),a.disposeIntermediateTensorInfo(L),a.disposeIntermediateTensorInfo(z),a.disposeIntermediateTensorInfo(B),a.disposeIntermediateTensorInfo(W),a.disposeIntermediateTensorInfo(U),a.disposeIntermediateTensorInfo(j),a.disposeIntermediateTensorInfo(H),a.disposeIntermediateTensorInfo(q),a.disposeIntermediateTensorInfo(V),a.disposeIntermediateTensorInfo(G),a.disposeIntermediateTensorInfo(K),a.disposeIntermediateTensorInfo($),{real:Y,imag:Q}}const PE={kernelName:"FFT",backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:r}=t,a=_r(r.shape),o=r.shape[r.shape.length-1],i=RI({inputs:{x:r},backend:n,attrs:{shape:[a/o,o]}}),s=FE(i,!1,n),l=RI({inputs:{x:s},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(s),l}};function LE(e){const{backend:t,attrs:n}=e,{shape:r,value:a,dtype:o}=n,i=o||Dr(a),s=Or(i,_r(r));return function(e,t){e.fill(t)}(s,a),t.makeTensorInfo(r,i,s)}const zE={kernelName:io,backendName:"cpu",kernelFunc:LE};const BE={kernelName:so,backendName:"cpu",kernelFunc:e=>{let{inputs:t,attrs:n,backend:r}=e;const{image:a}=t,o=r,i=Ar(a.dtype,_r(a.shape)),[s,l,u,c]=a.shape,d=o.data.get(a.dataId).values;for(let p=0;p<s;p++){const e=p*u*l*c;for(let t=0;t<l;t++){const n=t*(u*c);for(let t=0;t<u;t++){const r=t*c;for(let a=0;a<c;a++){const o=Math.round(u-t-1),s=e+n+r+a;let l=d[s];if(o>=0&&o<u){l=d[e+n+o*c+a]}i[s]=l}}}}return{dataId:o.write(i,a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}},WE=tI(e=>Math.floor(e)),UE=rI(lo,WE),jE={kernelName:lo,backendName:"cpu",kernelFunc:UE},HE=cI((e,t)=>Math.floor(e/t)),VE=NI(uo,HE,null,"int32"),qE={kernelName:uo,backendName:"cpu",kernelFunc:VE};const GE={kernelName:cs,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:o,bias:i,preluActivationWeights:s}=t,{strides:l,pad:u,dataFormat:c,dilations:d,dimRoundingMode:p,activation:h,leakyreluAlpha:f}=r;let m=R_({inputs:{x:a,filter:o},backend:n,attrs:{strides:l,pad:u,dataFormat:c,dilations:d,dimRoundingMode:p}});if(i){const e=m;if("NCHW"===c&&1===i.shape.length&&1!==i.shape[0]){const e=RI({inputs:{x:i},backend:n,attrs:{shape:[i.shape[0],1,1]}});m=OI({inputs:{a:m,b:e},backend:n}),n.disposeIntermediateTensorInfo(e)}else m=OI({inputs:{a:m,b:i},backend:n});n.disposeIntermediateTensorInfo(e)}if(h){const e=m;if("NCHW"===c&&"prelu"===h&&1===s.shape.length&&1!==s.shape[0]){const e=RI({inputs:{x:s},backend:n,attrs:{shape:[s.shape[0],1,1]}});m=wI(n,m,h,e,f),n.disposeIntermediateTensorInfo(e)}else m=wI(n,m,h,s,f);n.disposeIntermediateTensorInfo(e)}return m}};const KE={kernelName:ds,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:o,bias:i,preluActivationWeights:s}=t,{strides:l,pad:u,dataFormat:c,dilations:d,dimRoundingMode:p,activation:h,leakyreluAlpha:f}=r;let m=Q_({inputs:{x:a,filter:o},backend:n,attrs:{strides:l,pad:u,dataFormat:c,dilations:d,dimRoundingMode:p}});if(i){const e=m;m=OI({inputs:{a:m,b:i},backend:n}),n.disposeIntermediateTensorInfo(e)}if(h){const e=m;m=wI(n,m,h,s,f),n.disposeIntermediateTensorInfo(e)}return m}};const $E={kernelName:ho,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{params:r,indices:a}=t,o=_r(r.shape),i=a.shape,s=i[i.length-1],[l,u,c,d]=zc(r,a);if(0===u)return n.makeTensorInfo(l,r.dtype,[]);const p=function(e,t,n,r,a,o,i,s,l){const u=Au([r,o],n);for(let c=0;c<r;c++){const n=[];let r=0;for(let t=0;t<a;t++){const o=e[c*a+t];r+=o*i[t],n.push(o)}if(r<0||r>=l/o)throw new Error("Invalid indices: ".concat(n," does not index into ").concat(s));for(let e=0;e<o;e++)u.values[c*o+e]=t.get(...t.indexToLoc(r*o+e))}return u}(n.data.get(a.dataId).values,n.bufferSync(r),r.dtype,u,s,c,d,r.shape,o);return n.makeTensorInfo(l,r.dtype,p.values)}};const YE={kernelName:po,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,indices:o}=t,{axis:i,batchDims:s}=r;_b([a,o],"gatherV2");const l=Mr(i,a.shape)[0],u=n.data.get(o.dataId).values,c=a.shape[l];for(let b=0;b<u.length;++b){const e=u[b];Sr(e<=c-1&&e>=0,()=>"GatherV2: the index value ".concat(e," is not in [0, ").concat(c-1,"]"))}let d=s;null==s&&(d=0);const p=_r(o.shape),h=Bg(a,o,l,d),f=RI({inputs:{x:a},backend:n,attrs:{shape:[h.batchSize,h.outerSize,h.dimSize,h.sliceSize]}}),m=RI({inputs:{x:o},backend:n,attrs:{shape:[h.batchSize,p/h.batchSize]}}),g=[h.batchSize,h.outerSize,p/h.batchSize,h.sliceSize],v=n.bufferSync(m),y=function(e,t,n){const r=Au(n,e.dtype);for(let a=0;a<r.size;++a){const n=r.indexToLoc(a).slice(),o=n[0],i=n[2],s=t.locToIndex([o,i]);n[2]=t.values[s];const l=e.locToIndex(n);0<=l&&l<e.values.length&&(r.values[a]=e.values[l])}return r}(n.bufferSync(f),v,g);return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),n.makeTensorInfo(h.outputShape,y.dtype,y.values)}},QE=cI((e,t)=>e>t?1:0),XE=NI(fo,QE,null,"bool"),JE={kernelName:fo,backendName:"cpu",kernelFunc:XE},ZE=cI((e,t)=>e>=t?1:0),eT=NI(mo,ZE,null,"bool"),tT={kernelName:mo,backendName:"cpu",kernelFunc:eT};const nT={kernelName:vo,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:r}=t,a=_r(r.shape),o=r.shape[r.shape.length-1],i=RI({inputs:{x:r},backend:n,attrs:{shape:[a/o,o]}}),s=FE(i,!0,n),l=RI({inputs:{x:s},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(s),l}},rT=nI(bo,e=>Number.isFinite(e)?1:0,"bool"),aT={kernelName:bo,backendName:"cpu",kernelFunc:rT},oT=nI(wo,e=>Math.abs(e)===1/0?1:0,"bool"),iT={kernelName:wo,backendName:"cpu",kernelFunc:oT},sT=nI(ko,e=>Number.isNaN(e)?1:0,"bool"),lT={kernelName:ko,backendName:"cpu",kernelFunc:sT},uT=cI((e,t)=>e<t?1:0),cT=NI(xo,uT,null,"bool"),dT={kernelName:xo,backendName:"cpu",kernelFunc:cT},pT=cI((e,t)=>e<=t?1:0),hT=NI(Io,pT,null,"bool"),fT={kernelName:Io,backendName:"cpu",kernelFunc:hT};const mT={kernelName:_o,backendName:"cpu",kernelFunc:function(e){const{backend:t,attrs:n}=e,{start:r,stop:a,num:o}=n,i=function(e,t,n){const r=(t-e)/(n-1),a=Ur(n,"float32");a[0]=e;for(let o=1;o<a.length;o++)a[o]=a[o-1]+r;return a}(r,a,o);return t.makeTensorInfo([i.length],"float32",i)}},gT=tI(e=>Math.log(e)),vT=rI(Eo,gT),yT={kernelName:Eo,backendName:"cpu",kernelFunc:vT},bT=nI(To,e=>Math.log1p(e)),wT={kernelName:To,backendName:"cpu",kernelFunc:bT},kT=cI((e,t)=>e&&t),ST=NI(No,kT,null,"bool"),xT={kernelName:No,backendName:"cpu",kernelFunc:ST},IT=nI(Co,e=>e?0:1,"bool"),_T={kernelName:Co,backendName:"cpu",kernelFunc:IT},ET=cI((e,t)=>e||t),TT=NI(Mo,ET,null,"bool"),NT={kernelName:Mo,backendName:"cpu",kernelFunc:TT};const CT={kernelName:Ao,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{depthRadius:o,bias:i,alpha:s,beta:l}=r;_b(a,"LRN");const u=a.shape[3],c=u-1,d=n.data.get(a.dataId).values,p=_r(a.shape),h=new Float32Array(p);function f(e){const t=e%u;let n=e-t+Math.max(0,t-o);const r=e-t+Math.min(t+o,c);let a=0;for(;n<=r;n++){const e=d[n];a+=e*e}return a}for(let m=0;m<p;m++){const e=f(m),t=d[m]*Math.pow(i+s*e,-l);h[m]=t}return n.makeTensorInfo(a.shape,a.dtype,h)}};const MT={kernelName:Oo,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,y:o,dy:i}=t,{depthRadius:s,bias:l,alpha:u,beta:c}=r;_b(i,"LRNGrad");const d=_r(i.shape),p=i.shape[3],h=n.data.get(i.dataId).values,f=n.data.get(a.dataId).values,m=n.data.get(o.dataId).values,g=new Float32Array(d),v=d;for(let y=0;y<v;y++){const e=y%p,t=y-e+Math.max(0,e-s),n=y-e+Math.min(p,e+s+1);let r=0;for(let a=t;a<n;a++)r+=Math.pow(f[a],2);r=u*r+l;for(let a=t;a<n;a++){let e=-2*u*c*f[a]*m[y]/r;y===a&&(e+=Math.pow(r,-c)),e*=h[y],g[a]+=e}}return n.makeTensorInfo(i.shape,a.dtype,g)}};function AT(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{reductionIndices:o,keepDims:i}=r,s=n;let l=a.shape;const u=l.length,c=Mr(o,l);let d=c;const p=yp(d,u);let h=s.data.get(a.dataId).values;if(null!=p){const e=new Array(u);for(let t=0;t<e.length;t++)e[t]=l[p[t]];h=qI(h,l,a.dtype,p,e),d=wp(d.length,u),l=e}_b(a,"max"),vp("max",d,u);const[f,m]=mp(l,d),g=function(e,t,n,r){const a=Ar(r,_r(n));for(let o=0;o<a.length;++o){const n=o*t;let r=e[n];for(let a=0;a<t;++a){const t=e[n+a];(Number.isNaN(t)||t>r)&&(r=t)}a[o]=r}return a}(h,_r(m),f,a.dtype),v=s.write(g,f,a.dtype);let y=f;if(i){y=gp(f,c)}return{dataId:v,shape:y,dtype:a.dtype}}const OT={kernelName:Fo,backendName:"cpu",kernelFunc:AT},FT=cI((e,t)=>Math.max(e,t)),RT=NI(Ro,FT),DT={kernelName:Ro,backendName:"cpu",kernelFunc:RT};const PT={kernelName:Do,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t;_b(a,"maxPool");const{filterSize:o,strides:i,pad:s,dimRoundingMode:l}=r;Sr(gd(i,1),()=>"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(i," and dilations '").concat(1,"'"));const u=id(a.shape,o,i,1,s,l);let c;if(1===u.filterWidth&&1===u.filterHeight&&Er(u.inShape,u.outShape))c=iI({inputs:{x:a},backend:n});else{const e=n.data.get(a.dataId).values,t=Lr(a.shape),r=u_(e,a.shape,a.dtype,t,u,"max");c=n.makeTensorInfo(u.outShape,a.dtype,r.values)}return c}};const LT={kernelName:Lo,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{filterSize:o,strides:i,pad:s,dimRoundingMode:l,dataFormat:u}=r;_b(a,"maxPool3d");const c=sd(a.shape,o,i,1,s,l,u),d=d_(n.data.get(a.dataId).values,a.shape,a.dtype,Lr(a.shape),c,"max");return n.makeTensorInfo(d.shape,"float32",d.values)}};const zT={kernelName:zo,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:o}=t,{filterSize:i,strides:s,pad:l,dimRoundingMode:u}=r;_b([a,o],"maxPool3DGrad");const c=sd(o.shape,i,s,1,l,u),d=function(e,t){const n=Au(t.outShape,"int32"),r=t.strideDepth,a=t.strideHeight,o=t.strideWidth,i=t.dilationDepth,s=t.dilationHeight,l=t.dilationWidth,u=t.effectiveFilterDepth,c=t.effectiveFilterHeight,d=t.effectiveFilterWidth,p=t.padInfo.front,h=t.padInfo.top,f=t.padInfo.left;for(let m=0;m<t.batchSize;++m)for(let g=0;g<t.inChannels;++g)for(let v=0;v<t.outDepth;++v){const y=v*r-p;let b=y;for(;b<0;)b+=i;const w=Math.min(t.inDepth,u+y);for(let r=0;r<t.outHeight;++r){const u=r*a-h;let p=u;for(;p<0;)p+=s;const k=Math.min(t.inHeight,c+u);for(let a=0;a<t.outWidth;++a){const h=a*o-f;let S=h;for(;S<0;)S+=l;const x=Math.min(t.inWidth,d+h);let I=Number.NEGATIVE_INFINITY,_=-1;for(let t=b;t<w;t+=i){const n=t-y;for(let r=p;r<k;r+=s){const a=r-u;for(let o=S;o<x;o+=l){const i=o-h,s=e.get(m,t,r,o,g);s>=I&&(I=s,_=n*c*d+a*c+i)}}}n.set(_,m,v,r,a,g)}}}return n}(n.bufferSync(o),c),p=c.strideDepth,h=c.strideHeight,f=c.strideWidth,m=c.dilationDepth,g=c.dilationHeight,v=c.dilationWidth,y=c.effectiveFilterDepth,b=c.effectiveFilterHeight,w=c.effectiveFilterWidth,k=y-1-c.padInfo.front,S=w-1-c.padInfo.left,x=b-1-c.padInfo.top,I=Au(o.shape,"float32"),_=n.bufferSync(a);for(let E=0;E<c.batchSize;++E)for(let e=0;e<c.inChannels;++e)for(let t=0;t<c.inDepth;++t)for(let n=0;n<c.inHeight;++n)for(let r=0;r<c.inWidth;++r){const a=t-k,o=n-x,i=r-S;let s=0;for(let t=0;t<y;t+=m){const n=(a+t)/p;if(!(n<0||n>=c.outDepth||Math.floor(n)!==n))for(let r=0;r<b;r+=g){const a=(o+r)/h;if(!(a<0||a>=c.outHeight||Math.floor(a)!==a))for(let o=0;o<w;o+=v){const l=(i+o)/f;if(l<0||l>=c.outWidth||Math.floor(l)!==l)continue;const u=y*b*w-1-d.get(E,n,a,l,e)===t*b*w+r*w+o?1:0;if(0===u)continue;s+=_.get(E,n,a,l,e)*u}}}I.set(s,E,t,n,r,e)}return n.makeTensorInfo(I.shape,I.dtype,I.values)}};const BT={kernelName:Po,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:o,output:i}=t,s=o;_b([o,i],"maxPoolGrad");const{filterSize:l,strides:u,pad:c,dimRoundingMode:d}=r,p=id(s.shape,l,u,1,c,d),h=n.data.get(s.dataId).values,f=Au(p.outShape,s.dtype,c_(h,s.shape,s.dtype,p).values),m=p.strideHeight,g=p.strideWidth,v=p.dilationHeight,y=p.dilationWidth,b=p.effectiveFilterHeight,w=p.effectiveFilterWidth,k=w-1-p.padInfo.left,S=b-1-p.padInfo.top,x=Au(s.shape,"float32"),I=n.data.get(a.dataId).values,_=Au(a.shape,"float32",I);for(let E=0;E<p.batchSize;++E)for(let e=0;e<p.inChannels;++e)for(let t=0;t<p.inHeight;++t)for(let n=0;n<p.inWidth;++n){const r=t-S,a=n-k;let o=0;for(let t=0;t<b;t+=v){const n=(r+t)/m;if(!(n<0||n>=p.outHeight||Math.floor(n)!==n))for(let r=0;r<w;r+=y){const i=(a+r)/g;if(i<0||i>=p.outWidth||Math.floor(i)!==i)continue;const s=b*w-1-f.get(E,n,i,e)===t*w+r?1:0;if(0===s)continue;o+=_.get(E,n,i,e)*s}}x.set(o,E,t,n,e)}return n.makeTensorInfo(x.shape,x.dtype,x.values)}};const WT={kernelName:Bo,backendName:"cpu",kernelFunc:e=>{let{inputs:t,attrs:n,backend:r}=e;const{x:a}=t,{filterSize:o,strides:i,pad:s,includeBatchInIndex:l}=n,u=r;_b(a,"MaxPoolWithArgmax");const c=u.data.get(a.dataId).values,d=id(a.shape,o,i,[1,1],s),[p,h]=function(e,t,n,r,a){const o=u_(e,0,n,Lr(t),a,"max"),i=c_(e,t,n,a,!0,r);return[o.values,i.values]}(c,a.shape,a.dtype,l,d),f=u.write(p,d.outShape,a.dtype),m=u.write(h,d.outShape,a.dtype);return[{dataId:f,shape:d.outShape,dtype:a.dtype},{dataId:m,shape:d.outShape,dtype:"int32"}]}};const UT={kernelName:Wo,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:o,keepDims:i}=r,s=Mr(o,a.shape),l=_r(mp(a.shape,s)[1]),u=[],c=n.makeTensorInfo([],"float32",new Float32Array([l]));u.push(c);const d=EI({inputs:{x:a},backend:n,attrs:{dtype:"float32"}});u.push(d);const p=TE({inputs:{a:d,b:c},backend:n});u.push(p);const h=uE({inputs:{x:p},backend:n,attrs:{axis:o,keepDims:i}});return u.forEach(e=>n.disposeIntermediateTensorInfo(e)),h}};const jT={kernelName:Uo,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:o,keepDims:i}=r;_b(a,"min");const s=Mr(o,a.shape);let l=s;const u=yp(l,a.shape.length);let c=a;null!=u&&(c=GI({inputs:{x:a},backend:n,attrs:{perm:u}}),l=wp(l.length,a.shape.length)),vp("min",l,c.shape.length);const[d,p]=mp(c.shape,l),h=_r(p),f=Ur(_r(d),c.dtype),m=n.data.get(c.dataId).values;for(let v=0;v<f.length;++v){const e=v*h;let t=m[e];for(let n=0;n<h;++n){const r=m[e+n];(Number.isNaN(r)||r<t)&&(t=r)}f[v]=t}null!=u&&n.disposeIntermediateTensorInfo(c);const g=n.makeTensorInfo(d,c.dtype,f);if(i){const e=RI({inputs:{x:g},backend:n,attrs:{shape:gp(d,s)}});return n.disposeIntermediateTensorInfo(g),e}return g}},HT=cI((e,t)=>Math.min(e,t)),VT=NI(jo,HT),qT={kernelName:jo,backendName:"cpu",kernelFunc:VT};const GT={kernelName:Ho,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{paddings:o,mode:i}=r;_b(a,"mirrorPad");const s=o.map((e,t)=>e[0]+a.shape[t]+e[1]),l=o.map(e=>e[0]),u=o.map((e,t)=>e[0]+a.shape[t]),c="reflect"===i?0:1,d=n.data.get(a.dataId).values,p=a.shape.length,h=Lr(a.shape),f=_r(s),m=s.length,g=Lr(s),v=Ar(a.dtype,f);for(let y=0;y<f;y++){let e=qr(y,m,g);for(let n=0;n<m;n++)e[n]<l[n]?e[n]=2*l[n]-e[n]-c:e[n]>=u[n]&&(e[n]=2*(u[n]-1)-e[n]+c);e=e.map((e,t)=>e-l[t]);const t=Vr(e,p,h);v[y]=d[t]}return{dataId:n.write(v,s,a.dtype),shape:s,dtype:a.dtype}}},KT=cI((e,t)=>{const n=e%t;return e<0&&t<0||e>=0&&t>=0?n:(n+t)%t}),$T=NI(Vo,KT),YT={kernelName:Vo,backendName:"cpu",kernelFunc:$T};function QT(e){const{inputs:t,backend:n,attrs:r}=e,{logits:a}=t,{dim:o}=r,i=a.shape.length;let s=o;if(-1===s&&(s=i-1),s!==i-1)throw Error("Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(i," and dim was ").concat(s));const l=Mr([s],a.shape),u=AT({inputs:{x:a},backend:n,attrs:{reductionIndices:l,keepDims:!1}}),c=gp(u.shape,l),d=RI({inputs:{x:u},backend:n,attrs:{shape:c}}),p=AE({inputs:{a:a,b:d},backend:n}),h=bE({inputs:{x:p},backend:n}),f=uE({inputs:{x:h},backend:n,attrs:{axis:l,keepDims:!1}}),m=RI({inputs:{x:f},backend:n,attrs:{shape:c}}),g=TE({inputs:{a:h,b:m},backend:n});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),g}const XT={kernelName:Pi,backendName:"cpu",kernelFunc:QT};const JT={kernelName:qo,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{logits:a}=t,{numSamples:o,seed:i,normalized:s}=r;_b(a,"multinomial");const l=s?a:QT({inputs:{logits:a},backend:n,attrs:{dim:-1}}),u=l.shape[0],c=l.shape[1],d=n.data.get(l.dataId).values,p=[u,o],h=Ur(_r(p),"int32");for(let f=0;f<u;++f){const e=f*c,t=new Float32Array(c-1);t[0]=d[e];for(let a=1;a<t.length;++a)t[a]=t[a-1]+d[e+a];const n=Dh.alea(i.toString()),r=f*o;for(let a=0;a<o;++a){const e=n();h[r+a]=t.length;for(let n=0;n<t.length;n++)if(e<t[n]){h[r+a]=n;break}}}return s||n.disposeIntermediateTensorInfo(l),n.makeTensorInfo(p,"int32",h)}};const ZT={kernelName:Ko,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t;_b(r,"neg");const a=n.data.get(r.dataId).values,[o,i]=function(e,t,n){const r=Ds(-1,n);return oE([],t,r,e,n)}(a,r.shape,r.dtype);return n.makeTensorInfo(i,r.dtype,o)}},eN=bm;const tN={kernelName:Yo,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{boxes:a,scores:o}=t,{maxOutputSize:i,iouThreshold:s,scoreThreshold:l}=r;_b(a,"NonMaxSuppression");const u=n.data.get(a.dataId).values,c=n.data.get(o.dataId).values,{selectedIndices:d}=eN(u,c,i,s,l);return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}},nN=wm;const rN={kernelName:Qo,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{boxes:a,scores:o}=t,{maxOutputSize:i,iouThreshold:s,scoreThreshold:l,padToMaxOutputSize:u}=r;_b(a,"NonMaxSuppressionPadded");const c=n.data.get(a.dataId).values,d=n.data.get(o.dataId).values,{selectedIndices:p,validOutputs:h}=nN(c,d,i,s,l,u);return[n.makeTensorInfo([p.length],"int32",new Int32Array(p)),n.makeTensorInfo([],"int32",new Int32Array([h]))]}},aN=km;const oN={kernelName:Xo,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{boxes:a,scores:o}=t,{maxOutputSize:i,iouThreshold:s,scoreThreshold:l,softNmsSigma:u}=r;_b(a,"NonMaxSuppressionWithScore");const c=n.data.get(a.dataId).values,d=n.data.get(o.dataId).values,p=i,h=s,f=l,m=u,{selectedIndices:g,selectedScores:v}=aN(c,d,p,h,f,m);return[n.makeTensorInfo([g.length],"int32",new Int32Array(g)),n.makeTensorInfo([v.length],"float32",new Float32Array(v))]}},iN=cI((e,t)=>e!==t?1:0),sN=NI($o,iN,null,"bool"),lN={kernelName:$o,backendName:"cpu",kernelFunc:sN};const uN={kernelName:Zo,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{indices:a}=t,{dtype:o,depth:i,onValue:s,offValue:l}=r;_b(a,"oneHot");const u=_r(a.shape),c=new Float32Array(u*i);c.fill(l);const d=n.data.get(a.dataId).values;for(let p=0;p<u;++p)d[p]>=0&&d[p]<i&&(c[p*i+d[p]]=s);return n.makeTensorInfo([...a.shape,i],o,c)}};function cN(e){const{inputs:t,backend:n}=e,{x:r}=t;if("string"===r.dtype)throw new Error("zerosLike is not supported for string tensors");if("complex64"===r.dtype){const e=II({inputs:{input:r},backend:n}),t=cN({inputs:{x:e},backend:n}),a=M_({inputs:{input:r},backend:n}),o=cN({inputs:{x:a},backend:n}),i=kI({inputs:{real:t,imag:o},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(o),i}return LE({backend:n,attrs:{shape:r.shape,value:0,dtype:r.dtype}})}const dN={kernelName:os,backendName:"cpu",kernelFunc:cN};const pN={kernelName:Jo,backendName:"cpu",kernelFunc:function e(t){const{inputs:n,backend:r}=t,{x:a}=n;if("string"===a.dtype)throw new Error("onesLike is not supported for string tensors");if("complex64"===a.dtype){const t=II({inputs:{input:a},backend:r}),n=e({inputs:{x:t},backend:r}),o=M_({inputs:{input:a},backend:r}),i=cN({inputs:{x:o},backend:r}),s=kI({inputs:{real:n,imag:i},backend:r});return r.disposeIntermediateTensorInfo(t),r.disposeIntermediateTensorInfo(n),r.disposeIntermediateTensorInfo(o),r.disposeIntermediateTensorInfo(i),s}return LE({backend:r,attrs:{shape:a.shape,value:1,dtype:a.dtype}})}};function hN(e){const{inputs:t,backend:n,attrs:r}=e,{axis:a}=r;if(1===t.length)return kE({inputs:{input:t[0]},backend:n,attrs:{dim:a}});const o=t[0].shape,i=t[0].dtype;t.forEach(e=>{xr(o,e.shape,"All tensors passed to stack must have matching shapes"),Sr(i===e.dtype,()=>"All tensors passed to stack must have matching dtypes")});const s=[],l=t.map(e=>{const t=kE({inputs:{input:e},backend:n,attrs:{dim:a}});return s.push(t),t}),u=O_({inputs:l,backend:n,attrs:{axis:a}});return s.forEach(e=>n.disposeIntermediateTensorInfo(e)),u}const fN={kernelName:ei,backendName:"cpu",kernelFunc:hN};const mN={kernelName:ti,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{paddings:o,constantValue:i}=r;_b(a,"pad");const s=o.map((e,t)=>e[0]+a.shape[t]+e[1]),l=o.map(e=>e[0]),u=n.data.get(a.dataId).values,c=_r(a.shape),d=a.shape.length,p=Lr(a.shape),h=_r(s),f=s.length,m=Lr(s),g=Ar(a.dtype,h);0!==i&&g.fill(i);for(let v=0;v<c;v++){const e=qr(v,d,p).map((e,t)=>e+l[t]);g[Vr(e,f,m)]=u[v]}return{dataId:n.write(g,s,a.dtype),shape:s,dtype:a.dtype}}},gN=cI((e,t)=>Math.pow(e,t)),vN=NI(ni,gN),yN={kernelName:ni,backendName:"cpu",kernelFunc:vN};const bN={kernelName:ai,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:o,keepDims:i}=r;_b(a,"prod");const s=a.shape.length,l=Mr(o,a.shape),u=yp(l,s);let c=l,d=a;const p=[];null!=u&&(d=GI({inputs:{x:a},backend:n,attrs:{perm:u}}),p.push(d),c=wp(c.length,s));const h=n.data.get(d.dataId).values,{outVals:f,outShape:m,outDtype:g}=function(e,t,n,r){const[a,o]=mp(e,r),i=ll(t,"int32"),s=Ur(_r(a),i),l=_r(o);for(let u=0;u<s.length;++u){const e=u*l;let t=1;for(let r=0;r<l;++r)t*=n[e+r];s[u]=t}return{outVals:s,outShape:a,outDtype:i}}(d.shape,d.dtype,h,c);let v=m;return i&&(v=gp(m,l)),p.forEach(e=>n.disposeIntermediateTensorInfo(e)),n.makeTensorInfo(v,g,f)}};function wN(e,t,n,r){const a=[];let o=0;const i=t.length-1+n.length,s=new Array(i).fill(null).map(()=>[0]);!function(e,t){for(let n=0;n<e.length;++n){const r=e[n],a=n===e.length-1?t:e[n+1].length;if(0===r.length)throw new Error("Ragged splits may not be empty");if(r[0]<0)throw new Error("Ragged splits must be non-negative");if(r[r.length-1]>a)throw new Error("Ragged splits must not point past values");for(let e=1;e<r.length;++e)if(r[e-1]>r[e])throw new Error("Ragged splits must be sorted in ascending order")}}(n,r);let l=1;for(let u=0;u<t.length-1;++u){l*=t[u];const e=t[u+1];for(let t=1;t<l+1;++t)s[u].push(t*e)}for(let u=0;u<e.length;++u){let r=e[u],i=e[u]+1;for(let e=0;e<n.length;++e){const a=n[e],o=e+t.length-1;if(o>=0){const e=s[o],t=e[e.length-1]-a[r];for(let n=r;n<i;++n)s[o].push(a[n+1]+t)}r=a[r],i=a[i]}i!==r&&(a.push([r,i]),o+=i-r)}return{outSplits:s,valueSlices:a,numValues:o}}function kN(e,t){const n=e.slice(0,t);for(;n.length<t;)n.push(1);for(let r=t;r<e.length;r++)n[t-1]*=e[r];return n}function SN(e,t,n,r,a){const o=t.slice();o[0]=a;const i=Or(n,_r(o)),s=e.length;return function(e,t,n,r,a,o){const i=kN(t,2)[1],s=kN(o,2)[1];let l=0;for(const u of n)for(let t=u[0];t<u[1];++t){for(let n=0;n<r;++n)a[l*s+n]=e[t*i+n];++l}}(e,t,r,0===s?0:s/t[0],i,o),[i,o]}function xN(e,t,n,r,a,o,i,s){if(0===e.length)throw new Error("paramsNestedSplits must be non empty");if(0===t[0].length)throw new Error("Split tensors must not be scalars");if(function(e,t,n){e.forEach((e,r)=>{if(e<0||e>=n){const a=qr(r,t.length,Lr(t)).join(",");throw new Error("indices[".concat(a,"] = ").concat(e," is not in [0, ").concat(n,")"))}})}(o,i,t[0][0]-1),0===r.length)throw new Error("params.rank must be nonzero");const l=r[0],{outSplits:u,valueSlices:c,numValues:d}=wN(o,i,e,l),p=function(e){const t=[];for(let n=0;n<e.length;++n){const r=Or("int32",e[n].length);t.push(r),e[n].forEach((e,t)=>r[t]=e)}return t}(u),h=SN(n,r,a,c,d);return[p,h[0],h[1]]}const IN={kernelName:oi,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{paramsNestedSplits:a,paramsDenseValues:o,indices:i}=t,{outputRaggedRank:s}=r,l=a.map(e=>n.data.get(e.dataId).values),u=a.map(e=>e.shape),c=n.data.get(o.dataId).values,d=n.data.get(i.dataId).values,[p,h,f]=xN(l,u,c,o.shape,o.dtype,d,i.shape),m=p.map(e=>n.makeTensorInfo([e.length],"int32",e)),g=n.makeTensorInfo(f,o.dtype,h);return m.concat([g])}},_N=2147483647;const EN={kernelName:ii,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{starts:r,limits:a,deltas:o}=t,i=n.data.get(r.dataId).values,s=n.data.get(a.dataId).values,l=n.data.get(o.dataId).values,[u,c]=function(e,t,n,r,a,o,i){if(t.length>1)throw new Error("starts must be a scalar or vector");if(a.length>1)throw new Error("limits must be a scalar or vector");if(i.length>1)throw new Error("deltas must be a scalar or vector");const s=0===t.length,l=0===a.length,u=0===i.length,c=[];s||c.push(t[0]),l||c.push(a[0]),u||c.push(i[0]);for(let m=1;m<c.length;++m)if(c[m]!==c[m-1])throw new Error("starts, limits, and deltas must have the same shape");const d=0===c.length?1:c[0],p=Or("int32",d+1);p[0]=0;for(let m=0;m<d;++m){const t=s?e[0]:e[m],n=l?r[0]:r[m],a=u?o[0]:o[m];if(0===a)throw new Error("Requires delta != 0");let i;if(a>0&&n<t||a<0&&n>t)i=0;else if(i=Math.ceil(Math.abs((n-t)/a)),i>_N)throw new Error("Requires ((limit - start) / delta) <= ".concat(_N));p[m+1]=p[m]+i}const h=Or(n,p[d]);let f=0;for(let m=0;m<d;++m){const t=p[m+1]-p[m];let n=s?e[0]:e[m];const r=u?o[0]:o[m];for(let e=0;e<t;++e)h[f++]=n,n+=r}return[p,h]}(i,r.shape,r.dtype,s,a.shape,l,o.shape);return[n.makeTensorInfo([u.length],"int32",u),n.makeTensorInfo([c.length],r.dtype,c)]}};var TN=pg;class NN{constructor(e,t,n,r,a,o,i,s,l,u){var c;this.shape=e,this.shapeShape=t,this.values=n,this.valuesShape=r,this.valuesDType=a,this.defaultValue=o,this.defaultValueShape=i,this.rowPartitionValues=s,this.rowPartitionValuesShapes=l,this.rowPartitionTypes=function(e){const t={FIRST_DIM_SIZE:pg.FIRST_DIM_SIZE,VALUE_ROWIDS:pg.VALUE_ROWIDS,ROW_LENGTHS:pg.ROW_LENGTHS,ROW_SPLITS:pg.ROW_SPLITS,ROW_LIMITS:pg.ROW_LIMITS,ROW_STARTS:pg.ROW_STARTS},n=[];for(const r of e){if(!(r in t))break;n.push(t[r])}return n}(u),this.raggedRank=0===(c=this.rowPartitionTypes).length?0:c[0]===pg.FIRST_DIM_SIZE?c.length-1:c.length}getRowPartitionTypeByDimension(e){return this.rowPartitionTypes[0]===TN.FIRST_DIM_SIZE?this.rowPartitionTypes[e+1]:this.rowPartitionTypes[e]}getRowPartitionTensor(e){return this.rowPartitionTypes[0]===TN.FIRST_DIM_SIZE?this.rowPartitionValues[e+1]:this.rowPartitionValues[e]}getMaxWidth(e){const t=this.getRowPartitionTensor(e-1);switch(this.getRowPartitionTypeByDimension(e-1)){case TN.VALUE_ROWIDS:return NN.getMaxWidthValueRowID(t);case TN.ROW_SPLITS:return NN.getMaxWidthRowSplit(t);default:throw new Error("Cannot handle partition type ".concat(TN[this.getRowPartitionTypeByDimension(e-1)]))}}static getMaxWidthRowSplit(e){const t=e.length;if(0===t||1===t)return 0;let n=0;for(let r=0;r<t-1;++r){const t=e[r+1]-e[r];t>n&&(n=t)}return n}static getMaxWidthValueRowID(e){const t=e.length;if(0===t)return 0;let n=0,r=e[0],a=0;for(let o=1;o<t;++o){const t=e[o];t!==r&&(r=t,a=Math.max(o-n,a),n=o)}return Math.max(t-n,a)}tensorShapeFromTensor(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(0===t.length){if(-1===e[0])return[];throw new Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return MN(e,n)}calculateOutputSize(e){const t=this.valuesShape;!function(e,t){if(null==e||null==t)return;const n=e.length,r=t.length;if(n>=r)throw new Error("defaultValue.shape=".concat(e," and ragged tensor flatValues.shape=").concat(t,", are incompatible: defaultValue.rank = ").concat(n," must be less than ragged tensor input flatValues.rank = ").concat(r,")"));for(let a=0;a<Math.min(n,r-1);++a){const n=e[a],r=t[a+1];if(n>=0&&r>=0&&1!==n&&n!==r)throw new Error("defaultValue.shape=".concat(e,", and ragged tensor input flatValues.shape=").concat(t," are incompatible: defaultValue.shape[").concat(a-e.length,"] = ").concat(n," but ragged tensor input.flatValues.shape[").concat(a-e.length,"] = ").concat(r))}}(this.defaultValueShape,t);const n=this.tensorShapeFromTensor(this.shape,this.shapeShape),r=function(e,t,n){let r=new Array;if(null==n&&null==t)return r;if(null==t)for(;r.length<e+n.length;)r.push(-1);else r=t.slice();if(null==n)return r;if(e+n.length!==r.length)throw new Error("rt input.shape and shape=".concat(t," are incompatible: rt input.rank = ").concat(e+n.length,", but shape.rank = ").concat(r.length));for(let a=1;a<n.length;++a){const o=n[a],i=r[r.length-n.length+a],s=r[i];if(o>=0)if(s>=0){if(s!==o)throw new Error("rt input.shape and shape=".concat(t," are incompatible: rt input.shape[").concat(a+e,"] = ").concat(o," but shape[").concat(a+e,"] = ").concat(s))}else r[i]=o}return r}(this.raggedRank,n,t),a=r;a[0]<0&&(a[0]=e);for(let o=1;o<=this.raggedRank;++o)a[o]<0&&(a[o]=this.getMaxWidth(o));return a}calculateFirstParentOutputIndex(e,t,n){const r=Math.min(e,n),a=[];let o=0;for(let i=0;i<r;++i,o+=t)a.push(o);for(let i=r;i<e;++i)a.push(-1);return Sr(a.length===e,()=>"Final length of result must be equal to firstDimension."),a}calculateOutputIndexRowSplit(e,t,n,r){const a=e.length,o=[];for(let i=0;i<a-1;++i){const a=e[i+1]-e[i];let s=Math.min(r,a),l=t[i];-1===l&&(s=0);for(let e=0;e<s;++e)o.push(l),l+=n;for(let e=0;e<a-s;++e)o.push(-1)}if(a>0&&o.length!==e[a-1])throw new Error("Invalid row split size.");return o}calculateOutputIndexValueRowID(e,t,n,r){const a=e.length,o=[];if(0===a)return[];let i=0,s=e[0];if(s>=t.length)throw new Error("Got currentValueRowId=".concat(s,", which is not less than ").concat(t.length));let l=t[s];o.push(l);for(let u=1;u<a;++u){const a=e[u];if(a===s)l>=0&&(++i,i<r?l+=n:l=-1);else{if(i=0,s=a,a>=t.length)throw new Error("Got nextValueRowId=".concat(a," which is not less than ").concat(t.length));l=t[a]}o.push(l)}if(o.length!==e.length)throw new Error("Invalid row ids.");return o}calculateOutputIndex(e,t,n,r){const a=this.getRowPartitionTensor(e),o=this.getRowPartitionTypeByDimension(e);switch(o){case TN.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(a,t,n,r);case TN.ROW_SPLITS:if(a.length-1>t.length)throw new Error("Row partition size is greater than output size: ".concat(a.length-1," > ").concat(t.length));return this.calculateOutputIndexRowSplit(a,t,n,r);default:throw new Error("Unsupported partition type: ".concat(TN[o]))}}getFirstDimensionSize(){const e=this.rowPartitionValues[0];if(0===this.rowPartitionTypes.length)throw new Error("No row_partition_types given.");const t=this.rowPartitionTypes[0];switch(t){case TN.FIRST_DIM_SIZE:return e[0];case TN.VALUE_ROWIDS:throw new Error("Cannot handle VALUE_ROWIDS in first dimension.");case TN.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw new Error("Cannot handle type ".concat(TN[t]))}}compute(){if(this.rowPartitionValues[0].length<=0)throw new Error("Invalid first partition input. Tensor requires at least one element.");const e=this.getFirstDimensionSize(),t=this.calculateOutputSize(e),n=new Array(this.raggedRank+1);n[n.length-1]=1;for(let o=n.length-2;o>=0;--o)n[o]=n[o+1]*t[o+1];const r=MN(t,!1),a=Or(this.valuesDType,_r(r));if(n[0]*t[0]>0){let o=this.calculateFirstParentOutputIndex(e,n[0],t[0]);for(let e=1;e<=this.raggedRank;++e){o=this.calculateOutputIndex(e-1,o,n[e],t[e])}this.setOutput(this.raggedRank,o,a,r)}return[r,a]}setOutput(e,t,n,r){if(0===n.length)return;const a=this.values,o=n;let i=r.slice();i=i.slice(e+1);const s=_r(i),l=t.length;let u=this.defaultValue;if(u.length!==s&&1!==u.length){const e=this.defaultValueShape;Pu(()=>{const t=wd(u,e),n=Ld(t,i);u=n.dataSync()})}let c=0,d=0,p=0;for(let h=0;h<=l;++h){let e=h<l?t[h]:-1;if(e!==p){if(d<p){const e=a.subarray(c*s);CN(o.subarray(d*s),e,(p-d)*s)}if(h>=l){const t=n.length;e=Math.floor(t/s)}if(e>p)if(1===this.defaultValue.length)o.subarray(p*s,e*s).fill(this.defaultValue[0]),p=e;else for(;e>p;){CN(o.slice(p*s),u,s),++p}e<0?(c=h+1,d=p):(c=h,d=p,p=d+1)}else++p}}}function CN(e,t,n){for(let r=0;r<n;r++)e[r]=t[r]}function MN(e,t){const n=[];for(let r of e){if(r<0){if(!t)throw new Error("Dimension ".concat(r," must be >= 0"));if(r<-1)throw new Error("Dimension ".concat(r," must be >= -1"));r=-1}n.push(r)}return n}const AN={kernelName:si,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{shape:a,values:o,defaultValue:i,rowPartitionTensors:s}=t,{rowPartitionTypes:l}=r,u=n.data.get(a.dataId).values,c=n.data.get(o.dataId).values,d=n.data.get(i.dataId).values,p=s.map(e=>n.data.get(e.dataId).values),h=s.map(e=>e.shape),[f,m]=function(e,t,n,r,a,o,i,s,l,u){return new NN(e,t,n,r,a,o,i,s,l,u).compute()}(u,a.shape,c,o.shape,o.dtype,d,i.shape,p,h,l);return n.makeTensorInfo(f,o.dtype,m)}};const ON={kernelName:li,backendName:"cpu",kernelFunc:function(e){const{backend:t,attrs:n}=e,{start:r,stop:a,dtype:o,step:i}=n,s=uS(r,a,i,o);return t.makeTensorInfo([s.length],o,s)}},FN=nI(ci,e=>1/e),RN={kernelName:ci,backendName:"cpu",kernelFunc:FN};const DN={kernelName:mi,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:a}=t,{alignCorners:o,halfPixelCenters:i,size:s}=r;_b(a,"resizeBilinear");const l=Lr(a.shape),[u,c]=s,[d,p,h,f]=a.shape,m=n.data.get(a.dataId).values,g=new Float32Array(_r([d,u,c,f])),v=[o&&u>1?p-1:p,o&&c>1?h-1:h],y=[o&&u>1?u-1:u,o&&c>1?c-1:c];let b=0;const w=v[0]/y[0],k=v[1]/y[1];for(let S=0;S<d;S++)for(let e=0;e<u;e++){let t;t=i?w*(e+.5)-.5:w*e;const n=Math.max(0,Math.floor(t)),r=t-n,a=Math.min(p-1,Math.ceil(t)),o=S*l[0]+n*l[1],s=S*l[0]+a*l[1];for(let e=0;e<c;e++){let t;t=i?k*(e+.5)-.5:k*e;const n=Math.max(0,Math.floor(t)),a=t-n,u=Math.min(h-1,Math.ceil(t)),c=o+n*l[2],d=s+n*l[2],p=o+u*l[2],v=s+u*l[2];for(let e=0;e<f;e++){const t=m[c+e],n=m[d+e],o=t+(m[p+e]-t)*a,i=o+(n+(m[v+e]-n)*a-o)*r;g[b++]=i}}}return n.makeTensorInfo([d,u,c,f],"float32",g)}};const PN={kernelName:gi,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:a,dy:o}=t,{alignCorners:i}=r;_b([o,a],"resizeBilinearGrad");const s=Lr(a.shape),[l,u,c,d]=a.shape,[,p,h]=o.shape,f=new Float32Array(l*u*c*d),m=[i&&p>1?u-1:u,i&&h>1?c-1:c],g=[i&&p>1?p-1:p,i&&h>1?h-1:h],v=m[0]/g[0],y=m[1]/g[1],b=n.data.get(o.dataId).values;let w=0;for(let k=0;k<l;k++){const e=k*s[0];for(let t=0;t<p;t++){const n=t*v,r=Math.floor(n),a=Math.min(Math.ceil(n),u-1),o=e+r*s[1],i=e+a*s[1],l=n-r,p=1-l;for(let e=0;e<h;e++){const t=e*y,n=Math.floor(t),r=Math.min(Math.ceil(t),c-1),a=t-n,u=1-a,h=o+n*s[2],m=o+r*s[2],g=i+n*s[2],v=i+r*s[2],k=p*u,S=p*a,x=l*u,I=l*a;for(let e=0;e<d;e++){const t=b[w++];f[h+e]+=t*k,f[m+e]+=t*S,f[g+e]+=t*x,f[v+e]+=t*I}}}}return n.makeTensorInfo([l,c,u,d],"float32",f)}};const LN={kernelName:hi,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:a}=t,{alignCorners:o,halfPixelCenters:i,size:s}=r;_b(a,"resizeNearestNeighbor");const l=Lr(a.shape),[u,c]=s,[d,p,h,f]=a.shape,m=n.data.get(a.dataId).values,g=new Float32Array(d*u*c*f),v=[o&&u>1?p-1:p,o&&c>1?h-1:h],y=[o&&u>1?u-1:u,o&&c>1?c-1:c],b=v[0]/y[0],w=v[1]/y[1];let k=0;for(let S=0;S<d;S++){const e=S*l[0];for(let t=0;t<u;t++){const n=i?b*(t+.5):b*t;let r=Math.min(p-1,o?Math.round(n):Math.floor(n));i&&(r=Math.max(0,r));const a=e+r*l[1];for(let e=0;e<c;e++){const t=i?w*(e+.5):w*e;let n=Math.min(h-1,o?Math.round(t):Math.floor(t));i&&(n=Math.max(0,n));const r=a+n*l[2];for(let e=0;e<f;e++){const t=m[r+e];g[k++]=t}}}}return n.makeTensorInfo([d,u,c,f],a.dtype,g)}};const zN={kernelName:fi,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:a,dy:o}=t,{alignCorners:i}=r;_b([o,a],"resizeNearestNeighborGrad");const s=Lr(a.shape),l=Lr(o.shape),[u,c,d,p]=a.shape,[,h,f]=o.shape,m=new Float32Array(u*c*d*p),g=n.data.get(o.dataId).values,v=[i&&h>1?c-1:c,i&&f>1?d-1:d],y=[i&&h>1?h-1:h,i&&f>1?f-1:f],b=v[0]/y[0],w=v[1]/y[1],k=1/b,S=1/w,x=2*Math.ceil(k)+2,I=2*Math.ceil(S)+2;for(let _=0;_<u;_++){const e=_*s[0];for(let t=0;t<c;t++){const n=e+t*s[1],r=Math.floor(t*k),a=Math.floor(r-x/2);for(let o=0;o<d;o++){const r=n+o*s[2],u=Math.floor(o*S),v=Math.floor(u-I/2);for(let n=0;n<p;n++){let s=0;for(let r=0;r<x;r++){const u=r+a;if(u<0||u>=h)continue;const p=e+u*l[1],m=u*b;if(t===Math.min(c-1,i?Math.round(m):Math.floor(m)))for(let e=0;e<I;e++){const t=e+v;if(t<0||t>=f)continue;const r=p+t*l[2],a=t*w;o===Math.min(d-1,i?Math.round(a):Math.floor(a))&&(s+=g[r+n])}}m[r+n]=s}}}}return n.makeTensorInfo(a.shape,a.dtype,m)}};const BN={kernelName:yi,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{dims:o}=r;_b(a,"reverse");const i=a.shape.length,s=Mr(o,a.shape);if(0===i)return iI({inputs:{x:a},backend:n});const l=new Qs(a.shape,a.dtype),u=n.bufferSync(a);for(let c=0;c<l.size;c++){const e=l.indexToLoc(c),t=e.slice();s.forEach(e=>t[e]=a.shape[e]-1-t[e]),l.set(u.get(...t),...e)}return n.makeTensorInfo(l.shape,l.dtype,l.values)}},WN={kernelName:ls,backendName:"cpu",kernelFunc:e=>{let{inputs:t,attrs:n,backend:r}=e;const{image:a}=t,{radians:o,fillValue:i,center:s}=n,l=r,u=Ar(a.dtype,_r(a.shape)),[c,d,p,h]=a.shape,[f,m]=hg(s,d,p),g=Math.sin(o),v=Math.cos(o),y=l.data.get(a.dataId).values;for(let b=0;b<c;b++){const e=b*p*d*h;for(let t=0;t<d;t++){const n=t*(p*h);for(let r=0;r<p;r++){const a=r*h;for(let o=0;o<h;o++){const s=[c,t,r,o],l=s[2],b=s[1];let w=(l-f)*v-(b-m)*g,k=(l-f)*g+(b-m)*v;w=Math.round(w+f),k=Math.round(k+m);let S=i;if("number"!==typeof i&&(S=3===o?255:i[o]),w>=0&&w<p&&k>=0&&k<d){S=y[e+k*(p*h)+w*h+o]}u[e+n+a+o]=S}}}}return{dataId:l.write(u,a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}},UN=nI(bi,e=>{const t=Math.floor(e);return e-t<.5?Math.floor(e):e-t>.5?Math.ceil(e):t%2===0?t:t+1}),jN={kernelName:bi,backendName:"cpu",kernelFunc:UN},HN=tI(e=>1/Math.sqrt(e)),VN=rI(wi,HN),qN={kernelName:wi,backendName:"cpu",kernelFunc:VN};function GN(e,t,n,r,a,o,i,s,l,u){const c=[r/a,a],d=e.values,p=t.values;if(0===r)return Au(n,t.dtype);const h=l instanceof Qs?l:Au(c,t.dtype);"string"===typeof l||"number"===typeof l?h.values.fill(l):"boolean"===typeof l&&h.values.fill(+l);for(let f=0;f<o;f++){const e=[];let o=0;for(let t=0;t<i;t++){const n=d[f*i+t];e.push(n),o+=n*s[t]}if(o<0||o>=r/a)throw new Error("Invalid indices: ".concat(e," does not index into ").concat(n));for(let n=0;n<a;n++)u?h.values[o*a+n]+=p[f*a+n]:h.values[o*a+n]=0===t.rank?p[0]:p[f*a+n]}return h}const KN={kernelName:ki,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{indices:a,updates:o}=t,{shape:i}=r,{sliceRank:s,numUpdates:l,sliceSize:u,strides:c,outputSize:d}=Wc(0,a,i),p=GN(n.bufferSync(a),n.bufferSync(o),i,d,u,l,s,c,0,!0);return n.makeTensorInfo(i,p.dtype,p.values)}};function $N(e,t){let n=0,r=e.length,a=0;for(;n<r;)a=Math.floor((n+r)/2),e[a]<t?n=a+1:r=a;return r}function YN(e,t){let n=0,r=e.length,a=0;for(;n<r;)a=Math.floor((n+r)/2),e[a]<=t?n=a+1:r=a;return r}const QN={kernelName:xi,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{sortedSequence:a,values:o}=t,{side:i}=r,s=function(e,t,n,r,a,o){const i=Or("int32",n*a);for(let s=0;s<n;++s){const n=e.slice(s*r,(s+1)*r),l=s*a;for(let e=0;e<a;++e)i[l+e]="left"===o?$N(n,t[e+l]):YN(n,t[e+l])}return i}(n.data.get(a.dataId).values,n.data.get(o.dataId).values,a.shape[0],a.shape[1],o.shape[1],i);return n.makeTensorInfo(o.shape,"int32",s)}};const XN={kernelName:Ii,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{condition:r,t:a,e:o}=t;_b([r,a,o],"select");const i=r.shape.length,s=n.data.get(r.dataId).values,l=n.data.get(a.dataId).values,u=n.data.get(o.dataId).values,c=ll(a.dtype,o.dtype),d=Ur(_r(a.shape),c);let p=0;const h=0===i||i>1||1===a.shape.length?1:_r(a.shape.slice(1));for(let f=0;f<s.length;f++)for(let e=0;e<h;e++)1===s[f]?d[p++]=l[f]:d[p++]=u[f];return n.makeTensorInfo(a.shape,c,d)}},JN=nI(_i,e=>e>=0?1.0507009873554805*e:1.7580993408473768*(Math.exp(e)-1)),ZN={kernelName:_i,backendName:"cpu",kernelFunc:JN},eC=nI(Ci,e=>e<0?-1:e>0?1:0),tC={kernelName:Ci,backendName:"cpu",kernelFunc:eC},nC=nI(Ti,e=>Math.sin(e)),rC={kernelName:Ti,backendName:"cpu",kernelFunc:nC},aC=nI(Ni,e=>Math.sinh(e)),oC={kernelName:Ni,backendName:"cpu",kernelFunc:aC},iC=Math.log(1.1920928955078125e-7)+2,sC=nI(Ai,e=>{const t=e>-iC,n=e<iC,r=Math.exp(e);let a;return a=n?r:t?e:Math.log(1+r),a}),lC={kernelName:Ai,backendName:"cpu",kernelFunc:sC};const uC={kernelName:Ri,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockShape:o,paddings:i}=r;_b([a],"spaceToBatchND");const s=_r(o),l=[[0,0]];l.push(...i);for(let g=1+o.length;g<a.shape.length;++g)l.push([0,0]);const u=mN.kernelFunc({inputs:{x:a},backend:n,attrs:{paddings:l,constantValue:0}}),c=fg(u.shape,o,s,!1),d=mg(c.length,o.length,!1),p=gg(u.shape,o,s,!1),h=RI({inputs:{x:u},backend:n,attrs:{shape:c}}),f=GI({inputs:{x:h},backend:n,attrs:{perm:d}}),m=RI({inputs:{x:f},backend:n,attrs:{shape:p}});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),m}};const cC={kernelName:Li,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{indices:r,values:a,denseShape:o,defaultValue:i}=t;if(1!==o.shape.length)throw new Error("Dense shape must be a vector, saw:\n        ".concat(o.shape));if(2!==r.shape.length)throw new Error("Indices must be a matrix, saw:\n        ".concat(r.shape));if(1!==a.shape.length)throw new Error("Values must be a vector, saw:\n        ".concat(a.shape));if(0!==i.shape.length)throw new Error("Default value must be a scalar, saw:\n        ".concat(i.shape));const s=n.data.get(r.dataId).values,l=n.data.get(a.dataId).values,u=n.data.get(o.dataId).values,c=n.data.get(i.dataId).values[0],[d,p,h,f,m]=function(e,t,n,r,a,o,i){const s=t[0],l=o[0],u=new Array(l),c=new Array(s),d=t[1];if(0===l){if(0!==s)throw new Error(Cg(s));return[Or(n,0),[0,d],Or(a,0),u,c]}let p=!0,h=0;const f=new Array(l).fill(0);for(let g=0;g<s;++g){const t=e[g*d];if(t<0)throw new Error(Mg(g,t));if(t>=l)throw new Error(Ag(g,t,l));++f[t],p=p&&t>=h,h=t}let m=!0;for(let g=0;g<l;++g){const e=0===f[g];u[g]=e,m=m&&!e,f[g]=Math.max(f[g],1),g>0&&(f[g]+=f[g-1])}if(m&&p){const t=e,n=r;for(let e=0;e<s;++e)c[e]=e;return[t,[s,d],n,u,c]}{const t=f[l-1],o=Or(n,t*d),p=Or(a,t),h=new Array(l).fill(0);for(let n=0;n<s;++n){const t=e[n*d],a=h[t],i=(0===t?0:f[t-1])+a;h[t]++;for(let r=0;r<d;++r)o[i*d+r]=e[n*d+r];p[i]=r[n],c[n]=i}for(let e=0;e<l;++e)if(0===h[e]){const t=0===e?0:f[e-1];o[t*d+0]=e;for(let e=1;e<d;++e)o[t*d+e]=0;p[t]=i}return[o,[t,d],p,u,c]}}(s,r.shape,r.dtype,l,a.dtype,u,c);return[n.makeTensorInfo(p,r.dtype,d),n.makeTensorInfo([p[0]],a.dtype,h),n.makeTensorInfo([f.length],"bool",new Uint8Array(f.map(e=>Number(e)))),n.makeTensorInfo([m.length],r.dtype,new Int32Array(m))]}};const dC={kernelName:zi,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{inputIndices:r,inputShape:a,newShape:o}=t;if(2!==r.shape.length)throw new Error("Input indices should be a matrix but received shape\n        ".concat(r.shape));if(1!==a.shape.length)throw new Error("Input shape should be a vector but received shape\n        ".concat(a.shape));if(1!==o.shape.length)throw new Error("Target shape should be a vector but received shape ".concat(o.shape));const i=Array.from(n.data.get(a.dataId).values),s=n.data.get(r.dataId).values,l=Array.from(n.data.get(o.dataId).values),[u,c,d]=function(e,t,n,r,a){const o=_r(r),i=t[0],s=a.length,l=[];let u=1,c=-1;for(let m=0;m<s;++m){const e=a[m];if(-1===e){if(-1!==c)throw new Error(Og(c,m));c=m,l.push(1)}else{if(e<0)throw new Error(Fg(m,e));u*=e,l.push(e)}}if(-1!==c){if(u<=0)throw new Error("reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero");const e=Math.trunc(o/u);if(u*e!==o)throw new Error(Rg(r,l));l[c]=e}if(_r(l)!==o)throw new Error(Dg(r,l));const d=r.length,p=[];if(d>0){p[d-1]=1;for(let e=d-2;e>=0;--e)p[e]=p[e+1]*r[e+1]}const h=[];if(s>0){h[s-1]=1;for(let e=s-2;e>=0;--e)h[e]=h[e+1]*l[e+1]}const f=Or(n,i*s);for(let m=0;m<i;++m){let t=0;for(let n=0;n<d;++n)t+=e[m*d+n]*p[n];for(let e=0;e<s;++e)f[m*s+e]=Math.trunc(t/h[e]),t%=h[e]}return[f,[i,s],l]}(s,r.shape,r.dtype,i,l);return[n.makeTensorInfo(c,r.dtype,u),n.makeTensorInfo([d.length],o.dtype,new Int32Array(d))]}};function pC(e,t,n,r,a){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;const s=r.length,l=[t[0],e.length/t[0]],u=l[1],c=s>0?a[s-1]+1:0;if(c<0)throw new Error("segment ids must be >= 0");const d=t.slice();d[0]=c;const p=Or(n,d.reduce((e,t)=>e*t,1));if(0===s)return c>0&&p.fill(i),[p,d];if(c<=0)throw new Error("segment ids must be >= 0");let h=0,f=1,m=0,g=a[h];for(;;){let t=0;if(f<s){if(t=a[f],g===t){++f;continue}if(g>=t)throw new Error(Pg())}if(g<0||g>=c)throw new Error(Lg(g,c));g>m&&p.fill(i,m*u,g*u);for(let n=h;n<f;++n){const t=r[n];if(t<0||t>=l[0])throw new Error(zg(n,r[n],l[0]));for(let n=0;n<u;n++)p[g*u+n]+=e[t*u+n]}if(o)for(let e=0;e<u;e++)p[g*u+e]/=f-h;if(h=f,++f,m=g+1,g=t,f>s)break}return m<c&&p.fill(i,m*u,c*u),[p,d]}const hC={kernelName:Bi,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:r,indices:a,segmentIds:o}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw new Error("Indices should be a vector but received shape\n          ".concat(a.shape));if(1!==o.shape.length)throw new Error("Segment ids should be a vector but received shape\n          ".concat(o.shape));if(a.shape[0]!==o.shape[0])throw new Error("segmentIds and indices should have same size.");const i=n.data.get(r.dataId).values,s=n.data.get(a.dataId).values,l=n.data.get(o.dataId).values,[u,c]=pC(i,r.shape,r.dtype,s,l,!0);return n.makeTensorInfo(c,r.dtype,u)}};const fC={kernelName:Wi,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:r,indices:a,segmentIds:o}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw new Error("Indices should be a vector but received shape\n         ".concat(a.shape));if(1!==o.shape.length)throw new Error("Segment ids should be a vector but received shape\n         ".concat(o.shape));if(a.shape[0]!==o.shape[0])throw new Error("segmentIds and indices should have same size.");const i=n.data.get(r.dataId).values,s=n.data.get(a.dataId).values,l=n.data.get(o.dataId).values,[u,c]=pC(i,r.shape,r.dtype,s,l);return n.makeTensorInfo(c,r.dtype,u)}};const mC={kernelName:Ui,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{sparseIndices:a,sparseValues:o,defaultValue:i}=t,{outputShape:s}=r,{sliceRank:l,numUpdates:u,sliceSize:c,strides:d,outputSize:p}=Wc(0,a,s),h=!1,f=n.bufferSync(a);let m;switch(o.dtype){case"bool":m=GN(f,n.bufferSync(o),s,p,c,u,l,d,Boolean(n.data.get(i.dataId).values[0]),h);break;case"float32":m=GN(f,n.bufferSync(o),s,p,c,u,l,d,n.data.get(i.dataId).values[0],h);break;case"int32":m=GN(f,n.bufferSync(o),s,p,c,u,l,d,n.data.get(i.dataId).values[0],h);break;case"string":m=GN(f,n.bufferSync(o),s,p,c,u,l,d,Bs(n.data.get(i.dataId).values[0]),h);break;default:throw new Error("Unsupported type ".concat(o.dtype))}return n.makeTensorInfo(s,m.dtype,m.values)}};const gC={kernelName:Di,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{numOrSizeSplits:o,axis:i}=r,s=Mr(i,a.shape)[0],l=Ng(a,o,s),u=new Array(a.shape.length).fill(0),c=a.shape.slice();return l.map(e=>{const t=[...c];t[s]=e;const r=Tb({inputs:{x:a},backend:n,attrs:{begin:u,size:t}});return u[s]+=e,r})}},vC=(tI(e=>Math.sqrt(e)),nI(Oi,e=>Math.sqrt(e))),yC={kernelName:Oi,backendName:"cpu",kernelFunc:vC},bC={kernelName:Hi,backendName:"cpu",kernelFunc:e=>{let{inputs:t,backend:n}=e;const{x:r}=t,a=n;_b(r,"square");const o=a.data.get(r.dataId).values,i=new Float32Array(o.length);for(let s=0;s<o.length;++s){const e=o[s];i[s]=e*e}return{dataId:a.write(i,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},wC=cI((e,t)=>{const n=e-t;return n*n}),kC=NI(ji,wC),SC={kernelName:ji,backendName:"cpu",kernelFunc:kC},xC=tI((e,t)=>{const{pattern:n,replaceGlobal:r,rewrite:a}=t;return e.replace(new RegExp(n,r?"g":""),a)}),IC=rI(Vi,xC),_C={kernelName:Vi,backendName:"cpu",kernelFunc:IC},EC=nI(is,(e,t)=>{const n=t;return isNaN(e)?NaN:e>0?1:n.alpha}),TC={kernelName:is,backendName:"cpu",kernelFunc:EC};const NC={kernelName:qi,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{begin:o,end:i,strides:s,beginMask:l,endMask:u,ellipsisMask:c,newAxisMask:d,shrinkAxisMask:p}=r;_b(a,"stridedSlice");const{finalShapeSparse:h,finalShape:f,isIdentity:m,sliceDim0:g,isSimpleSlice:v,begin:y,end:b,strides:w}=qc(a.shape,o,i,s,l,u,c,d,p);let k;if(m)k=RI({inputs:{x:a},backend:n,attrs:{shape:f}});else if(g||v){Sr(a.shape.length>=1,()=>"Input must have rank at least 1, got: ".concat(a.shape.length));const e=Uc(y,b,w),t=Tb({inputs:{x:a},backend:n,attrs:{begin:y,size:e}});k=RI({inputs:{x:t},backend:n,attrs:{shape:f}}),n.disposeIntermediateTensorInfo(t)}else{const e=function(e,t,n,r){const a=Au(e,t.dtype);for(let o=0;o<a.size;o++){const e=a.indexToLoc(o),i=new Array(e.length);for(let t=0;t<i.length;t++)i[t]=e[t]*n[t]+r[t];a.set(t.get(...i),...e)}return a}(h,n.bufferSync(a),w,y);k=n.makeTensorInfo(f,e.dtype,e.values)}return k}};const CC={kernelName:Gi,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{separator:a,nGramWidths:o,leftPad:i,rightPad:s,padWidth:l,preserveShortSequences:u}=r,{data:c,dataSplits:d}=t,p=n.data.get(c.dataId).values,h=n.data.get(d.dataId).values,[f,m]=ux(p,h,a,o,i,s,l,u);return[n.makeTensorInfo([f.length],"string",f),n.makeTensorInfo(d.shape,"int32",m)]}};const MC={kernelName:Ki,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{skipEmpty:a}=r,{input:o,delimiter:i}=t;if("string"!==o.dtype)throw new Error("Input must be of datatype string");if(1!==o.shape.length)throw new Error("Input must be a vector, got shape: ".concat(o.shape));if(0!==i.shape.length)throw new Error("Delimiter must be a scalar, got shape: ".concat(i.shape));const s=n.data.get(o.dataId).values,l=n.data.get(i.dataId).values[0],[u,c,d]=px(s,l,a),p=c.length;return[n.makeTensorInfo([p,2],"int32",u),n.makeTensorInfo([p],"string",c),n.makeTensorInfo([2],"int32",new Int32Array(d))]}};const AC={kernelName:$i,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{numBuckets:a}=r,{input:o}=t;if("string"!==o.dtype)throw new Error("Input must be of datatype string");if(a<=0)throw new Error("Number of buckets must be at least 1");const i=fx(n.data.get(o.dataId).values,a);return n.makeTensorInfo(o.shape,"int32",i)}},OC=nI(Qi,e=>Math.tan(e)),FC={kernelName:Qi,backendName:"cpu",kernelFunc:OC},RC=nI(Xi,e=>Math.tanh(e));const DC={kernelName:Si,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{tensor:r,indices:a,updates:o}=t,{sliceRank:i,numUpdates:s,sliceSize:l,strides:u,outputSize:c}=Wc(0,a,r.shape),d=n.bufferSync(a),p=n.bufferSync(o),h=n.bufferSync(r),f=GN(d,p,r.shape,c,l,s,i,u,h,!1);return n.makeTensorInfo(r.shape,f.dtype,f.values)}};const PC={kernelName:Ji,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{reps:o}=r;_b(a,"tile");const i=function(e,t){const n=new Array(e.rank);for(let a=0;a<n.length;a++)n[a]=e.shape[a]*t[a];const r=Au(n,e.dtype);for(let a=0;a<r.values.length;++a){const t=r.indexToLoc(a),n=new Array(e.rank);for(let r=0;r<n.length;r++)n[r]=t[r]%e.shape[r];const o=e.locToIndex(n);r.values[a]=e.values[o]}return r}(n.bufferSync(a),o);return n.makeTensorInfo(i.shape,i.dtype,i.values)}},LC=(e,t)=>{const n=t.value-e.value;return 0===n?e.index-t.index:n};function zC(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length-1;for(;r>n;){if(r-n>600){const a=r-n+1,o=t-n+1,i=Math.log(a),s=.5*Math.exp(2*i/3),l=.5*Math.sqrt(i*s*(a-s)/a)*Math.sign(o-a/2);zC(e,t,Math.max(n,Math.floor(t-o*s/a+l)),Math.min(r,Math.floor(t+(a-o)*s/a+l)))}const a=e[t];let o=n,i=r;for(kr(e,n,t),LC(e[r],a)>0&&kr(e,n,r);o<i;){for(kr(e,o,i),o++,i--;LC(e[o],a)<0;)o+=1;for(;LC(e[i],a)>0;)i-=1}0===LC(e[n],a)?kr(e,n,i):(i+=1,kr(e,i,r)),i<=t&&(n=i+1),t<=i&&(r=i-1)}}const BC={kernelName:Zi,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{k:o,sorted:i}=r;_b(a,"topk");const s=n.data.get(a.dataId).values,[l,u]=function(e,t,n,r,a){const o=t[t.length-1],[i,s]=[e.length/o,o],l=Ar(n,i*r),u=Ar("int32",i*r);for(let d=0;d<i;d++){const t=d*s,n=e.subarray(t,t+s);let o=new Array(n.length);n.forEach((e,t)=>o[t]={value:e,index:t}),r<o.length&&(zC(o,r),o=o.slice(0,r)),a&&o.sort(LC);const i=d*r,c=l.subarray(i,i+r),p=u.subarray(i,i+r);for(let e=0;e<r;e++)c[e]=o[e].value,p[e]=o[e].index}const c=t.slice();return c[c.length-1]=r,[Au(c,n,l),Au(c,"int32",u)]}(s,a.shape,a.dtype,o,i);return[n.makeTensorInfo(l.shape,l.dtype,l.values),n.makeTensorInfo(u.shape,u.dtype,u.values)]}};const WC={kernelName:es,backendName:"cpu",kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{image:a,transforms:o}=t,{interpolation:i,fillMode:s,fillValue:l,outputShape:u}=n,[c,d,p,h]=a.shape,[f,m]=null!=u?u:[d,p],g=[c,f,m,h],v=Lr(a.shape),y=v[0],b=v[1],w=v[2],k=Lr(g),S=k[0],x=k[1],I=k[2],_=Ar(a.dtype,_r(g));_.fill(l);const E=r.data.get(a.dataId).values,T=r.data.get(o.dataId).values;for(let N=0;N<c;++N){const e=1===o.shape[0]?T:T.subarray(8*N,8*N+8);for(let t=0;t<f;++t)for(let n=0;n<m;++n)for(let r=0;r<h;++r){let a;const o=e[6]*n+e[7]*t+1;if(0===o)continue;const u=(e[0]*n+e[1]*t+e[2])/o,c=(e[3]*n+e[4]*t+e[5])/o,h=UC(u,p,s),f=UC(c,d,s);switch(i){case"nearest":a=HC(E,d,p,y,b,w,N,f,h,r,l);break;case"bilinear":a=VC(E,d,p,y,b,w,N,f,h,r,l);break;default:throw new Error("Error in Transform: Expect 'nearest' or "+"'bilinear', but got ".concat(i))}_[N*S+t*x+n*I+r]=a}return r.makeTensorInfo(g,a.dtype,_)}return{dataId:r.write(_,g,a.dtype),shape:a.shape,dtype:a.dtype}}};function UC(e,t,n){switch(n){case"reflect":return function(e,t){let n=e;if(n<0)if(t<=1)n=0;else{const e=2*t;n<e&&(n=e*Math.trunc(-n/e)+n),n=n<-t?n+e:-n-1}else if(n>t-1)if(t<=1)n=0;else{const e=2*t;n-=e*Math.trunc(n/e),n>=t&&(n=e-n-1)}return wr(0,n,t-1)}(e,t);case"wrap":return function(e,t){let n=e;if(n<0)if(t<=1)n=0;else{const e=t-1;n+=t*(Math.trunc(-n/e)+1)}else if(n>t-1)if(t<=1)n=0;else{const e=t-1;n-=t*Math.trunc(n/e)}return wr(0,n,t-1)}(e,t);case"nearest":return function(e,t){return wr(0,e,t-1)}(e,t);default:return function(e){return e}(e)}}function jC(e,t,n,r,a,o,i,s,l,u,c){return 0<=s&&s<t&&0<=l&&l<n?e[i*r+s*a+l*o+u]:c}function HC(e,t,n,r,a,o,i,s,l,u,c){return jC(e,t,n,r,a,o,i,Math.round(s),Math.round(l),u,c)}function VC(e,t,n,r,a,o,i,s,l,u,c){const d=Math.floor(s),p=Math.floor(l),h=d+1,f=p+1;return(h-s)*((f-l)*jC(e,t,n,r,a,o,i,d,p,u,c)+(l-p)*jC(e,t,n,r,a,o,i,d,f,u,c))+(s-d)*((f-l)*jC(e,t,n,r,a,o,i,h,p,u,c)+(l-p)*jC(e,t,n,r,a,o,i,h,f,u,c))}const qC={kernelName:ns,backendName:"cpu",kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{axis:a}=n,{x:o}=t;_b(o,"unique");const i=r.data.get(o.dataId).values,{outputValues:s,outputShape:l,indices:u}=Cx(i,a,o.shape,o.dtype);return[r.makeTensorInfo(l,o.dtype,s),r.makeTensorInfo([u.length],"int32",u)]}};const GC={kernelName:rs,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{value:a}=t;let{axis:o}=r;o<0&&(o+=a.shape.length);const i=a.shape.length,s=a.shape[o],l=new Array(i-1);let u=0;for(let h=0;h<i;h++)h!==o&&(l[u++]=a.shape[h]);const c=new Array(i).fill(0),d=a.shape.slice();d[o]=1;const p=new Array(s);for(let h=0;h<p.length;h++){c[o]=h;const e=Tb({inputs:{x:a},backend:n,attrs:{begin:c,size:d}});p[h]=RI({inputs:{x:e},backend:n,attrs:{shape:l}}),n.disposeIntermediateTensorInfo(e)}return p}};const KC={kernelName:as,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,segmentIds:o}=t,{numSegments:i}=r;_b(a,"unsortedSegmentSum");const s=[],l=[],u=a.shape.length-o.shape.length;let c=o;for(let p=0;p<u;++p){const e=kE({inputs:{input:c},backend:n,attrs:{dim:p+1}});c=e,l.push(e)}for(let p=0;p<i;++p){const e=Ds(p,"int32"),t=n.makeTensorInfo([],"int32",e),r=fE({inputs:{a:t,b:c},backend:n}),o=EI({inputs:{x:r},backend:n,attrs:{dtype:"float32"}}),i=sE({inputs:{a:o,b:a},backend:n}),u=uE({inputs:{x:i},backend:n,attrs:{axis:0,keepDims:!1}});s.push(u),l.push(t),l.push(r),l.push(o),l.push(i),l.push(u)}const d=hN({inputs:s,backend:n,attrs:{axis:0}});return l.forEach(e=>n.disposeIntermediateTensorInfo(e)),d}},$C=[zI,BI,UI,HI,FI,VI,$I,YI,QI,XI,ZI,t_,r_,i_,l_,p_,h_,f_,m_,LI,g_,v_,b_,S_,x_,TI,E_,N_,SI,C_,F_,D_,P_,L_,z_,B_,W_,j_,V_,q_,G_,K_,$_,Y_,X_,J_,Z_,eE,tE,nE,rE,aE,dE,oI,pE,mE,vE,wE,SE,_E,PE,zE,BE,jE,qE,GE,KE,$E,YE,JE,tT,sI,nT,A_,aT,iT,lT,uI,dT,fT,mT,yT,wT,xT,_T,NT,CT,MT,OT,DT,PT,LT,zT,BT,WT,UT,jT,qT,GT,YT,JT,lE,ZT,tN,rN,oN,lN,uN,pN,fN,mN,yN,hI,bN,IN,EN,AN,ON,_I,NE,RN,mI,vI,DI,DN,PN,LN,zN,BN,WN,jN,qN,KN,QN,XN,ZN,bI,tC,rC,oC,Nb,XT,lC,uC,cC,dC,hC,fC,mC,gC,yC,bC,SC,_C,TC,NC,CC,MC,AC,OE,cE,FC,{kernelName:Xi,backendName:"cpu",kernelFunc:RC},DC,PC,BC,WC,KI,qC,GC,KC,dN];for(const n of $C)ys(n);const YC=3e5;function QC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:YC;return t=>{const n=2**t*100+100*Math.random();return!(n>e)&&n}}const XC=e=>e&&e.nonRetryable,JC=new R("retryUtil");const ZC=function(e,t){let n=arguments.length>3?arguments[3]:void 0;return async function(e,t,n,r){if("function"!==typeof e)throw Error("functionToRetry must be a function");return new Promise(async(a,o)=>{let i,s,l=0,u=!1,c=()=>{};for(r&&r.then(()=>{u=!0,clearTimeout(i),c()});!u;){l++,JC.debug("".concat(e.name," attempt #").concat(l," with this vars: ").concat(JSON.stringify(t)));try{return void a(await e(...t))}catch(uq){if(s=uq,JC.debug("error on ".concat(e.name),uq),XC(uq))return JC.debug("".concat(e.name," non retryable error"),uq),void o(uq);const a=n(l,t,uq);if(JC.debug("".concat(e.name," retrying in ").concat(a," ms")),!1===a||u)return void o(uq);await new Promise(e=>{c=e,i=setTimeout(c,a)})}}o(s)})}(e,t,QC(arguments.length>2&&void 0!==arguments[2]?arguments[2]:YC),n)};class eM{triggerModelLoading(){this.modelLoadingPromise=this.loadModels()}}const tM="https://cdn.liveness.rekognition.amazonaws.com/face-detection/tensorflow-models/blazeface/".concat("1.0.2","/model/model.json"),nM="https://cdn.liveness.rekognition.amazonaws.com/face-detection/tensorflow/tfjs-backend-wasm/".concat("4.11.0","/");class rM extends eM{constructor(e,t){super(),this.faceModelUrl=null!==t&&void 0!==t?t:tM,this.binaryPath=null!==e&&void 0!==e?e:nM}async loadModels(){!function(){try{return!!window.WebAssembly&&(!!window.WebAssembly.compile||!!window.WebAssembly.compileStreaming)}catch(ID){return!1}}()?await this._loadCPUBackend():await this._loadWebAssemblyBackend();try{await yl.ready(),this._model=await function(e,t){return cy(this,void 0,void 0,function(){var n,r;return dy(this,function(a){if(e===Ty.MediaPipeFaceDetector){if(r=void 0,null!=(n=t)){if("tfjs"===n.runtime)return[2,zy(n)];if("mediapipe"===n.runtime)return[2,my(n)];r=n.runtime}throw new Error("Expect modelConfig.runtime to be either 'tfjs' "+"or 'mediapipe', but got ".concat(r))}throw new Error("".concat(e," is not a supported model name."))})})}(Ty.MediaPipeFaceDetector,{runtime:"tfjs",detectorModelUrl:this.faceModelUrl})}catch(ID){throw new Error("There was an error loading the blazeface model. If you are using a custom blazeface model url ensure that it is a fully qualified url that returns a json file.")}}async detectFaces(e){const t=await this._model.estimateFaces(e,{flipHorizontal:!0}),n=Date.now();return t.map(e=>{const{box:t,keypoints:r}=e,{xMin:a,yMin:o,width:i,height:s}=t,l=this._getCoordinate(r,"rightEye"),u=this._getCoordinate(r,"leftEye"),c=this._getCoordinate(r,"noseTip"),d=this._getCoordinate(r,"mouthCenter"),p=this._getCoordinate(r,"rightEarTragion"),h=this._getCoordinate(r,"leftEarTragion");return{top:o,left:a,width:i,height:s,timestampMs:n,probability:90,rightEye:l,leftEye:u,mouth:d,nose:c,rightEar:p,leftEar:h}})}_getCoordinate(e,t){const n=e.find(e=>e.name===t);return[n.x,n.y]}async _loadWebAssemblyBackend(){try{!function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Yx)throw new Error("The WASM backend was already initialized. Make sure you call `setWasmPaths()` before you call `tf.setBackend()` or `tf.ready()`");if("string"===typeof e)Kx=e;else{$x=e;const t=qx.filter(e=>null==$x[e]);if(t.length>0)throw new Error("There were no entries found for the following binaries: "+"".concat(t.join(","),". Please either call setWasmPaths with a ")+"map providing a path for each binary, or with a string indicating the directory where all the binaries can be found.")}Qx=t}(this.binaryPath),await ZC(async()=>{if(!await Bu("wasm"))throw new Error("Initialization of backend wasm failed")},[]),this.modelBackend="wasm"}catch(ID){throw new Error('There was an error loading the TFJS WASM backend. If you are using a custom WASM path ensure that it ends with "/" and that it is not the full URL as @tensorflow/tfjs-backend-wasm will append the wasm binary file name. Read more: https://github.com/tensorflow/tfjs/blob/master/tfjs-backend-wasm/src/backend_wasm.ts#L475.')}}async _loadCPUBackend(){await Bu("cpu"),this.modelBackend="cpu"}}function aM(e){return null!=e&&!Array.isArray(e)&&"object"===typeof e}function oM(e){return"string"===typeof e||"object"===typeof e&&"[object String]"===Object.prototype.toString.call(e)}function iM(e){return void 0===e}function sM(e,t){return null!=e&&Object.prototype.hasOwnProperty.call(e,t)}function lM(e){return"function"===typeof e}const uM=(e,t)=>t?"".concat(e,"--").concat(t):"",cM=(e,t,n)=>n?"".concat(e,"--").concat(t):"";var dM,pM,hM,fM,mM,gM,vM,yM,bM,wM,kM,SM,xM;!function(e){e[e.Scrolling=0]="Scrolling",e[e.Flat=1]="Flat"}(xM||(xM={}));class IM{constructor(e){dM.add(this),pM.set(this,void 0),hM.set(this,void 0),fM.set(this,xM.Flat),mM.set(this,0),gM.set(this,void 0),vM.set(this,!0),yM.set(this,0),oe(this,gM,e,"f"),oe(this,pM,e[0],"f"),oe(this,hM,e[0],"f")}async startSequences(e){return new Promise(t=>{setTimeout(()=>{ae(this,dM,"m",kM).call(this,M(M({},e),{},{resolve:t}))},Math.min(10))})}}function _M(e,t){this.v=e,this.k=t}function EM(e){return new _M(e,0)}function TM(e){return function(){return new NM(e.apply(this,arguments))}}function NM(e){var t,n;function r(t,n){try{var o=e[t](n),i=o.value,s=i instanceof _M;Promise.resolve(s?i.v:i).then(function(n){if(s){var l="return"===t?"return":"next";if(!i.k||n.done)return r(l,n);n=e[l](n).value}a(o.done?"return":"normal",n)},function(e){r("throw",e)})}catch(e){a("throw",e)}}function a(e,a){switch(e){case"return":t.resolve({value:a,done:!0});break;case"throw":t.reject(a);break;default:t.resolve({value:a,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,a){return new Promise(function(o,i){var s={key:e,arg:a,resolve:o,reject:i,next:null};n?n=n.next=s:(t=n=s,r(e,a))})},"function"!=typeof e.return&&(this.return=void 0)}pM=new WeakMap,hM=new WeakMap,fM=new WeakMap,mM=new WeakMap,gM=new WeakMap,vM=new WeakMap,yM=new WeakMap,dM=new WeakSet,bM=function(){return ae(this,fM,"f")===xM.Flat},wM=function(){return ae(this,fM,"f")===xM.Scrolling},kM=function(e){let{onSequenceChange:t,onSequenceColorChange:n,onSequenceStart:r,onSequencesComplete:a,resolve:o}=e;lM(r)&&r();const i=Date.now();let s=i-ae(this,yM,"f");ae(this,vM,"f")&&(oe(this,yM,Date.now(),"f"),oe(this,vM,!1,"f"),lM(t)&&t({prevSequenceColor:ae(this,hM,"f").color,sequenceColor:ae(this,pM,"f").color,sequenceIndex:ae(this,mM,"f"),sequenceStartTime:i})),(ae(this,dM,"m",bM).call(this)&&s>=ae(this,pM,"f").flatDisplayDuration||ae(this,dM,"m",wM).call(this)&&s>=ae(this,pM,"f").downscrollDuration)&&(ae(this,dM,"m",SM).call(this,{sequenceStartTime:i,onSequenceChange:t}),s=0);if(ae(this,mM,"f")<ae(this,gM,"f").length){const e=s/(ae(this,dM,"m",wM).call(this)?ae(this,pM,"f").downscrollDuration:ae(this,pM,"f").flatDisplayDuration);lM(n)&&n({sequenceColor:ae(this,pM,"f").color,heightFraction:e,prevSequenceColor:ae(this,hM,"f").color}),o(!1)}else lM(a)&&a(),o(!0)},SM=function(e){let{sequenceStartTime:t,onSequenceChange:n}=e;if(oe(this,hM,ae(this,pM,"f"),"f"),ae(this,dM,"m",bM).call(this))oe(this,mM,ae(this,mM,"f")+1,"f"),oe(this,fM,xM.Scrolling,"f");else if(ae(this,dM,"m",wM).call(this)){ae(this,gM,"f")[ae(this,mM,"f")].flatDisplayDuration>0?oe(this,fM,xM.Flat,"f"):oe(this,mM,ae(this,mM,"f")+1,"f")}oe(this,pM,ae(this,gM,"f")[ae(this,mM,"f")],"f"),oe(this,yM,Date.now(),"f"),ae(this,pM,"f")&&lM(n)&&n({prevSequenceColor:ae(this,hM,"f").color,sequenceColor:ae(this,pM,"f").color,sequenceIndex:ae(this,mM,"f"),sequenceStartTime:t})},NM.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},NM.prototype.next=function(e){return this._invoke("next",e)},NM.prototype.throw=function(e){return this._invoke("throw",e)},NM.prototype.return=function(e){return this._invoke("return",e)};const CM=async e=>{const{data:t,type:n}=e;return{VideoChunk:new Uint8Array("streamVideo"===n?await t.arrayBuffer():[]),TimestampMillis:"closeCode"===n?t:Date.now()}},MM=e=>{const{height:t,width:n}=e.getVideoTracks()[0].getSettings();if(iM(t)||iM(n))throw new Error("Invalid Track Dimensions. height: ".concat(t,", width: ").concat(n," "));return{trackHeight:t,trackWidth:n}};function AM(e){let{trackHeight:t,trackWidth:n,height:r,width:a,top:o,left:i}=e;return{Height:r/t,Width:a/n,Top:o/t,Left:i/n}}const OM=(e,t,n)=>e-t-n,FM=e=>{const{trackWidth:t,left:n,width:r}=e;return AM(M(M({},e),{},{left:OM(t,n,r)}))};function RM(e){let{parsedSessionInformation:t,clientChallenge:n}=e;if((e=>{var t;return"FaceMovementChallenge"===(null===e||void 0===e||null===(t=e.Challenge)||void 0===t?void 0:t.Name)})(t))return{Challenge:{FaceMovementChallenge:n}};if((e=>{var t;return"FaceMovementAndLightChallenge"===(null===e||void 0===e||null===(t=e.Challenge)||void 0===t?void 0:t.Name)})(t))return{Challenge:{FaceMovementAndLightChallenge:n}};throw new Error("Unable to create ClientSessionInformationEvent")}function DM(e){let{parsedSessionInformation:t,challengeId:n,faceMatchAssociatedParams:r,ovalAssociatedParams:a,recordingEndedTimestamp:o,trackHeight:i,trackWidth:s}=e;const{initialFace:l,ovalDetails:u}=a,{startFace:c,endFace:d}=r,p=FM(M({trackHeight:i,trackWidth:s},l)),h=(e=>{const{height:t,width:n,centerX:r,centerY:a}=e;return AM(M(M({},e),{},{top:a-t/2,left:r-n/2}))})(M({trackHeight:i,trackWidth:s},u));return RM({parsedSessionInformation:t,clientChallenge:{ChallengeId:n,InitialFace:{InitialFaceDetectedTimestamp:l.timestampMs,BoundingBox:p},TargetFace:{FaceDetectedInTargetPositionStartTimestamp:c.timestampMs,FaceDetectedInTargetPositionEndTimestamp:d.timestampMs,BoundingBox:h},VideoEndTimestamp:o}})}function PM(e){let{parsedSessionInformation:t,challengeId:n,ovalAssociatedParams:r,recordingStartedTimestamp:a,trackHeight:o,trackWidth:i}=e;const{initialFace:s}=r,l=FM(M({trackHeight:o,trackWidth:i},s));return RM({parsedSessionInformation:t,clientChallenge:{ChallengeId:n,VideoStartTimestamp:a,InitialFace:{InitialFaceDetectedTimestamp:s.timestampMs,BoundingBox:l}}})}const LM=e=>e.slice(e.indexOf("(")+1,e.indexOf(")")).split(",").map(e=>parseInt(e));function zM(e){let{challengeId:t,sequenceStartTime:n,sequenceIndex:r,sequenceColor:a,prevSequenceColor:o}=e;return{Challenge:{FaceMovementAndLightChallenge:{ChallengeId:t,ColorDisplayed:{CurrentColor:{RGB:LM(a)},PreviousColor:{RGB:LM(o)},SequenceNumber:r,CurrentColorStartTimestamp:n}}}}}class BM{constructor(e){N(this,"method",void 0),N(this,"protocol",void 0),N(this,"hostname",void 0),N(this,"port",void 0),N(this,"path",void 0),N(this,"query",void 0),N(this,"headers",void 0),N(this,"username",void 0),N(this,"password",void 0),N(this,"fragment",void 0),N(this,"body",void 0),this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?"".concat(e.protocol,":"):e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/".concat(e.path):e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){const t=new BM(M(M({},e),{},{headers:M({},e.headers)}));var n;return t.query&&(t.query=(n=t.query,Object.keys(n).reduce((e,t)=>{const r=n[t];return M(M({},e),{},{[t]:Array.isArray(r)?[...r]:r})},{}))),t}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"===typeof t.query&&"object"===typeof t.headers}clone(){return BM.clone(this)}}const WM={tags:["EVENT_STREAM","SIGNATURE","HANDLE"],name:"eventStreamHandlingMiddleware",relation:"after",toMiddleware:"awsAuthMiddleware",override:!0},UM=e=>async t=>{const{request:n}=t;return BM.isInstance(n)?(n.headers=M(M({},n.headers),{},{"content-type":"application/vnd.amazon.eventstream","x-amz-content-sha256":"STREAMING-AWS4-HMAC-SHA256-EVENTS"}),e(M(M({},t),{},{request:n}))):e(t)},jM={step:"build",tags:["EVENT_STREAM","HEADER","CONTENT_TYPE","CONTENT_SHA256"],name:"eventStreamHeaderMiddleware",override:!0},HM=e=>({applyToStack:t=>{t.addRelativeTo((e=>(t,n)=>async r=>{const{request:a}=r;return BM.isInstance(a)?e.eventStreamPayloadHandler.handle(t,r,n):t(r)})(e),WM),t.add(UM,jM)}});class VM{constructor(e){N(this,"method",void 0),N(this,"protocol",void 0),N(this,"hostname",void 0),N(this,"port",void 0),N(this,"path",void 0),N(this,"query",void 0),N(this,"headers",void 0),N(this,"username",void 0),N(this,"password",void 0),N(this,"fragment",void 0),N(this,"body",void 0),this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?"".concat(e.protocol,":"):e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/".concat(e.path):e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){const t=new VM(M(M({},e),{},{headers:M({},e.headers)}));var n;return t.query&&(t.query=(n=t.query,Object.keys(n).reduce((e,t)=>{const r=n[t];return M(M({},e),{},{[t]:Array.isArray(r)?[...r]:r})},{}))),t}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"===typeof t.query&&"object"===typeof t.headers}clone(){return VM.clone(this)}}const qM={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},GM=e=>({applyToStack:t=>{t.add((e=>t=>async n=>{if(!VM.isInstance(n.request))return t(n);const{request:r}=n,{handlerProtocol:a=""}=e.requestHandler.metadata||{};if(a.indexOf("h2")>=0&&!r.headers[":authority"])delete r.headers.host,r.headers[":authority"]=r.hostname+(r.port?":"+r.port:"");else if(!r.headers.host){let e=r.hostname;null!=r.port&&(e+=":".concat(r.port)),r.headers.host=e}return t(n)})(e),qM)}}),KM=["$metadata"],$M={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},YM=e=>({applyToStack:e=>{e.add((e,t)=>async n=>{try{var r;const a=await e(n),{clientName:o,commandName:i,logger:s,dynamoDbDocumentClientOptions:l={}}=t,{overrideInputFilterSensitiveLog:u,overrideOutputFilterSensitiveLog:c}=l,d=null!==u&&void 0!==u?u:t.inputFilterSensitiveLog,p=null!==c&&void 0!==c?c:t.outputFilterSensitiveLog,h=a.output,{$metadata:f}=h,m=A(h,KM);return null===s||void 0===s||null===(r=s.info)||void 0===r||r.call(s,{clientName:o,commandName:i,input:d(n.input),output:p(m),metadata:f}),a}catch(o){var a;const{clientName:e,commandName:r,logger:i,dynamoDbDocumentClientOptions:s={}}=t,{overrideInputFilterSensitiveLog:l}=s,u=null!==l&&void 0!==l?l:t.inputFilterSensitiveLog;throw null===i||void 0===i||null===(a=i.error)||void 0===a||a.call(i,{clientName:e,commandName:r,input:u(n.input),error:o,metadata:o.$metadata}),o}},$M)}});class QM{constructor(e){N(this,"method",void 0),N(this,"protocol",void 0),N(this,"hostname",void 0),N(this,"port",void 0),N(this,"path",void 0),N(this,"query",void 0),N(this,"headers",void 0),N(this,"username",void 0),N(this,"password",void 0),N(this,"fragment",void 0),N(this,"body",void 0),this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?"".concat(e.protocol,":"):e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/".concat(e.path):e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){const t=new QM(M(M({},e),{},{headers:M({},e.headers)}));var n;return t.query&&(t.query=(n=t.query,Object.keys(n).reduce((e,t)=>{const r=n[t];return M(M({},e),{},{[t]:Array.isArray(r)?[...r]:r})},{}))),t}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"===typeof t.query&&"object"===typeof t.headers}clone(){return QM.clone(this)}}const XM="X-Amzn-Trace-Id",JM={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},ZM=e=>({applyToStack:t=>{t.add((e=>t=>async n=>{var r,a;const{request:o}=n;if(!QM.isInstance(o)||"node"!==e.runtime)return t(n);const i=null!==(r=Object.keys(null!==(a=o.headers)&&void 0!==a?a:{}).find(e=>e.toLowerCase()===XM.toLowerCase()))&&void 0!==r?r:XM;if(o.headers.hasOwnProperty(i))return t(n);const s={NODE_ENV:"production",PUBLIC_URL:"/liveness-bridge",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}._X_AMZN_TRACE_ID,l=e=>"string"===typeof e&&e.length>0;return l({NODE_ENV:"production",PUBLIC_URL:"/liveness-bridge",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.AWS_LAMBDA_FUNCTION_NAME)&&l(s)&&(o.headers[XM]=s),t(M(M({},n),{},{request:o}))})(e),JM)}}),eA=e=>{if("function"===typeof e)return e;const t=Promise.resolve(e);return()=>t};const tA={},nA=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),rA=function(e){if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1]))return nA.test(e);const t=e.split(".");for(const n of t)if(!rA(n))return!1;return!0},aA=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),oA=e=>aA.test(e)||e.startsWith("[")&&e.endsWith("]"),iA=function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){for(const t of e.split("."))if(!iA(t))return!1;return!0}return!!rA(e)&&(!(e.length<3||e.length>63)&&(e===e.toLowerCase()&&!oA(e)))};let sA=JSON.parse('{"partitions":[{"id":"aws","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","implicitGlobalRegion":"us-east-1","name":"aws","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^(us|eu|ap|sa|ca|me|af|il|mx)\\\\-\\\\w+\\\\-\\\\d+$","regions":{"af-south-1":{"description":"Africa (Cape Town)"},"ap-east-1":{"description":"Asia Pacific (Hong Kong)"},"ap-east-2":{"description":"Asia Pacific (Taipei)"},"ap-northeast-1":{"description":"Asia Pacific (Tokyo)"},"ap-northeast-2":{"description":"Asia Pacific (Seoul)"},"ap-northeast-3":{"description":"Asia Pacific (Osaka)"},"ap-south-1":{"description":"Asia Pacific (Mumbai)"},"ap-south-2":{"description":"Asia Pacific (Hyderabad)"},"ap-southeast-1":{"description":"Asia Pacific (Singapore)"},"ap-southeast-2":{"description":"Asia Pacific (Sydney)"},"ap-southeast-3":{"description":"Asia Pacific (Jakarta)"},"ap-southeast-4":{"description":"Asia Pacific (Melbourne)"},"ap-southeast-5":{"description":"Asia Pacific (Malaysia)"},"ap-southeast-7":{"description":"Asia Pacific (Thailand)"},"aws-global":{"description":"AWS Standard global region"},"ca-central-1":{"description":"Canada (Central)"},"ca-west-1":{"description":"Canada West (Calgary)"},"eu-central-1":{"description":"Europe (Frankfurt)"},"eu-central-2":{"description":"Europe (Zurich)"},"eu-north-1":{"description":"Europe (Stockholm)"},"eu-south-1":{"description":"Europe (Milan)"},"eu-south-2":{"description":"Europe (Spain)"},"eu-west-1":{"description":"Europe (Ireland)"},"eu-west-2":{"description":"Europe (London)"},"eu-west-3":{"description":"Europe (Paris)"},"il-central-1":{"description":"Israel (Tel Aviv)"},"me-central-1":{"description":"Middle East (UAE)"},"me-south-1":{"description":"Middle East (Bahrain)"},"mx-central-1":{"description":"Mexico (Central)"},"sa-east-1":{"description":"South America (Sao Paulo)"},"us-east-1":{"description":"US East (N. Virginia)"},"us-east-2":{"description":"US East (Ohio)"},"us-west-1":{"description":"US West (N. California)"},"us-west-2":{"description":"US West (Oregon)"}}},{"id":"aws-cn","outputs":{"dnsSuffix":"amazonaws.com.cn","dualStackDnsSuffix":"api.amazonwebservices.com.cn","implicitGlobalRegion":"cn-northwest-1","name":"aws-cn","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^cn\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-cn-global":{"description":"AWS China global region"},"cn-north-1":{"description":"China (Beijing)"},"cn-northwest-1":{"description":"China (Ningxia)"}}},{"id":"aws-us-gov","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","implicitGlobalRegion":"us-gov-west-1","name":"aws-us-gov","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-gov\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-us-gov-global":{"description":"AWS GovCloud (US) global region"},"us-gov-east-1":{"description":"AWS GovCloud (US-East)"},"us-gov-west-1":{"description":"AWS GovCloud (US-West)"}}},{"id":"aws-iso","outputs":{"dnsSuffix":"c2s.ic.gov","dualStackDnsSuffix":"c2s.ic.gov","implicitGlobalRegion":"us-iso-east-1","name":"aws-iso","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-iso\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-global":{"description":"AWS ISO (US) global region"},"us-iso-east-1":{"description":"US ISO East"},"us-iso-west-1":{"description":"US ISO WEST"}}},{"id":"aws-iso-b","outputs":{"dnsSuffix":"sc2s.sgov.gov","dualStackDnsSuffix":"sc2s.sgov.gov","implicitGlobalRegion":"us-isob-east-1","name":"aws-iso-b","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-isob\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-b-global":{"description":"AWS ISOB (US) global region"},"us-isob-east-1":{"description":"US ISOB East (Ohio)"}}},{"id":"aws-iso-e","outputs":{"dnsSuffix":"cloud.adc-e.uk","dualStackDnsSuffix":"cloud.adc-e.uk","implicitGlobalRegion":"eu-isoe-west-1","name":"aws-iso-e","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^eu\\\\-isoe\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-e-global":{"description":"AWS ISOE (Europe) global region"},"eu-isoe-west-1":{"description":"EU ISOE West"}}},{"id":"aws-iso-f","outputs":{"dnsSuffix":"csp.hci.ic.gov","dualStackDnsSuffix":"csp.hci.ic.gov","implicitGlobalRegion":"us-isof-south-1","name":"aws-iso-f","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-isof\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-f-global":{"description":"AWS ISOF global region"},"us-isof-east-1":{"description":"US ISOF EAST"},"us-isof-south-1":{"description":"US ISOF SOUTH"}}},{"id":"aws-eusc","outputs":{"dnsSuffix":"amazonaws.eu","dualStackDnsSuffix":"amazonaws.eu","implicitGlobalRegion":"eusc-de-east-1","name":"aws-eusc","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^eusc\\\\-(de)\\\\-\\\\w+\\\\-\\\\d+$","regions":{"eusc-de-east-1":{"description":"EU (Germany)"}}}],"version":"1.1"}'),lA="";const uA={isVirtualHostableS3Bucket:iA,parseArn:e=>{const t=e.split(":");if(t.length<6)return null;const[n,r,a,o,i,...s]=t;if("arn"!==n||""===r||""===a||""===s.join(":"))return null;return{partition:r,service:a,region:o,accountId:i,resourceId:s.map(e=>e.split("/")).flat()}},partition:e=>{const{partitions:t}=sA;for(const r of t){const{regions:t,outputs:n}=r;for(const[r,a]of Object.entries(t))if(r===e)return M(M({},n),a)}for(const r of t){const{regionRegex:t,outputs:n}=r;if(new RegExp(t).test(e))return M({},n)}const n=t.find(e=>"aws"===e.id);if(!n)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return M({},n.outputs)}};tA.aws=uA;class cA{constructor(e){N(this,"method",void 0),N(this,"protocol",void 0),N(this,"hostname",void 0),N(this,"port",void 0),N(this,"path",void 0),N(this,"query",void 0),N(this,"headers",void 0),N(this,"username",void 0),N(this,"password",void 0),N(this,"fragment",void 0),N(this,"body",void 0),this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?"".concat(e.protocol,":"):e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/".concat(e.path):e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){const t=new cA(M(M({},e),{},{headers:M({},e.headers)}));var n;return t.query&&(t.query=(n=t.query,Object.keys(n).reduce((e,t)=>{const r=n[t];return M(M({},e),{},{[t]:Array.isArray(r)?[...r]:r})},{}))),t}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"===typeof t.query&&"object"===typeof t.headers}clone(){return cA.clone(this)}}function dA(e,t,n){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=n}const pA=/\d{12}\.ddb/;const hA="user-agent",fA="x-amz-user-agent",mA=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,gA=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g;const vA=e=>(t,n)=>async r=>{var a,o,i,s;const{request:l}=r;if(!cA.isInstance(l))return t(r);const{headers:u}=l,c=(null===n||void 0===n||null===(a=n.userAgent)||void 0===a?void 0:a.map(yA))||[],d=(await e.defaultUserAgentProvider()).map(yA);await async function(e,t,n){var r,a;const o=n.request;if("rpc-v2-cbor"===(null===o||void 0===o||null===(r=o.headers)||void 0===r?void 0:r["smithy-protocol"])&&dA(e,"PROTOCOL_RPC_V2_CBOR","M"),"function"===typeof t.retryStrategy){const n=await t.retryStrategy();var i;"function"===typeof n.acquireInitialRetryToken?null!==(i=n.constructor)&&void 0!==i&&null!==(i=i.name)&&void 0!==i&&i.includes("Adaptive")?dA(e,"RETRY_MODE_ADAPTIVE","F"):dA(e,"RETRY_MODE_STANDARD","E"):dA(e,"RETRY_MODE_LEGACY","D")}if("function"===typeof t.accountIdEndpointMode){var s,l;const n=e.endpointV2;switch(String(null===n||void 0===n||null===(s=n.url)||void 0===s?void 0:s.hostname).match(pA)&&dA(e,"ACCOUNT_ID_ENDPOINT","O"),await(null===(l=t.accountIdEndpointMode)||void 0===l?void 0:l.call(t))){case"disabled":dA(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":dA(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":dA(e,"ACCOUNT_ID_MODE_REQUIRED","R")}}const u=null===(a=e.__smithy_context)||void 0===a||null===(a=a.selectedHttpAuthScheme)||void 0===a?void 0:a.identity;if(null!==u&&void 0!==u&&u.$source){const t=u;t.accountId&&dA(e,"RESOLVED_ACCOUNT_ID","T");for(const[n,r]of Object.entries(null!==(c=t.$source)&&void 0!==c?c:{})){var c;dA(e,n,r)}}}(n,e,r);const p=n;d.push("m/".concat(function(e){let t="";for(const n in e){const r=e[n];if(!(t.length+r.length+1<=1024))break;t.length?t+=","+r:t+=r}return t}(Object.assign({},null===(o=n.__smithy_context)||void 0===o?void 0:o.features,null===(i=p.__aws_sdk_context)||void 0===i?void 0:i.features))));const h=(null===e||void 0===e||null===(s=e.customUserAgent)||void 0===s?void 0:s.map(yA))||[],f=await e.userAgentAppId();f&&d.push(yA(["app/".concat(f)]));const m=(lA?[lA]:[]).concat([...d,...c,...h]).join(" "),g=[...d.filter(e=>e.startsWith("aws-sdk-")),...h].join(" ");return"browser"!==e.runtime?(g&&(u[fA]=u[fA]?"".concat(u[hA]," ").concat(g):g),u[hA]=m):u[fA]=m,t(M(M({},r),{},{request:l}))},yA=e=>{var t;const n=e[0].split("/").map(e=>e.replace(mA,"-")).join("/"),r=null===(t=e[1])||void 0===t?void 0:t.replace(gA,"-"),a=n.indexOf("/"),o=n.substring(0,a);let i=n.substring(a+1);return"api"===o&&(i=i.toLowerCase()),[o,i,r].filter(e=>e&&e.length>0).reduce((e,t,n)=>{switch(n){case 0:return t;case 1:return"".concat(e,"/").concat(t);default:return"".concat(e,"#").concat(t)}},"")},bA={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0};!function(){function e(){this.crc32=new wA}e.prototype.update=function(e){he(e)||this.crc32.update(pe(e))},e.prototype.digest=function(){return te(this,void 0,void 0,function(){return ne(this,function(e){return[2,(t=this.crc32.digest(),new Uint8Array([(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t]))];var t})})},e.prototype.reset=function(){this.crc32=new wA}}();var wA=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(e){var t,n;try{for(var r=re(e),a=r.next();!a.done;a=r.next()){var o=a.value;this.checksum=this.checksum>>>8^kA[255&(this.checksum^o)]}}catch(i){t={error:i}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return this},e.prototype.digest=function(){return(4294967295^this.checksum)>>>0},e}(),kA=function(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),n=0;n<e.length;)t[n]=e[n],n+=1;return t}return Uint32Array.from(e)}([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);const SA={},xA={};for(let n=0;n<256;n++){let e=n.toString(16).toLowerCase();1===e.length&&(e="0".concat(e)),SA[n]=e,xA[e]=n}function IA(e){let t="";for(let n=0;n<e.byteLength;n++)t+=SA[e[n]];return t}class _A{constructor(e){if(N(this,"bytes",void 0),this.bytes=e,8!==e.byteLength)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>0x8000000000000000||e<-0x8000000000000000)throw new Error("".concat(e," is too large (or, if negative, too small) to represent as an Int64"));const t=new Uint8Array(8);for(let n=7,r=Math.abs(Math.round(e));n>-1&&r>0;n--,r/=256)t[n]=r;return e<0&&EA(t),new _A(t)}valueOf(){const e=this.bytes.slice(0),t=128&e[0];return t&&EA(e),parseInt(IA(e),16)*(t?-1:1)}toString(){return String(this.valueOf())}}function EA(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,0===e[t]);t--);}class TA{constructor(e,t){N(this,"toUtf8",void 0),N(this,"fromUtf8",void 0),this.toUtf8=e,this.fromUtf8=t}format(e){const t=[];for(const a of Object.keys(e)){const n=this.fromUtf8(a);t.push(Uint8Array.from([n.byteLength]),n,this.formatHeaderValue(e[a]))}const n=new Uint8Array(t.reduce((e,t)=>e+t.byteLength,0));let r=0;for(const a of t)n.set(a,r),r+=a.byteLength;return n}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":const t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":const n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":const r=new Uint8Array(9);return r[0]=5,r.set(e.value.bytes,1),r;case"binary":const a=new DataView(new ArrayBuffer(3+e.value.byteLength));a.setUint8(0,6),a.setUint16(1,e.value.byteLength,!1);const o=new Uint8Array(a.buffer);return o.set(e.value,3),o;case"string":const i=this.fromUtf8(e.value),s=new DataView(new ArrayBuffer(3+i.byteLength));s.setUint8(0,7),s.setUint16(1,i.byteLength,!1);const l=new Uint8Array(s.buffer);return l.set(i,3),l;case"timestamp":const u=new Uint8Array(9);return u[0]=8,u.set(_A.fromNumber(e.value.valueOf()).bytes,1),u;case"uuid":if(!zA.test(e.value))throw new Error("Invalid UUID received: ".concat(e.value));const c=new Uint8Array(17);return c[0]=9,c.set(function(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2){const r=e.slice(n,n+2).toLowerCase();if(!(r in xA))throw new Error("Cannot decode unrecognized sequence ".concat(r," as hexadecimal"));t[n/2]=xA[r]}return t}(e.value.replace(/\-/g,"")),1),c}}parse(e){const t={};let n=0;for(;n<e.byteLength;){const r=e.getUint8(n++),a=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,r));switch(n+=r,e.getUint8(n++)){case 0:t[a]={type:CA,value:!0};break;case 1:t[a]={type:CA,value:!1};break;case 2:t[a]={type:MA,value:e.getInt8(n++)};break;case 3:t[a]={type:AA,value:e.getInt16(n,!1)},n+=2;break;case 4:t[a]={type:OA,value:e.getInt32(n,!1)},n+=4;break;case 5:t[a]={type:FA,value:new _A(new Uint8Array(e.buffer,e.byteOffset+n,8))},n+=8;break;case 6:const r=e.getUint16(n,!1);n+=2,t[a]={type:RA,value:new Uint8Array(e.buffer,e.byteOffset+n,r)},n+=r;break;case 7:const o=e.getUint16(n,!1);n+=2,t[a]={type:DA,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,o))},n+=o;break;case 8:t[a]={type:PA,value:new Date(new _A(new Uint8Array(e.buffer,e.byteOffset+n,8)).valueOf())},n+=8;break;case 9:const i=new Uint8Array(e.buffer,e.byteOffset+n,16);n+=16,t[a]={type:LA,value:"".concat(IA(i.subarray(0,4)),"-").concat(IA(i.subarray(4,6)),"-").concat(IA(i.subarray(6,8)),"-").concat(IA(i.subarray(8,10)),"-").concat(IA(i.subarray(10)))};break;default:throw new Error("Unrecognized header type tag")}}return t}}var NA;!function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"}(NA||(NA={}));const CA="boolean",MA="byte",AA="short",OA="integer",FA="long",RA="binary",DA="string",PA="timestamp",LA="uuid",zA=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;class BA{constructor(e,t){N(this,"headerMarshaller",void 0),N(this,"messageBuffer",void 0),N(this,"isEndOfStream",void 0),this.headerMarshaller=new TA(e,t),this.messageBuffer=[],this.isEndOfStream=!1}feed(e){this.messageBuffer.push(this.decode(e))}endOfStream(){this.isEndOfStream=!0}getMessage(){const e=this.messageBuffer.pop(),t=this.isEndOfStream;return{getMessage:()=>e,isEndOfStream:()=>t}}getAvailableMessages(){const e=this.messageBuffer;this.messageBuffer=[];const t=this.isEndOfStream;return{getMessages:()=>e,isEndOfStream:()=>t}}encode(e){let{headers:t,body:n}=e;const r=this.headerMarshaller.format(t),a=r.byteLength+n.byteLength+16,o=new Uint8Array(a),i=new DataView(o.buffer,o.byteOffset,o.byteLength),s=new wA;return i.setUint32(0,a,!1),i.setUint32(4,r.byteLength,!1),i.setUint32(8,s.update(o.subarray(0,8)).digest(),!1),o.set(r,12),o.set(n,r.byteLength+12),i.setUint32(a-4,s.update(o.subarray(8,a-4)).digest(),!1),o}decode(e){const{headers:t,body:n}=function(e){let{byteLength:t,byteOffset:n,buffer:r}=e;if(t<16)throw new Error("Provided message too short to accommodate event stream message overhead");const a=new DataView(r,n,t),o=a.getUint32(0,!1);if(t!==o)throw new Error("Reported message length does not match received message length");const i=a.getUint32(4,!1),s=a.getUint32(8,!1),l=a.getUint32(t-4,!1),u=(new wA).update(new Uint8Array(r,n,8));if(s!==u.digest())throw new Error("The prelude checksum specified in the message (".concat(s,") does not match the calculated CRC32 checksum (").concat(u.digest(),")"));if(u.update(new Uint8Array(r,n+8,t-12)),l!==u.digest())throw new Error("The message checksum (".concat(u.digest(),") did not match the expected value of ").concat(l));return{headers:new DataView(r,n+8+4,i),body:new Uint8Array(r,n+8+4+i,o-i-16)}}(e);return{headers:this.headerMarshaller.parse(t),body:n}}formatHeaders(e){return this.headerMarshaller.format(e)}}const WA={},UA={};for(let n=0;n<256;n++){let e=n.toString(16).toLowerCase();1===e.length&&(e="0".concat(e)),WA[n]=e,UA[e]=n}function jA(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2){const r=e.slice(n,n+2).toLowerCase();if(!(r in UA))throw new Error("Cannot decode unrecognized sequence ".concat(r," as hexadecimal"));t[n/2]=UA[r]}return t}class HA{constructor(e){N(this,"messageSigner",void 0),N(this,"eventStreamCodec",void 0),N(this,"systemClockOffsetProvider",void 0),this.messageSigner=e.messageSigner,this.eventStreamCodec=new BA(e.utf8Encoder,e.utf8Decoder),this.systemClockOffsetProvider=async()=>{var t;return null!==(t=e.systemClockOffset)&&void 0!==t?t:0}}async handle(e,t){const n=t.request,{body:r,headers:a,query:o}=n;if(!(r instanceof ReadableStream))throw new Error("Eventstream payload must be a ReadableStream.");const i=new TransformStream;let s;n.body=i.readable;try{s=await e(t)}catch(ID){throw n.body.cancel(),ID}const l=((e,t,n,r)=>{let a=e;const o={start(){},async transform(e,o){try{const i=new Date(Date.now()+await r()),s={":date":{type:"timestamp",value:i}},l=await t.sign({message:{body:e,headers:s},priorSignature:a},{signingDate:i});a=l.signature;const u=n.encode({headers:M(M({},s),{},{":chunk-signature":{type:"binary",value:jA(l.signature)}}),body:e});o.enqueue(u)}catch(i){o.error(i)}}};return new TransformStream(M({},o))})(((a.authorization||"").match(/Signature=([\w]+)$/)||[])[1]||o&&o["X-Amz-Signature"]||"",await this.messageSigner(),this.eventStreamCodec,this.systemClockOffsetProvider);return r.pipeThrough(l).pipeThrough(i),s}}const VA=e=>new HA(e),qA={step:"initialize",name:"injectSessionIdMiddleware",tags:["WEBSOCKET","EVENT_STREAM"],override:!0};class GA{constructor(e){N(this,"method",void 0),N(this,"protocol",void 0),N(this,"hostname",void 0),N(this,"port",void 0),N(this,"path",void 0),N(this,"query",void 0),N(this,"headers",void 0),N(this,"username",void 0),N(this,"password",void 0),N(this,"fragment",void 0),N(this,"body",void 0),this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?"".concat(e.protocol,":"):e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/".concat(e.path):e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){const t=new GA(M(M({},e),{},{headers:M({},e.headers)}));var n;return t.query&&(t.query=(n=t.query,Object.keys(n).reduce((e,t)=>{const r=n[t];return M(M({},e),{},{[t]:Array.isArray(r)?[...r]:r})},{}))),t}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"===typeof t.query&&"object"===typeof t.headers}clone(){return GA.clone(this)}}const KA={name:"websocketEndpointMiddleware",tags:["WEBSOCKET","EVENT_STREAM"],relation:"after",toMiddleware:"eventStreamHeaderMiddleware",override:!0},$A=(e,t)=>({applyToStack:n=>{n.addRelativeTo(((e,t)=>n=>r=>{var a;const{request:o}=r;if(GA.isInstance(o)&&null!==(a=e.requestHandler.metadata)&&void 0!==a&&null!==(a=a.handlerProtocol)&&void 0!==a&&a.toLowerCase().includes("websocket")){var i;o.protocol="wss:",o.method="GET",o.path="".concat(o.path,"-websocket");const{headers:e}=o;delete e["content-type"],delete e["x-amz-content-sha256"];for(const n of Object.keys(e))if(0===n.indexOf(t.headerPrefix)){const r=n.replace(t.headerPrefix,"");o.query[r]=e[n]}e["x-amz-user-agent"]&&(o.query["user-agent"]=e["x-amz-user-agent"]),o.headers={host:null!==(i=e.host)&&void 0!==i?i:o.hostname}}return n(r)})(e,t),KA),n.add(e=>async t=>{const n=M({},t.input),r=await e(t),a=r.output;return n.SessionId&&null==a.SessionId&&(a.SessionId=n.SessionId),r},qA)}}),YA=e=>"ws:"===e.protocol||"wss:"===e.protocol;class QA{constructor(e){N(this,"signer",void 0),this.signer=e.signer}presign(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.signer.presign(e,t)}async sign(e,t){if(GA.isInstance(e)&&YA(e)){const n=await this.signer.presign(M(M({},e),{},{body:""}),M(M({},t),{},{expiresIn:60,unsignableHeaders:new Set(Object.keys(e.headers).filter(e=>"host"!==e))}));return M(M({},n),{},{body:e.body})}return this.signer.sign(e,t)}}const XA=e=>!!e,JA=e=>encodeURIComponent(e).replace(/[!'()*]/g,ZA),ZA=e=>"%".concat(e.charCodeAt(0).toString(16).toUpperCase());function eO(e){const{port:t,query:n}=e;let{protocol:r,path:a,hostname:o}=e;r&&":"!==r.slice(-1)&&(r+=":"),t&&(o+=":".concat(t)),a&&"/"!==a.charAt(0)&&(a="/".concat(a));let i=n?function(e){const t=[];for(let n of Object.keys(e).sort()){const r=e[n];if(n=JA(n),Array.isArray(r))for(let e=0,a=r.length;e<a;e++)t.push("".concat(n,"=").concat(JA(r[e])));else{let e=n;(r||"string"===typeof r)&&(e+="=".concat(JA(r))),t.push(e)}}return t.join("&")}(n):"";i&&"?"!==i[0]&&(i="?".concat(i));let s="";if(null!=e.username||null!=e.password){var l,u;const t=null!==(l=e.username)&&void 0!==l?l:"",n=null!==(u=e.password)&&void 0!==u?u:"";s="".concat(t,":").concat(n,"@")}let c="";return e.fragment&&(c="#".concat(e.fragment)),"".concat(r,"//").concat(s).concat(o).concat(a).concat(i).concat(c)}const tO=e=>({[Symbol.asyncIterator]:TM(function*(){const t=e.getReader();try{for(;;){const{done:e,value:n}=yield EM(t.read());if(e)return;yield n}}finally{t.releaseLock()}})}),nO=e=>{const t=e[Symbol.asyncIterator]();return new ReadableStream({async pull(e){const{done:n,value:r}=await t.next();if(n)return e.close();e.enqueue(r)}})};class rO{constructor(e){N(this,"statusCode",void 0),N(this,"reason",void 0),N(this,"headers",void 0),N(this,"body",void 0),this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const t=e;return"number"===typeof t.statusCode&&"object"===typeof t.headers}}const aO=e=>encodeURIComponent(e).replace(/[!'()*]/g,oO),oO=e=>"%".concat(e.charCodeAt(0).toString(16).toUpperCase());function iO(e,t){return new Request(e,t)}function sO(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((t,n)=>{e&&setTimeout(()=>{const t=new Error("Request did not complete within ".concat(e," ms"));t.name="TimeoutError",n(t)},e)})}const lO={supported:void 0};class uO{static create(e){return"function"===typeof(null===e||void 0===e?void 0:e.handle)?e:new uO(e)}constructor(e){N(this,"config",void 0),N(this,"configProvider",void 0),"function"===typeof e?this.configProvider=e().then(e=>e||{}):(this.config=null!==e&&void 0!==e?e:{},this.configProvider=Promise.resolve(this.config)),void 0===lO.supported&&(lO.supported=Boolean("undefined"!==typeof Request&&"keepalive"in iO("https://[::1]")))}destroy(){}async handle(e){var t;let{abortSignal:n,requestTimeout:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.config||(this.config=await this.configProvider);const a=null!==r&&void 0!==r?r:this.config.requestTimeout,o=!0===this.config.keepAlive,i=this.config.credentials;if(null!==n&&void 0!==n&&n.aborted){const e=new Error("Request aborted");return e.name="AbortError",Promise.reject(e)}let s=e.path;const l=function(e){const t=[];for(let n of Object.keys(e).sort()){const r=e[n];if(n=aO(n),Array.isArray(r))for(let e=0,a=r.length;e<a;e++)t.push("".concat(n,"=").concat(aO(r[e])));else{let e=n;(r||"string"===typeof r)&&(e+="=".concat(aO(r))),t.push(e)}}return t.join("&")}(e.query||{});l&&(s+="?".concat(l)),e.fragment&&(s+="#".concat(e.fragment));let u="";if(null!=e.username||null!=e.password){var c,d;const t=null!==(c=e.username)&&void 0!==c?c:"",n=null!==(d=e.password)&&void 0!==d?d:"";u="".concat(t,":").concat(n,"@")}const{port:p,method:h}=e,f="".concat(e.protocol,"//").concat(u).concat(e.hostname).concat(p?":".concat(p):"").concat(s),m="GET"===h||"HEAD"===h?void 0:e.body,g={body:m,headers:new Headers(e.headers),method:h,credentials:i};null!==(t=this.config)&&void 0!==t&&t.cache&&(g.cache=this.config.cache),m&&(g.duplex="half"),"undefined"!==typeof AbortController&&(g.signal=n),lO.supported&&(g.keepalive=o),"function"===typeof this.config.requestInit&&Object.assign(g,this.config.requestInit(e));let v=()=>{};const y=iO(f,g),b=[fetch(y).then(e=>{const t=e.headers,n={};for(const r of t.entries())n[r[0]]=r[1];return void 0!=e.body?{response:new rO({headers:n,reason:e.statusText,statusCode:e.status,body:e.body})}:e.blob().then(t=>({response:new rO({headers:n,reason:e.statusText,statusCode:e.status,body:t})}))}),sO(a)];return n&&b.push(new Promise((e,t)=>{const r=()=>{const e=new Error("Request aborted");e.name="AbortError",t(e)};if("function"===typeof n.addEventListener){const e=n;e.addEventListener("abort",r,{once:!0}),v=()=>e.removeEventListener("abort",r)}else n.onabort=r})),Promise.race(b).finally(v)}updateHttpClientConfig(e,t){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[e]=t,n))}httpHandlerConfigs(){var e;return null!==(e=this.config)&&void 0!==e?e:{}}}class cO{constructor(e){N(this,"statusCode",void 0),N(this,"reason",void 0),N(this,"headers",void 0),N(this,"body",void 0),this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const t=e;return"number"===typeof t.statusCode&&"object"===typeof t.headers}}const dO=2e3;class pO{static create(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new uO;return"function"===typeof(null===e||void 0===e?void 0:e.handle)?e:new pO(e,t)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new uO;N(this,"metadata",{handlerProtocol:"websocket/h1.1"}),N(this,"config",void 0),N(this,"configPromise",void 0),N(this,"httpHandler",void 0),N(this,"sockets",{}),this.httpHandler=t,"function"===typeof e?(this.config={},this.configPromise=e().then(e=>this.config=null!==e&&void 0!==e?e:{})):(this.config=null!==e&&void 0!==e?e:{},this.configPromise=Promise.resolve(this.config))}destroy(){for(const[e,t]of Object.entries(this.sockets)){for(const e of t)e.close(1e3,"Socket closed through destroy() call");delete this.sockets[e]}}async handle(e){if(!YA(e))return this.httpHandler.handle(e);const t=eO(e),n=new WebSocket(t);this.sockets[t]||(this.sockets[t]=[]),this.sockets[t].push(n),n.binaryType="arraybuffer",this.config=await this.configPromise;const{connectionTimeout:r=dO}=this.config;await this.waitForReady(n,r);const{body:a}=e,o=hO(a),i=this.connect(n,o),s=fO(i);return{response:new cO({statusCode:200,body:s})}}updateHttpClientConfig(e,t){this.configPromise=this.configPromise.then(n=>(n[e]=t,n))}httpHandlerConfigs(){var e;return null!==(e=this.config)&&void 0!==e?e:{}}removeNotUsableSockets(e){var t;this.sockets[e]=(null!==(t=this.sockets[e])&&void 0!==t?t:[]).filter(e=>![WebSocket.CLOSING,WebSocket.CLOSED].includes(e.readyState))}waitForReady(e,t){return new Promise((n,r)=>{const a=setTimeout(()=>{this.removeNotUsableSockets(e.url),r({$metadata:{httpStatusCode:500}})},t);e.onopen=()=>{clearTimeout(a),n()}})}connect(e,t){let n,r=!1,a=()=>{},o=()=>{};e.onmessage=e=>{o({done:!1,value:new Uint8Array(e.data)})},e.onerror=t=>{r=!0,e.close(),a(t)},e.onclose=()=>{this.removeNotUsableSockets(e.url),r||(n?a(n):o({done:!0,value:void 0}))};const i={[Symbol.asyncIterator]:()=>({next:()=>new Promise((e,t)=>{o=e,a=t})})};return(async()=>{try{var r,a=!1,o=!1;try{for(var i,s=xn(t);a=!(i=await s.next()).done;a=!1){const t=i.value;e.send(t)}}catch(uq){o=!0,r=uq}finally{try{a&&null!=s.return&&await s.return()}finally{if(o)throw r}}}catch(uq){n=uq}finally{e.close(1e3)}})(),i}}const hO=e=>e[Symbol.asyncIterator]?e:mO(e)?tO(e):{[Symbol.asyncIterator]:TM(function*(){yield e})},fO=e=>"function"===typeof ReadableStream?nO(e):e,mO=e=>"function"===typeof ReadableStream&&e instanceof ReadableStream,gO=new Set,vO=e=>"string"===typeof e&&(e.startsWith("fips-")||e.endsWith("-fips")),yO=e=>{const{region:t,useFipsEndpoint:n}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{const e=(e=>vO(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e)("function"===typeof t?await t():t);return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rA;if(gO.has(e)||t(e))gO.add(e);else{if("*"!==e)throw new Error('Region not accepted: region="'.concat(e,'" is not a valid hostname component.'));console.warn('@smithy/config-resolver WARN - Please use the caller region instead of "*". See "sigv4a" in https://github.com/aws/aws-sdk-js-v3/blob/main/supplemental-docs/CLIENTS.md.')}}(e),e},useFipsEndpoint:async()=>{const e="string"===typeof t?t:await t();return!!vO(e)||("function"!==typeof n?Promise.resolve(!!n):n())}})},bO="__smithy_context",wO=e=>e[bO]||(e[bO]={});const kO=(e,t)=>(n,r)=>async a=>{const o=((e,t)=>{if(!t||0===t.length)return e;const n=[];for(const r of t)for(const t of e)t.schemeId.split("#")[1]===r&&n.push(t);for(const r of e)n.find(e=>{let{schemeId:t}=e;return t===r.schemeId})||n.push(r);return n})(e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,r,a.input)),e.authSchemePreference?await e.authSchemePreference():[]),i=function(e){const t=new Map;for(const n of e)t.set(n.schemeId,n);return t}(e.httpAuthSchemes),s=wO(r),l=[];for(const n of o){var u;const a=i.get(n.schemeId);if(!a){l.push("HttpAuthScheme `".concat(n.schemeId,"` was not enabled for this service."));continue}const o=a.identityProvider(await t.identityProviderConfigProvider(e));if(!o){l.push("HttpAuthScheme `".concat(n.schemeId,"` did not have an IdentityProvider configured."));continue}const{identityProperties:c={},signingProperties:d={}}=(null===(u=n.propertiesExtractor)||void 0===u?void 0:u.call(n,e,r))||{};n.identityProperties=Object.assign(n.identityProperties||{},c),n.signingProperties=Object.assign(n.signingProperties||{},d),s.selectedHttpAuthScheme={httpAuthOption:n,identity:await o(n.identityProperties),signer:a.signer};break}if(!s.selectedHttpAuthScheme)throw new Error(l.join("\n"));return n(a)},SO={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"};class xO{constructor(e){N(this,"authSchemes",new Map);for(const[t,n]of Object.entries(e))void 0!==n&&this.authSchemes.set(t,n)}getIdentityProvider(e){return this.authSchemes.get(e)}}class IO{constructor(e){N(this,"method",void 0),N(this,"protocol",void 0),N(this,"hostname",void 0),N(this,"port",void 0),N(this,"path",void 0),N(this,"query",void 0),N(this,"headers",void 0),N(this,"username",void 0),N(this,"password",void 0),N(this,"fragment",void 0),N(this,"body",void 0),this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?"".concat(e.protocol,":"):e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/".concat(e.path):e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){const t=new IO(M(M({},e),{},{headers:M({},e.headers)}));var n;return t.query&&(t.query=(n=t.query,Object.keys(n).reduce((e,t)=>{const r=n[t];return M(M({},e),{},{[t]:Array.isArray(r)?[...r]:r})},{}))),t}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"===typeof t.query&&"object"===typeof t.headers}clone(){return IO.clone(this)}}const _O=e=>e=>{throw e},EO=(e,t)=>{},TO={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},NO=e=>({applyToStack:e=>{e.addRelativeTo((e,t)=>async n=>{if(!IO.isInstance(n.request))return e(n);const r=wO(t).selectedHttpAuthScheme;if(!r)throw new Error("No HttpAuthScheme was selected: unable to sign request");const{httpAuthOption:{signingProperties:a={}},identity:o,signer:i}=r,s=await e(M(M({},n),{},{request:await i.sign(n.request,o,a)})).catch((i.errorHandler||_O)(a));return(i.successHandler||EO)(s.response,a),s},TO)}});class CO{constructor(e){N(this,"method",void 0),N(this,"protocol",void 0),N(this,"hostname",void 0),N(this,"port",void 0),N(this,"path",void 0),N(this,"query",void 0),N(this,"headers",void 0),N(this,"username",void 0),N(this,"password",void 0),N(this,"fragment",void 0),N(this,"body",void 0),this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?"".concat(e.protocol,":"):e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/".concat(e.path):e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){const t=new CO(M(M({},e),{},{headers:M({},e.headers)}));var n;return t.query&&(t.query=(n=t.query,Object.keys(n).reduce((e,t)=>{const r=n[t];return M(M({},e),{},{[t]:Array.isArray(r)?[...r]:r})},{}))),t}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"===typeof t.query&&"object"===typeof t.headers}clone(){return CO.clone(this)}}const MO="content-length";const AO={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},OO=e=>({applyToStack:t=>{var n;t.add((n=e.bodyLengthChecker,e=>async t=>{const r=t.request;if(CO.isInstance(r)){const{body:e,headers:t}=r;if(e&&-1===Object.keys(t).map(e=>e.toLowerCase()).indexOf(MO))try{const t=n(e);r.headers=M(M({},r.headers),{},{[MO]:String(t)})}catch(a){}}return e(M(M({},t),{},{request:r}))}),AO)}}),FO=e=>{if("function"===typeof e)return e;const t=Promise.resolve(e);return()=>t},RO=async e=>{};const DO=e=>{if("string"===typeof e)return DO(new URL(e));const{hostname:t,pathname:n,port:r,protocol:a,search:o}=e;let i;return o&&(i=function(e){const t={};if(e=e.replace(/^\?/,""))for(const n of e.split("&")){let[e,r=null]=n.split("=");e=decodeURIComponent(e),r&&(r=decodeURIComponent(r)),e in t?Array.isArray(t[e])?t[e].push(r):t[e]=[t[e],r]:t[e]=r}return t}(o)),{hostname:t,port:r?parseInt(r):void 0,protocol:a,path:n,query:i}},PO=e=>"object"===typeof e?"url"in e?DO(e.url):e:DO(e);var LO;!function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"}(LO||(LO={}));const zO=LO.STANDARD,BO=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],WO=["TimeoutError","RequestTimeout","RequestTimeoutException"],UO=[500,502,503,504],jO=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],HO=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],VO=e=>{var t,n;return 429===(null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||BO.includes(e.name)||1==(null===(n=e.$retryable)||void 0===n?void 0:n.throttling)},qO=function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(e=>void 0!==(null===e||void 0===e?void 0:e.$retryable))(e)||(e=>{var t;return null===(t=e.$metadata)||void 0===t?void 0:t.clockSkewCorrected})(e)||WO.includes(e.name)||jO.includes((null===e||void 0===e?void 0:e.code)||"")||HO.includes((null===e||void 0===e?void 0:e.code)||"")||UO.includes((null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||0)||(e=>{const t=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return!!(e&&e instanceof TypeError)&&t.has(e.message)})(e)||void 0!==e.cause&&n<=10&&qO(e.cause,n+1)};class GO{constructor(e){var t,n,r,a,o;N(this,"beta",void 0),N(this,"minCapacity",void 0),N(this,"minFillRate",void 0),N(this,"scaleConstant",void 0),N(this,"smooth",void 0),N(this,"currentCapacity",0),N(this,"enabled",!1),N(this,"lastMaxRate",0),N(this,"measuredTxRate",0),N(this,"requestCount",0),N(this,"fillRate",void 0),N(this,"lastThrottleTime",void 0),N(this,"lastTimestamp",0),N(this,"lastTxRateBucket",void 0),N(this,"maxCapacity",void 0),N(this,"timeWindow",0),this.beta=null!==(t=null===e||void 0===e?void 0:e.beta)&&void 0!==t?t:.7,this.minCapacity=null!==(n=null===e||void 0===e?void 0:e.minCapacity)&&void 0!==n?n:1,this.minFillRate=null!==(r=null===e||void 0===e?void 0:e.minFillRate)&&void 0!==r?r:.5,this.scaleConstant=null!==(a=null===e||void 0===e?void 0:e.scaleConstant)&&void 0!==a?a:.4,this.smooth=null!==(o=null===e||void 0===e?void 0:e.smooth)&&void 0!==o?o:.8;const i=this.getCurrentTimeInSeconds();this.lastThrottleTime=i,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(e){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){const t=(e-this.currentCapacity)/this.fillRate*1e3;await new Promise(e=>GO.setTimeoutFn(e,t))}this.currentCapacity=this.currentCapacity-e}}refillTokenBucket(){const e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp)return void(this.lastTimestamp=e);const t=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+t),this.lastTimestamp=e}updateClientSendingRate(e){let t;if(this.updateMeasuredRate(),VO(e)){const e=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=e,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),t=this.cubicThrottle(e),this.enableTokenBucket()}else this.calculateTimeWindow(),t=this.cubicSuccess(this.getCurrentTimeInSeconds());const n=Math.min(t,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const e=this.getCurrentTimeInSeconds(),t=Math.floor(2*e)/2;if(this.requestCount++,t>this.lastTxRateBucket){const e=this.requestCount/(t-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(e*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=t}}getPrecise(e){return parseFloat(e.toFixed(8))}}N(GO,"setTimeoutFn",setTimeout);const KO=e=>{let{retryDelay:t,retryCount:n,retryCost:r}=e;return{getRetryCount:()=>n,getRetryDelay:()=>Math.min(2e4,t),getRetryCost:()=>r}};class $O{constructor(e){N(this,"maxAttempts",void 0),N(this,"mode",LO.STANDARD),N(this,"capacity",500),N(this,"retryBackoffStrategy",(()=>{let e=100;return{computeNextBackoffDelay:t=>Math.floor(Math.min(2e4,Math.random()*2**t*e)),setDelayBase:t=>{e=t}}})()),N(this,"maxAttemptsProvider",void 0),this.maxAttempts=e,this.maxAttemptsProvider="function"===typeof e?e:async()=>e}async acquireInitialRetryToken(e){return KO({retryDelay:100,retryCount:0})}async refreshRetryTokenForRetry(e,t){const n=await this.getMaxAttempts();if(this.shouldRetry(e,t,n)){const n=t.errorType;this.retryBackoffStrategy.setDelayBase("THROTTLING"===n?500:100);const r=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),a=t.retryAfterHint?Math.max(t.retryAfterHint.getTime()-Date.now()||0,r):r,o=this.getCapacityCost(n);return this.capacity-=o,KO({retryDelay:a,retryCount:e.getRetryCount()+1,retryCost:o})}throw new Error("No retry token available")}recordSuccess(e){var t;this.capacity=Math.max(500,this.capacity+(null!==(t=e.getRetryCost())&&void 0!==t?t:1))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch(e){return console.warn("Max attempts provider could not resolve. Using default of ".concat(3)),3}}shouldRetry(e,t,n){return e.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(t.errorType)&&this.isRetryableError(t.errorType)}getCapacityCost(e){return"TRANSIENT"===e?10:5}isRetryableError(e){return"THROTTLING"===e||"TRANSIENT"===e}}class YO{constructor(e,t){N(this,"maxAttemptsProvider",void 0),N(this,"rateLimiter",void 0),N(this,"standardRetryStrategy",void 0),N(this,"mode",LO.ADAPTIVE),this.maxAttemptsProvider=e;const{rateLimiter:n}=null!==t&&void 0!==t?t:{};this.rateLimiter=null!==n&&void 0!==n?n:new GO,this.standardRetryStrategy=new $O(e)}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,t){return this.rateLimiter.updateClientSendingRate(t),this.standardRetryStrategy.refreshRetryTokenForRetry(e,t)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}}class QO{constructor(e){N(this,"method",void 0),N(this,"protocol",void 0),N(this,"hostname",void 0),N(this,"port",void 0),N(this,"path",void 0),N(this,"query",void 0),N(this,"headers",void 0),N(this,"username",void 0),N(this,"password",void 0),N(this,"fragment",void 0),N(this,"body",void 0),this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?"".concat(e.protocol,":"):e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/".concat(e.path):e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){const t=new QO(M(M({},e),{},{headers:M({},e.headers)}));var n;return t.query&&(t.query=(n=t.query,Object.keys(n).reduce((e,t)=>{const r=n[t];return M(M({},e),{},{[t]:Array.isArray(r)?[...r]:r})},{}))),t}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"===typeof t.query&&"object"===typeof t.headers}clone(){return QO.clone(this)}}class XO{constructor(e){N(this,"statusCode",void 0),N(this,"reason",void 0),N(this,"headers",void 0),N(this,"body",void 0),this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const t=e;return"number"===typeof t.statusCode&&"object"===typeof t.headers}}class JO{trace(){}debug(){}info(){}warn(){}error(){}}const ZO="undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),eF=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0")),tF=e=>(null===e||void 0===e?void 0:e.body)instanceof ReadableStream,nF=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):"string"===typeof e?new Error(e):new Error("AWS SDK error wrapper for ".concat(e)),rF=e=>(t,n)=>async r=>{let a=await e.retryStrategy();const o=await e.maxAttempts();var i;if(!aF(a))return null!==(i=a)&&void 0!==i&&i.mode&&(n.userAgent=[...n.userAgent||[],["cfg/retry-mode",a.mode]]),a.retry(t,r);{let e=await a.acquireInitialRetryToken(n.partition_id),i=new Error,u=0,c=0;const{request:d}=r,p=QO.isInstance(d);for(p&&(d.headers["amz-sdk-invocation-id"]=(()=>{if(ZO)return ZO();const e=new Uint8Array(16);return crypto.getRandomValues(e),e[6]=15&e[6]|64,e[8]=63&e[8]|128,eF[e[0]]+eF[e[1]]+eF[e[2]]+eF[e[3]]+"-"+eF[e[4]]+eF[e[5]]+"-"+eF[e[6]]+eF[e[7]]+"-"+eF[e[8]]+eF[e[9]]+"-"+eF[e[10]]+eF[e[11]]+eF[e[12]]+eF[e[13]]+eF[e[14]]+eF[e[15]]})());;)try{p&&(d.headers["amz-sdk-request"]="attempt=".concat(u+1,"; max=").concat(o));const{response:n,output:i}=await t(r);return a.recordSuccess(e),i.$metadata.attempts=u+1,i.$metadata.totalRetryDelay=c,{response:n,output:i}}catch(ID){const r=oF(ID);var s;if(i=nF(ID),p&&tF(d))throw null===(s=n.logger instanceof JO?console:n.logger)||void 0===s||s.warn("An error was encountered in a non-retryable streaming request."),i;try{e=await a.refreshRetryTokenForRetry(e,r)}catch(l){throw i.$metadata||(i.$metadata={}),i.$metadata.attempts=u+1,i.$metadata.totalRetryDelay=c,i}u=e.getRetryCount();const o=e.getRetryDelay();c+=o,await new Promise(e=>setTimeout(e,o))}}},aF=e=>"undefined"!==typeof e.acquireInitialRetryToken&&"undefined"!==typeof e.refreshRetryTokenForRetry&&"undefined"!==typeof e.recordSuccess,oF=e=>{const t={error:e,errorType:iF(e)},n=lF(e.$response);return n&&(t.retryAfterHint=n),t},iF=e=>VO(e)?"THROTTLING":qO(e)?"TRANSIENT":(e=>{var t;if(void 0!==(null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)){const t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!qO(e)}return!1})(e)?"SERVER_ERROR":"CLIENT_ERROR",sF={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},lF=e=>{if(!XO.isInstance(e))return;const t=Object.keys(e.headers).find(e=>"retry-after"===e.toLowerCase());if(!t)return;const n=e.headers[t],r=Number(n);if(!Number.isNaN(r))return new Date(1e3*r);return new Date(n)},uF=(e,t)=>{const n=[];if(e&&n.push(e),t)for(const r of t)n.push(r);return n},cF=(e,t)=>"".concat(e||"anonymous").concat(t&&t.length>0?" (a.k.a. ".concat(t.join(","),")"):""),dF=()=>{let e=[],t=[],n=!1;const r=new Set,a=n=>{var r;return e.forEach(e=>{n.add(e.middleware,M({},e))}),t.forEach(e=>{n.addRelativeTo(e.middleware,M({},e))}),null===(r=n.identifyOnResolve)||void 0===r||r.call(n,s.identifyOnResolve()),n},o=e=>{const t=[];return e.before.forEach(e=>{0===e.before.length&&0===e.after.length?t.push(e):t.push(...o(e))}),t.push(e),e.after.reverse().forEach(e=>{0===e.before.length&&0===e.after.length?t.push(e):t.push(...o(e))}),t},i=function(){let n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const r=[],a=[],i={};e.forEach(e=>{const t=M(M({},e),{},{before:[],after:[]});for(const n of uF(t.name,t.aliases))i[n]=t;r.push(t)}),t.forEach(e=>{const t=M(M({},e),{},{before:[],after:[]});for(const n of uF(t.name,t.aliases))i[n]=t;a.push(t)}),a.forEach(e=>{if(e.toMiddleware){const t=i[e.toMiddleware];if(void 0===t){if(n)return;throw new Error("".concat(e.toMiddleware," is not found when adding ")+"".concat(cF(e.name,e.aliases)," ")+"middleware ".concat(e.relation," ").concat(e.toMiddleware))}"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}});const s=(l=r,l.sort((e,t)=>pF[t.step]-pF[e.step]||hF[t.priority||"normal"]-hF[e.priority||"normal"])).map(o).reduce((e,t)=>(e.push(...t),e),[]);var l;return s},s={add:function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{name:a,override:o,aliases:i}=n,s=M({step:"initialize",priority:"normal",middleware:t},n),l=uF(a,i);if(l.length>0){if(l.some(e=>r.has(e))){if(!o)throw new Error("Duplicate middleware name '".concat(cF(a,i),"'"));for(const t of l){const n=e.findIndex(e=>{var n;return e.name===t||(null===(n=e.aliases)||void 0===n?void 0:n.some(e=>e===t))});if(-1===n)continue;const r=e[n];if(r.step!==s.step||s.priority!==r.priority)throw new Error('"'.concat(cF(r.name,r.aliases),'" middleware with ')+"".concat(r.priority," priority in ").concat(r.step," step cannot ")+'be overridden by "'.concat(cF(a,i),'" middleware with ')+"".concat(s.priority," priority in ").concat(s.step," step."));e.splice(n,1)}}for(const e of l)r.add(e)}e.push(s)},addRelativeTo:(e,n)=>{const{name:a,override:o,aliases:i}=n,s=M({middleware:e},n),l=uF(a,i);if(l.length>0){if(l.some(e=>r.has(e))){if(!o)throw new Error("Duplicate middleware name '".concat(cF(a,i),"'"));for(const e of l){const n=t.findIndex(t=>{var n;return t.name===e||(null===(n=t.aliases)||void 0===n?void 0:n.some(t=>t===e))});if(-1===n)continue;const r=t[n];if(r.toMiddleware!==s.toMiddleware||r.relation!==s.relation)throw new Error('"'.concat(cF(r.name,r.aliases),'" middleware ')+"".concat(r.relation,' "').concat(r.toMiddleware,'" middleware cannot be overridden ')+'by "'.concat(cF(a,i),'" middleware ').concat(s.relation," ")+'"'.concat(s.toMiddleware,'" middleware.'));t.splice(n,1)}}for(const e of l)r.add(e)}t.push(s)},clone:()=>a(dF()),use:e=>{e.applyToStack(s)},remove:n=>"string"===typeof n?(n=>{let a=!1;const o=e=>{const t=uF(e.name,e.aliases);if(t.includes(n)){a=!0;for(const e of t)r.delete(e);return!1}return!0};return e=e.filter(o),t=t.filter(o),a})(n):(n=>{let a=!1;const o=e=>{if(e.middleware===n){a=!0;for(const t of uF(e.name,e.aliases))r.delete(t);return!1}return!0};return e=e.filter(o),t=t.filter(o),a})(n),removeByTag:n=>{let a=!1;const o=e=>{const{tags:t,name:o,aliases:i}=e;if(t&&t.includes(n)){const e=uF(o,i);for(const t of e)r.delete(t);return a=!0,!1}return!0};return e=e.filter(o),t=t.filter(o),a},concat:e=>{var t,r;const o=a(dF());return o.use(e),o.identifyOnResolve(n||o.identifyOnResolve()||null!==(t=null===(r=e.identifyOnResolve)||void 0===r?void 0:r.call(e))&&void 0!==t&&t),o},applyToStack:a,identify:()=>i(!0).map(e=>{var t;const n=null!==(t=e.step)&&void 0!==t?t:e.relation+" "+e.toMiddleware;return cF(e.name,e.aliases)+" - "+n}),identifyOnResolve:e=>("boolean"===typeof e&&(n=e),n),resolve:(e,t)=>{for(const n of i().map(e=>e.middleware).reverse())e=n(e,t);return n&&console.log(s.identify()),e}};return s},pF={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},hF={high:3,normal:2,low:1};class fF{constructor(e){N(this,"config",void 0),N(this,"middlewareStack",dF()),N(this,"initConfig",void 0),N(this,"handlers",void 0),this.config=e}send(e,t,n){const r="function"!==typeof t?t:void 0,a="function"===typeof t?t:n;let o;if(void 0===r&&!0===this.config.cacheMiddleware){this.handlers||(this.handlers=new WeakMap);const t=this.handlers;t.has(e.constructor)?o=t.get(e.constructor):(o=e.resolveMiddleware(this.middlewareStack,this.config,r),t.set(e.constructor,o))}else delete this.handlers,o=e.resolveMiddleware(this.middlewareStack,this.config,r);if(!a)return o(e).then(e=>e.output);o(e).then(e=>a(null,e.output),e=>a(e)).catch(()=>{})}destroy(){var e,t;null===(e=this.config)||void 0===e||null===(e=e.requestHandler)||void 0===e||null===(t=e.destroy)||void 0===t||t.call(e),delete this.handlers}}const mF=(gF=3e5,function(e){return vF(e)&&e.expiration.getTime()-Date.now()<gF});var gF;const vF=e=>void 0!==e.expiration,yF={},bF={};for(let n=0;n<256;n++){let e=n.toString(16).toLowerCase();1===e.length&&(e="0".concat(e)),yF[n]=e,bF[e]=n}function wF(e){let t="";for(let n=0;n<e.byteLength;n++)t+=yF[e[n]];return t}const kF=e=>(new TextEncoder).encode(e),SF=e=>"string"===typeof e?kF(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),xF="X-Amz-Date",IF="X-Amz-Signature",_F="X-Amz-Security-Token",EF="authorization",TF=xF.toLowerCase(),NF=[EF,TF,"date"],CF=IF.toLowerCase(),MF="x-amz-content-sha256",AF=_F.toLowerCase(),OF={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},FF=/^proxy-/,RF=/^sec-/,DF="AWS4-HMAC-SHA256",PF="AWS4-HMAC-SHA256-PAYLOAD",LF="aws4_request",zF={},BF=[],WF=(e,t,n)=>"".concat(e,"/").concat(t,"/").concat(n,"/").concat(LF),UF=(e,t,n)=>{const r=new e(t);return r.update(SF(n)),r.digest()},jF=(e,t,n)=>{let{headers:r}=e;const a={};for(const o of Object.keys(r).sort()){if(void 0==r[o])continue;const e=o.toLowerCase();(e in OF||null!==t&&void 0!==t&&t.has(e)||FF.test(e)||RF.test(e))&&(!n||n&&!n.has(e))||(a[e]=r[o].trim().replace(/\s+/g," "))}return a},HF=async(e,t)=>{let{headers:n,body:r}=e;for(const o of Object.keys(n))if(o.toLowerCase()===MF)return n[o];if(void 0==r)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if("string"===typeof r||ArrayBuffer.isView(r)||(a=r,"function"===typeof ArrayBuffer&&a instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(a))){const e=new t;return e.update(SF(r)),wF(await e.digest())}var a;return"UNSIGNED-PAYLOAD"};class VF{format(e){const t=[];for(const a of Object.keys(e)){const n=kF(a);t.push(Uint8Array.from([n.byteLength]),n,this.formatHeaderValue(e[a]))}const n=new Uint8Array(t.reduce((e,t)=>e+t.byteLength,0));let r=0;for(const a of t)n.set(a,r),r+=a.byteLength;return n}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":const t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":const n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":const r=new Uint8Array(9);return r[0]=5,r.set(e.value.bytes,1),r;case"binary":const a=new DataView(new ArrayBuffer(3+e.value.byteLength));a.setUint8(0,6),a.setUint16(1,e.value.byteLength,!1);const o=new Uint8Array(a.buffer);return o.set(e.value,3),o;case"string":const i=kF(e.value),s=new DataView(new ArrayBuffer(3+i.byteLength));s.setUint8(0,7),s.setUint16(1,i.byteLength,!1);const l=new Uint8Array(s.buffer);return l.set(i,3),l;case"timestamp":const u=new Uint8Array(9);return u[0]=8,u.set(KF.fromNumber(e.value.valueOf()).bytes,1),u;case"uuid":if(!GF.test(e.value))throw new Error("Invalid UUID received: ".concat(e.value));const c=new Uint8Array(17);return c[0]=9,c.set(function(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2){const r=e.slice(n,n+2).toLowerCase();if(!(r in bF))throw new Error("Cannot decode unrecognized sequence ".concat(r," as hexadecimal"));t[n/2]=bF[r]}return t}(e.value.replace(/\-/g,"")),1),c}}}var qF;!function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"}(qF||(qF={}));const GF=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;class KF{constructor(e){if(this.bytes=e,8!==e.byteLength)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>0x8000000000000000||e<-0x8000000000000000)throw new Error("".concat(e," is too large (or, if negative, too small) to represent as an Int64"));const t=new Uint8Array(8);for(let n=7,r=Math.abs(Math.round(e));n>-1&&r>0;n--,r/=256)t[n]=r;return e<0&&$F(t),new KF(t)}valueOf(){const e=this.bytes.slice(0),t=128&e[0];return t&&$F(e),parseInt(wF(e),16)*(t?-1:1)}toString(){return String(this.valueOf())}}function $F(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,0===e[t]);t--);}class YF{constructor(e){N(this,"method",void 0),N(this,"protocol",void 0),N(this,"hostname",void 0),N(this,"port",void 0),N(this,"path",void 0),N(this,"query",void 0),N(this,"headers",void 0),N(this,"username",void 0),N(this,"password",void 0),N(this,"fragment",void 0),N(this,"body",void 0),this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?"".concat(e.protocol,":"):e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/".concat(e.path):e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){const t=new YF(M(M({},e),{},{headers:M({},e.headers)}));var n;return t.query&&(t.query=(n=t.query,Object.keys(n).reduce((e,t)=>{const r=n[t];return M(M({},e),{},{[t]:Array.isArray(r)?[...r]:r})},{}))),t}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"===typeof t.query&&"object"===typeof t.headers}clone(){return YF.clone(this)}}const QF=e=>{e=YF.clone(e);for(const t of Object.keys(e.headers))NF.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},XF=e=>encodeURIComponent(e).replace(/[!'()*]/g,JF),JF=e=>"%".concat(e.charCodeAt(0).toString(16).toUpperCase()),ZF=e=>"number"===typeof e?new Date(1e3*e):"string"===typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e;class eR{constructor(e){let{applyChecksum:t,credentials:n,region:r,service:a,sha256:o,uriEscapePath:i=!0}=e;this.service=a,this.sha256=o,this.uriEscapePath=i,this.applyChecksum="boolean"!==typeof t||t,this.regionProvider=FO(r),this.credentialProvider=FO(n)}createCanonicalRequest(e,t,n){const r=Object.keys(t).sort();return"".concat(e.method,"\n").concat(this.getCanonicalPath(e),"\n").concat((e=>{let{query:t={}}=e;const n=[],r={};for(const a of Object.keys(t)){if(a.toLowerCase()===CF)continue;const e=XF(a);n.push(e);const o=t[a];"string"===typeof o?r[e]="".concat(e,"=").concat(XF(o)):Array.isArray(o)&&(r[e]=o.slice(0).reduce((t,n)=>t.concat(["".concat(e,"=").concat(XF(n))]),[]).sort().join("&"))}return n.sort().map(e=>r[e]).filter(e=>e).join("&")})(e),"\n").concat(r.map(e=>"".concat(e,":").concat(t[e])).join("\n"),"\n\n").concat(r.join(";"),"\n").concat(n)}async createStringToSign(e,t,n,r){const a=new this.sha256;a.update(SF(n));const o=await a.digest();return"".concat(r,"\n").concat(e,"\n").concat(t,"\n").concat(wF(o))}getCanonicalPath(e){let{path:t}=e;if(this.uriEscapePath){const e=[];for(const r of t.split("/"))0!==(null===r||void 0===r?void 0:r.length)&&"."!==r&&(".."===r?e.pop():e.push(r));const n="".concat(null!==t&&void 0!==t&&t.startsWith("/")?"/":"").concat(e.join("/")).concat(e.length>0&&null!==t&&void 0!==t&&t.endsWith("/")?"/":"");return XF(n).replace(/%2F/g,"/")}return t}validateResolvedCredentials(e){if("object"!==typeof e||"string"!==typeof e.accessKeyId||"string"!==typeof e.secretAccessKey)throw new Error("Resolved credential object is not valid")}formatDate(e){const t=(e=>ZF(e).toISOString().replace(/\.\d{3}Z$/,"Z"))(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}}getCanonicalHeaderList(e){return Object.keys(e).sort().join(";")}}class tR extends eR{constructor(e){let{applyChecksum:t,credentials:n,region:r,service:a,sha256:o,uriEscapePath:i=!0}=e;super({applyChecksum:t,credentials:n,region:r,service:a,sha256:o,uriEscapePath:i}),this.headerFormatter=new VF}async presign(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{signingDate:n=new Date,expiresIn:r=3600,unsignableHeaders:a,unhoistableHeaders:o,signableHeaders:i,hoistableHeaders:s,signingRegion:l,signingService:u}=t,c=await this.credentialProvider();this.validateResolvedCredentials(c);const d=null!==l&&void 0!==l?l:await this.regionProvider(),{longDate:p,shortDate:h}=this.formatDate(n);if(r>604800)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const f=WF(h,d,null!==u&&void 0!==u?u:this.service),m=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{headers:n,query:r={}}=YF.clone(e);for(const i of Object.keys(n)){var a,o;const e=i.toLowerCase();("x-amz-"===e.slice(0,6)&&(null===(a=t.unhoistableHeaders)||void 0===a||!a.has(e))||null!==(o=t.hoistableHeaders)&&void 0!==o&&o.has(e))&&(r[i]=n[i],delete n[i])}return M(M({},e),{},{headers:n,query:r})}(QF(e),{unhoistableHeaders:o,hoistableHeaders:s});c.sessionToken&&(m.query[_F]=c.sessionToken),m.query["X-Amz-Algorithm"]=DF,m.query["X-Amz-Credential"]="".concat(c.accessKeyId,"/").concat(f),m.query[xF]=p,m.query["X-Amz-Expires"]=r.toString(10);const g=jF(m,a,i);return m.query["X-Amz-SignedHeaders"]=this.getCanonicalHeaderList(g),m.query[IF]=await this.getSignature(p,f,this.getSigningKey(c,d,h,u),this.createCanonicalRequest(m,g,await HF(e,this.sha256))),m}async sign(e,t){return"string"===typeof e?this.signString(e,t):e.headers&&e.payload?this.signEvent(e,t):e.message?this.signMessage(e,t):this.signRequest(e,t)}async signEvent(e,t){let{headers:n,payload:r}=e,{signingDate:a=new Date,priorSignature:o,signingRegion:i,signingService:s}=t;const l=null!==i&&void 0!==i?i:await this.regionProvider(),{shortDate:u,longDate:c}=this.formatDate(a),d=WF(u,l,null!==s&&void 0!==s?s:this.service),p=await HF({headers:{},body:r},this.sha256),h=new this.sha256;h.update(n);const f=wF(await h.digest()),m=[PF,c,d,o,f,p].join("\n");return this.signString(m,{signingDate:a,signingRegion:l,signingService:s})}async signMessage(e,t){let{signingDate:n=new Date,signingRegion:r,signingService:a}=t;return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:n,signingRegion:r,signingService:a,priorSignature:e.priorSignature}).then(t=>({message:e.message,signature:t}))}async signString(e){let{signingDate:t=new Date,signingRegion:n,signingService:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=await this.credentialProvider();this.validateResolvedCredentials(a);const o=null!==n&&void 0!==n?n:await this.regionProvider(),{shortDate:i}=this.formatDate(t),s=new this.sha256(await this.getSigningKey(a,o,i,r));return s.update(SF(e)),wF(await s.digest())}async signRequest(e){let{signingDate:t=new Date,signableHeaders:n,unsignableHeaders:r,signingRegion:a,signingService:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=await this.credentialProvider();this.validateResolvedCredentials(i);const s=null!==a&&void 0!==a?a:await this.regionProvider(),l=QF(e),{longDate:u,shortDate:c}=this.formatDate(t),d=WF(c,s,null!==o&&void 0!==o?o:this.service);l.headers[TF]=u,i.sessionToken&&(l.headers[AF]=i.sessionToken);const p=await HF(l,this.sha256);!((e,t)=>{e=e.toLowerCase();for(const n of Object.keys(t))if(e===n.toLowerCase())return!0;return!1})(MF,l.headers)&&this.applyChecksum&&(l.headers[MF]=p);const h=jF(l,r,n),f=await this.getSignature(u,d,this.getSigningKey(i,s,c,o),this.createCanonicalRequest(l,h,p));return l.headers[EF]="".concat(DF," ")+"Credential=".concat(i.accessKeyId,"/").concat(d,", ")+"SignedHeaders=".concat(this.getCanonicalHeaderList(h),", ")+"Signature=".concat(f),l}async getSignature(e,t,n,r){const a=await this.createStringToSign(e,t,r,DF),o=new this.sha256(await n);return o.update(SF(a)),wF(await o.digest())}getSigningKey(e,t,n,r){return(async(e,t,n,r,a)=>{const o=await UF(e,t.secretAccessKey,t.accessKeyId),i="".concat(n,":").concat(r,":").concat(a,":").concat(wF(o),":").concat(t.sessionToken);if(i in zF)return zF[i];for(BF.push(i);BF.length>50;)delete zF[BF.shift()];let s="AWS4".concat(t.secretAccessKey);for(const l of[n,r,a,LF])s=await UF(e,s,l);return zF[i]=s})(this.sha256,e,n,t,r||this.service)}}const nR=e=>{let t,n=e.credentials,r=!!e.credentials;Object.defineProperty(e,"credentials",{set(a){a&&a!==n&&a!==t&&(r=!0),n=a;const o=function(e,t){let n,{credentials:r,credentialDefaultProvider:a}=t;n=r?null!==r&&void 0!==r&&r.memoized?r:((e,t,n)=>{if(void 0===e)return;const r="function"!==typeof e?async()=>Promise.resolve(e):e;let a,o,i,s=!1;const l=async e=>{o||(o=r(e));try{a=await o,i=!0,s=!1}finally{o=void 0}return a};return void 0===t?async e=>((!i||null!==e&&void 0!==e&&e.forceRefresh)&&(a=await l(e)),a):async e=>((!i||null!==e&&void 0!==e&&e.forceRefresh)&&(a=await l(e)),s?a:n(a)?t(a)?(await l(e),a):a:(s=!0,a))})(r,mF,vF):a?eA(a(Object.assign({},e,{parentClientConfig:e}))):async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")};return n.memoized=!0,n}(e,{credentials:n,credentialDefaultProvider:e.credentialDefaultProvider}),i=function(e,t){if(t.configBound)return t;const n=async n=>t(M(M({},n),{},{callerClientConfig:e}));return n.memoized=t.memoized,n.configBound=!0,n}(e,o);r&&!i.attributed?(t=async e=>i(e).then(e=>function(e,t,n){return e.$source||(e.$source={}),e.$source[t]=n,e}(e,"CREDENTIALS_CODE","e")),t.memoized=i.memoized,t.configBound=i.configBound,t.attributed=!0):t=i},get:()=>t,enumerable:!0,configurable:!0}),e.credentials=n;const{signingEscapePath:a=!0,systemClockOffset:o=e.systemClockOffset||0,sha256:i}=e;let s;s=e.signer?eA(e.signer):e.regionInfoProvider?()=>eA(e.region)().then(async t=>[await e.regionInfoProvider(t,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},t]).then(t=>{let[n,r]=t;const{signingRegion:o,signingService:s}=n;e.signingRegion=e.signingRegion||o||r,e.signingName=e.signingName||s||e.serviceId;const l=M(M({},e),{},{credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:a});return new(e.signerConstructor||tR)(l)}):async t=>{const n=(t=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await eA(e.region)(),properties:{}},t)).signingRegion,r=t.signingName;e.signingRegion=e.signingRegion||n,e.signingName=e.signingName||r||e.serviceId;const o=M(M({},e),{},{credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:a});return new(e.signerConstructor||tR)(o)};return Object.assign(e,{systemClockOffset:o,signingEscapePath:a,signer:s})};const rR=async(e,t,n)=>({operation:wO(t).operation,region:await FO(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});const aR=e=>{const t=[];return e.operation,t.push(function(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"rekognition",region:e.region},propertiesExtractor:(e,t)=>({signingProperties:{config:e,context:t}})}}(e)),t},oR={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},iR="3.828.0";var sR={name:"SHA-256"},lR={name:"HMAC",hash:sR},uR=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85]);const cR={};function dR(){return"undefined"!==typeof window?window:"undefined"!==typeof self?self:cR}var pR=function(){function e(e){this.toHash=new Uint8Array(0),this.secret=e,this.reset()}return e.prototype.update=function(e){if(!he(e)){var t=pe(e),n=new Uint8Array(this.toHash.byteLength+t.byteLength);n.set(this.toHash,0),n.set(t,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var e=this;return this.key?this.key.then(function(t){return dR().crypto.subtle.sign(lR,t,e.toHash).then(function(e){return new Uint8Array(e)})}):he(this.toHash)?Promise.resolve(uR):Promise.resolve().then(function(){return dR().crypto.subtle.digest(sR,e.toHash)}).then(function(e){return Promise.resolve(new Uint8Array(e))})},e.prototype.reset=function(){var e=this;this.toHash=new Uint8Array(0),this.secret&&void 0!==this.secret&&(this.key=new Promise(function(t,n){dR().crypto.subtle.importKey("raw",pe(e.secret),lR,!1,["sign"]).then(t,n)}),this.key.catch(function(){}))},e}(),hR=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function fR(e){return e&&hR.every(function(t){return"function"===typeof e[t]})}var mR=function(){function e(e){!function(e){return!(!function(e){return"object"===typeof e&&"object"===typeof e.crypto&&"function"===typeof e.crypto.getRandomValues}(e)||"object"!==typeof e.crypto.subtle)&&fR(e.crypto.subtle)}(dR())?this.hash=new fe(e):this.hash=new pR(e)}return e.prototype.update=function(e,t){this.hash.update(pe(e))},e.prototype.digest=function(){return this.hash.digest()},e.prototype.reset=function(){this.hash.reset()},e}(),gR=n(5),vR=n.n(gR);const yR=e=>{let{serviceId:t,clientVersion:n}=e;return async e=>{var r,a,o,i,s,l,u,c;const d="undefined"!==typeof window&&null!==(r=window)&&void 0!==r&&null!==(r=r.navigator)&&void 0!==r&&r.userAgent?vR().parse(window.navigator.userAgent):void 0,p=[["aws-sdk-js",n],["ua","2.1"],["os/".concat((null===d||void 0===d||null===(a=d.os)||void 0===a?void 0:a.name)||"other"),null===d||void 0===d||null===(o=d.os)||void 0===o?void 0:o.version],["lang/js"],["md/browser","".concat(null!==(i=null===d||void 0===d||null===(s=d.browser)||void 0===s?void 0:s.name)&&void 0!==i?i:"unknown","_").concat(null!==(l=null===d||void 0===d||null===(u=d.browser)||void 0===u?void 0:u.version)&&void 0!==l?l:"unknown")]];t&&p.push(["api/".concat(t),n]);const h=await(null===e||void 0===e||null===(c=e.userAgentAppId)||void 0===c?void 0:c.call(e));return h&&p.push(["app/".concat(h)]),p}};var bR;!function(e){e.ENV="env",e.CONFIG="shared config entry"}(bR||(bR={}));class wR{constructor(e){N(this,"options",void 0),this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}asyncIterator(){var e=this;return TM(function*(){var t,n=!1,r=!1;try{for(var a,o=xn(e.options.messageStream);n=!(a=yield EM(o.next())).done;n=!1){const t=a.value;{const n=yield EM(e.options.deserializer(t));if(void 0===n)continue;yield n}}}catch(uq){r=!0,t=uq}finally{try{n&&null!=o.return&&(yield EM(o.return()))}finally{if(r)throw t}}})()}}class kR{constructor(e){N(this,"options",void 0),this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}asyncIterator(){var e=this;return TM(function*(){var t,n=!1,r=!1;try{for(var a,o=xn(e.options.inputStream);n=!(a=yield EM(o.next())).done;n=!1){const t=a.value;{const n=e.options.decoder.decode(t);yield n}}}catch(uq){r=!0,t=uq}finally{try{n&&null!=o.return&&(yield EM(o.return()))}finally{if(r)throw t}}})()}}class SR{constructor(e){N(this,"options",void 0),this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}asyncIterator(){var e=this;return TM(function*(){var t,n=!1,r=!1;try{for(var a,o=xn(e.options.messageStream);n=!(a=yield EM(o.next())).done;n=!1){const t=a.value;{const n=e.options.encoder.encode(t);yield n}}}catch(uq){r=!0,t=uq}finally{try{n&&null!=o.return&&(yield EM(o.return()))}finally{if(r)throw t}}e.options.includeEndFrame&&(yield new Uint8Array(0))})()}}class xR{constructor(e){N(this,"options",void 0),this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}asyncIterator(){var e=this;return TM(function*(){var t,n=!1,r=!1;try{for(var a,o=xn(e.options.inputStream);n=!(a=yield EM(o.next())).done;n=!1){const t=a.value;{const n=e.options.serializer(t);yield n}}}catch(uq){r=!0,t=uq}finally{try{n&&null!=o.return&&(yield EM(o.return()))}finally{if(r)throw t}}})()}}function IR(e,t){return async function(n){const{value:r}=n.headers[":message-type"];if("error"===r){const e=new Error(n.headers[":error-message"].value||"UnknownError");throw e.name=n.headers[":error-code"].value,e}if("exception"===r){const r=n.headers[":exception-type"].value,a={[r]:n},o=await e(a);if(o.$unknown){const e=new Error(t(n.body));throw e.name=r,e}throw o[r]}if("event"===r){const t={[n.headers[":event-type"].value]:n},r=await e(t);if(r.$unknown)return;return r}throw Error("Unrecognizable event type: ".concat(n.headers[":event-type"].value))}}class _R{constructor(e){let{utf8Encoder:t,utf8Decoder:n}=e;N(this,"eventStreamCodec",void 0),N(this,"utfEncoder",void 0),this.eventStreamCodec=new BA(t,n),this.utfEncoder=t}deserialize(e,t){const n=function(e){let t=0,n=0,r=null,a=null;const o=e=>{if("number"!==typeof e)throw new Error("Attempted to allocate an event message where size was not a number: "+e);t=e,n=4,r=new Uint8Array(e),new DataView(r.buffer).setUint32(0,e,!1)},i=function(){var i=TM(function*(){const i=e[Symbol.asyncIterator]();for(;;){const{value:e,done:s}=yield EM(i.next());if(s){if(!t)return;if(t!==n)throw new Error("Truncated event message received.");return void(yield r)}const l=e.length;let u=0;for(;u<l;){if(!r){const t=l-u;a||(a=new Uint8Array(4));const r=Math.min(4-n,t);if(a.set(e.slice(u,u+r),n),n+=r,u+=r,n<4)break;o(new DataView(a.buffer).getUint32(0,!1)),a=null}const i=Math.min(t-n,l-u);r.set(e.slice(u,u+i),n),n+=i,u+=i,t&&t===n&&(yield r,r=null,t=0,n=0)}}});return function(){return i.apply(this,arguments)}}();return{[Symbol.asyncIterator]:i}}(e);return new wR({messageStream:new kR({inputStream:n,decoder:this.eventStreamCodec}),deserializer:IR(t,this.utfEncoder)})}serialize(e,t){return new SR({messageStream:new xR({inputStream:e,serializer:t}),encoder:this.eventStreamCodec,includeEndFrame:!0})}}class ER{constructor(e){let{utf8Encoder:t,utf8Decoder:n}=e;N(this,"universalMarshaller",void 0),this.universalMarshaller=new _R({utf8Decoder:n,utf8Encoder:t})}deserialize(e,t){const n=TR(e)?tO(e):e;return this.universalMarshaller.deserialize(n,t)}serialize(e,t){const n=this.universalMarshaller.serialize(e,t);return"function"===typeof ReadableStream?nO(n):n}}const TR=e=>"function"===typeof ReadableStream&&e instanceof ReadableStream,NR=e=>new ER(e),CR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",MR=Object.entries(CR).reduce((e,t)=>{let[n,r]=t;return e[r]=Number(n),e},{}),AR=CR.split(""),OR=e=>{let t=e.length/4*3;"=="===e.slice(-2)?t-=2:"="===e.slice(-1)&&t--;const n=new ArrayBuffer(t),r=new DataView(n);for(let a=0;a<e.length;a+=4){let t=0,n=0;for(let r=a,s=a+3;r<=s;r++)if("="!==e[r]){if(!(e[r]in MR))throw new TypeError("Invalid character ".concat(e[r]," in base64 string."));t|=MR[e[r]]<<6*(s-r),n+=6}else t>>=6;const o=a/4*3;t>>=n%8;const i=Math.floor(n/8);for(let e=0;e<i;e++){const n=8*(i-e-1);r.setUint8(o+e,(t&255<<n)>>n)}}return new Uint8Array(n)},FR=async e=>{var t;return"function"===typeof Blob&&e instanceof Blob||"Blob"===(null===(t=e.constructor)||void 0===t?void 0:t.name)?void 0!==Blob.prototype.arrayBuffer?new Uint8Array(await e.arrayBuffer()):async function(e){const t=await function(e){return new Promise((t,n)=>{const r=new FileReader;r.onloadend=()=>{var e;if(2!==r.readyState)return n(new Error("Reader aborted too early"));const a=null!==(e=r.result)&&void 0!==e?e:"",o=a.indexOf(","),i=o>-1?o+1:a.length;t(a.substring(i))},r.onabort=()=>n(new Error("Read aborted")),r.onerror=()=>n(r.error),r.readAsDataURL(e)})}(e),n=OR(t);return new Uint8Array(n)}(e):async function(e){const t=[],n=e.getReader();let r=!1,a=0;for(;!r;){const{done:e,value:o}=await n.read();o&&(t.push(o),a+=o.length),r=e}const o=new Uint8Array(a);let i=0;for(const s of t)o.set(s,i),i+=s.length;return o}(e)};const RR=e=>()=>Promise.reject(e),DR="function"==typeof TextEncoder?new TextEncoder:null,PR=e=>{if("string"===typeof e){if(DR)return DR.encode(e).byteLength;let t=e.length;for(let n=t-1;n>=0;n--){const r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2),r>=56320&&r<=57343&&n--}return t}if("number"===typeof e.byteLength)return e.byteLength;if("number"===typeof e.size)return e.size;throw new Error("Body Length computation failed for ".concat(e))};class LR{constructor(e){N(this,"method",void 0),N(this,"protocol",void 0),N(this,"hostname",void 0),N(this,"port",void 0),N(this,"path",void 0),N(this,"query",void 0),N(this,"headers",void 0),N(this,"username",void 0),N(this,"password",void 0),N(this,"fragment",void 0),N(this,"body",void 0),this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?"".concat(e.protocol,":"):e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/".concat(e.path):e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){const t=new LR(M(M({},e),{},{headers:M({},e.headers)}));var n;return t.query&&(t.query=(n=t.query,Object.keys(n).reduce((e,t)=>{const r=n[t];return M(M({},e),{},{[t]:Array.isArray(r)?[...r]:r})},{}))),t}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"===typeof t.query&&"object"===typeof t.headers}clone(){return LR.clone(this)}}const zR=e=>new Date(Date.now()+e);class BR{constructor(e){N(this,"statusCode",void 0),N(this,"reason",void 0),N(this,"headers",void 0),N(this,"body",void 0),this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const t=e;return"number"===typeof t.statusCode&&"object"===typeof t.headers}}const WR=e=>{var t,n,r;return BR.isInstance(e)?null!==(t=null===(n=e.headers)||void 0===n?void 0:n.date)&&void 0!==t?t:null===(r=e.headers)||void 0===r?void 0:r.Date:void 0},UR=(e,t)=>{const n=Date.parse(e);return((e,t)=>Math.abs(zR(t).getTime()-e)>=3e5)(n,t)?n-Date.now():t},jR=(e,t)=>{if(!t)throw new Error("Property `".concat(e,"` is not resolved for AWS SDK SigV4Auth"));return t};class HR{async sign(e,t,n){var r,a;if(!LR.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const o=await(async e=>{var t;const n=jR("context",e.context),r=jR("config",e.config),a=null===(t=n.endpointV2)||void 0===t||null===(t=t.properties)||void 0===t||null===(t=t.authSchemes)||void 0===t?void 0:t[0],o=jR("signer",r.signer);return{config:r,signer:await o(a),signingRegion:null===e||void 0===e?void 0:e.signingRegion,signingRegionSet:null===e||void 0===e?void 0:e.signingRegionSet,signingName:null===e||void 0===e?void 0:e.signingName}})(n),{config:i,signer:s}=o;let{signingRegion:l,signingName:u}=o;const c=n.context;if(null!==(r=null===c||void 0===c||null===(a=c.authSchemes)||void 0===a?void 0:a.length)&&void 0!==r&&r){const[e,t]=c.authSchemes;var d,p;if("sigv4a"===(null===e||void 0===e?void 0:e.name)&&"sigv4"===(null===t||void 0===t?void 0:t.name))l=null!==(d=null===t||void 0===t?void 0:t.signingRegion)&&void 0!==d?d:l,u=null!==(p=null===t||void 0===t?void 0:t.signingName)&&void 0!==p?p:u}return await s.sign(e,{signingDate:zR(i.systemClockOffset),signingRegion:l,signingService:u})}errorHandler(e){return t=>{var n;const r=null!==(n=t.ServerTime)&&void 0!==n?n:WR(t.$response);if(r){const n=jR("config",e.config),a=n.systemClockOffset;n.systemClockOffset=UR(r,n.systemClockOffset);n.systemClockOffset!==a&&t.$metadata&&(t.$metadata.clockSkewCorrected=!0)}throw t}}successHandler(e,t){const n=WR(e);if(n){const e=jR("config",t.config);e.systemClockOffset=UR(n,e.systemClockOffset)}}}function VR(e){let t;t="string"===typeof e?(e=>(new TextEncoder).encode(e))(e):e;const n="object"===typeof t&&"number"===typeof t.length,r="object"===typeof t&&"number"===typeof t.byteOffset&&"number"===typeof t.byteLength;if(!n&&!r)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let a="";for(let o=0;o<t.length;o+=3){let e=0,n=0;for(let a=o,i=Math.min(o+3,t.length);a<i;a++)e|=t[a]<<8*(i-a-1),n+=8;const r=Math.ceil(n/6);e<<=6*r-n;for(let t=1;t<=r;t++){const n=6*(r-t);a+=AR[(e&63<<n)>>n]}a+="==".slice(0,4-r)}return a}const qR=e=>(new TextEncoder).encode(e),GR=e=>{if("string"===typeof e)return e;if("object"!==typeof e||"number"!==typeof e.byteOffset||"number"!==typeof e.byteLength)throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(e)};const KR="endpoints";function $R(e){return"object"!==typeof e||null==e?e:"ref"in e?"$".concat($R(e.ref)):"fn"in e?"".concat(e.fn,"(").concat((e.argv||[]).map($R).join(", "),")"):JSON.stringify(e,null,2)}class YR extends Error{constructor(e){super(e),this.name="EndpointError"}}const QR=(e,t)=>(e=>{const t=e.split("."),n=[];for(const r of t){const t=r.indexOf("[");if(-1!==t){if(r.indexOf("]")!==r.length-1)throw new YR("Path: '".concat(e,"' does not end with ']'"));const a=r.slice(t+1,-1);if(Number.isNaN(parseInt(a)))throw new YR("Invalid array index: '".concat(a,"' in path: '").concat(e,"'"));0!==t&&n.push(r.slice(0,t)),n.push(a)}else n.push(r)}return n})(t).reduce((n,r)=>{if("object"!==typeof n)throw new YR("Index '".concat(r,"' in '").concat(t,"' not found in '").concat(JSON.stringify(e),"'"));return Array.isArray(n)?n[parseInt(r)]:n[r]},e);var XR;!function(e){e.HTTP="http",e.HTTPS="https"}(XR||(XR={}));const JR={[XR.HTTP]:80,[XR.HTTPS]:443},ZR={booleanEquals:(e,t)=>e===t,getAttr:QR,isSet:e=>null!=e,isValidHostLabel:rA,not:e=>!e,parseURL:e=>{const t=(()=>{try{if(e instanceof URL)return e;if("object"===typeof e&&"hostname"in e){const{hostname:t,port:n,protocol:r="",path:a="",query:o={}}=e,i=new URL("".concat(r,"//").concat(t).concat(n?":".concat(n):"").concat(a));return i.search=Object.entries(o).map(e=>{let[t,n]=e;return"".concat(t,"=").concat(n)}).join("&"),i}return new URL(e)}catch(t){return null}})();if(!t)return console.error("Unable to parse ".concat(JSON.stringify(e)," as a whatwg URL.")),null;const n=t.href,{host:r,hostname:a,pathname:o,protocol:i,search:s}=t;if(s)return null;const l=i.slice(0,-1);if(!Object.values(XR).includes(l))return null;const u=oA(a),c=n.includes("".concat(r,":").concat(JR[l]))||"string"===typeof e&&e.includes("".concat(r,":").concat(JR[l]));return{scheme:l,authority:"".concat(r).concat(c?":".concat(JR[l]):""),path:o,normalizedPath:o.endsWith("/")?o:"".concat(o,"/"),isIp:u}},stringEquals:(e,t)=>e===t,substring:(e,t,n,r)=>t>=n||e.length<n?null:r?e.substring(e.length-n,e.length-t):e.substring(t,n),uriEncode:e=>encodeURIComponent(e).replace(/[!*'()]/g,e=>"%".concat(e.charCodeAt(0).toString(16).toUpperCase()))},eD=(e,t)=>{const n=[],r=M(M({},t.endpointParams),t.referenceRecord);let a=0;for(;a<e.length;){const t=e.indexOf("{",a);if(-1===t){n.push(e.slice(a));break}n.push(e.slice(a,t));const o=e.indexOf("}",t);if(-1===o){n.push(e.slice(t));break}"{"===e[t+1]&&"}"===e[o+1]&&(n.push(e.slice(t+1,o)),a=o+2);const i=e.substring(t+1,o);if(i.includes("#")){const[e,t]=i.split("#");n.push(QR(r[e],t))}else n.push(r[i]);a=o+1}return n.join("")},tD=(e,t,n)=>{if("string"===typeof e)return eD(e,n);if(e.fn)return rD.callFunction(e,n);if(e.ref)return((e,t)=>{let{ref:n}=e;return M(M({},t.endpointParams),t.referenceRecord)[n]})(e,n);throw new YR("'".concat(t,"': ").concat(String(e)," is not a string, function or reference."))},nD=(e,t)=>{let{fn:n,argv:r}=e;const a=r.map(e=>["boolean","number"].includes(typeof e)?e:rD.evaluateExpression(e,"arg",t)),o=n.split(".");return o[0]in tA&&null!=o[1]?tA[o[0]][o[1]](...a):ZR[n](...a)},rD={evaluateExpression:tD,callFunction:nD},aD=["assign"],oD=(e,t)=>{var n,r;let{assign:a}=e,o=A(e,aD);if(a&&a in t.referenceRecord)throw new YR("'".concat(a,"' is already defined in Reference Record."));const i=nD(o,t);return null===(n=t.logger)||void 0===n||null===(r=n.debug)||void 0===r||r.call(n,"".concat(KR," evaluateCondition: ").concat($R(o)," = ").concat($R(i))),M({result:""===i||!!i},null!=a&&{toAssign:{name:a,value:i}})},iD=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;const n={};for(const o of e){const{result:e,toAssign:i}=oD(o,M(M({},t),{},{referenceRecord:M(M({},t.referenceRecord),n)}));if(!e)return{result:e};var r,a;if(i)n[i.name]=i.value,null===(r=t.logger)||void 0===r||null===(a=r.debug)||void 0===a||a.call(r,"".concat(KR," assign: ").concat(i.name," := ").concat($R(i.value)))}return{result:!0,referenceRecord:n}},sD=(e,t)=>Object.entries(e).reduce((e,n)=>{let[r,a]=n;return M(M({},e),{},{[r]:a.map(e=>{const n=tD(e,"Header value entry",t);if("string"!==typeof n)throw new YR("Header '".concat(r,"' value '").concat(n,"' is not a string"));return n})})},{}),lD=(e,t)=>Object.entries(e).reduce((e,n)=>{let[r,a]=n;return M(M({},e),{},{[r]:cD.getEndpointProperty(a,t)})},{}),uD=(e,t)=>{if(Array.isArray(e))return e.map(e=>uD(e,t));switch(typeof e){case"string":return eD(e,t);case"object":if(null===e)throw new YR("Unexpected endpoint property: ".concat(e));return cD.getEndpointProperties(e,t);case"boolean":return e;default:throw new YR("Unexpected endpoint property type: ".concat(typeof e))}},cD={getEndpointProperty:uD,getEndpointProperties:lD},dD=(e,t)=>{const n=tD(e,"Endpoint URL",t);if("string"===typeof n)try{return new URL(n)}catch(r){throw console.error("Failed to construct URL with ".concat(n),r),r}throw new YR("Endpoint URL must be a string, got ".concat(typeof n))},pD=(e,t)=>{var n,r;const{conditions:a,endpoint:o}=e,{result:i,referenceRecord:s}=iD(a,t);if(!i)return;const l=M(M({},t),{},{referenceRecord:M(M({},t.referenceRecord),s)}),{url:u,properties:c,headers:d}=o;return null===(n=t.logger)||void 0===n||null===(r=n.debug)||void 0===r||r.call(n,"".concat(KR," Resolving endpoint from template: ").concat($R(o))),M(M(M({},void 0!=d&&{headers:sD(d,l)}),void 0!=c&&{properties:lD(c,l)}),{},{url:dD(u,l)})},hD=(e,t)=>{const{conditions:n,error:r}=e,{result:a,referenceRecord:o}=iD(n,t);if(a)throw new YR(tD(r,"Error",M(M({},t),{},{referenceRecord:M(M({},t.referenceRecord),o)})))},fD=(e,t)=>{for(const n of e)if("endpoint"===n.type){const e=pD(n,t);if(e)return e}else if("error"===n.type)hD(n,t);else{if("tree"!==n.type)throw new YR("Unknown endpoint rule: ".concat(n));{const e=mD.evaluateTreeRule(n,t);if(e)return e}}throw new YR("Rules evaluation failed")},mD={evaluateRules:fD,evaluateTreeRule:(e,t)=>{const{conditions:n,rules:r}=e,{result:a,referenceRecord:o}=iD(n,t);if(a)return mD.evaluateRules(r,M(M({},t),{},{referenceRecord:M(M({},t.referenceRecord),o)}))}},gD="required",vD="fn",yD="argv",bD="ref",wD=!0,kD="isSet",SD="booleanEquals",xD="error",ID="endpoint",_D="tree",ED="PartitionResult",TD={[gD]:!1,type:"String"},ND={[gD]:!0,default:!1,type:"Boolean"},CD={[bD]:"Endpoint"},MD={[vD]:SD,[yD]:[{[bD]:"UseFIPS"},!0]},AD={[vD]:SD,[yD]:[{[bD]:"UseDualStack"},!0]},OD={},FD={[vD]:"getAttr",[yD]:[{[bD]:ED},"supportsFIPS"]},RD={[vD]:SD,[yD]:[!0,{[vD]:"getAttr",[yD]:[{[bD]:ED},"supportsDualStack"]}]},DD=[MD],PD=[AD],LD=[{[bD]:"Region"}],zD={version:"1.0",parameters:{Region:TD,UseDualStack:ND,UseFIPS:ND,Endpoint:TD},rules:[{conditions:[{[vD]:kD,[yD]:[CD]}],rules:[{conditions:DD,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:xD},{rules:[{conditions:PD,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:xD},{endpoint:{url:CD,properties:OD,headers:OD},type:ID}],type:_D}],type:_D},{rules:[{conditions:[{[vD]:kD,[yD]:LD}],rules:[{conditions:[{[vD]:"aws.partition",[yD]:LD,assign:ED}],rules:[{conditions:[MD,AD],rules:[{conditions:[{[vD]:SD,[yD]:[wD,FD]},RD],rules:[{rules:[{endpoint:{url:"https://streaming-rekognition-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:OD,headers:OD},type:ID}],type:_D}],type:_D},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:xD}],type:_D},{conditions:DD,rules:[{conditions:[{[vD]:SD,[yD]:[FD,wD]}],rules:[{rules:[{endpoint:{url:"https://streaming-rekognition-fips.{Region}.{PartitionResult#dnsSuffix}",properties:OD,headers:OD},type:ID}],type:_D}],type:_D},{error:"FIPS is enabled but this partition does not support FIPS",type:xD}],type:_D},{conditions:PD,rules:[{conditions:[RD],rules:[{rules:[{endpoint:{url:"https://streaming-rekognition.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:OD,headers:OD},type:ID}],type:_D}],type:_D},{error:"DualStack is enabled but this partition does not support DualStack",type:xD}],type:_D},{rules:[{endpoint:{url:"https://streaming-rekognition.{Region}.{PartitionResult#dnsSuffix}",properties:OD,headers:OD},type:ID}],type:_D}],type:_D}],type:_D},{error:"Invalid Configuration: Missing Region",type:xD}],type:_D}]},BD=new class{constructor(e){let{size:t,params:n}=e;N(this,"capacity",void 0),N(this,"data",new Map),N(this,"parameters",[]),this.capacity=null!==t&&void 0!==t?t:50,n&&(this.parameters=n)}get(e,t){const n=this.hash(e);if(!1===n)return t();if(!this.data.has(n)){if(this.data.size>this.capacity+10){const e=this.data.keys();let t=0;for(;;){const{value:n,done:r}=e.next();if(this.data.delete(n),r||++t>10)break}}this.data.set(n,t())}return this.data.get(n)}size(){return this.data.size}hash(e){let t="";const{parameters:n}=this;if(0===n.length)return!1;for(const a of n){var r;const n=String(null!==(r=e[a])&&void 0!==r?r:"");if(n.includes("|;"))return!1;t+=n+"|;"}return t}}({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),WD=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return BD.get(e,()=>((e,t)=>{var n,r,a,o;const{endpointParams:i,logger:s}=t,{parameters:l,rules:u}=e;null===(n=t.logger)||void 0===n||null===(r=n.debug)||void 0===r||r.call(n,"".concat(KR," Initial EndpointParams: ").concat($R(i)));const c=Object.entries(l).filter(e=>{let[,t]=e;return null!=t.default}).map(e=>{let[t,n]=e;return[t,n.default]});if(c.length>0)for(const[f,m]of c){var d;i[f]=null!==(d=i[f])&&void 0!==d?d:m}const p=Object.entries(l).filter(e=>{let[,t]=e;return t.required}).map(e=>{let[t]=e;return t});for(const f of p)if(null==i[f])throw new YR("Missing required parameter: '".concat(f,"'"));const h=fD(u,{endpointParams:i,logger:s,referenceRecord:{}});return null===(a=t.logger)||void 0===a||null===(o=a.debug)||void 0===o||o.call(a,"".concat(KR," Resolved endpoint: ").concat($R(h))),h})(zD,{endpointParams:e,logger:t.logger}))};tA.aws=uA;const UD=e=>{switch(e){case"standard":case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},jD=["in-region","cross-region","mobile","standard","legacy"],HD=()=>{var e,t;const n=null===(e=window)||void 0===e?void 0:e.navigator;if(null!==n&&void 0!==n&&n.connection){const{effectiveType:e,rtt:t,downlink:r}=null===n||void 0===n?void 0:n.connection;if("string"===typeof e&&"4g"!==e||Number(t)>100||Number(r)<10)return!0}return(null===n||void 0===n||null===(t=n.userAgentData)||void 0===t?void 0:t.mobile)||"number"===typeof(null===n||void 0===n?void 0:n.maxTouchPoints)&&(null===n||void 0===n?void 0:n.maxTouchPoints)>1},VD=e=>{var t,n,r,a,o,i,s,l,u,c,d,p,h;const f=function(){let{defaultsMode:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return((e,t,n)=>{let r,a,o,i=!1;const s=async()=>{a||(a=e());try{r=await a,o=!0,i=!1}finally{a=void 0}return r};return void 0===t?async e=>((!o||null!==e&&void 0!==e&&e.forceRefresh)&&(r=await s()),r):async e=>((!o||null!==e&&void 0!==e&&e.forceRefresh)&&(r=await s()),i?r:n&&!n(r)?(i=!0,r):t(r)?(await s(),r):r)})(async()=>{const t="function"===typeof e?await e():e;switch(null===t||void 0===t?void 0:t.toLowerCase()){case"auto":return Promise.resolve(HD()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(null===t||void 0===t?void 0:t.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error('Invalid parameter for "defaultsMode", expect '.concat(jD.join(", "),", got ").concat(t))}})}(e),m=()=>f().then(UD),g=(e=>{var t,n,r,a,o,i,s,l,u,c,d,p;return{apiVersion:"2022-05-30",base64Decoder:null!==(t=null===e||void 0===e?void 0:e.base64Decoder)&&void 0!==t?t:OR,base64Encoder:null!==(n=null===e||void 0===e?void 0:e.base64Encoder)&&void 0!==n?n:VR,disableHostPrefix:null!==(r=null===e||void 0===e?void 0:e.disableHostPrefix)&&void 0!==r&&r,endpointProvider:null!==(a=null===e||void 0===e?void 0:e.endpointProvider)&&void 0!==a?a:WD,extensions:null!==(o=null===e||void 0===e?void 0:e.extensions)&&void 0!==o?o:[],httpAuthSchemeProvider:null!==(i=null===e||void 0===e?void 0:e.httpAuthSchemeProvider)&&void 0!==i?i:aR,httpAuthSchemes:null!==(s=null===e||void 0===e?void 0:e.httpAuthSchemes)&&void 0!==s?s:[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new HR}],logger:null!==(l=null===e||void 0===e?void 0:e.logger)&&void 0!==l?l:new JO,serviceId:null!==(u=null===e||void 0===e?void 0:e.serviceId)&&void 0!==u?u:"RekognitionStreaming",urlParser:null!==(c=null===e||void 0===e?void 0:e.urlParser)&&void 0!==c?c:DO,utf8Decoder:null!==(d=null===e||void 0===e?void 0:e.utf8Decoder)&&void 0!==d?d:qR,utf8Encoder:null!==(p=null===e||void 0===e?void 0:e.utf8Encoder)&&void 0!==p?p:GR}})(e);return M(M(M({},g),e),{},{runtime:"browser",defaultsMode:f,bodyLengthChecker:null!==(t=null===e||void 0===e?void 0:e.bodyLengthChecker)&&void 0!==t?t:PR,credentialDefaultProvider:null!==(n=null===e||void 0===e?void 0:e.credentialDefaultProvider)&&void 0!==n?n:e=>()=>Promise.reject(new Error("Credential is missing")),defaultUserAgentProvider:null!==(r=null===e||void 0===e?void 0:e.defaultUserAgentProvider)&&void 0!==r?r:yR({serviceId:g.serviceId,clientVersion:iR}),eventStreamPayloadHandlerProvider:null!==(a=null===e||void 0===e?void 0:e.eventStreamPayloadHandlerProvider)&&void 0!==a?a:VA,eventStreamSerdeProvider:null!==(o=null===e||void 0===e?void 0:e.eventStreamSerdeProvider)&&void 0!==o?o:NR,maxAttempts:null!==(i=null===e||void 0===e?void 0:e.maxAttempts)&&void 0!==i?i:3,region:null!==(s=null===e||void 0===e?void 0:e.region)&&void 0!==s?s:RR("Region is missing"),requestHandler:pO.create(null!==(l=null===e||void 0===e?void 0:e.requestHandler)&&void 0!==l?l:m,uO.create(m)),retryMode:null!==(u=null===e||void 0===e?void 0:e.retryMode)&&void 0!==u?u:async()=>(await m()).retryMode||zO,sha256:null!==(c=null===e||void 0===e?void 0:e.sha256)&&void 0!==c?c:mR,streamCollector:null!==(d=null===e||void 0===e?void 0:e.streamCollector)&&void 0!==d?d:FR,useDualstackEndpoint:null!==(p=null===e||void 0===e?void 0:e.useDualstackEndpoint)&&void 0!==p?p:()=>Promise.resolve(false),useFipsEndpoint:null!==(h=null===e||void 0===e?void 0:e.useFipsEndpoint)&&void 0!==h?h:()=>Promise.resolve(false)})};var qD;!function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"}(qD||(qD={}));const GD=e=>Object.assign((e=>{const t=[];for(const n in qD){const r=qD[n];void 0!==e[r]&&t.push({algorithmId:()=>r,checksumConstructor:()=>e[r]})}return{addChecksumAlgorithm(e){t.push(e)},checksumAlgorithms:()=>t}})(e),(e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy:()=>e.retryStrategy}))(e)),KD=(e,t)=>{const n=Object.assign((e=>({setRegion(t){e.region=t},region:()=>e.region}))(e),GD(e),(e=>({setHttpHandler(t){e.httpHandler=t},httpHandler:()=>e.httpHandler,updateHttpClientConfig(t,n){var r;null===(r=e.httpHandler)||void 0===r||r.updateHttpClientConfig(t,n)},httpHandlerConfigs:()=>e.httpHandler.httpHandlerConfigs()}))(e),(e=>{const t=e.httpAuthSchemes;let n=e.httpAuthSchemeProvider,r=e.credentials;return{setHttpAuthScheme(e){const n=t.findIndex(t=>t.schemeId===e.schemeId);-1===n?t.push(e):t.splice(n,1,e)},httpAuthSchemes:()=>t,setHttpAuthSchemeProvider(e){n=e},httpAuthSchemeProvider:()=>n,setCredentials(e){r=e},credentials:()=>r}})(e));return t.forEach(e=>e.configure(n)),Object.assign(e,{region:n.region()},(r=n,Object.assign((e=>{const t={};return e.checksumAlgorithms().forEach(e=>{t[e.algorithmId()]=e.checksumConstructor()}),t})(r),(e=>{const t={};return t.retryStrategy=e.retryStrategy(),t})(r))),{httpHandler:n.httpHandler()},(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}))(n));var r};class $D extends fF{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let[r]=t;const a=VD(r||{});super(a),N(this,"config",void 0),this.initConfig=a;const o=(e=>{var t,n;return Object.assign(e,{useDualstackEndpoint:null!==(t=e.useDualstackEndpoint)&&void 0!==t&&t,useFipsEndpoint:null!==(n=e.useFipsEndpoint)&&void 0!==n&&n,defaultSigningName:"rekognition"})})(a),i=function(e){var t;const n=eA(null!==(t=e.userAgentAppId)&&void 0!==t?t:void 0),{customUserAgent:r}=e;return Object.assign(e,{customUserAgent:"string"===typeof r?[[r]]:r,userAgentAppId:async()=>{const t=await n();if(!function(e){return void 0===e||"string"===typeof e&&e.length<=50}(t)){var r;const n="NoOpLogger"!==(null===(r=e.logger)||void 0===r||null===(r=r.constructor)||void 0===r?void 0:r.name)&&e.logger?e.logger:console;"string"!==typeof t?null===n||void 0===n||n.warn("userAgentAppId must be a string or undefined."):t.length>50&&(null===n||void 0===n||n.warn("The provided userAgentAppId exceeds the maximum length of 50 characters."))}return t}})}(o),s=(e=>{const{retryStrategy:t,retryMode:n,maxAttempts:r}=e,a=FO(null!==r&&void 0!==r?r:3);return Object.assign(e,{maxAttempts:a,retryStrategy:async()=>t||(await FO(n)()===LO.ADAPTIVE?new YO(a):new $O(a))})})(i),l=(e=>{var t;const n=null===(t=e.tls)||void 0===t||t,{endpoint:r,useDualstackEndpoint:a,useFipsEndpoint:o}=e,i=null!=r?async()=>PO(await FO(r)()):void 0,s=!!r,l=Object.assign(e,{endpoint:i,tls:n,isCustomEndpoint:s,useDualstackEndpoint:FO(null!==a&&void 0!==a&&a),useFipsEndpoint:FO(null!==o&&void 0!==o&&o)});let u;return l.serviceConfiguredEndpoint=async()=>(e.serviceId&&!u&&(u=RO(e.serviceId)),u),l})(yO(s)),u=(e=>Object.assign(e,{eventStreamMarshaller:e.eventStreamSerdeProvider(e)}))(l),c=(e=>{var t;const n=nR(e);return Object.assign(n,{authSchemePreference:FO(null!==(t=e.authSchemePreference)&&void 0!==t?t:[])})})(u),d=function(e){const t=e.signer,n=e.signer,r=Object.assign(e,{eventSigner:t,messageSigner:n}),a=r.eventStreamPayloadHandlerProvider(r);return Object.assign(r,{eventStreamPayloadHandler:a})}(c),p=(e=>{const{signer:t}=e;return Object.assign(e,{signer:async e=>{const n=await t(e);if(XA(n))return new QA({signer:n});throw new Error("Expected WebsocketSignatureV4 signer, please check the client constructor.")}})})(d),h=KD(p,(null===r||void 0===r?void 0:r.extensions)||[]);var f,m;this.config=h,this.middlewareStack.use((f=this.config,{applyToStack:e=>{e.add(vA(f),bA)}})),this.middlewareStack.use((m=this.config,{applyToStack:e=>{e.add(rF(m),sF)}})),this.middlewareStack.use(OO(this.config)),this.middlewareStack.use(GM(this.config)),this.middlewareStack.use(YM(this.config)),this.middlewareStack.use(ZM(this.config)),this.middlewareStack.use(((e,t)=>{let{httpAuthSchemeParametersProvider:n,identityProviderConfigProvider:r}=t;return{applyToStack:t=>{t.addRelativeTo(kO(e,{httpAuthSchemeParametersProvider:n,identityProviderConfigProvider:r}),SO)}}})(this.config,{httpAuthSchemeParametersProvider:rR,identityProviderConfigProvider:async e=>new xO({"aws.auth#sigv4":e.credentials})})),this.middlewareStack.use(NO(this.config))}destroy(){super.destroy()}}class YD{constructor(e){N(this,"statusCode",void 0),N(this,"reason",void 0),N(this,"headers",void 0),N(this,"body",void 0),this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const t=e;return"number"===typeof t.statusCode&&"object"===typeof t.headers}}const QD=(e,t)=>(t.find(t=>{let[n]=t;return n.match(e)})||[void 0,void 0])[1],XD={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},JD={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function ZD(e,t,n){return{applyToStack:r=>{r.add(((e,t)=>(n,r)=>async a=>{const{response:o}=await n(a);try{return{response:o,output:await t(o,e)}}catch(u){if(Object.defineProperty(u,"$response",{value:o,enumerable:!1,writable:!1,configurable:!1}),!("$metadata"in u)){const e="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{u.message+="\n  "+e}catch(ID){var i,s,l;r.logger&&"NoOpLogger"!==(null===(i=r.logger)||void 0===i||null===(i=i.constructor)||void 0===i?void 0:i.name)?null===(s=r.logger)||void 0===s||null===(l=s.warn)||void 0===l||l.call(s,e):console.warn(e)}"undefined"!==typeof u.$responseBodyText&&u.$response&&(u.$response.body=u.$responseBodyText);try{if(YD.isInstance(o)){const{headers:e={}}=o,t=Object.entries(e);u.$metadata={httpStatusCode:o.statusCode,requestId:QD(/^x-[\w-]+-request-?id$/,t),extendedRequestId:QD(/^x-[\w-]+-id-2$/,t),cfId:QD(/^x-[\w-]+-cf-id$/,t)}}}catch(ID){}}throw u}})(e,n),XD),r.add(((e,t)=>(n,r)=>async a=>{var o;const i=e,s=null!==(o=r.endpointV2)&&void 0!==o&&o.url&&i.urlParser?async()=>i.urlParser(r.endpointV2.url):i.endpoint;if(!s)throw new Error("No valid endpoint provider available.");const l=await t(a.input,M(M({},e),{},{endpoint:s}));return n(M(M({},a),{},{request:l}))})(e,t),JD)}}}const eP=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,tP=/(\d+\.){3}\d+/,nP=/\.\./,rP=e=>eP.test(e)&&!tP.test(e)&&!nP.test(e),aP=e=>{const[t,n,r,,,a]=e.split(":"),o="arn"===t&&e.split(":").length>=6,i=Boolean(o&&n&&r&&a);if(o&&!i)throw new Error("Invalid ARN: ".concat(e," was an invalid ARN."));return i},oP=(e,t,n)=>{const r=async()=>{var r;const a=null!==(r=n[e])&&void 0!==r?r:n[t];return"function"===typeof a?a():a};return"credentialScope"===e||"CredentialScope"===t?async()=>{var e;const t="function"===typeof n.credentials?await n.credentials():n.credentials;return null!==(e=null===t||void 0===t?void 0:t.credentialScope)&&void 0!==e?e:null===t||void 0===t?void 0:t.CredentialScope}:"accountId"===e||"AccountId"===t?async()=>{var e;const t="function"===typeof n.credentials?await n.credentials():n.credentials;return null!==(e=null===t||void 0===t?void 0:t.accountId)&&void 0!==e?e:null===t||void 0===t?void 0:t.AccountId}:"endpoint"===e||"endpoint"===t?async()=>{if(!1===n.isCustomEndpoint)return;const e=await r();if(e&&"object"===typeof e){if("url"in e)return e.url.href;if("hostname"in e){const{protocol:t,hostname:n,port:r,path:a}=e;return"".concat(t,"//").concat(n).concat(r?":"+r:"").concat(a)}}return e}:r},iP=async(e,t,n)=>{var r;const a={},o=(null===t||void 0===t||null===(r=t.getEndpointParameterInstructions)||void 0===r?void 0:r.call(t))||{};for(const[i,s]of Object.entries(o))switch(s.type){case"staticContextParams":a[i]=s.value;break;case"contextParams":a[i]=e[s.name];break;case"clientContextParams":case"builtInParams":a[i]=await oP(s.name,i,n)();break;case"operationContextParams":a[i]=s.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(s))}return 0===Object.keys(o).length&&Object.assign(a,n),"s3"===String(n.serviceId).toLowerCase()&&await(async e=>{const t=(null===e||void 0===e?void 0:e.Bucket)||"";if("string"===typeof e.Bucket&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),aP(t)){if(!0===e.ForcePathStyle)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!rP(t)||-1!==t.indexOf(".")&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e})(a),a},sP=e=>{let{config:t,instructions:n}=e;return(e,r)=>async a=>{var o,i;t.isCustomEndpoint&&function(e,t,n){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=n}(r,"ENDPOINT_OVERRIDE","N");const s=await(async(e,t,n,r)=>{if(!n.isCustomEndpoint){let e;e=n.serviceConfiguredEndpoint?await n.serviceConfiguredEndpoint():await RO(n.serviceId),e&&(n.endpoint=()=>Promise.resolve(PO(e)),n.isCustomEndpoint=!0)}const a=await iP(e,t,n);if("function"!==typeof n.endpointProvider)throw new Error("config.endpointProvider is not set.");return n.endpointProvider(a,r)})(a.input,{getEndpointParameterInstructions:()=>n},M({},t),r);r.endpointV2=s,r.authSchemes=null===(o=s.properties)||void 0===o?void 0:o.authSchemes;const l=null===(i=r.authSchemes)||void 0===i?void 0:i[0];if(l){var u;r.signing_region=l.signingRegion,r.signing_service=l.signingName;const e=wO(r),t=null===e||void 0===e||null===(u=e.selectedHttpAuthScheme)||void 0===u?void 0:u.httpAuthOption;t&&(t.signingProperties=Object.assign(t.signingProperties||{},{signing_region:l.signingRegion,signingRegion:l.signingRegion,signing_service:l.signingName,signingName:l.signingName,signingRegionSet:l.signingRegionSet},l.properties))}return e(M({},a))}},lP={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:JD.name},uP=(e,t)=>({applyToStack:n=>{n.addRelativeTo(sP({config:e,instructions:t}),lP)}}),cP=e=>"function"===typeof e?e():e;function dP(e){if("object"===typeof e)return e;e|=0;const t={};let n=0;for(const r of["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"])1===(e>>n++&1)&&(t[r]=1);return t}class pP{constructor(e,t){N(this,"ref",void 0),N(this,"memberName",void 0),N(this,"symbol",pP.symbol),N(this,"name",void 0),N(this,"schema",void 0),N(this,"_isMemberSchema",void 0),N(this,"traits",void 0),N(this,"memberTraits",void 0),N(this,"normalizedTraits",void 0),this.ref=e,this.memberName=t;const n=[];let r=e,a=e;for(this._isMemberSchema=!1;fP(r);)n.push(r[1]),r=r[0],a=cP(r),this._isMemberSchema=!0;if(n.length>0){this.memberTraits={};for(let e=n.length-1;e>=0;--e){const t=n[e];Object.assign(this.memberTraits,dP(t))}}else this.memberTraits=0;if(a instanceof pP){const e=this.memberTraits;return Object.assign(this,a),this.memberTraits=Object.assign({},e,a.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,void(this.memberName=null!==t&&void 0!==t?t:a.memberName)}var o;(this.schema=cP(a),mP(this.schema))?(this.name="".concat(this.schema[1],"#").concat(this.schema[2]),this.traits=this.schema[3]):(this.name=null!==(o=this.memberName)&&void 0!==o?o:String(a),this.traits=0);if(this._isMemberSchema&&!t)throw new Error("@smithy/core/schema - NormalizedSchema member init ".concat(this.getName(!0)," missing member name."))}static[Symbol.hasInstance](e){const t=this.prototype.isPrototypeOf(e);if(!t&&"object"===typeof e&&null!==e){return e.symbol===this.symbol}return t}static of(e){const t=cP(e);if(t instanceof pP)return t;if(fP(t)){const[n,r]=t;if(n instanceof pP)return Object.assign(n.getMergedTraits(),dP(r)),n;throw new Error("@smithy/core/schema - may not init unwrapped member schema=".concat(JSON.stringify(e,null,2),"."))}return new pP(t)}getSchema(){const e=this.schema;return 0===e[0]?e[4]:e}getName(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{name:t}=this;return!e&&t&&t.includes("#")?t.split("#")[1]:t||void 0}getMemberName(){return this.memberName}isMemberSchema(){return this._isMemberSchema}isListSchema(){const e=this.getSchema();return"number"===typeof e?e>=64&&e<128:1===e[0]}isMapSchema(){const e=this.getSchema();return"number"===typeof e?e>=128&&e<=255:2===e[0]}isStructSchema(){const e=this.getSchema();return 3===e[0]||-3===e[0]}isBlobSchema(){const e=this.getSchema();return 21===e||42===e}isTimestampSchema(){const e=this.getSchema();return"number"===typeof e&&e>=4&&e<=7}isUnitSchema(){return"unit"===this.getSchema()}isDocumentSchema(){return 15===this.getSchema()}isStringSchema(){return 0===this.getSchema()}isBooleanSchema(){return 2===this.getSchema()}isNumericSchema(){return 1===this.getSchema()}isBigIntegerSchema(){return 17===this.getSchema()}isBigDecimalSchema(){return 19===this.getSchema()}isStreaming(){const{streaming:e}=this.getMergedTraits();return!!e||42===this.getSchema()}isIdempotencyToken(){const e=e=>4===(4&e)||!(null===e||void 0===e||!e.idempotencyToken),{normalizedTraits:t,traits:n,memberTraits:r}=this;return e(t)||e(n)||e(r)}getMergedTraits(){var e;return null!==(e=this.normalizedTraits)&&void 0!==e?e:this.normalizedTraits=M(M({},this.getOwnTraits()),this.getMemberTraits())}getMemberTraits(){return dP(this.memberTraits)}getOwnTraits(){return dP(this.traits)}getKeySchema(){var e;const[t,n]=[this.isDocumentSchema(),this.isMapSchema()];if(!t&&!n)throw new Error("@smithy/core/schema - cannot get key for non-map: ".concat(this.getName(!0)));const r=this.getSchema();return hP([t?15:null!==(e=r[4])&&void 0!==e?e:0,0],"key")}getValueSchema(){const e=this.getSchema(),[t,n,r]=[this.isDocumentSchema(),this.isMapSchema(),this.isListSchema()],a="number"===typeof e?63&e:e&&"object"===typeof e&&(n||r)?e[3+e[0]]:t?15:void 0;if(null!=a)return hP([a,0],n?"value":"member");throw new Error("@smithy/core/schema - ".concat(this.getName(!0)," has no value member."))}getMemberSchema(e){const t=this.getSchema();if(this.isStructSchema()&&t[4].includes(e)){const n=t[4].indexOf(e),r=t[5][n];return hP(fP(r)?r:[r,0],e)}if(this.isDocumentSchema())return hP([15,0],e);throw new Error("@smithy/core/schema - ".concat(this.getName(!0)," has no no member=").concat(e,"."))}getMemberSchemas(){const e={};try{for(const[t,n]of this.structIterator())e[t]=n}catch(t){}return e}getEventStreamMember(){if(this.isStructSchema())for(const[e,t]of this.structIterator())if(t.isStreaming()&&t.isStructSchema())return e;return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot iterate non-struct schema.");const e=this.getSchema();for(let t=0;t<e[4].length;++t)yield[e[4][t],hP([e[5][t],0],e[4][t])]}}function hP(e,t){if(e instanceof pP)return Object.assign(e,{memberName:t,_isMemberSchema:!0});return new pP(e,t)}N(pP,"symbol",Symbol.for("@smithy/nor"));const fP=e=>Array.isArray(e)&&2===e.length,mP=e=>Array.isArray(e)&&e.length>=5,gP="***SensitiveInformation***";function vP(e,t){if(null==t)return t;const n=pP.of(e);if(n.getMergedTraits().sensitive)return gP;if(n.isListSchema()){if(!!n.getValueSchema().getMergedTraits().sensitive)return gP}else if(n.isMapSchema()){if(!!n.getKeySchema().getMergedTraits().sensitive||!!n.getValueSchema().getMergedTraits().sensitive)return gP}else if(n.isStructSchema()&&"object"===typeof t){const e=t,r={};for(const[t,a]of n.structIterator())null!=e[t]&&(r[t]=vP(a,e[t]));return r}return t}class yP{constructor(){N(this,"middlewareStack",dF()),N(this,"schema",void 0)}static classBuilder(){return new bP}resolveMiddlewareWithContext(e,t,n,r){let{middlewareFn:a,clientName:o,commandName:i,inputFilterSensitiveLog:s,outputFilterSensitiveLog:l,smithyContext:u,additionalContext:c,CommandCtor:d}=r;for(const g of a.bind(this)(d,e,t,n))this.middlewareStack.use(g);const p=e.concat(this.middlewareStack),{logger:h}=t,f=M({logger:h,clientName:o,commandName:i,inputFilterSensitiveLog:s,outputFilterSensitiveLog:l,[bO]:M({commandInstance:this},u)},c),{requestHandler:m}=t;return p.resolve(e=>m.handle(e.request,n||{}),f)}}class bP{constructor(){N(this,"_init",()=>{}),N(this,"_ep",{}),N(this,"_middlewareFn",()=>[]),N(this,"_commandName",""),N(this,"_clientName",""),N(this,"_additionalContext",{}),N(this,"_smithyContext",{}),N(this,"_inputFilterSensitiveLog",void 0),N(this,"_outputFilterSensitiveLog",void 0),N(this,"_serializer",null),N(this,"_deserializer",null),N(this,"_operationSchema",void 0)}init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._smithyContext=M({service:e,operation:t},n),this}c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._additionalContext=e,this}n(e,t){return this._clientName=e,this._commandName=t,this}f(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>e,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e;return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=t,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}sc(e){return this._operationSchema=e,this._smithyContext.operationSchema=e,this}build(){const e=this;let t;return t=class extends yP{static getEndpointParameterInstructions(){return e._ep}constructor(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];let[a]=n;super(),N(this,"input",void 0),N(this,"serialize",e._serializer),N(this,"deserialize",e._deserializer),this.input=null!==a&&void 0!==a?a:{},e._init(this),this.schema=e._operationSchema}resolveMiddleware(n,r,a){var o,i,s,l;const u=e._operationSchema,c=null!==(o=null===u||void 0===u?void 0:u[4])&&void 0!==o?o:null===u||void 0===u?void 0:u.input,d=null!==(i=null===u||void 0===u?void 0:u[5])&&void 0!==i?i:null===u||void 0===u?void 0:u.output;return this.resolveMiddlewareWithContext(n,r,a,{CommandCtor:t,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:null!==(s=e._inputFilterSensitiveLog)&&void 0!==s?s:u?vP.bind(null,c):e=>e,outputFilterSensitiveLog:null!==(l=e._outputFilterSensitiveLog)&&void 0!==l?l:u?vP.bind(null,d):e=>e,smithyContext:e._smithyContext,additionalContext:e._additionalContext})}}}}class wP extends Error{constructor(e){super(e.message),N(this,"$fault",void 0),N(this,"$response",void 0),N(this,"$retryable",void 0),N(this,"$metadata",void 0),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}static isInstance(e){if(!e)return!1;const t=e;return wP.prototype.isPrototypeOf(t)||Boolean(t.$fault)&&Boolean(t.$metadata)&&("client"===t.$fault||"server"===t.$fault)}static[Symbol.hasInstance](e){if(!e)return!1;const t=e;return this===wP?wP.isInstance(e):!!wP.isInstance(e)&&(t.name&&this.name?this.prototype.isPrototypeOf(e)||t.name===this.name:this.prototype.isPrototypeOf(e))}}const kP=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.entries(t).filter(e=>{let[,t]=e;return void 0!==t}).forEach(t=>{let[n,r]=t;void 0!=e[n]&&""!==e[n]||(e[n]=r)});const n=e.message||e.Message||"UnknownError";return e.message=n,delete e.Message,e};class SP extends wP{constructor(e){super(e),Object.setPrototypeOf(this,SP.prototype)}}class xP extends SP{constructor(e){super(M({name:"AccessDeniedException",$fault:"client"},e)),N(this,"name","AccessDeniedException"),N(this,"$fault","client"),N(this,"Message",void 0),N(this,"Code",void 0),Object.setPrototypeOf(this,xP.prototype),this.Message=e.Message,this.Code=e.Code}}var IP;!function(e){e.visit=(e,t)=>void 0!==e.FaceMovementAndLightChallenge?t.FaceMovementAndLightChallenge(e.FaceMovementAndLightChallenge):void 0!==e.FaceMovementChallenge?t.FaceMovementChallenge(e.FaceMovementChallenge):t._(e.$unknown[0],e.$unknown[1])}(IP||(IP={}));class _P extends SP{constructor(e){super(M({name:"InternalServerException",$fault:"server"},e)),N(this,"name","InternalServerException"),N(this,"$fault","server"),N(this,"Message",void 0),N(this,"Code",void 0),Object.setPrototypeOf(this,_P.prototype),this.Message=e.Message,this.Code=e.Code}}var EP,TP,NP;!function(e){e.visit=(e,t)=>void 0!==e.VideoEvent?t.VideoEvent(e.VideoEvent):void 0!==e.ClientSessionInformationEvent?t.ClientSessionInformationEvent(e.ClientSessionInformationEvent):t._(e.$unknown[0],e.$unknown[1])}(EP||(EP={})),function(e){e.visit=(e,t)=>void 0!==e.FaceMovementAndLightChallenge?t.FaceMovementAndLightChallenge(e.FaceMovementAndLightChallenge):void 0!==e.FaceMovementChallenge?t.FaceMovementChallenge(e.FaceMovementChallenge):t._(e.$unknown[0],e.$unknown[1])}(TP||(TP={}));class CP extends SP{constructor(e){super(M({name:"ServiceQuotaExceededException",$fault:"client"},e)),N(this,"name","ServiceQuotaExceededException"),N(this,"$fault","client"),N(this,"Message",void 0),N(this,"Code",void 0),Object.setPrototypeOf(this,CP.prototype),this.Message=e.Message,this.Code=e.Code}}class MP extends SP{constructor(e){super(M({name:"ServiceUnavailableException",$fault:"server"},e)),N(this,"name","ServiceUnavailableException"),N(this,"$fault","server"),N(this,"Message",void 0),N(this,"Code",void 0),Object.setPrototypeOf(this,MP.prototype),this.Message=e.Message,this.Code=e.Code}}class AP extends SP{constructor(e){super(M({name:"ThrottlingException",$fault:"client"},e)),N(this,"name","ThrottlingException"),N(this,"$fault","client"),N(this,"Message",void 0),N(this,"Code",void 0),Object.setPrototypeOf(this,AP.prototype),this.Message=e.Message,this.Code=e.Code}}class OP extends SP{constructor(e){super(M({name:"ValidationException",$fault:"client"},e)),N(this,"name","ValidationException"),N(this,"$fault","client"),N(this,"Message",void 0),N(this,"Code",void 0),Object.setPrototypeOf(this,OP.prototype),this.Message=e.Message,this.Code=e.Code}}!function(e){e.visit=(e,t)=>void 0!==e.ServerSessionInformationEvent?t.ServerSessionInformationEvent(e.ServerSessionInformationEvent):void 0!==e.DisconnectionEvent?t.DisconnectionEvent(e.DisconnectionEvent):void 0!==e.ChallengeEvent?t.ChallengeEvent(e.ChallengeEvent):void 0!==e.ValidationException?t.ValidationException(e.ValidationException):void 0!==e.InternalServerException?t.InternalServerException(e.InternalServerException):void 0!==e.ThrottlingException?t.ThrottlingException(e.ThrottlingException):void 0!==e.ServiceQuotaExceededException?t.ServiceQuotaExceededException(e.ServiceQuotaExceededException):void 0!==e.ServiceUnavailableException?t.ServiceUnavailableException(e.ServiceUnavailableException):t._(e.$unknown[0],e.$unknown[1])}(NP||(NP={}));class FP extends SP{constructor(e){super(M({name:"SessionNotFoundException",$fault:"client"},e)),N(this,"name","SessionNotFoundException"),N(this,"$fault","client"),N(this,"Message",void 0),N(this,"Code",void 0),Object.setPrototypeOf(this,FP.prototype),this.Message=e.Message,this.Code=e.Code}}const RP=e=>M(M({},e),e.LivenessRequestStream&&{LivenessRequestStream:"STREAMING_CONTENT"}),DP=e=>M(M({},e),e.LivenessResponseStream&&{LivenessResponseStream:"STREAMING_CONTENT"});class PP extends Uint8Array{static fromString(e){if("string"===typeof e)return"base64"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8")?PP.mutate(OR(e)):PP.mutate((e=>(new TextEncoder).encode(e))(e));throw new Error("Unsupported conversion from ".concat(typeof e," to Uint8ArrayBlobAdapter."))}static mutate(e){return Object.setPrototypeOf(e,PP.prototype),e}transformToString(){return"base64"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"utf-8")?VR(this):(e=>{if("string"===typeof e)return e;if("object"!==typeof e||"number"!==typeof e.byteOffset||"number"!==typeof e.byteLength)throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(e)})(this)}}const LP=(e,t)=>async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Uint8Array,t=arguments.length>1?arguments[1]:void 0;if(e instanceof Uint8Array)return PP.mutate(e);if(!e)return PP.mutate(new Uint8Array);const n=t.streamCollector(e);return PP.mutate(await n)}(e,t).then(e=>t.utf8Encoder(e)),zP=(e,t)=>LP(e,t).then(e=>{if(e.length)try{return JSON.parse(e)}catch(ID){throw"SyntaxError"===(null===ID||void 0===ID?void 0:ID.name)&&Object.defineProperty(ID,"$responseBodyText",{value:e}),ID}return{}}),BP=async(e,t)=>{var n;const r=await zP(e,t);return r.message=null!==(n=r.message)&&void 0!==n?n:r.Message,r},WP=e=>{if(null!==e&&void 0!==e){if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&JP.warn(XP("Expected number but observed string: ".concat(e))),t}if("number"===typeof e)return e;throw new TypeError("Expected number, got ".concat(typeof e,": ").concat(e))}},UP=Math.ceil(2**127*(2-2**-23)),jP=e=>{const t=WP(e);if(void 0!==t&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>UP)throw new TypeError("Expected 32-bit float, got ".concat(e));return t},HP=e=>{if(null!==e&&void 0!==e){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError("Expected integer, got ".concat(typeof e,": ").concat(e))}},VP=e=>qP(e,32),qP=(e,t)=>{const n=HP(e);if(void 0!==n&&GP(n,t)!==n)throw new TypeError("Expected ".concat(t,"-bit integer, got ").concat(e));return n},GP=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},KP=e=>{if(null!==e&&void 0!==e){if("string"===typeof e)return e;if(["boolean","number","bigint"].includes(typeof e))return JP.warn(XP("Expected string, got ".concat(typeof e,": ").concat(e))),String(e);throw new TypeError("Expected string, got ".concat(typeof e,": ").concat(e))}},$P=e=>{if(null===e||void 0===e)return;const t=(e=>{if(null===e||void 0===e)return;if("object"===typeof e&&!Array.isArray(e))return e;const t=Array.isArray(e)?"array":typeof e;throw new TypeError("Expected object, got ".concat(t,": ").concat(e))})(e),n=Object.entries(t).filter(e=>{let[,t]=e;return null!=t}).map(e=>{let[t]=e;return t});if(0===n.length)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(n.length>1)throw new TypeError("Unions must have exactly one non-null member. Keys ".concat(n," were not null."));return t},YP=e=>"string"==typeof e?QP(e):jP(e),QP=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error("Unable to parse float value: ".concat(e))}},XP=e=>String(new TypeError(e).stack||e).split("\n").slice(0,5).filter(e=>!e.includes("stackTraceWarning")).join("\n"),JP={warn:console.warn};function ZP(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}class eL{constructor(e,t){N(this,"input",void 0),N(this,"context",void 0),N(this,"query",{}),N(this,"method",""),N(this,"headers",{}),N(this,"path",""),N(this,"body",null),N(this,"hostname",""),N(this,"resolvePathStack",[]),this.input=e,this.context=t}async build(){const{hostname:e,protocol:t="https",port:n,path:r}=await this.context.endpoint();this.path=r;for(const a of this.resolvePathStack)a(this.path);return new IO({protocol:t,hostname:this.hostname||e,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(e){return this.hostname=e,this}bp(e){return this.resolvePathStack.push(t=>{this.path="".concat(null!==t&&void 0!==t&&t.endsWith("/")?t.slice(0,-1):t||"")+e}),this}p(e,t,n,r){return this.resolvePathStack.push(a=>{this.path=((e,t,n,r,a,o)=>{if(null==t||void 0===t[n])throw new Error("No value provided for input HTTP label: "+n+".");{const t=r();if(t.length<=0)throw new Error("Empty value provided for input HTTP label: "+n+".");e=e.replace(a,o?t.split("/").map(e=>ZP(e)).join("/"):ZP(t))}return e})(a,this.input,e,t,n,r)}),this}h(e){return this.headers=e,this}q(e){return this.query=e,this}b(e){return this.body=e,this}m(e){return this.method=e,this}}function tL(e,t,n){let r,a,o;if("undefined"===typeof t&&"undefined"===typeof n)r={},o=e;else{if(r=e,"function"===typeof t)return a=t,o=n,rL(r,a,o);o=t}for(const i of Object.keys(o))Array.isArray(o[i])?aL(r,null,o,i):r[i]=o[i];return r}const nL=(e,t)=>{const n={};for(const r in t)aL(n,e,t,r);return n},rL=(e,t,n)=>tL(e,Object.entries(n).reduce((e,n)=>{let[r,a]=n;return Array.isArray(a)?e[r]=a:e[r]="function"===typeof a?[t,a()]:[t,a],e},{})),aL=(e,t,n,r)=>{if(null!==t){let a=n[r];"function"===typeof a&&(a=[,a]);const[o=oL,i=iL,s=r]=a;return void(("function"===typeof o&&o(t[s])||"function"!==typeof o&&o)&&(e[r]=i(t[s])))}let[a,o]=n[r];if("function"===typeof o){let t;const n=void 0===a&&null!=(t=o()),i="function"===typeof a&&!!a(void 0)||"function"!==typeof a&&!!a;n?e[r]=t:i&&(e[r]=o())}else{const t=void 0===a&&null!=o,n="function"===typeof a&&!!a(o)||"function"!==typeof a&&!!a;(t||n)&&(e[r]=o)}},oL=e=>null!=e,iL=e=>e,sL=e=>null!=e,lL=e=>{var t,n;return{httpStatusCode:e.statusCode,requestId:null!==(t=null!==(n=e.headers["x-amzn-requestid"])&&void 0!==n?n:e.headers["x-amzn-request-id"])&&void 0!==t?t:e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},uL=e=>{if(null==e)return{};if(Array.isArray(e))return e.filter(e=>null!=e).map(uL);if("object"===typeof e){const t={};for(const n of Object.keys(e))null!=e[n]&&(t[n]=uL(e[n]));return t}return e},cL=e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},dL=async(e,t)=>{const n=function(e,t){return new eL(e,t)}(e,t),r=tL({},sL,{"content-type":"application/json",[tz]:e[XL],[rz]:e[ZL],[nz]:e[JL],[ez]:e[QL]});let a;return n.bp("/start-face-liveness-session"),void 0!==e.LivenessRequestStream&&(a=xL(e.LivenessRequestStream,t)),n.m("POST").h(r).b(a),n.build()},pL=async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return hL(e,t);const n=tL({$metadata:YL(e),[XL]:[,e.headers[tz]]}),r=e.body;return n.LivenessResponseStream=EL(r,t),n},hL=async(e,t)=>{const n=M(M({},e),{},{body:await BP(e.body,t)}),r=((e,t)=>{const n=(e,t)=>Object.keys(e).find(e=>e.toLowerCase()===t.toLowerCase()),r=e=>{let t=e;return"number"===typeof t&&(t=t.toString()),t.indexOf(",")>=0&&(t=t.split(",")[0]),t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},a=n(e.headers,"x-amzn-errortype");if(void 0!==a)return r(e.headers[a]);if(t&&"object"===typeof t){const e=n(t,"code");if(e&&void 0!==t[e])return r(t[e]);if(void 0!==t.__type)return r(t.__type)}})(e,n.body);switch(r){case"AccessDeniedException":case"com.amazonaws.rekognitionstreaming#AccessDeniedException":throw await gL(n,t);case"InternalServerException":case"com.amazonaws.rekognitionstreaming#InternalServerException":throw await vL(n,t);case"ServiceQuotaExceededException":case"com.amazonaws.rekognitionstreaming#ServiceQuotaExceededException":throw await yL(n,t);case"ServiceUnavailableException":case"com.amazonaws.rekognitionstreaming#ServiceUnavailableException":throw await bL(n,t);case"SessionNotFoundException":case"com.amazonaws.rekognitionstreaming#SessionNotFoundException":throw await wL(n,t);case"ThrottlingException":case"com.amazonaws.rekognitionstreaming#ThrottlingException":throw await kL(n,t);case"ValidationException":case"com.amazonaws.rekognitionstreaming#ValidationException":throw await SL(n,t);default:const a=n.body;return fL({output:e,parsedBody:a,errorCode:r})}},fL=(mL=SP,e=>{let{output:t,parsedBody:n,errorCode:r}=e;(e=>{let{output:t,parsedBody:n,exceptionCtor:r,errorCode:a}=e;const o=lL(t),i=o.httpStatusCode?o.httpStatusCode+"":void 0,s=new r({name:(null===n||void 0===n?void 0:n.code)||(null===n||void 0===n?void 0:n.Code)||a||i||"UnknownError",$fault:"client",$metadata:o});throw kP(s,n)})({output:t,parsedBody:n,exceptionCtor:mL,errorCode:r})});var mL;const gL=async(e,t)=>{const n=tL({}),r=e.body,a=nL(r,{Code:KP,Message:KP});Object.assign(n,a);const o=new xP(M({$metadata:YL(e)},n));return kP(o,e.body)},vL=async(e,t)=>{const n=tL({}),r=e.body,a=nL(r,{Code:KP,Message:KP});Object.assign(n,a);const o=new _P(M({$metadata:YL(e)},n));return kP(o,e.body)},yL=async(e,t)=>{const n=tL({}),r=e.body,a=nL(r,{Code:KP,Message:KP});Object.assign(n,a);const o=new CP(M({$metadata:YL(e)},n));return kP(o,e.body)},bL=async(e,t)=>{const n=tL({}),r=e.body,a=nL(r,{Code:KP,Message:KP});Object.assign(n,a);const o=new MP(M({$metadata:YL(e)},n));return kP(o,e.body)},wL=async(e,t)=>{const n=tL({}),r=e.body,a=nL(r,{Code:KP,Message:KP});Object.assign(n,a);const o=new FP(M({$metadata:YL(e)},n));return kP(o,e.body)},kL=async(e,t)=>{const n=tL({}),r=e.body,a=nL(r,{Code:KP,Message:KP});Object.assign(n,a);const o=new AP(M({$metadata:YL(e)},n));return kP(o,e.body)},SL=async(e,t)=>{const n=tL({}),r=e.body,a=nL(r,{Code:KP,Message:KP});Object.assign(n,a);const o=new OP(M({$metadata:YL(e)},n));return kP(o,e.body)},xL=(e,t)=>t.eventStreamMarshaller.serialize(e,e=>EP.visit(e,{VideoEvent:e=>_L(e,t),ClientSessionInformationEvent:e=>IL(e,t),_:e=>e})),IL=(e,t)=>{let n=new Uint8Array;return n=PL(e,t),n=t.utf8Decoder(JSON.stringify(n)),{headers:{":event-type":{type:"string",value:"ClientSessionInformationEvent"},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:"application/json"}},body:n}},_L=(e,t)=>{let n=new Uint8Array;return n=UL(e,t),n=t.utf8Decoder(JSON.stringify(n)),{headers:{":event-type":{type:"string",value:"VideoEvent"},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:"application/json"}},body:n}},EL=(e,t)=>t.eventStreamMarshaller.deserialize(e,async n=>null!=n.ServerSessionInformationEvent?{ServerSessionInformationEvent:await ML(n.ServerSessionInformationEvent,t)}:null!=n.DisconnectionEvent?{DisconnectionEvent:await NL(n.DisconnectionEvent,t)}:null!=n.ChallengeEvent?{ChallengeEvent:await TL(n.ChallengeEvent,t)}:null!=n.ValidationException?{ValidationException:await RL(n.ValidationException,t)}:null!=n.InternalServerException?{InternalServerException:await CL(n.InternalServerException,t)}:null!=n.ThrottlingException?{ThrottlingException:await FL(n.ThrottlingException,t)}:null!=n.ServiceQuotaExceededException?{ServiceQuotaExceededException:await AL(n.ServiceQuotaExceededException,t)}:null!=n.ServiceUnavailableException?{ServiceUnavailableException:await OL(n.ServiceUnavailableException,t)}:{$unknown:e}),TL=async(e,t)=>{const n={},r=await zP(e.body,t);return Object.assign(n,uL(r)),n},NL=async(e,t)=>{const n={},r=await zP(e.body,t);return Object.assign(n,uL(r)),n},CL=async(e,t)=>{const n=M(M({},e),{},{body:await zP(e.body,t)});return vL(n,t)},ML=async(e,t)=>{const n={},r=await zP(e.body,t);return Object.assign(n,KL(r,t)),n},AL=async(e,t)=>{const n=M(M({},e),{},{body:await zP(e.body,t)});return yL(n,t)},OL=async(e,t)=>{const n=M(M({},e),{},{body:await zP(e.body,t)});return bL(n,t)},FL=async(e,t)=>{const n=M(M({},e),{},{body:await zP(e.body,t)});return kL(n,t)},RL=async(e,t)=>{const n=M(M({},e),{},{body:await zP(e.body,t)});return SL(n,t)},DL=(e,t)=>nL(e,{Height:cL,Left:cL,Top:cL,Width:cL}),PL=(e,t)=>nL(e,{Challenge:e=>((e,t)=>IP.visit(e,{FaceMovementAndLightChallenge:e=>({FaceMovementAndLightChallenge:LL(e,t)}),FaceMovementChallenge:e=>({FaceMovementChallenge:zL(e,t)}),_:(e,t)=>({[e]:t})}))(e,t)}),LL=(e,t)=>nL(e,{ChallengeId:[],ColorDisplayed:uL,InitialFace:e=>BL(e,t),TargetFace:e=>WL(e,t),VideoEndTimestamp:[],VideoStartTimestamp:[]}),zL=(e,t)=>nL(e,{ChallengeId:[],InitialFace:e=>BL(e,t),TargetFace:e=>WL(e,t),VideoEndTimestamp:[],VideoStartTimestamp:[]}),BL=(e,t)=>nL(e,{BoundingBox:e=>DL(e),InitialFaceDetectedTimestamp:[]}),WL=(e,t)=>nL(e,{BoundingBox:e=>DL(e),FaceDetectedInTargetPositionEndTimestamp:[],FaceDetectedInTargetPositionStartTimestamp:[]}),UL=(e,t)=>nL(e,{TimestampMillis:[],VideoChunk:t.base64Encoder}),jL=(e,t)=>nL(e,{BlazeFaceDetectionThreshold:YP,FaceDistanceThreshold:YP,FaceDistanceThresholdMax:YP,FaceDistanceThresholdMin:YP,FaceIouHeightThreshold:YP,FaceIouWidthThreshold:YP,OvalFitTimeout:VP,OvalHeightWidthRatio:YP,OvalIouHeightThreshold:YP,OvalIouThreshold:YP,OvalIouWidthThreshold:YP}),HL=(e,t)=>{const n=(e||[]).filter(e=>null!=e).map(e=>(e=>nL(e,{DownscrollDuration:YP,FlatDisplayDuration:YP,FreshnessColor:uL}))(e));return n},VL=(e,t)=>nL(e,{ChallengeConfig:e=>jL(e),ColorSequences:e=>HL(e),LightChallengeType:KP,OvalParameters:e=>GL(e,t)}),qL=(e,t)=>nL(e,{ChallengeConfig:e=>jL(e),OvalParameters:e=>GL(e,t)}),GL=(e,t)=>nL(e,{CenterX:YP,CenterY:YP,Height:YP,Width:YP}),KL=(e,t)=>nL(e,{SessionInformation:e=>$L(e,t)}),$L=(e,t)=>nL(e,{Challenge:e=>((e,t)=>null!=e.FaceMovementAndLightChallenge?{FaceMovementAndLightChallenge:VL(e.FaceMovementAndLightChallenge,t)}:null!=e.FaceMovementChallenge?{FaceMovementChallenge:qL(e.FaceMovementChallenge,t)}:{$unknown:Object.entries(e)[0]})((e=>{if(null!=e)return"object"===typeof e&&"__type"in e&&delete e.__type,$P(e)})(e),t)}),YL=e=>{var t,n;return{httpStatusCode:e.statusCode,requestId:null!==(t=null!==(n=e.headers["x-amzn-requestid"])&&void 0!==n?n:e.headers["x-amzn-request-id"])&&void 0!==t?t:e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},QL="ChallengeVersions",XL="SessionId",JL="VideoHeight",ZL="VideoWidth",ez="x-amz-rekognition-streaming-liveness-challenge-versions",tz="x-amz-rekognition-streaming-liveness-session-id",nz="x-amz-rekognition-streaming-liveness-video-height",rz="x-amz-rekognition-streaming-liveness-video-width";class az extends(yP.classBuilder().ep(oR).m(function(e,t,n,r){return[ZD(n,this.serialize,this.deserialize),uP(n,e.getEndpointParameterInstructions()),HM(n),$A(n,{headerPrefix:"x-amz-rekognition-streaming-liveness-"})]}).s("RekognitionStreamingService","StartFaceLivenessSession",{eventStream:{input:!0,output:!0}}).n("RekognitionStreamingClient","StartFaceLivenessSessionCommand").f(RP,DP).ser(dL).de(pL).build()){}var oz,iz,sz,lz,uz,cz,dz,pz,hz,fz,mz,gz,vz,yz;!function(e){e.WebUnknown="0",e.React="1",e.NextJs="2",e.Angular="3",e.VueJs="4",e.Nuxt="5",e.Svelte="6",e.ServerSideUnknown="100",e.ReactSSR="101",e.NextJsSSR="102",e.AngularSSR="103",e.VueJsSSR="104",e.NuxtSSR="105",e.SvelteSSR="106",e.ReactNative="201",e.Expo="202"}(oz||(oz={})),function(e){e.AI="ai",e.API="api",e.Auth="auth",e.Analytics="analytics",e.DataStore="datastore",e.Geo="geo",e.InAppMessaging="inappmessaging",e.Interactions="interactions",e.Predictions="predictions",e.PubSub="pubsub",e.PushNotification="pushnotification",e.Storage="storage"}(iz||(iz={})),function(e){e.CreateConversation="1",e.GetConversation="2",e.ListConversations="3",e.DeleteConversation="4",e.SendMessage="5",e.ListMessages="6",e.OnMessage="7",e.Generation="8",e.UpdateConversation="9"}(sz||(sz={})),function(e){e.Record="1",e.IdentifyUser="2"}(lz||(lz={})),function(e){e.GraphQl="1",e.Get="2",e.Post="3",e.Put="4",e.Patch="5",e.Del="6",e.Head="7"}(uz||(uz={})),function(e){e.SignUp="1",e.ConfirmSignUp="2",e.ResendSignUpCode="3",e.SignIn="4",e.FetchMFAPreference="6",e.UpdateMFAPreference="7",e.SetUpTOTP="10",e.VerifyTOTPSetup="11",e.ConfirmSignIn="12",e.DeleteUserAttributes="15",e.DeleteUser="16",e.UpdateUserAttributes="17",e.FetchUserAttributes="18",e.ConfirmUserAttribute="22",e.SignOut="26",e.UpdatePassword="27",e.ResetPassword="28",e.ConfirmResetPassword="29",e.FederatedSignIn="30",e.RememberDevice="32",e.ForgetDevice="33",e.FetchDevices="34",e.SendUserAttributeVerificationCode="35",e.SignInWithRedirect="36",e.StartWebAuthnRegistration="37",e.CompleteWebAuthnRegistration="38",e.ListWebAuthnCredentials="39",e.DeleteWebAuthnCredential="40"}(cz||(cz={})),function(e){e.Subscribe="1",e.GraphQl="2"}(dz||(dz={})),function(e){e.SearchByText="0",e.SearchByCoordinates="1",e.SearchForSuggestions="2",e.SearchByPlaceId="3",e.SaveGeofences="4",e.GetGeofence="5",e.ListGeofences="6",e.DeleteGeofences="7"}(pz||(pz={})),function(e){e.SyncMessages="1",e.IdentifyUser="2",e.NotifyMessageInteraction="3"}(hz||(hz={})),function(e){e.None="0"}(fz||(fz={})),function(e){e.Convert="1",e.Identify="2",e.Interpret="3"}(mz||(mz={})),function(e){e.Subscribe="1"}(gz||(gz={})),function(e){e.InitializePushNotifications="1",e.IdentifyUser="2"}(vz||(vz={})),function(e){e.UploadData="1",e.DownloadData="2",e.List="3",e.Copy="4",e.Remove="5",e.GetProperties="6",e.GetUrl="7",e.GetDataAccess="8",e.ListCallerAccessGrants="9"}(yz||(yz={}));const bz="6.15.8",wz=()=>"undefined"!==typeof n.g,kz=()=>"undefined"!==typeof window,Sz=()=>"undefined"!==typeof document,xz=()=>"undefined"!==typeof process,Iz=(e,t)=>!!Object.keys(e).find(e=>e.startsWith(t));const _z=[{platform:oz.Expo,detectionMethod:function(){return wz()&&"undefined"!==typeof n.g.expo}},{platform:oz.ReactNative,detectionMethod:function(){return"undefined"!==typeof navigator&&"undefined"!==typeof navigator.product&&"ReactNative"===navigator.product}},{platform:oz.NextJs,detectionMethod:function(){return kz()&&window.next&&"object"===typeof window.next}},{platform:oz.Nuxt,detectionMethod:function(){return kz()&&(void 0!==window.__NUXT__||void 0!==window.$nuxt)}},{platform:oz.Angular,detectionMethod:function(){const e=Boolean(Sz()&&document.querySelector("[ng-version]")),t=Boolean(kz()&&"undefined"!==typeof window.ng);return e||t}},{platform:oz.React,detectionMethod:function(){const e=e=>e.startsWith("_react")||e.startsWith("__react");return Sz()&&Array.from(document.querySelectorAll("[id]")).some(t=>Object.keys(t).find(e))}},{platform:oz.VueJs,detectionMethod:function(){return kz()&&Iz(window,"__VUE")}},{platform:oz.Svelte,detectionMethod:function(){return kz()&&Iz(window,"__SVELTE")}},{platform:oz.WebUnknown,detectionMethod:function(){return kz()}},{platform:oz.NextJsSSR,detectionMethod:function(){return wz()&&(Iz(n.g,"__next")||Iz(n.g,"__NEXT"))}},{platform:oz.NuxtSSR,detectionMethod:function(){return wz()&&"undefined"!==typeof n.g.__NUXT_PATHS__}},{platform:oz.ReactSSR,detectionMethod:function(){return xz()&&!!Object.keys({NODE_ENV:"production",PUBLIC_URL:"/liveness-bridge",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).find(e=>e.includes("react"))}},{platform:oz.VueJsSSR,detectionMethod:function(){return wz()&&Iz(n.g,"__VUE")}},{platform:oz.AngularSSR,detectionMethod:function(){var e;return xz()&&(null===(e={NODE_ENV:"production",PUBLIC_URL:"/liveness-bridge",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.npm_lifecycle_script)||void 0===e?void 0:e.startsWith("ng "))||!1}},{platform:oz.SvelteSSR,detectionMethod:function(){return xz()&&!!Object.keys({NODE_ENV:"production",PUBLIC_URL:"/liveness-bridge",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).find(e=>e.includes("svelte"))}}];let Ez;const Tz=[];let Nz=!1;const Cz=()=>{if(!Ez){if(Ez=function(){var e;return(null===(e=_z.find(e=>e.detectionMethod()))||void 0===e?void 0:e.platform)||oz.ServerSideUnknown}(),Nz)for(;Tz.length;){var e;null===(e=Tz.pop())||void 0===e||e()}else Tz.forEach(e=>{e()});Mz(oz.ServerSideUnknown,10),Mz(oz.WebUnknown,10)}return Ez};function Mz(e,t){Ez!==e||Nz||setTimeout(()=>{Ez=void 0,Nz=!0,setTimeout(Cz,1e3)},t)}const Az={},Oz="aws-amplify",Fz=e=>e.replace(/\+.*/,"");new class{constructor(){this.userAgent="".concat(Oz,"/").concat(Fz(bz))}get framework(){return Cz()}get isReactNative(){return this.framework===oz.ReactNative||this.framework===oz.Expo}observeFrameworkChanges(e){(e=>{Nz||Tz.push(e)})(e)}};const Rz=function(){let{category:e,action:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=[[Oz,Fz(bz)]];if(e&&n.push([e,t]),n.push(["framework",Cz()]),e&&t){const r=((e,t)=>{var n;return null===(n=Az[e])||void 0===n||null===(n=n[t])||void 0===n?void 0:n.additionalDetails})(e,t);r&&r.forEach(e=>{n.push(e)})}return n},Dz=e=>Rz(e).map(e=>{let[t,n]=e;return t&&n?"".concat(t,"/").concat(n):t}).join(" "),Pz="ui-react-liveness/".concat("3.4.7"),Lz=e=>encodeURIComponent(e).replace(/[!'()*]/g,zz),zz=e=>"%".concat(e.charCodeAt(0).toString(16).toUpperCase());function Bz(e){const{port:t,query:n}=e;let{protocol:r,path:a,hostname:o}=e;r&&":"!==r.slice(-1)&&(r+=":"),t&&(o+=":".concat(t)),a&&"/"!==a.charAt(0)&&(a="/".concat(a));let i=n?function(e){const t=[];for(let n of Object.keys(e).sort()){const r=e[n];if(n=Lz(n),Array.isArray(r))for(let e=0,a=r.length;e<a;e++)t.push("".concat(n,"=").concat(Lz(r[e])));else{let e=n;(r||"string"===typeof r)&&(e+="=".concat(Lz(r))),t.push(e)}}return t.join("&")}(n):"";i&&"?"!==i[0]&&(i="?".concat(i));let s="";if(null!=e.username||null!=e.password){var l,u;const t=null!==(l=e.username)&&void 0!==l?l:"",n=null!==(u=e.password)&&void 0!==u?u:"";s="".concat(t,":").concat(n,"@")}let c="";return e.fragment&&(c="#".concat(e.fragment)),"".concat(r,"//").concat(s).concat(o).concat(a).concat(i).concat(c)}var Wz,Uz,jz,Hz;!function(e){e.HEADER="header",e.QUERY="query"}(Wz||(Wz={})),function(e){e.HEADER="header",e.QUERY="query"}(Uz||(Uz={})),function(e){e.HTTP="http",e.HTTPS="https"}(jz||(jz={})),function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"}(Hz||(Hz={}));var Vz,qz,Gz;!function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"}(Vz||(Vz={})),function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"}(qz||(qz={})),function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"}(Gz||(Gz={}));class Kz{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const t=e;return"number"===typeof t.statusCode&&"object"===typeof t.headers}}const $z=2e3,Yz="Websocket connection timeout",Qz=e=>{return e[Symbol.asyncIterator]?e:(t=e,"function"===typeof ReadableStream&&t instanceof ReadableStream?tO(e):{[Symbol.asyncIterator]:TM(function*(){yield e})});var t};class Xz{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new uO;this.metadata={handlerProtocol:"websocket/h1.1"},this.sockets={},this.utf8decoder=new TextDecoder,this.httpHandler=t,"function"===typeof e?(this.config={},this.configPromise=e().then(e=>this.config=null!==e&&void 0!==e?e:{})):(this.config=null!==e&&void 0!==e?e:{},this.configPromise=Promise.resolve(this.config))}destroy(){for(const[e,t]of Object.entries(this.sockets)){for(const e of t)e.close(1e3,"Socket closed through destroy() call");delete this.sockets[e]}}async handle(e){if(!(e=>"ws:"===e.protocol||"wss:"===e.protocol)(e))return this.httpHandler.handle(e);const t=Bz(e),n=new WebSocket(t);this.sockets[t]||(this.sockets[t]=[]),this.sockets[t].push(n),n.binaryType="arraybuffer";const{connectionTimeout:r=$z}=await this.configPromise;await this.waitForReady(n,r);const{body:a}=e,o=Qz(a),i=(e=>"function"===typeof ReadableStream?nO(e):e)(this.connect(n,o));return{response:new Kz({statusCode:200,body:i})}}updateHttpClientConfig(e,t){this.configPromise=this.configPromise.then(n=>M(M({},n),{},{[e]:t}))}httpHandlerConfigs(){var e;return null!==(e=this.config)&&void 0!==e?e:{}}removeNotUsableSockets(e){var t;this.sockets[e]=(null!==(t=this.sockets[e])&&void 0!==t?t:[]).filter(e=>!(e.readyState===WebSocket.CLOSING||e.readyState===WebSocket.CLOSED))}waitForReady(e,t){return new Promise((n,r)=>{const a=setTimeout(()=>{this.removeNotUsableSockets(e.url),r(new Error(Yz))},t);e.onopen=()=>{clearTimeout(a),n()}})}connect(e,t){let n,r=!1,a=()=>{},o=()=>{};e.onmessage=e=>{o({done:!1,value:new Uint8Array(e.data)})},e.onerror=t=>{r=!0,e.close(),a(t)},e.onclose=()=>{this.removeNotUsableSockets(e.url),r||(n?a(n):o({done:!0,value:void 0}))};const i={[Symbol.asyncIterator]:()=>({next:()=>new Promise((e,t)=>{o=e,a=t})})};return(async()=>{try{var r,a=!1,o=!1;try{for(var i,s=xn(t);a=!(i=await s.next()).done;a=!1){const t=i.value;{const n=this.utf8decoder.decode(t);if(n.includes("closeCode")){const t=n.match(/"closeCode":([0-9]*)/);if(t){const n=t[1];e.close(parseInt(n))}continue}e.send(t)}}}catch(uq){o=!0,r=uq}finally{try{a&&null!=s.return&&await s.return()}finally{if(o)throw r}}}catch(uq){uq instanceof Error&&(n=uq)}finally{e.close(Xn)}})(),i}}async function Jz(e){const t=(e=>"function"===typeof e)(e);if(e&&!t)throw new Error("Invalid credentialsProvider");if(t)return e;try{const e=(await ke()).credentials;if(null!==(n=e)&&void 0!==n&&n.accessKeyId&&null!==n&&void 0!==n&&n.secretAccessKey)return e;throw new Error("Missing credentials")}catch(ID){const{message:t}=ID;throw new Error("Invalid credentials: ".concat(t))}var n}class Zz extends tR{presign(e,t){return super.presign(e,M(M({},t),{},{expiresIn:299,unsignableHeaders:new Set(Object.keys(e.headers).filter(e=>"host"!==e))}))}}class eB{static getAttemptCountAndUpdateTimestamp(){return Date.now()-eB.timestamp>3e5?eB.attemptCount=1:eB.attemptCount+=1,eB.timestamp=Date.now(),eB.attemptCount}}eB.attemptCount=0,eB.timestamp=Date.now();const tB="".concat(Dz()," ").concat(Pz);async function nB(e){const t=await async function(e){let{credentialsProvider:t,endpointOverride:n,region:r,systemClockOffset:a}=e;const o={credentials:await Jz(t),customUserAgent:tB,region:r,requestHandler:new Xz({connectionTimeout:1e4}),signerConstructor:Zz,systemClockOffset:a};return oM(n)&&(o.endpointProvider=()=>({url:new URL(n)})),new $D(o)}(e);var n,r;return t.middlewareStack.add((n=e.attemptCount,r=e.preCheckViewEnabled,e=>async t=>(t.request.query["attempt-count"]=n.toString(),t.request.query["precheck-view-enabled"]=r?"1":"0",await e(t))),{step:"build",name:"telemetryMiddleware",tags:["liveness","amplify-ui"]}),{async getResponseStream(e){const n=new az((e=>{let{requestStream:t,sessionId:n,videoWidth:r,videoHeight:a}=e;return{ChallengeVersions:or,SessionId:n,LivenessRequestStream:t,VideoWidth:r,VideoHeight:a}})(e)),{LivenessResponseStream:r}=await t.send(n);return r}}}var rB,aB,oB,iB,sB,lB,uB,cB,dB,pB,hB,fB,mB,gB,vB,yB,bB;class wB{constructor(e){if(rB.add(this),aB.set(this,void 0),oB.set(this,void 0),iB.set(this,void 0),sB.set(this,!1),lB.set(this,void 0),uB.set(this,void 0),cB.set(this,void 0),dB.set(this,void 0),pB.set(this,void 0),hB.set(this,void 0),fB.set(this,void 0),"undefined"===typeof MediaRecorder)throw Error("MediaRecorder is not supported by this browser");oe(this,aB,[],"f"),oe(this,oB,new MediaRecorder(e,{bitsPerSecond:1e6}),"f"),oe(this,iB,ae(this,oB,"f"),"f"),oe(this,hB,ae(this,rB,"m",gB).call(this),"f"),oe(this,fB,{},"f")}getVideoStream(){return ae(this,hB,"f")}setNewVideoStream(e){ae(this,rB,"m",bB).call(this),oe(this,oB,new MediaRecorder(e,{bitsPerSecond:1e6}),"f"),ae(this,rB,"m",vB).call(this,ae(this,oB,"f"))}dispatchStreamEvent(e){const{type:t}=e,n="streamStop"===t?void 0:e.data;ae(this,oB,"f").dispatchEvent(new MessageEvent(t,{data:n}))}getRecordingStartTimestamp(){if(iM(ae(this,cB,"f"))||iM(ae(this,dB,"f")))throw new Error("Recording has not started");return Math.round(.73*(ae(this,cB,"f")-ae(this,dB,"f"))+ae(this,dB,"f"))}getRecordingEndedTimestamp(){if(iM(ae(this,uB,"f")))throw new Error("Recording has not ended");return ae(this,uB,"f")}startRecording(){ae(this,rB,"m",mB).call(this),oe(this,dB,Date.now(),"f"),ae(this,oB,"f").start(1e3)}isRecording(){return"recording"===ae(this,oB,"f").state}getChunksLength(){return ae(this,aB,"f").length}hasRecordingStarted(){return ae(this,sB,"f")&&void 0!==ae(this,lB,"f")}async stopRecording(){return this.isRecording()&&ae(this,oB,"f").stop(),ae(this,pB,"f")}}aB=new WeakMap,oB=new WeakMap,iB=new WeakMap,sB=new WeakMap,lB=new WeakMap,uB=new WeakMap,cB=new WeakMap,dB=new WeakMap,pB=new WeakMap,hB=new WeakMap,fB=new WeakMap,rB=new WeakSet,mB=function(){oe(this,aB,[],"f")},gB=function(){return new ReadableStream({start:e=>{ae(this,rB,"m",vB).call(this,ae(this,oB,"f"),e)}})},vB=function(e,t){const n=t?e=>{let{data:n}=e;n&&n.size>0&&(0===ae(this,aB,"f").length&&oe(this,lB,Date.now(),"f"),ae(this,aB,"f").push(n),t.enqueue({type:"streamVideo",data:n}))}:e=>{let{data:t}=e;ae(this,iB,"f").dispatchEvent(new MessageEvent("dataavailable",{data:t}))};e.ondataavailable=n;const r=t?e=>{const{data:n}=e;t.enqueue({type:"sessionInfo",data:n})}:e=>{const{data:t}=e;ae(this,iB,"f").dispatchEvent(new MessageEvent("sessionInfo",{data:t}))};e.addEventListener("sessionInfo",r);const a=t?()=>{t.enqueue({type:"streamStop"})}:()=>{ae(this,iB,"f").dispatchEvent(new MessageEvent("streamStop"))};e.addEventListener("streamStop",a);const o=t?e=>{const{data:n}=e;t.enqueue({type:"closeCode",data:n})}:e=>{const{data:t}=e;ae(this,iB,"f").dispatchEvent(new MessageEvent("closeCode",{data:t}))};e.addEventListener("closeCode",o);const i=t?()=>{t.close()}:()=>{ae(this,iB,"f").dispatchEvent(new MessageEvent("endStream"))};e.addEventListener("endStream",i),ae(this,rB,"m",yB).call(this),oe(this,fB,{endStream:i,closeCode:o,streamStop:a,sessionInfo:r,dataavailable:n},"f")},yB=function(){ae(this,oB,"f").onstart=()=>{oe(this,sB,!0,"f"),oe(this,cB,Date.now(),"f")},oe(this,pB,new Promise(e=>{ae(this,oB,"f").onstop=()=>{oe(this,uB,Date.now(),"f"),e()}}),"f"),ae(this,oB,"f").onerror=()=>{this.stopRecording()}},bB=function(){Object.keys(ae(this,fB,"f")).forEach(e=>{ae(this,oB,"f").removeEventListener(e,ae(this,fB,"f")[e])}),oe(this,fB,{},"f")};const kB=e=>!(null===e||void 0===e||!e.ServerSessionInformationEvent),SB=e=>{const{message:t}=e;return t.includes(Yz)},xB=e=>!(null===e||void 0===e||!e.DisconnectionEvent),IB=e=>!(null===e||void 0===e||!e.ValidationException),_B=e=>!(null===e||void 0===e||!e.InternalServerException),EB=e=>!(null===e||void 0===e||!e.ThrottlingException),TB=e=>!(null===e||void 0===e||!e.ServiceQuotaExceededException),NB={width:{min:320,ideal:640},height:{min:240,ideal:480},frameRate:{min:15,ideal:30,max:60},facingMode:"user"};let CB;const MB=async e=>{try{const i=await CB;var t,n=!1,r=!1;try{for(var a,o=xn(i);n=!(a=await o.next()).done;n=!1){const t=a.value;kB(t)?e({type:"SET_SESSION_INFO",data:{serverSessionInformation:t.ServerSessionInformationEvent.SessionInformation}}):xB(t)?e({type:"DISCONNECT_EVENT"}):IB(t)?e({type:"SERVER_ERROR",data:{error:M({},t.ValidationException)}}):_B(t)?e({type:"SERVER_ERROR",data:{error:M({},t.InternalServerException)}}):EB(t)?e({type:"SERVER_ERROR",data:{error:M({},t.ThrottlingException)}}):TB(t)&&e({type:"SERVER_ERROR",data:{error:M({},t.ServiceQuotaExceededException)}})}}catch(uq){r=!0,t=uq}finally{try{n&&null!=o.return&&await o.return()}finally{if(r)throw t}}}catch(i){(e=>{const{message:t,name:n}=e;return"InvalidSignatureException"===n&&t.includes("valid region")})(i)?e({type:"SERVER_ERROR",data:{error:new Error("Invalid region in FaceLivenessDetector or credentials are scoped to the wrong region.")}}):i instanceof Error&&e({type:SB(i)?"CONNECTION_TIMEOUT":"SERVER_ERROR",data:{error:i}})}};function AB(e){localStorage.setItem("AmplifyLivenessCameraId",e)}const OB=(FB={id:"livenessMachine",initial:"initCamera",predictableActionArguments:!0,context:{challengeId:Mn(),errorMessage:void 0,maxFailedAttempts:0,failedAttempts:0,componentProps:void 0,parsedSessionInformation:void 0,serverSessionInformation:void 0,videoAssociatedParams:{videoConstraints:NB,selectableDevices:[]},ovalAssociatedParams:void 0,faceMatchAssociatedParams:{illuminationState:void 0,faceMatchState:void 0,faceMatchPercentage:25,currentDetectedFace:void 0,startFace:void 0,endFace:void 0},freshnessColorAssociatedParams:{freshnessColorEl:void 0,freshnessColors:[],freshnessColorsComplete:!1},colorSequenceDisplay:void 0,errorState:void 0,livenessStreamProvider:void 0,responseStreamActorRef:void 0,shouldDisconnect:!1,faceMatchStateBeforeStart:void 0,isFaceFarEnoughBeforeRecording:void 0,isRecordingStopped:!1},on:{CANCEL:"userCancel",TIMEOUT:{target:"retryableTimeout",actions:"updateErrorStateForTimeout"},SET_SESSION_INFO:{internal:!0,actions:"updateSessionInfo"},DISCONNECT_EVENT:{internal:!0,actions:"updateShouldDisconnect"},SET_DOM_AND_CAMERA_DETAILS:{actions:"setDOMAndCameraDetails"},UPDATE_DEVICE_AND_STREAM:{actions:"updateDeviceAndStream",target:"start"},SERVER_ERROR:{target:"error",actions:"updateErrorStateForServer"},CONNECTION_TIMEOUT:{target:"error",actions:"updateErrorStateForConnectionTimeout"},RUNTIME_ERROR:{target:"error",actions:"updateErrorStateForRuntime"},MOBILE_LANDSCAPE_WARNING:{target:"mobileLandscapeWarning",actions:"updateErrorStateForServer"}},states:{initCamera:{initial:"cameraCheck",on:{SET_DOM_AND_CAMERA_DETAILS:{actions:"setDOMAndCameraDetails",target:"#livenessMachine.initWebsocket"}},states:{cameraCheck:{entry:"resetErrorState",invoke:{src:"checkVirtualCameraAndGetStream",onDone:{target:"waitForDOMAndCameraDetails",actions:"updateVideoMediaStream"},onError:{target:"#livenessMachine.permissionDenied"}}},waitForDOMAndCameraDetails:{}}},initWebsocket:{entry:()=>{},initial:"initializeLivenessStream",states:{initializeLivenessStream:{invoke:{src:"openLivenessStreamConnection",onDone:{target:"waitForSessionInfo",actions:["updateLivenessStreamProvider","spawnResponseStreamActor"]}}},waitForSessionInfo:{entry:()=>{},after:{0:{target:"#livenessMachine.start",cond:"hasParsedSessionInfo"},100:{target:"waitForSessionInfo"}}}}},start:{entry:["initializeFaceDetector",()=>{}],always:[{target:"detectFaceBeforeStart",cond:"shouldSkipStartScreen"}],on:{BEGIN:"detectFaceBeforeStart"}},detectFaceBeforeStart:{invoke:{src:"detectFace",onDone:{target:"checkFaceDetectedBeforeStart",actions:"updateFaceMatchBeforeStartDetails"}}},checkFaceDetectedBeforeStart:{after:{0:{target:"detectFaceDistanceBeforeRecording",cond:"hasSingleFaceBeforeStart"},100:{target:"detectFaceBeforeStart"}}},detectFaceDistanceBeforeRecording:{invoke:{src:"detectFaceDistance",onDone:{target:"checkFaceDistanceBeforeRecording",actions:"updateFaceDistanceBeforeRecording"}}},checkFaceDistanceBeforeRecording:{after:{0:{target:"recording",cond:"hasEnoughFaceDistanceBeforeRecording"},100:{target:"detectFaceDistanceBeforeRecording"}}},recording:{entry:["clearErrorState","startRecording","sendTimeoutAfterOvalDrawingDelay"],initial:"ovalDrawing",states:{ovalDrawing:{invoke:{src:"detectInitialFaceAndDrawOval",onDone:{target:"checkFaceDetected",actions:["updateOvalAndFaceDetailsPostDraw","sendTimeoutAfterOvalMatchDelay"]},onError:{target:"#livenessMachine.error",actions:"updateErrorStateForRuntime"}}},checkFaceDetected:{after:{0:{target:"cancelOvalDrawingTimeout",cond:"hasSingleFace"},100:{target:"ovalDrawing"}}},cancelOvalDrawingTimeout:{entry:["cancelOvalDrawingTimeout","sendTimeoutAfterRecordingDelay"],after:{0:{target:"checkRecordingStarted"}}},checkRecordingStarted:{entry:()=>{},after:{0:{target:"ovalMatching",cond:"hasRecordingStarted",actions:"updateRecordingStartTimestamp"},100:{target:"checkRecordingStarted"}}},ovalMatching:{entry:"cancelRecordingTimeout",invoke:{src:"detectFaceAndMatchOval",onDone:{target:"checkMatch",actions:"updateFaceDetailsPostMatch"}}},checkMatch:{entry:()=>{},after:{0:{target:"handleChallenge",cond:"hasFaceMatchedInOval",actions:["setFaceMatchTimeAndStartFace","updateEndFaceMatch","setColorDisplay","cancelOvalMatchTimeout","cancelOvalDrawingTimeout"]},1:{target:"ovalMatching"}}},handleChallenge:{entry:()=>{},always:[{target:"delayBeforeFlash",cond:"isFaceMovementAndLightChallenge"},{target:"success",cond:"isFaceMovementChallenge"}]},delayBeforeFlash:{entry:()=>{},after:{1e3:"flashFreshnessColors"}},flashFreshnessColors:{invoke:{src:"flashColors",onDone:[{target:"success",cond:"hasFreshnessColorShown"},{target:"flashFreshnessColors",actions:"updateFreshnessDetails"}]}},success:{entry:"stopRecording",type:"final"}},onDone:"uploading"},uploading:{initial:"pending",states:{pending:{entry:["pauseVideoStream"],invoke:{src:"stopVideo",onDone:"waitForDisconnectEvent",onError:{target:"#livenessMachine.error",actions:"updateErrorStateForRuntime"}}},waitForDisconnectEvent:{entry:()=>{},after:{0:{cond:"getShouldDisconnect",target:"getLivenessResult"},100:{target:"waitForDisconnectEvent"}}},getLivenessResult:{entry:["freezeStream"],invoke:{src:"getLiveness",onError:{target:"#livenessMachine.error",actions:"updateErrorStateForServer"}}}}},retryableTimeout:{entry:"updateFailedAttempts",always:[{target:"timeout",cond:"shouldTimeoutOnFailedAttempts"},{target:"start"}]},permissionDenied:{entry:"callUserPermissionDeniedCallback",on:{RETRY_CAMERA_CHECK:"initCamera"}},mobileLandscapeWarning:{entry:"callMobileLandscapeWarningCallback",always:{target:"error"}},timeout:{entry:["cleanUpResources","callUserTimeoutCallback","freezeStream"]},error:{entry:["cleanUpResources","callErrorCallback","cancelOvalDrawingTimeout","cancelOvalMatchTimeout","cancelRecordingTimeout","freezeStream"]},userCancel:{entry:["cleanUpResources","callUserCancelCallback","resetContext"],always:{target:"initCamera"}}}},RB={actions:{spawnResponseStreamActor:Wn({responseStreamActorRef:()=>gn(MB)}),updateFailedAttempts:Wn({failedAttempts:e=>e.failedAttempts+1}),updateVideoMediaStream:Wn({videoAssociatedParams:(e,t)=>{var n,r,a;return M(M({},e.videoAssociatedParams),{},{videoMediaStream:null===(n=t.data)||void 0===n?void 0:n.stream,selectedDeviceId:null===(r=t.data)||void 0===r?void 0:r.selectedDeviceId,selectableDevices:null===(a=t.data)||void 0===a?void 0:a.selectableDevices})}}),initializeFaceDetector:Wn({ovalAssociatedParams:e=>{const{componentProps:t}=e,{faceModelUrl:n,binaryPath:r}=t.config,a=new rM(r,n);return a.triggerModelLoading(),M(M({},e.ovalAssociatedParams),{},{faceDetector:a})}}),updateLivenessStreamProvider:Wn({livenessStreamProvider:(e,t)=>{var n;return null===(n=t.data)||void 0===n?void 0:n.livenessStreamProvider}}),setDOMAndCameraDetails:Wn({videoAssociatedParams:(e,t)=>{var n,r,a;return M(M({},e.videoAssociatedParams),{},{videoEl:null===(n=t.data)||void 0===n?void 0:n.videoEl,canvasEl:null===(r=t.data)||void 0===r?void 0:r.canvasEl,isMobile:null===(a=t.data)||void 0===a?void 0:a.isMobile})},freshnessColorAssociatedParams:(e,t)=>{var n;return M(M({},e.freshnessColorAssociatedParams),{},{freshnessColorEl:null===(n=t.data)||void 0===n?void 0:n.freshnessColorEl})}}),updateDeviceAndStream:Wn({videoAssociatedParams:(e,t)=>{var n,r,a,o,i;return AB(null===(n=t.data)||void 0===n?void 0:n.newDeviceId),null===(r=e.livenessStreamProvider)||void 0===r||r.setNewVideoStream(null===(a=t.data)||void 0===a?void 0:a.newStream),M(M({},e.videoAssociatedParams),{},{selectedDeviceId:null===(o=t.data)||void 0===o?void 0:o.newDeviceId,videoMediaStream:null===(i=t.data)||void 0===i?void 0:i.newStream})}}),updateRecordingStartTimestamp:Wn({videoAssociatedParams:e=>{const{challengeId:t,ovalAssociatedParams:n,videoAssociatedParams:r,livenessStreamProvider:a,parsedSessionInformation:o}=e,{videoMediaStream:i}=r,s=a.getRecordingStartTimestamp();return e.livenessStreamProvider.dispatchStreamEvent({type:"sessionInfo",data:PM(M(M({parsedSessionInformation:o},MM(i)),{},{challengeId:t,ovalAssociatedParams:n,recordingStartedTimestamp:s}))}),M(M({},e.videoAssociatedParams),{},{recordingStartedTimestamp:s})}}),startRecording:Wn({videoAssociatedParams:e=>(e.livenessStreamProvider&&!e.livenessStreamProvider.isRecording()&&e.livenessStreamProvider.startRecording(),M({},e.videoAssociatedParams))}),stopRecording:()=>{},updateFaceMatchBeforeStartDetails:Wn({faceMatchStateBeforeStart:(e,t)=>t.data.faceMatchState}),updateFaceDistanceBeforeRecording:Wn({isFaceFarEnoughBeforeRecording:(e,t)=>!!t.data.isFaceFarEnoughBeforeRecording}),updateFaceDistanceWhileLoading:Wn({isFaceFarEnoughBeforeRecording:(e,t)=>!!t.data.isFaceFarEnoughBeforeRecording,errorState:(e,t)=>{var n;return null===(n=t.data)||void 0===n?void 0:n.error}}),updateOvalAndFaceDetailsPostDraw:Wn({ovalAssociatedParams:(e,t)=>M(M({},e.ovalAssociatedParams),{},{initialFace:t.data.initialFace,ovalDetails:t.data.ovalDetails,scaleFactor:t.data.scaleFactor}),faceMatchAssociatedParams:(e,t)=>M(M({},e.faceMatchAssociatedParams),{},{faceMatchState:t.data.faceMatchState,illuminationState:t.data.illuminationState})}),updateFaceDetailsPostMatch:Wn({faceMatchAssociatedParams:(e,t)=>M(M({},e.faceMatchAssociatedParams),{},{faceMatchState:t.data.faceMatchState,faceMatchPercentage:t.data.faceMatchPercentage,illuminationState:t.data.illuminationState,currentDetectedFace:t.data.detectedFace})}),updateEndFaceMatch:Wn({faceMatchAssociatedParams:e=>M(M({},e.faceMatchAssociatedParams),{},{endFace:e.faceMatchAssociatedParams.currentDetectedFace})}),setFaceMatchTimeAndStartFace:Wn({faceMatchAssociatedParams:e=>M(M({},e.faceMatchAssociatedParams),{},{startFace:void 0===e.faceMatchAssociatedParams.startFace?e.faceMatchAssociatedParams.currentDetectedFace:e.faceMatchAssociatedParams.startFace})}),resetErrorState:Wn({errorState:e=>{}}),updateErrorStateForConnectionTimeout:Wn({errorState:e=>Un}),updateErrorStateForTimeout:Wn({errorState:(e,t)=>{var n;return(null===(n=t.data)||void 0===n?void 0:n.errorState)||jn},errorMessage:(e,t)=>{var n;return null===(n=t.data)||void 0===n?void 0:n.message}}),updateErrorStateForRuntime:Wn({errorState:(e,t)=>{var n;return(null===(n=t.data)||void 0===n?void 0:n.errorState)||Hn}}),updateErrorStateForServer:Wn({errorState:e=>Vn}),clearErrorState:Wn({errorState:e=>{}}),updateSessionInfo:Wn({parsedSessionInformation:(e,t)=>{const{serverSessionInformation:n}=t.data;return(e=>{let t;if(null!==(n=e.Challenge)&&void 0!==n&&n.FaceMovementAndLightChallenge)t=M(M({},e.Challenge.FaceMovementAndLightChallenge),{},{Name:rr.type});else{if(!(e=>!(null===e||void 0===e||!e.FaceMovementChallenge))(e.Challenge))throw new Error("Unsupported challenge type returned from session information.");t=M(M({},e.Challenge.FaceMovementChallenge),{},{Name:ar.type})}var n;if(!t.ChallengeConfig||!t.ChallengeConfig.FaceDistanceThreshold||!t.ChallengeConfig.FaceDistanceThresholdMin||!t.ChallengeConfig.OvalHeightWidthRatio)throw new Error("Challenge config not returned from session information.");return M(M({},e),{},{Challenge:t})})(n)}}),updateShouldDisconnect:Wn({shouldDisconnect:()=>!0}),updateFreshnessDetails:Wn({freshnessColorAssociatedParams:(e,t)=>M(M({},e.freshnessColorAssociatedParams),{},{freshnessColorsComplete:t.data.freshnessColorsComplete})}),setColorDisplay:Wn({colorSequenceDisplay:e=>{let{parsedSessionInformation:t}=e;return new IM(function(e){var t;return(null!==(t=e.Challenge.ColorSequences)&&void 0!==t?t:[]).map(e=>{let{FreshnessColor:t,DownscrollDuration:n,FlatDisplayDuration:r}=e;const a=t.RGB,o="rgb(".concat(a[0],",").concat(a[1],",").concat(a[2],")");return"undefined"!==typeof o&&"undefined"!==typeof n&&"undefined"!==typeof r?{color:o,downscrollDuration:n,flatDisplayDuration:r}:void 0}).filter(gr)}(t))}}),sendTimeoutAfterOvalDrawingDelay:jt({type:"RUNTIME_ERROR",data:{message:"Client failed to draw oval."}},{delay:5e3,id:"ovalDrawingTimeout"}),cancelOvalDrawingTimeout:Ht("ovalDrawingTimeout"),sendTimeoutAfterRecordingDelay:jt({type:"RUNTIME_ERROR",data:{message:"Client failed to start recording."}},{delay:5e3,id:"recordingTimeout"}),cancelRecordingTimeout:Ht("recordingTimeout"),sendTimeoutAfterOvalMatchDelay:jt({type:"TIMEOUT",data:{message:"Client timed out waiting for face to match oval."}},{delay:e=>{var t,n;return null!==(t=null===(n=e.parsedSessionInformation.Challenge.ChallengeConfig)||void 0===n?void 0:n.OvalFitTimeout)&&void 0!==t?t:7e3},id:"ovalMatchTimeout"}),cancelOvalMatchTimeout:Ht("ovalMatchTimeout"),callUserPermissionDeniedCallback:Wn({errorState:(e,t)=>{var n,r;let a;a=t.data.message.includes("15 fps")?qn:Gn;const o=t.data.message||t.data.Message,i={state:a,error:new Error(o)};return null===(n=(r=e.componentProps).onError)||void 0===n||n.call(r,i),a}}),callMobileLandscapeWarningCallback:Wn({errorState:()=>$n}),callUserCancelCallback:e=>{var t,n;null===(t=(n=e.componentProps).onUserCancel)||void 0===t||t.call(n)},callUserTimeoutCallback:e=>{var t,n,r;const a=new Error(null!==(t=e.errorMessage)&&void 0!==t?t:"Client Timeout");a.name=e.errorState;const o={state:e.errorState,error:a};null===(n=(r=e.componentProps).onError)||void 0===n||n.call(r,o)},callErrorCallback:(e,t)=>{var n,r,a;const o={state:e.errorState,error:(null===(n=t.data)||void 0===n?void 0:n.error)||t.data};null===(r=(a=e.componentProps).onError)||void 0===r||r.call(a,o)},cleanUpResources:e=>{var t;const{freshnessColorEl:n}=e.freshnessColorAssociatedParams;n&&(n.style.display="none");let r=Jn;e.errorState===jn?r=Zn:e.errorState===Hn?r=tr:e.errorState===Kn||e.errorState===Yn?r=nr:void 0===e.errorState&&(r=er),null===(t=e.livenessStreamProvider)||void 0===t||t.stopRecording().then(()=>{var t;null===(t=e.livenessStreamProvider)||void 0===t||t.dispatchStreamEvent({type:"closeCode",data:{closeCode:r}})})},freezeStream:e=>{const{videoMediaStream:t,videoEl:n}=e.videoAssociatedParams;e.isRecordingStopped=!0,null===n||void 0===n||n.pause(),null===t||void 0===t||t.getTracks().forEach(function(e){e.stop()})},pauseVideoStream:e=>{const{videoEl:t}=e.videoAssociatedParams;e.isRecordingStopped=!0,t.pause()},resetContext:Wn({challengeId:Mn(),maxFailedAttempts:0,failedAttempts:0,componentProps:e=>e.componentProps,parsedSessionInformation:e=>{},videoAssociatedParams:e=>({videoConstraints:NB}),ovalAssociatedParams:e=>{},errorState:e=>{},livenessStreamProvider:e=>{},responseStreamActorRef:e=>{},shouldDisconnect:!1,faceMatchStateBeforeStart:e=>{},isFaceFarEnoughBeforeRecording:e=>{},isRecordingStopped:!1})},guards:{shouldTimeoutOnFailedAttempts:e=>e.failedAttempts>=e.maxFailedAttempts,hasFaceMatchedInOval:e=>e.faceMatchAssociatedParams.faceMatchState===Bn.MATCHED,hasSingleFace:e=>e.faceMatchAssociatedParams.faceMatchState===Bn.FACE_IDENTIFIED,hasSingleFaceBeforeStart:e=>e.faceMatchStateBeforeStart===Bn.FACE_IDENTIFIED,hasEnoughFaceDistanceBeforeRecording:e=>e.isFaceFarEnoughBeforeRecording,hasNotEnoughFaceDistanceBeforeRecording:e=>!e.isFaceFarEnoughBeforeRecording,hasFreshnessColorShown:e=>e.freshnessColorAssociatedParams.freshnessColorsComplete,hasParsedSessionInfo:e=>void 0!==e.parsedSessionInformation,hasDOMAndCameraDetails:e=>void 0!==e.videoAssociatedParams.videoEl&&void 0!==e.videoAssociatedParams.canvasEl&&void 0!==e.freshnessColorAssociatedParams.freshnessColorEl,isFaceMovementChallenge:e=>{var t;return(null===(t=e.parsedSessionInformation)||void 0===t||null===(t=t.Challenge)||void 0===t?void 0:t.Name)===ar.type},isFaceMovementAndLightChallenge:e=>{var t;return(null===(t=e.parsedSessionInformation)||void 0===t||null===(t=t.Challenge)||void 0===t?void 0:t.Name)===rr.type},getShouldDisconnect:e=>!!e.shouldDisconnect,hasRecordingStarted:e=>e.livenessStreamProvider.hasRecordingStarted(),shouldSkipStartScreen:e=>{var t;return!(null===(t=e.componentProps)||void 0===t||!t.disableStartScreen)}},services:{async checkVirtualCameraAndGetStream(e){const{videoConstraints:t}=e.videoAssociatedParams,n=await navigator.mediaDevices.getUserMedia({video:M({},t),audio:!1}),r=(await navigator.mediaDevices.enumerateDevices()).filter(e=>"videoinput"===e.kind).filter(e=>!function(e){return e.label.toLowerCase().includes("virtual")}(e));if(!r.length)throw new Error("No real video devices found");const a=n.getTracks().filter(e=>e.getSettings().frameRate>=15);if(a.length<1)throw new Error("No camera found with more than 15 fps");const o=a[0].getSettings().deviceId,i=r.some(e=>e.deviceId===o),s=i?o:r[0].deviceId;let l=n;return i||(l=await navigator.mediaDevices.getUserMedia({video:M(M({},t),{},{deviceId:{exact:s}}),audio:!1})),AB(s),{stream:l,selectedDeviceId:o,selectableDevices:r}},async openLivenessStreamConnection(e){const{config:t,disableStartScreen:n}=e.componentProps,{credentialProvider:r,endpointOverride:a,systemClockOffset:o}=t,{videoHeight:i,videoWidth:s}=e.videoAssociatedParams.videoEl,l=new wB(e.videoAssociatedParams.videoMediaStream),u=function(e){const t=e.getReader();return{getRequestStream:function(){var e=TM(function*(){for(;;){const{done:e,value:n}=yield EM(t.read());if(e)return;if("sessionInfo"===n.type)yield{ClientSessionInformationEvent:n.data};else{if("streamVideo"===n.type&&n.data.size<1)continue;yield{VideoEvent:yield EM(CM(n))}}}});return function(){return e.apply(this,arguments)}}()}}(l.getVideoStream()).getRequestStream(),{getResponseStream:c}=await nB({credentialsProvider:r,endpointOverride:a,region:e.componentProps.region,attemptCount:eB.getAttemptCountAndUpdateTimestamp(),preCheckViewEnabled:!n,systemClockOffset:o});return CB=c({requestStream:u,sessionId:e.componentProps.sessionId,videoHeight:i.toString(),videoWidth:s.toString()}),{livenessStreamProvider:l}},async detectFace(e){const{videoEl:t}=e.videoAssociatedParams,{faceDetector:n}=e.ovalAssociatedParams;try{await n.modelLoadingPromise}catch(uq){console.log({err:uq})}const r=await async function(e,t){let n;switch((await e.detectFaces(t)).length){case 0:n=Bn.CANT_IDENTIFY;break;case 1:n=Bn.FACE_IDENTIFIED;break;default:n=Bn.TOO_MANY}return n}(n,t);return{faceMatchState:r}},async detectFaceDistance(e){const{parsedSessionInformation:t,isFaceFarEnoughBeforeRecording:n}=e,{videoEl:r,videoMediaStream:a}=e.videoAssociatedParams,{faceDetector:o}=e.ovalAssociatedParams,{width:i,height:s}=a.getTracks()[0].getSettings(),l=ur({width:i,height:s,ovalHeightWidthRatio:t.Challenge.ChallengeConfig.OvalHeightWidthRatio}),{isDistanceBelowThreshold:u}=await async function(e){let{parsedSessionInformation:t,faceDetector:n,videoEl:r,ovalDetails:a,reduceThreshold:o=!1}=e;const i=t.Challenge.ChallengeConfig,{FaceDistanceThresholdMin:s,FaceDistanceThreshold:l}=i,u=await n.detectFaces(r);let c,d,p=!1;switch(u.length){case 0:d=Kn;break;case 1:{c=u[0];const{width:e}=a,{pupilDistance:t,faceHeight:n}=pr(c);e&&(p=(2*t+1.8*n)/2/2/e<(o?l:s),p||(d=Kn));break}default:d=Yn}return{isDistanceBelowThreshold:p,error:d}}({parsedSessionInformation:t,faceDetector:o,videoEl:r,ovalDetails:l,reduceThreshold:n});return{isFaceFarEnoughBeforeRecording:u}},async detectInitialFaceAndDrawOval(e){const{parsedSessionInformation:t}=e,{videoEl:n,canvasEl:r,isMobile:a}=e.videoAssociatedParams,{faceDetector:o}=e.ovalAssociatedParams;try{await o.modelLoadingPromise}catch(uq){console.log({err:uq})}const i=await o.detectFaces(n);let s,l,u;switch(i.length){case 0:l=Bn.CANT_IDENTIFY,u=fr(n);break;case 1:l=Bn.FACE_IDENTIFIED,s=i[0];break;default:l=Bn.TOO_MANY}if(!s)return{faceMatchState:l,illuminationState:u};const{width:c,height:d}=n.getBoundingClientRect();a?(r.width=window.innerWidth,r.height=window.innerHeight):(r.width=c,r.height=d);const p=c/n.videoWidth,h=function(e){let{parsedSessionInformation:t,videoWidth:n}=e;const r=t.Challenge.OvalParameters;if(!r||!r.CenterX||!r.CenterY||!r.Width||!r.Height)throw new Error("Oval parameters not returned from session information.");return{flippedCenterX:n-r.CenterX,centerX:r.CenterX,centerY:r.CenterY,width:r.Width,height:r.Height}}({parsedSessionInformation:t,videoWidth:n.width}),f=hr({ovalHeightWidthRatio:t.Challenge.ChallengeConfig.OvalHeightWidthRatio,face:s,oval:h,frameHeight:n.videoHeight});return s.top=f.top,s.left=f.left,s.height=f.bottom-f.top,s.width=f.right-f.left,cr({canvas:r,oval:h,scaleFactor:p,videoEl:n}),{faceMatchState:l,ovalDetails:h,scaleFactor:p,initialFace:s}},async detectFaceAndMatchOval(e){const{parsedSessionInformation:t}=e,{videoEl:n}=e.videoAssociatedParams,{faceDetector:r,ovalDetails:a,initialFace:o}=e.ovalAssociatedParams,i=await r.detectFaces(n);let s,l,u,c=0;const d=hr({ovalHeightWidthRatio:t.Challenge.ChallengeConfig.OvalHeightWidthRatio,face:o,oval:a,frameHeight:n.videoHeight}),{ovalBoundingBox:p}=sr(a),h=lr(d,p);switch(i.length){case 0:s=Bn.CANT_IDENTIFY,u=fr(n);break;case 1:{l=i[0];const{faceMatchState:e,faceMatchPercentage:r}=function(e){let t,{face:n,ovalDetails:r,initialFaceIntersection:a,parsedSessionInformation:o,frameHeight:i}=e;const s=o.Challenge.ChallengeConfig;if(!s||!s.OvalIouThreshold||!s.OvalIouHeightThreshold||!s.OvalIouWidthThreshold||!s.FaceIouHeightThreshold||!s.FaceIouWidthThreshold)throw new Error("Challenge information not returned from session information.");const{OvalIouThreshold:l,FaceIouHeightThreshold:u,FaceIouWidthThreshold:c,OvalHeightWidthRatio:d}=s,p=hr({ovalHeightWidthRatio:d,face:n,oval:r,frameHeight:i}),h=p.left,f=p.right,m=p.top,g=p.bottom,{ovalBoundingBox:v,minOvalX:y,minOvalY:b,maxOvalX:w,maxOvalY:k}=sr(r),S=lr(p,v),x=l,I=r.width*c,_=r.height*u,E=100*Math.max(Math.min(1,.75*(S-a)/(x-a)+.25),0),T=y>h&&w>f,N=h>y&&f>w,C=b-m>_||g-k>_||y-h>I&&f-w>I;return t=S>x?Bn.MATCHED:T||N?Bn.OFF_CENTER:C?Bn.MATCHED:Bn.TOO_FAR,{faceMatchState:t,faceMatchPercentage:E}}({face:l,ovalDetails:a,initialFaceIntersection:h,parsedSessionInformation:t,frameHeight:n.videoHeight});s=e,c=r;break}default:s=Bn.TOO_MANY}return{faceMatchState:s,faceMatchPercentage:c,illuminationState:u,detectedFace:l}},async flashColors(e){let{challengeId:t,colorSequenceDisplay:n,freshnessColorAssociatedParams:r,livenessStreamProvider:a,ovalAssociatedParams:o,videoAssociatedParams:i}=e;const{freshnessColorsComplete:s,freshnessColorEl:l}=r;if(s)return;const{ovalDetails:u,scaleFactor:c}=o,{videoEl:d}=i,p=await n.startSequences({onSequenceColorChange:e=>{let{sequenceColor:t,prevSequenceColor:n,heightFraction:r}=e;!function(e){let{overlayCanvas:t,prevColor:n,nextColor:r,videoEl:a,ovalDetails:o,heightFraction:i,scaleFactor:s}=e;const{x:l,y:u}=a.getBoundingClientRect(),{flippedCenterX:c,centerY:d,width:p,height:h}=o,f=c*s+l,m=d*s+u,g=t.width,v=t.height,y=t.getContext("2d");if(!y)throw new Error("Cannot find Overlay Canvas.");y.canvas.width=window.innerWidth,y.canvas.height=window.innerHeight,y.clearRect(0,0,g,v),mr({ctx:y,prevColor:n,nextColor:r,fraction:i}),y.save(),y.beginPath(),y.rect(0,0,g,v),y.clip(),y.clearRect(0,0,g,v),y.globalAlpha=.9,mr({ctx:y,prevColor:n,nextColor:r,fraction:i}),y.beginPath(),y.ellipse(f,m,p*s/2,h*s/2,0,0,2*Math.PI),y.strokeStyle="white",y.lineWidth=8,y.stroke(),y.clip(),y.clearRect(0,0,g,v),y.globalAlpha=.75,mr({ctx:y,prevColor:n,nextColor:r,fraction:i}),y.restore()}({heightFraction:r,overlayCanvas:l,ovalDetails:u,nextColor:t,prevColor:n,scaleFactor:c,videoEl:d})},onSequenceStart:()=>{l.style.display="block"},onSequencesComplete:()=>{l.style.display="none"},onSequenceChange:e=>{a.dispatchStreamEvent({type:"sessionInfo",data:zM(M(M({},e),{},{challengeId:t}))})}});return{freshnessColorsComplete:p}},async stopVideo(e){const{challengeId:t,parsedSessionInformation:n,faceMatchAssociatedParams:r,ovalAssociatedParams:a,livenessStreamProvider:o,videoAssociatedParams:i}=e,{videoMediaStream:s}=i;if(await o.stopRecording(),0===o.getChunksLength())throw new Error("Video chunks not recorded successfully.");o.dispatchStreamEvent({type:"sessionInfo",data:DM(M(M({},MM(s)),{},{parsedSessionInformation:n,challengeId:t,faceMatchAssociatedParams:r,ovalAssociatedParams:a,recordingEndedTimestamp:o.getRecordingEndedTimestamp()}))}),o.dispatchStreamEvent({type:"streamStop"})},async getLiveness(e){const{onAnalysisComplete:t}=e.componentProps;await t()}}},new Ln(FB,RB));var FB,RB,DB=n(940);const PB=/\{([^}]+)\}/g;function LB(e){const t=new RegExp(PB);if("string"===typeof e)return t.test(e);if("object"===typeof e){let t=!1;for(const n in e)if(sM(e,n)){if(LB(e[n])){t=!0;break}}return t}return!1}const zB="amplify";function BB(e){return Object.entries(e).map(e=>{let[t,n]=e;const r=HB(n)?n.toString():jB({value:n});return"".concat(DB(t),":").concat(r,"; ")}).join(" ")}function WB(e){let{path:t=[]}=e;return"".concat(DB([zB,...t].join(" ")))}const UB=["offsetX","offsetY","blurRadius","spreadRadius","color"];function jB(e){const{value:t}=e;return oM(t)?qB(t):VB(t)?UB.map(n=>qB(VB(e)?e[n]:t[n])).join(" "):t}function HB(e){return aM(e)&&sM(e,"value")}function VB(e){return aM(e)&&sM(e,"offsetX")}function qB(e){if(!e)return"";if(LB(e)){const t=e.replace(/\{|\}/g,"").replace(".value","").split(".");return"var(--".concat(WB({path:t}),")")}return e}const GB=e=>{let{token:t,path:n}=e;const r="--".concat(WB({path:n})),{value:a}=t,o=jB(t);return{name:r,original:a,path:n,value:o,toString:()=>"var(".concat(r,")")}};function KB(e){let{tokens:t,path:n=[],setupToken:r}=e;if(sM(t,"value"))return r({token:t,path:n});const a={};for(const o in t)if(sM(t,o)){const e=t[o],i=aM(e)?e:{value:e};a[o]=KB({tokens:i,path:n.concat(o),setupToken:r})}return a}function $B(e,t){for(var n in t=t||[],e)sM(e,n)&&(aM(e[n])&&"value"in e[n]?t.push(e[n]):aM(e[n])&&$B(e[n],t));return t}function YB(e,t,n){if(null==e)return{};var r,a,o,i,s,l,u=e[0]||{},c=1,d=e.length;for(n=n||[],"object"!==typeof u&&(u={});c<d;c++)if(null!=(s=e[c]))for(i in s)if(sM(s,i)&&"__proto__"!==i&&(r=u[i],u!==(o=s[i])))if(o&&(aM(o)||(a=Array.isArray(o)))){a?(a=!1,l=r&&Array.isArray(r)?r:[]):l=r&&aM(r)?r:{};var p=n.slice(0);p.push(i),u[i]=YB([l,o],t,p)}else void 0!==o&&(null!=r&&"function"==typeof t&&t({target:u,copy:s,path:n,key:i}),u[i]=o);return u}const QB={alignContent:"alignContent",alignItems:"alignItems",alignSelf:"alignSelf",area:"gridArea",aspectRatio:"aspectRatio",autoColumns:"gridAutoColumns",autoFlow:"gridAutoFlow",autoRows:"gridAutoRows",backgroundColor:"backgroundColor",backgroundImage:"backgroundImage",basis:"flexBasis",border:"border",borderRadius:"borderRadius",borderColor:"borderColor",borderWidth:"borderWidth",borderStyle:"borderStyle",bottom:"bottom",boxShadow:"boxShadow",color:"color",column:"gridColumn",columnEnd:"gridColumnEnd",columnGap:"columnGap",columnSpan:"gridColumn",columnStart:"gridColumnStart",direction:"flexDirection",display:"display",flex:"flex",fontFamily:"fontFamily",fontSize:"fontSize",fontStyle:"fontStyle",fontWeight:"fontWeight",gap:"gap",grow:"flexGrow",height:"height",justifyContent:"justifyContent",left:"left",letterSpacing:"letterSpacing",lineHeight:"lineHeight",margin:"margin",marginBlock:"marginBlock",marginBlockEnd:"marginBlockEnd",marginBlockStart:"marginBlockStart",marginBottom:"marginBlockEnd",marginInline:"marginInline",marginInlineEnd:"marginInlineEnd",marginInlineStart:"marginInlineStart",marginLeft:"marginInlineStart",marginRight:"marginInlineEnd",marginTop:"marginBlockStart",maxHeight:"maxHeight",maxWidth:"maxWidth",minHeight:"minHeight",minWidth:"minWidth",objectFit:"objectFit",objectPosition:"objectPosition",opacity:"opacity",order:"order",overflow:"overflow",padding:"padding",paddingBlock:"paddingBlock",paddingBlockEnd:"paddingBlockEnd",paddingBlockStart:"paddingBlockStart",paddingBottom:"paddingBlockEnd",paddingInline:"paddingInline",paddingInlineEnd:"paddingInlineEnd",paddingInlineStart:"paddingInlineStart",paddingLeft:"paddingInlineStart",paddingRight:"paddingInlineEnd",paddingTop:"paddingBlockStart",position:"position",resize:"resize",right:"right",row:"gridRow",rowEnd:"gridRowEnd",rowGap:"rowGap",rowSpan:"gridRow",rowStart:"gridRowStart",shrink:"flexShrink",templateAreas:"gridTemplateAreas",templateColumns:"gridTemplateColumns",templateRows:"gridTemplateRows",textAlign:"textAlign",textDecoration:"textDecoration",textTransform:"textTransform",top:"top",transform:"transform",transformOrigin:"transformOrigin",width:"width",whiteSpace:"whiteSpace",wrap:"flexWrap"},XB=(Object.keys(QB),{small:{value:"1px"},medium:{value:"2px"},large:{value:"3px"}}),JB={red:{10:{value:"hsl(0, 75%, 95%)"},20:{value:"hsl(0, 75%, 85%)"},40:{value:"hsl(0, 75%, 75%)"},60:{value:"hsl(0, 50%, 50%)"},80:{value:"hsl(0, 95%, 30%)"},90:{value:"hsl(0, 100%, 20%)"},100:{value:"hsl(0, 100%, 15%)"}},orange:{10:{value:"hsl(30, 75%, 95%)"},20:{value:"hsl(30, 75%, 85%)"},40:{value:"hsl(30, 75%, 75%)"},60:{value:"hsl(30, 50%, 50%)"},80:{value:"hsl(30, 95%, 30%)"},90:{value:"hsl(30, 100%, 20%)"},100:{value:"hsl(30, 100%, 15%)"}},yellow:{10:{value:"hsl(60, 75%, 95%)"},20:{value:"hsl(60, 75%, 85%)"},40:{value:"hsl(60, 75%, 75%)"},60:{value:"hsl(60, 50%, 50%)"},80:{value:"hsl(60, 95%, 30%)"},90:{value:"hsl(60, 100%, 20%)"},100:{value:"hsl(60, 100%, 15%)"}},green:{10:{value:"hsl(130, 60%, 95%)"},20:{value:"hsl(130, 60%, 90%)"},40:{value:"hsl(130, 44%, 63%)"},60:{value:"hsl(130, 43%, 46%)"},80:{value:"hsl(130, 33%, 37%)"},90:{value:"hsl(130, 27%, 29%)"},100:{value:"hsl(130, 22%, 23%)"}},teal:{10:{value:"hsl(190, 75%, 95%)"},20:{value:"hsl(190, 75%, 85%)"},40:{value:"hsl(190, 70%, 70%)"},60:{value:"hsl(190, 50%, 50%)"},80:{value:"hsl(190, 95%, 30%)"},90:{value:"hsl(190, 100%, 20%)"},100:{value:"hsl(190, 100%, 15%)"}},blue:{10:{value:"hsl(220, 95%, 95%)"},20:{value:"hsl(220, 85%, 85%)"},40:{value:"hsl(220, 70%, 70%)"},60:{value:"hsl(220, 50%, 50%)"},80:{value:"hsl(220, 95%, 30%)"},90:{value:"hsl(220, 100%, 20%)"},100:{value:"hsl(220, 100%, 15%)"}},purple:{10:{value:"hsl(300, 95%, 95%)"},20:{value:"hsl(300, 85%, 85%)"},40:{value:"hsl(300, 70%, 70%)"},60:{value:"hsl(300, 50%, 50%)"},80:{value:"hsl(300, 95%, 30%)"},90:{value:"hsl(300, 100%, 20%)"},100:{value:"hsl(300, 100%, 15%)"}},pink:{10:{value:"hsl(340, 95%, 95%)"},20:{value:"hsl(340, 90%, 85%)"},40:{value:"hsl(340, 70%, 70%)"},60:{value:"hsl(340, 50%, 50%)"},80:{value:"hsl(340, 95%, 30%)"},90:{value:"hsl(340, 100%, 20%)"},100:{value:"hsl(340, 100%, 15%)"}},neutral:{10:{value:"hsl(210, 5%, 98%)"},20:{value:"hsl(210, 5%, 94%)"},40:{value:"hsl(210, 5%, 87%)"},60:{value:"hsl(210, 10%, 58%)"},80:{value:"hsl(210, 10%, 40%)"},90:{value:"hsl(210, 25%, 25%)"},100:{value:"hsl(210, 50%, 10%)"}},primary:{10:{value:"{colors.teal.10.value}"},20:{value:"{colors.teal.20.value}"},40:{value:"{colors.teal.40.value}"},60:{value:"{colors.teal.60.value}"},80:{value:"{colors.teal.80.value}"},90:{value:"{colors.teal.90.value}"},100:{value:"{colors.teal.100.value}"}},secondary:{10:{value:"{colors.purple.10.value}"},20:{value:"{colors.purple.20.value}"},40:{value:"{colors.purple.40.value}"},60:{value:"{colors.purple.60.value}"},80:{value:"{colors.purple.80.value}"},90:{value:"{colors.purple.90.value}"},100:{value:"{colors.purple.100.value}"}},font:{primary:{value:"{colors.neutral.100.value}"},secondary:{value:"{colors.neutral.90.value}"},tertiary:{value:"{colors.neutral.80.value}"},disabled:{value:"{colors.neutral.60.value}"},inverse:{value:"{colors.white.value}"},interactive:{value:"{colors.primary.80.value}"},hover:{value:"{colors.primary.90.value}"},focus:{value:"{colors.primary.100.value}"},active:{value:"{colors.primary.100.value}"},info:{value:"{colors.blue.90.value}"},warning:{value:"{colors.orange.90.value}"},error:{value:"{colors.red.90.value}"},success:{value:"{colors.green.90.value}"}},background:{primary:{value:"{colors.white.value}"},secondary:{value:"{colors.neutral.10.value}"},tertiary:{value:"{colors.neutral.20.value}"},quaternary:{value:"{colors.neutral.60.value}"},disabled:{value:"{colors.background.tertiary.value}"},info:{value:"{colors.blue.10.value}"},warning:{value:"{colors.orange.10.value}"},error:{value:"{colors.red.10.value}"},success:{value:"{colors.green.10.value}"}},border:{primary:{value:"{colors.neutral.60.value}"},secondary:{value:"{colors.neutral.40.value}"},tertiary:{value:"{colors.neutral.20.value}"},disabled:{value:"{colors.border.tertiary.value}"},pressed:{value:"{colors.primary.100.value}"},focus:{value:"{colors.primary.100.value}"},error:{value:"{colors.red.80.value}"},info:{value:"{colors.blue.80.value}"},success:{value:"{colors.green.80.value}"},warning:{value:"{colors.orange.80.value}"}},shadow:{primary:{value:"hsla(210, 50%, 10%, 0.25)"},secondary:{value:"hsla(210, 50%, 10%, 0.15)"},tertiary:{value:"hsla(210, 50%, 10%, 0.05)"}},overlay:{5:{value:"hsla(0, 0%, 0%, 0.05)"},10:{value:"hsla(0, 0%, 0%, 0.1)"},20:{value:"hsla(0, 0%, 0%, 0.2)"},30:{value:"hsla(0, 0%, 0%, 0.3)"},40:{value:"hsla(0, 0%, 0%, 0.4)"},50:{value:"hsla(0, 0%, 0%, 0.5)"},60:{value:"hsla(0, 0%, 0%, 0.6)"},70:{value:"hsla(0, 0%, 0%, 0.7)"},80:{value:"hsla(0, 0%, 0%, 0.8)"},90:{value:"hsla(0, 0%, 0%, 0.9)"}},black:{value:"hsl(0, 0%, 0%)"},white:{value:"hsl(0, 0%, 100%)"},transparent:{value:"transparent"}},ZB={xxxs:{value:"0.375rem"},xxs:{value:"0.5rem"},xs:{value:"0.75rem"},small:{value:"0.875rem"},medium:{value:"1rem"},large:{value:"1.25rem"},xl:{value:"1.5rem"},xxl:{value:"2rem"},xxxl:{value:"2.5rem"},xxxxl:{value:"3rem"}},eW={hairline:{value:100},thin:{value:200},light:{value:300},normal:{value:400},medium:{value:500},semibold:{value:600},bold:{value:700},extrabold:{value:800},black:{value:900}},tW={0:{value:"0"},10:{value:"0.1"},20:{value:"0.2"},30:{value:"0.3"},40:{value:"0.4"},50:{value:"0.5"},60:{value:"0.6"},70:{value:"0.7"},80:{value:"0.8"},90:{value:"0.9"},100:{value:"1"}},nW={xs:{value:"0.125rem"},small:{value:"0.25rem"},medium:{value:"0.5rem"},large:{value:"1rem"},xl:{value:"2rem"},xxl:{value:"4rem"},xxxl:{value:"8rem"}},rW={zero:{value:"0"},xxxs:{value:"0.25rem"},xxs:{value:"0.375rem"},xs:{value:"0.5rem"},small:{value:"0.75rem"},medium:{value:"1rem"},large:{value:"1.5rem"},xl:{value:"2.0rem"},xxl:{value:"3.0rem"},xxxl:{value:"4.5rem"},relative:{xxxs:{value:"0.25em"},xxs:{value:"0.375em"},xs:{value:"0.5em"},small:{value:"0.75em"},medium:{value:"1em"},large:{value:"1.5em"},xl:{value:"2.0em"},xxl:{value:"3.0em"},xxxl:{value:"4.5em"},full:{value:"100%"}}},aW={short:{value:"100ms"},medium:{value:"250ms"},long:{value:"500ms"}},oW={tokens:{components:{accordion:{backgroundColor:{value:"{colors.background.primary.value}"},item:{borderColor:{value:"{colors.border.secondary.value}"},borderWidth:{value:"{borderWidths.small.value}"},borderStyle:{value:"solid"},borderRadius:{value:"{radii.small.value}"},trigger:{alignItems:{value:"center"},backgroundColor:{value:"{colors.background.primary.value}"},color:{value:"inherit"},gap:{value:"{space.small.value}"},justifyContent:{value:"space-between"},paddingBlock:{value:"{space.xs.value}"},paddingInline:{value:"{space.small.value}"},_hover:{color:{value:"inherit"},backgroundColor:{value:"{colors.overlay.5.value}"}},_focus:{borderColor:{value:"{colors.border.focus.value}"},boxShadow:{value:{offsetX:"0",offsetY:"0",blurRadius:"0",spreadRadius:"2px",color:"{colors.border.focus.value}"}}}},content:{color:{value:"inherit"},paddingInline:{value:"{space.small.value}"},paddingBlockEnd:{value:"{space.small.value}"},paddingBlockStart:{value:"{space.xxxs.value}"}},icon:{color:{value:"{colors.font.tertiary.value}"},transitionDuration:{value:"{time.medium.value}"},transitionTimingFunction:{value:"cubic-bezier(0.87, 0, 0.13, 1)"}}}},aiConversation:{message:{backgroundColor:{value:"{colors.background.secondary.value}"},borderRadius:{value:"{radii.large.value}"},gap:{value:"{space.small.value}"},paddingBlock:{value:"{space.small.value}"},paddingInline:{value:"{space.small.value}"},user:{backgroundColor:{value:"{colors.background.secondary.value}"}},assistant:{backgroundColor:{value:"{colors.primary.10.value}"}},sender:{gap:{value:"{space.small.value}"},username:{color:{value:"{colors.font.primary.value}"},fontSize:{value:"inherit"},fontWeight:{value:"{fontWeights.bold.value}"}},timestamp:{color:{value:"{colors.font.tertiary.value}"},fontSize:{value:"inherit"},fontWeight:{value:"inherit"}}},body:{gap:{value:"{space.xs.value}"}},actions:{gap:{value:"{space.xs.value}"}}},form:{gap:{value:"{space.small.value}"},padding:{value:"{space.small.value}"}},attachment:{borderColor:{value:"{colors.border.secondary.value}"},borderWidth:{value:"{borderWidths.small.value}"},borderRadius:{value:"{radii.small.value}"},fontSize:{value:"{fontSizes.small.value}"},paddingBlock:{value:"{space.xxxs.value}"},paddingInline:{value:"{space.xs.value}"},gap:{value:"{space.xs.value}"},list:{padding:{value:"{space.xs.value}"},paddingBlockStart:{value:"0"},gap:{value:"{space.xxs.value}"}},name:{color:{value:"{colors.font.primary.value}"},fontSize:{value:"{fontSizes.small.value}"},fontWeight:{value:"{fontWeights.normal.value}"}},size:{color:{value:"{colors.font.tertiary.value}"},fontSize:{value:"{fontSizes.small.value}"},fontWeight:{value:"{fontWeights.normal.value}"}},remove:{padding:{value:"{space.xxs.value}"}},image:{width:{value:"{fontSizes.medium.value}"},height:{value:"{fontSizes.medium.value}"}}}},alert:{alignItems:{value:"center"},justifyContent:{value:"space-between"},color:{value:"{colors.font.primary.value}"},backgroundColor:{value:"{colors.background.tertiary.value}"},paddingBlock:{value:"{space.small.value}"},paddingInline:{value:"{space.medium.value}"},icon:{size:{value:"{fontSizes.xl.value}"}},heading:{fontSize:{value:"{fontSizes.medium.value}"},fontWeight:{value:"{fontWeights.bold.value}"}},info:{color:{value:"{colors.font.info.value}"},backgroundColor:{value:"{colors.background.info.value}"}},error:{color:{value:"{colors.font.error.value}"},backgroundColor:{value:"{colors.background.error.value}"}},warning:{color:{value:"{colors.font.warning.value}"},backgroundColor:{value:"{colors.background.warning.value}"}},success:{color:{value:"{colors.font.success.value}"},backgroundColor:{value:"{colors.background.success.value}"}}},authenticator:{maxWidth:{value:"60rem"},modal:{width:{value:"{space.relative.full}"},height:{value:"{space.relative.full}"},backgroundColor:{value:"{colors.overlay.50.value}"},top:{value:"{space.zero}"},left:{value:"{space.zero}"}},container:{widthMax:{value:"30rem"}},router:{borderWidth:{value:"{borderWidths.small.value}"},borderStyle:{value:"solid"},borderColor:{value:"{colors.border.primary.value}"},backgroundColor:{value:"{colors.background.primary.value}"},boxShadow:{value:"{shadows.medium.value}"}},footer:{paddingBottom:{value:"{space.medium.value}"}},form:{padding:{value:"{space.xl.value}"}},state:{inactive:{backgroundColor:{value:"{colors.background.secondary.value}"}}},orContainer:{color:{value:"{colors.neutral.80.value}"},orLine:{backgroundColor:{value:"{colors.background.primary.value}"}}}},autocomplete:{menu:{width:{value:"100%"},marginBlockStart:{value:"{space.xxxs}"},backgroundColor:{value:"{colors.background.primary}"},borderColor:{value:"{colors.border.primary}"},borderWidth:{value:"{borderWidths.small}"},borderStyle:{value:"solid"},borderRadius:{value:"{radii.small}"},options:{display:{value:"flex"},flexDirection:{value:"column"},maxHeight:{value:"300px"}},option:{backgroundColor:{value:"{colors.background.primary}"},color:{value:"currentcolor"},cursor:{value:"pointer"},transitionDuration:{value:"{time.short}"},transitionProperty:{value:"background-color, color"},transitionTimingFunction:{value:"ease"},_active:{backgroundColor:{value:"{colors.primary.80}"},color:{value:"{colors.white}"}}},_empty:{display:{value:"flex"}},_loading:{alignItems:{value:"center"},display:{value:"flex"},gap:{value:"{space.xxxs}"}},spaceShared:{paddingBlock:{value:"{space.xs}"},paddingInline:{value:"{space.small}"}}}},avatar:{color:{value:"{colors.font.tertiary.value}"},lineHeight:{value:1},fontWeight:{value:"{fontWeights.semibold.value}"},fontSize:{value:"{fontSizes.small.value}"},textAlign:{value:"center"},width:{value:"{fontSizes.xxl.value}"},height:{value:"{fontSizes.xxl.value}"},backgroundColor:{value:"{colors.background.tertiary}"},borderRadius:{value:"100%"},borderColor:{value:"{colors.border.primary.value}"},borderWidth:{value:"{borderWidths.medium.value}"},info:{color:{value:"{colors.font.info.value}"},backgroundColor:{value:"{colors.background.info.value}"},borderColor:{value:"{colors.border.info.value}"}},warning:{color:{value:"{colors.font.warning.value}"},backgroundColor:{value:"{colors.background.warning.value}"},borderColor:{value:"{colors.border.warning.value}"}},success:{color:{value:"{colors.font.success.value}"},backgroundColor:{value:"{colors.background.success.value}"},borderColor:{value:"{colors.border.success.value}"}},error:{color:{value:"{colors.font.error.value}"},backgroundColor:{value:"{colors.background.error.value}"},borderColor:{value:"{colors.border.error.value}"}},small:{fontSize:{value:"{fontSizes.xs.value}"},width:{value:"{fontSizes.xl.value}"},height:{value:"{fontSizes.xl.value}"}},large:{fontSize:{value:"{fontSizes.medium.value}"},width:{value:"{fontSizes.xxxl.value}"},height:{value:"{fontSizes.xxxl.value}"}}},badge:{color:{value:"{colors.font.primary.value}"},lineHeight:{value:1},fontWeight:{value:"{fontWeights.semibold.value}"},fontSize:{value:"{fontSizes.small.value}"},textAlign:{value:"center"},paddingVertical:{value:"{space.xs.value}"},paddingHorizontal:{value:"{space.small.value}"},backgroundColor:{value:"{colors.background.tertiary.value}"},borderRadius:{value:"{radii.xl.value}"},info:{color:{value:"{colors.font.info.value}"},backgroundColor:{value:"{colors.background.info.value}"}},warning:{color:{value:"{colors.font.warning.value}"},backgroundColor:{value:"{colors.background.warning.value}"}},success:{color:{value:"{colors.font.success.value}"},backgroundColor:{value:"{colors.background.success.value}"}},error:{color:{value:"{colors.font.error.value}"},backgroundColor:{value:"{colors.background.error.value}"}},small:{fontSize:{value:"{fontSizes.xs.value}"},paddingVertical:{value:"{space.xxs.value}"},paddingHorizontal:{value:"{space.xs.value}"}},large:{fontSize:{value:"{fontSizes.medium.value}"},paddingVertical:{value:"{space.small.value}"},paddingHorizontal:{value:"{space.medium.value}"}}},breadcrumbs:{flexDirection:{value:"row"},flexWrap:{value:"wrap"},gap:{value:"0"},color:{value:"{colors.font.tertiary}"},item:{flexDirection:{value:"row"},color:{value:"inherit"},fontSize:{value:"inherit"},alignItems:{value:"center"},lineHeight:{value:"1"}},separator:{color:{value:"inherit"},fontSize:{value:"inherit"},paddingInline:{value:"{space.xxs}"}},link:{color:{value:"{components.link.color}"},fontSize:{value:"inherit"},fontWeight:{value:"normal"},textDecoration:{value:"none"},paddingInline:{value:"{space.xs}"},paddingBlock:{value:"{space.xxs}"},current:{color:{value:"inherit"},fontSize:{value:"inherit"},fontWeight:{value:"normal"},textDecoration:{value:"none"}}}},button:{fontWeight:{value:"{fontWeights.bold.value}"},transitionDuration:{value:"{components.fieldcontrol.transitionDuration.value}"},fontSize:{value:"{components.fieldcontrol.fontSize.value}"},lineHeight:{value:"{components.fieldcontrol.lineHeight.value}"},paddingBlockStart:{value:"{components.fieldcontrol.paddingBlockStart.value}"},paddingBlockEnd:{value:"{components.fieldcontrol.paddingBlockEnd.value}"},paddingInlineStart:{value:"{components.fieldcontrol.paddingInlineStart.value}"},paddingInlineEnd:{value:"{components.fieldcontrol.paddingInlineEnd.value}"},backgroundColor:{value:"transparent"},borderColor:{value:"{components.fieldcontrol.borderColor.value}"},borderWidth:{value:"{components.fieldcontrol.borderWidth.value}"},borderStyle:{value:"{components.fieldcontrol.borderStyle.value}"},borderRadius:{value:"{components.fieldcontrol.borderRadius.value}"},color:{value:"{colors.font.primary.value}"},_hover:{color:{value:"{colors.font.focus.value}"},backgroundColor:{value:"{colors.primary.10.value}"},borderColor:{value:"{colors.primary.60.value}"}},_focus:{color:{value:"{colors.font.focus.value}"},backgroundColor:{value:"{colors.primary.10.value}"},borderColor:{value:"{colors.border.focus.value}"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"}},_active:{color:{value:"{colors.font.active.value}"},backgroundColor:{value:"{colors.primary.20.value}"},borderColor:{value:"{colors.primary.100.value}"}},_loading:{color:{value:"{colors.font.disabled.value}"},backgroundColor:{value:"transparent"},borderColor:{value:"{colors.border.tertiary.value}"}},_disabled:{color:{value:"{colors.font.disabled.value}"},backgroundColor:{value:"transparent"},borderColor:{value:"{colors.border.tertiary.value}"}},outlined:{info:{borderColor:{value:"{colors.blue.60.value}"},backgroundColor:{value:"transparent"},color:{value:"{colors.blue.100}"},_hover:{borderColor:{value:"{colors.blue.60.value}"},backgroundColor:{value:"{colors.blue.10.value}"},color:{value:"{colors.blue.100.value}"}},_focus:{borderColor:{value:"{colors.blue.100.value}"},backgroundColor:{value:"{colors.blue.10.value}"},color:{value:"{colors.blue.100.value}"},boxShadow:{value:"{components.fieldcontrol.info._focus.boxShadow.value}"}},_active:{borderColor:{value:"{colors.blue.100.value}"},backgroundColor:{value:"{colors.blue.20.value}"},color:{value:"{colors.blue.100.value}"}}},warning:{borderColor:{value:"{colors.orange.60.value}"},backgroundColor:{value:"transparent"},color:{value:"{colors.orange.100}"},_hover:{borderColor:{value:"{colors.orange.60.value}"},backgroundColor:{value:"{colors.orange.10.value}"},color:{value:"{colors.orange.100.value}"}},_focus:{borderColor:{value:"{colors.orange.100.value}"},backgroundColor:{value:"{colors.orange.10.value}"},color:{value:"{colors.orange.100.value}"},boxShadow:{value:"{components.fieldcontrol.warning._focus.boxShadow.value}"}},_active:{borderColor:{value:"{colors.orange.100.value}"},backgroundColor:{value:"{colors.orange.20.value}"},color:{value:"{colors.orange.100.value}"}}},success:{borderColor:{value:"{colors.green.60.value}"},backgroundColor:{value:"transparent"},color:{value:"{colors.green.100}"},_hover:{borderColor:{value:"{colors.green.60.value}"},backgroundColor:{value:"{colors.green.10.value}"},color:{value:"{colors.green.100.value}"}},_focus:{borderColor:{value:"{colors.green.100.value}"},backgroundColor:{value:"{colors.green.10.value}"},color:{value:"{colors.green.100.value}"},boxShadow:{value:"{components.fieldcontrol.success._focus.boxShadow.value}"}},_active:{borderColor:{value:"{colors.green.100.value}"},backgroundColor:{value:"{colors.green.20.value}"},color:{value:"{colors.green.100.value}"}}},error:{borderColor:{value:"{colors.red.80.value}"},backgroundColor:{value:"transparent"},color:{value:"{colors.red.100}"},_hover:{borderColor:{value:"{colors.red.80.value}"},backgroundColor:{value:"{colors.red.10.value}"},color:{value:"{colors.red.100.value}"}},_focus:{borderColor:{value:"{colors.red.100.value}"},backgroundColor:{value:"{colors.red.10.value}"},color:{value:"{colors.red.100.value}"},boxShadow:{value:"{components.fieldcontrol._error._focus.boxShadow.value}"}},_active:{borderColor:{value:"{colors.red.100.value}"},backgroundColor:{value:"{colors.red.20.value}"},color:{value:"{colors.red.100.value}"}}},overlay:{borderColor:{value:"{colors.overlay.60.value}"},backgroundColor:{value:"transparent"},color:{value:"{colors.font.primary.value}"},_hover:{borderColor:{value:"{colors.overlay.60.value}"},backgroundColor:{value:"{colors.overlay.5.value}"},color:{value:"{colors.neutral.90.value}"}},_focus:{borderColor:{value:"{colors.overlay.90.value}"},backgroundColor:{value:"{colors.overlay.5.value}"},color:{value:"{colors.neutral.90.value}"},boxShadow:{value:"{components.fieldcontrol.overlay._focus.boxShadow.value}"}},_active:{borderColor:{value:"{colors.overlay.90.value}"},backgroundColor:{value:"{colors.overlay.10.value}"},color:{value:"{colors.neutral.100.value}"}}}},primary:{borderColor:{value:"transparent"},borderWidth:{value:"{borderWidths.small.value}"},borderStyle:{value:"solid"},backgroundColor:{value:"{colors.primary.80.value}"},color:{value:"{colors.font.inverse.value}"},_disabled:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.background.disabled.value}"},color:{value:"{colors.font.disabled.value}"}},_loading:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.background.disabled.value}"},color:{value:"{colors.font.disabled.value}"}},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.primary.90.value}"},color:{value:"{colors.font.inverse.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.primary.90.value}"},color:{value:"{colors.font.inverse.value}"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.primary.100.value}"},color:{value:"{colors.font.inverse.value}"}},info:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.blue.80}"},color:{value:"{colors.font.inverse.value}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.blue.90.value}"},color:{value:"{colors.font.inverse.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.blue.90.value}"},color:{value:"{colors.font.inverse.value}"},boxShadow:{value:"{components.fieldcontrol.info._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.blue.100.value}"},color:{value:"{colors.font.inverse.value}"}}},warning:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.orange.80}"},color:{value:"{colors.font.inverse.value}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.orange.90.value}"},color:{value:"{colors.font.inverse.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.orange.90.value}"},color:{value:"{colors.font.inverse.value}"},boxShadow:{value:"{components.fieldcontrol.overlay._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.orange.100.value}"},color:{value:"{colors.font.inverse.value}"}}},error:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.80}"},color:{value:"{colors.font.inverse.value}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.90.value}"},color:{value:"{colors.font.inverse.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.90.value}"},color:{value:"{colors.font.inverse.value}"},boxShadow:{value:"{components.fieldcontrol._error._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.100.value}"},color:{value:"{colors.font.inverse.value}"}}},success:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.green.80}"},color:{value:"{colors.font.inverse.value}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.green.90.value}"},color:{value:"{colors.font.inverse.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.green.90.value}"},color:{value:"{colors.font.inverse.value}"},boxShadow:{value:"{components.fieldcontrol.success._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.green.100.value}"},color:{value:"{colors.font.inverse.value}"}}},overlay:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.overlay.70}"},color:{value:"{colors.font.inverse.value}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.overlay.90.value}"},color:{value:"{colors.font.inverse.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.overlay.90.value}"},color:{value:"{colors.font.inverse.value}"},boxShadow:{value:"{components.fieldcontrol.overlay._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.overlay.90.value}"},color:{value:"{colors.font.inverse.value}"}}}},menu:{borderWidth:{value:"{space.zero.value}"},backgroundColor:{value:"transparent"},justifyContent:{value:"start"},_hover:{color:{value:"{colors.font.inverse.value}"},backgroundColor:{value:"{colors.primary.80.value}"}},_focus:{color:{value:"{colors.font.inverse.value}"},backgroundColor:{value:"{colors.primary.80.value}"}},_active:{color:{value:"{colors.font.inverse.value}"},backgroundColor:{value:"{colors.primary.90.value}"}},_disabled:{color:{value:"{colors.font.disabled.value}"}}},link:{backgroundColor:{value:"transparent"},borderColor:{value:"transparent"},borderWidth:{value:"{borderWidths.small.value}"},color:{value:"{colors.font.interactive.value}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.primary.10.value}"},color:{value:"{colors.font.hover.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.primary.10.value}"},color:{value:"{colors.font.focus.value}"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.primary.20.value}"},color:{value:"{colors.font.active.value}"}},_disabled:{borderColor:{value:"transparent"},backgroundColor:{value:"transparent"},color:{value:"{colors.font.disabled.value}"}},_loading:{borderColor:{value:"transparent"},backgroundColor:{value:"transparent"},color:{value:"{colors.font.disabled.value}"}},info:{borderColor:{value:"transparent"},backgroundColor:{value:"transparent"},color:{value:"{colors.blue.100}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.blue.10.value}"},color:{value:"{colors.blue.90.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.blue.10.value}"},color:{value:"{colors.blue.100.value}"},boxShadow:{value:"{components.fieldcontrol.info._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.blue.20.value}"},color:{value:"{colors.blue.100.value}"}}},warning:{borderColor:{value:"transparent"},backgroundColor:{value:"transparent"},color:{value:"{colors.orange.100}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.orange.10.value}"},color:{value:"{colors.orange.90.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.orange.10.value}"},color:{value:"{colors.orange.100.value}"},boxShadow:{value:"{components.fieldcontrol.warning._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.orange.20.value}"},color:{value:"{colors.orange.100.value}"}}},success:{borderColor:{value:"transparent"},backgroundColor:{value:"transparent"},color:{value:"{colors.green.100}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.green.10.value}"},color:{value:"{colors.green.90.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.green.10.value}"},color:{value:"{colors.green.100.value}"},boxShadow:{value:"{components.fieldcontrol.success._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.green.20.value}"},color:{value:"{colors.green.100.value}"}}},error:{borderColor:{value:"transparent"},backgroundColor:{value:"transparent"},color:{value:"{colors.red.100}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.10.value}"},color:{value:"{colors.red.90.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.10.value}"},color:{value:"{colors.red.100.value}"},boxShadow:{value:"{components.fieldcontrol._error._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.20.value}"},color:{value:"{colors.red.100.value}"}}},overlay:{borderColor:{value:"transparent"},backgroundColor:{value:"transparent"},color:{value:"{colors.neutral.100}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.overlay.5.value}"},color:{value:"{colors.overlay.80.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.overlay.5.value}"},color:{value:"{colors.overlay.90.value}"},boxShadow:{value:"{components.fieldcontrol.overlay._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.overlay.10.value}"},color:{value:"{colors.overlay.90.value}"}}}},warning:{backgroundColor:{value:"transparent"},borderColor:{value:"{colors.red.60}"},borderWidth:{value:"{borderWidths.small}"},color:{value:"{colors.red.60}"},_hover:{borderColor:{value:"{colors.red.80}"},backgroundColor:{value:"{colors.red.10}"},color:{value:"{colors.font.error}"}},_focus:{borderColor:{value:"{colors.red.80}"},backgroundColor:{value:"{colors.red.10}"},color:{value:"{colors.red.80}"},boxShadow:{value:"{components.fieldcontrol._error._focus.boxShadow}"}},_active:{borderColor:{value:"{colors.red.100}"},backgroundColor:{value:"{colors.red.20}"},color:{value:"{colors.red.100}"}},_disabled:{borderColor:{value:"{colors.border.tertiary}"},backgroundColor:{value:"transparent"},color:{value:"{colors.font.disabled}"}},_loading:{borderColor:{value:"{colors.border.tertiary}"},backgroundColor:{value:"transparent"},color:{value:"{colors.font.disabled}"}}},destructive:{borderColor:{value:"transparent"},borderWidth:{value:"{borderWidths.small}"},borderStyle:{value:"solid"},backgroundColor:{value:"{colors.red.60}"},color:{value:"{colors.font.inverse}"},_disabled:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.background.disabled}"},color:{value:"{colors.font.disabled}"}},_loading:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.background.disabled}"},color:{value:"{colors.font.disabled}"}},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.80}"},color:{value:"{colors.font.inverse}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.80}"},color:{value:"{colors.font.inverse}"},boxShadow:{value:"{components.fieldcontrol._error._focus.boxShadow}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.100}"},color:{value:"{colors.font.inverse}"}}},small:{fontSize:{value:"{components.fieldcontrol.small.fontSize.value}"},paddingBlockStart:{value:"{components.fieldcontrol.small.paddingBlockStart.value}"},paddingBlockEnd:{value:"{components.fieldcontrol.small.paddingBlockEnd.value}"},paddingInlineStart:{value:"{components.fieldcontrol.small.paddingInlineStart.value}"},paddingInlineEnd:{value:"{components.fieldcontrol.small.paddingInlineEnd.value}"}},large:{fontSize:{value:"{components.fieldcontrol.large.fontSize.value}"},paddingBlockStart:{value:"{components.fieldcontrol.large.paddingBlockStart.value}"},paddingBlockEnd:{value:"{components.fieldcontrol.large.paddingBlockEnd.value}"},paddingInlineStart:{value:"{components.fieldcontrol.large.paddingInlineStart.value}"},paddingInlineEnd:{value:"{components.fieldcontrol.large.paddingInlineEnd.value}"}},loaderWrapper:{alignItems:{value:"center"},gap:{value:"{space.xs.value}"}}},card:{backgroundColor:{value:"{colors.background.primary.value}"},borderRadius:{value:"{radii.xs.value}"},borderWidth:{value:"0"},borderStyle:{value:"solid"},borderColor:{value:"transparent"},boxShadow:{value:"none"},padding:{value:"{space.medium.value}"},outlined:{backgroundColor:{value:"{components.card.backgroundColor.value}"},borderRadius:{value:"{radii.xs.value}"},borderWidth:{value:"{borderWidths.small.value}"},borderStyle:{value:"solid"},borderColor:{value:"{colors.border.primary.value}"},boxShadow:{value:"{components.card.boxShadow.value}"}},elevated:{backgroundColor:{value:"{components.card.backgroundColor.value}"},borderRadius:{value:"{radii.xs.value}"},borderWidth:{value:"0"},borderStyle:{value:"solid"},borderColor:{value:"transparent"},boxShadow:{value:"{shadows.medium.value}"}}},checkbox:{cursor:{value:"pointer"},alignItems:{value:"center"},_disabled:{cursor:{value:"not-allowed"}},button:{position:{value:"relative"},alignItems:{value:"center"},justifyContent:{value:"center"},color:{value:"{colors.font.inverse.value}"},before:{width:{value:"100%"},height:{value:"100%"},borderWidth:{value:"{borderWidths.medium.value}"},borderRadius:{value:"20%"},borderStyle:{value:"solid"},borderColor:{value:"{colors.border.primary.value}"}},_focus:{outlineColor:{value:"{colors.transparent.value}"},outlineStyle:{value:"solid"},outlineWidth:{value:"{outlineWidths.medium.value}"},outlineOffset:{value:"{outlineOffsets.medium.value}"},borderColor:{value:"{colors.border.focus.value}"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"}},_disabled:{borderColor:{value:"{colors.border.disabled.value}"}},_error:{borderColor:{value:"{colors.border.error.value}"},_focus:{borderColor:{value:"{colors.border.error.value}"},boxShadow:{value:"{components.fieldcontrol._error._focus.boxShadow.value}"}}}},icon:{backgroundColor:{value:"{colors.primary.80.value}"},borderRadius:{value:"20%"},opacity:{value:"{opacities.0.value}"},transform:{value:"scale(0)"},transitionProperty:{value:"all"},transitionDuration:{value:"{time.short.value}"},transitionTimingFunction:{value:"ease-in-out"},_checked:{opacity:{value:"{opacities.100.value}"},transform:{value:"scale(1)"},_disabled:{backgroundColor:{value:"{colors.background.disabled.value}"}}},_indeterminate:{opacity:{value:"{opacities.100.value}"},transform:{value:"scale(1)"},_disabled:{backgroundColor:{value:"{colors.background.disabled.value}"}}}},label:{color:{value:"{components.text.color.value}"},_disabled:{color:{value:"{colors.font.disabled.value}"}}}},checkboxfield:{alignItems:{value:"flex-start"},alignContent:{value:"center"},flexDirection:{value:"column"},justifyContent:{value:"center"}},collection:{pagination:{current:{color:{value:"{components.pagination.current.color}"},backgroundColor:{value:"{components.pagination.current.backgroundColor}"}},button:{color:{value:"{components.pagination.button.color}"},_hover:{backgroundColor:{value:"{components.pagination.button.hover.backgroundColor}"},color:{value:"{components.pagination.button.hover.color}"}},_disabled:{color:{value:"{components.pagination.button.disabled.color}"}}}},search:{input:{color:{value:"{components.searchfield.color}"}},button:{color:{value:"{components.searchfield.button.color}"},_active:{backgroundColor:{value:"{components.searchfield.button._active.backgroundColor}"},borderColor:{value:"{components.searchfield.button._active.borderColor}"},color:{value:"{components.searchfield.button._active.color}"}},_disabled:{backgroundColor:{value:"{components.searchfield.button._disabled.backgroundColor}"},borderColor:{value:"{components.searchfield.button._disabled.borderColor}"},color:{value:"{components.searchfield.button._disabled.color}"}},_focus:{backgroundColor:{value:"{components.searchfield.button._focus.backgroundColor}"},borderColor:{value:"{components.searchfield.button._focus.borderColor}"},color:{value:"{components.searchfield.button._focus.color}"}},_hover:{backgroundColor:{value:"{components.searchfield.button._hover.backgroundColor}"},borderColor:{value:"{components.searchfield.button._hover.borderColor}"},color:{value:"{components.searchfield.button._hover.color}"}}}}},copy:{fontSize:{value:"{fontSizes.xs}"},gap:{value:"{space.relative.medium}"},svg:{path:{fill:{value:"{colors.font.primary}"}}},toolTip:{bottom:{value:"{space.large}"},color:{value:"{colors.teal.100}"},fontSize:{value:"{fontSizes.xxs}"}}},countrycodeselect:{height:{value:"{space.relative.full.value}"}},divider:{borderStyle:{value:"solid"},borderColor:{value:"{colors.border.primary.value}"},borderWidth:{value:"{borderWidths.medium.value}"},label:{color:{value:"{colors.font.tertiary.value}"},paddingInline:{value:"{space.medium.value}"},fontSize:{value:"{fontSizes.small.value}"},backgroundColor:{value:"{colors.background.primary.value}"}},small:{borderWidth:{value:"{borderWidths.small.value}"}},large:{borderWidth:{value:"{borderWidths.large.value}"}},opacity:{value:"{opacities.60.value}"}},dropzone:{backgroundColor:{value:"{colors.background.primary}"},borderRadius:{value:"{radii.small}"},borderColor:{value:"{colors.border.primary}"},borderStyle:{value:"dashed"},borderWidth:{value:"{borderWidths.small}"},color:{value:"{colors.font.primary}"},gap:{value:"{space.small}"},paddingBlock:{value:"{space.xl}"},paddingInline:{value:"{space.large}"},textAlign:{value:"center"},_active:{backgroundColor:{value:"{colors.primary.10}"},borderRadius:{value:"{components.dropzone.borderRadius}"},borderColor:{value:"{colors.border.pressed}"},borderStyle:{value:"{components.dropzone.borderStyle}"},borderWidth:{value:"{components.dropzone.borderWidth}"},color:{value:"{colors.font.primary}"}},_disabled:{backgroundColor:{value:"{colors.background.disabled}"},borderRadius:{value:"{components.dropzone.borderRadius}"},borderColor:{value:"{colors.border.disabled}"},borderStyle:{value:"{components.dropzone.borderStyle}"},borderWidth:{value:"{components.dropzone.borderWidth}"},color:{value:"{colors.font.disabled}"}},accepted:{backgroundColor:{value:"{colors.background.success}"},borderRadius:{value:"{components.dropzone.borderRadius}"},borderColor:{value:"{colors.border.success}"},borderStyle:{value:"{components.dropzone.borderStyle}"},borderWidth:{value:"{components.dropzone.borderWidth}"},color:{value:"{colors.font.success}"}},rejected:{backgroundColor:{value:"{colors.background.error}"},borderRadius:{value:"{components.dropzone.borderRadius}"},borderColor:{value:"{colors.border.pressed}"},borderStyle:{value:"{components.dropzone.borderStyle}"},borderWidth:{value:"{components.dropzone.borderWidth}"},color:{value:"{colors.font.error}"}}},field:{gap:{value:"{space.xs.value}"},fontSize:{value:"{fontSizes.medium.value}"},flexDirection:{value:"column"},small:{gap:{value:"{space.xxxs.value}"},fontSize:{value:"{fontSizes.small.value}"}},large:{gap:{value:"{space.small.value}"},fontSize:{value:"{fontSizes.large.value}"}},label:{color:{value:"{colors.font.secondary.value}"}}},fieldcontrol:{borderStyle:{value:"solid"},borderColor:{value:"{colors.border.primary.value}"},borderWidth:{value:"{borderWidths.small.value}"},borderRadius:{value:"{radii.small.value}"},color:{value:"{colors.font.primary.value}"},paddingBlockStart:{value:"{space.xs.value}"},paddingBlockEnd:{value:"{space.xs.value}"},paddingInlineStart:{value:"{space.medium.value}"},paddingInlineEnd:{value:"{space.medium.value}"},fontSize:{value:"{components.field.fontSize.value}"},lineHeight:{value:"{lineHeights.medium.value}"},transitionDuration:{value:"{time.medium.value}"},outlineColor:{value:"{colors.transparent.value}"},outlineStyle:{value:"solid"},outlineWidth:{value:"{outlineWidths.medium.value}"},outlineOffset:{value:"{outlineOffsets.medium.value}"},small:{fontSize:{value:"{components.field.small.fontSize.value}"},paddingBlockStart:{value:"{space.xxs.value}"},paddingBlockEnd:{value:"{space.xxs.value}"},paddingInlineStart:{value:"{space.small.value}"},paddingInlineEnd:{value:"{space.small.value}"}},large:{fontSize:{value:"{components.field.large.fontSize.value}"},paddingBlockStart:{value:"{space.xs.value}"},paddingBlockEnd:{value:"{space.xs.value}"},paddingInlineStart:{value:"{space.medium.value}"},paddingInlineEnd:{value:"{space.medium.value}"}},quiet:{borderStyle:{value:"none"},borderInlineStart:{value:"none"},borderInlineEnd:{value:"none"},borderBlockStart:{value:"none"},borderRadius:{value:"0"},_focus:{borderBlockEndColor:{value:"transparent"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"}},_error:{borderBlockEndColor:{value:"{colors.border.error.value}"},_focus:{borderBlockEndColor:{value:"transparent"},boxShadow:{value:"{components.fieldcontrol._error._focus.boxShadow.value}"}}}},_focus:{borderColor:{value:"{colors.border.focus.value}"},boxShadow:{value:{offsetX:"0px",offsetY:"0px",blurRadius:"0px",spreadRadius:"2px",color:"{colors.border.focus.value}"}}},_disabled:{color:{value:"{colors.font.disabled.value}"},cursor:{value:"not-allowed"},borderColor:{value:"{colors.transparent.value}"},backgroundColor:{value:"{colors.background.disabled.value}"}},_error:{borderColor:{value:"{colors.border.error.value}"},color:{value:"{colors.font.error.value}"},_focus:{boxShadow:{value:{offsetX:"0px",offsetY:"0px",blurRadius:"0px",spreadRadius:"2px",color:"{colors.border.error.value}"}}}},info:{_focus:{boxShadow:{value:{offsetX:"0px",offsetY:"0px",blurRadius:"0px",spreadRadius:"2px",color:"{colors.blue.100.value}"}}}},warning:{_focus:{boxShadow:{value:{offsetX:"0px",offsetY:"0px",blurRadius:"0px",spreadRadius:"2px",color:"{colors.orange.100.value}"}}}},success:{_focus:{boxShadow:{value:{offsetX:"0px",offsetY:"0px",blurRadius:"0px",spreadRadius:"2px",color:"{colors.green.100.value}"}}}},overlay:{_focus:{boxShadow:{value:{offsetX:"0px",offsetY:"0px",blurRadius:"0px",spreadRadius:"2px",color:"{colors.overlay.90.value}"}}}}},fieldgroup:{gap:{value:"{space.zero.value}"},vertical:{alignItems:{value:"center"}},outer:{alignItems:{value:"center"}}},fieldmessages:{error:{color:{value:"{colors.font.error.value}"},fontSize:{value:"{fontSizes.small.value}"}},description:{color:{value:"{colors.font.secondary.value}"},fontStyle:{value:"italic"},fontSize:{value:"{fontSizes.small.value}"}}},fieldset:{backgroundColor:{value:"transparent"},borderRadius:{value:"{radii.xs.value}"},flexDirection:{value:"column"},gap:{value:"{components.field.gap.value}"},legend:{color:{value:"{colors.font.primary.value}"},fontSize:{value:"{components.field.fontSize.value}"},fontWeight:{value:"{fontWeights.bold.value}"},lineHeight:{value:"{lineHeights.medium.value}"},small:{fontSize:"{components.field.small.fontSize.value}"},large:{fontSize:"{components.field.large.fontSize.value}"}},outlined:{padding:"{space.medium.value}",borderColor:"{colors.neutral.40.value}",borderWidth:"{borderWidths.small.value}",borderStyle:"solid",small:{padding:"{space.small.value}"},large:{padding:"{space.large.value}"}},small:{gap:"{components.field.small.gap.value}"},large:{gap:"{components.field.large.gap.value}"}},fileuploader:{dropzone:{backgroundColor:{value:"{colors.background.primary}"},borderRadius:{value:"{radii.small}"},borderColor:{value:"{colors.border.primary}"},borderStyle:{value:"dashed"},borderWidth:{value:"{borderWidths.small}"},gap:{value:"{space.small}"},paddingBlock:{value:"{space.xl}"},paddingInline:{value:"{space.large}"},textAlign:{value:"center"},_active:{backgroundColor:{value:"{colors.primary.10}"},borderRadius:{value:"{components.fileuploader.dropzone.borderRadius}"},borderColor:{value:"{colors.border.pressed}"},borderStyle:{value:"{components.fileuploader.dropzone.borderStyle}"},borderWidth:{value:"{borderWidths.medium}"}},icon:{color:{value:"{colors.border.primary}"},fontSize:{value:"{fontSizes.xxl}"}},text:{color:{value:"{colors.font.tertiary}"},fontSize:{value:"{fontSizes.medium}"},fontWeight:{value:"{fontWeights.bold}"}}},file:{backgroundColor:{value:"{colors.background.primary}"},borderRadius:{value:"{radii.small}"},borderColor:{value:"{colors.border.primary}"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.small}"},paddingBlock:{value:"{space.xs}"},paddingInline:{value:"{space.small}"},gap:{value:"{space.small}"},alignItems:{value:"baseline"},name:{fontSize:{value:"{fontSizes.medium}"},fontWeight:{value:"{fontWeights.bold}"},color:{value:"{colors.font.primary}"}},size:{fontSize:{value:"{fontSizes.small}"},fontWeight:{value:"{fontWeights.normal}"},color:{value:"{colors.font.tertiary}"}},image:{width:{value:"{space.xxl}"},height:{value:"{space.xxl}"},backgroundColor:{value:"{colors.background.secondary}"},color:{value:"{colors.font.tertiary}"},borderRadius:{value:"{radii.small}"}}},filelist:{flexDirection:{value:"column"},gap:{value:"{space.small}"}},loader:{strokeLinecap:{value:"round"},strokeEmpty:{value:"{colors.border.secondary}"},strokeFilled:{value:"{components.loader.strokeFilled}"},strokeWidth:{value:"{borderWidths.large}"}},previewer:{backgroundColor:{value:"{colors.background.primary}"},borderColor:{value:"{colors.border.primary}"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.small}"},borderRadius:{value:"{radii.small}"},paddingBlock:{value:"{space.zero}"},paddingInline:{value:"{space.zero}"},maxHeight:{value:"40rem"},maxWidth:{value:"auto"},text:{fontSize:{value:"{fontSizes.medium}"},fontWeight:{value:"{fontWeights.bold}"},color:{value:"{colors.font.primary}"}},body:{paddingBlock:{value:"{space.medium}"},paddingInline:{value:"{space.medium}"},gap:{value:"{space.small}"}},footer:{justifyContent:{value:"flex-end"}}}},flex:{gap:{value:"{space.medium.value}"},justifyContent:{value:"normal"},alignItems:{value:"stretch"},alignContent:{value:"normal"},flexWrap:{value:"nowrap"}},heading:{color:{value:"{colors.font.primary.value}"},lineHeight:{value:"{lineHeights.small.value}"},1:{fontSize:{value:"{fontSizes.xxxxl.value}"},fontWeight:{value:"{fontWeights.light.value}"}},2:{fontSize:{value:"{fontSizes.xxxl.value}"},fontWeight:{value:"{fontWeights.normal.value}"}},3:{fontSize:{value:"{fontSizes.xxl.value}"},fontWeight:{value:"{fontWeights.medium.value}"}},4:{fontSize:{value:"{fontSizes.xl.value}"},fontWeight:{value:"{fontWeights.semibold.value}"}},5:{fontSize:{value:"{fontSizes.large.value}"},fontWeight:{value:"{fontWeights.bold.value}"}},6:{fontSize:{value:"{fontSizes.medium.value}"},fontWeight:{value:"{fontWeights.extrabold.value}"}}},icon:{lineHeight:{value:1},height:{value:"1em"}},highlightmatch:{highlighted:{fontWeight:{value:"{fontWeights.bold}"}}},image:{maxWidth:{value:"100%"},height:{value:"auto"},objectFit:{value:"initial"},objectPosition:{value:"initial"}},inappmessaging:{banner:{height:{value:"150px "},width:{value:"400px "}},button:{backgroundColor:{value:"#e8e8e8"},borderRadius:{value:"5px"},color:{value:"black"}},dialog:{height:{value:"50vh"},minHeight:{value:"400px"},minWidth:{value:"400px"},width:{value:"30vw"}},header:{fontSize:{value:"{fontSizes.medium.value}"},fontWeight:{value:"{fontWeights.extrabold.value}"}}},input:{color:{value:"{components.fieldcontrol.color.value}"},borderColor:{value:"{components.fieldcontrol.borderColor.value}"},fontSize:{value:"{components.fieldcontrol.fontSize.value}"},_focus:{borderColor:{value:"{components.fieldcontrol._focus.borderColor.value}"}}},link:{active:{color:{value:"{colors.font.active.value}"}},color:{value:"{colors.font.interactive.value}"},focus:{color:{value:"{colors.font.focus.value}"}},hover:{color:{value:"{colors.font.hover.value}"}},visited:{color:{value:"{colors.font.interactive.value}"}}},liveness:{cameraModule:{backgroundColor:{value:"{colors.background.primary.value}"}}},loader:{width:{value:"{fontSizes.medium.value}"},height:{value:"{fontSizes.medium.value}"},fontSize:{value:"{fontSizes.xs.value}"},strokeEmpty:{value:"{colors.neutral.20.value}"},strokeFilled:{value:"{colors.primary.80.value}"},strokeLinecap:{value:"round"},animationDuration:{value:"1s"},small:{width:{value:"{fontSizes.small.value}"},height:{value:"{fontSizes.small.value}"},fontSize:{value:"{fontSizes.xxs.value}"}},large:{width:{value:"{fontSizes.large.value}"},height:{value:"{fontSizes.large.value}"},fontSize:{value:"{fontSizes.small.value}"}},linear:{width:{value:"100%"},minWidth:{value:"5rem"},fontSize:{value:"{fontSizes.xxs.value}"},strokeWidth:{value:"{fontSizes.xxs.value}"},strokeFilled:{value:"{colors.primary.80.value}"},strokeEmpty:{value:"{colors.neutral.20.value}"},strokeLinecap:{value:"round"},animationDuration:{value:"1s"},small:{strokeWidth:{value:"{fontSizes.xxxs.value}"},fontSize:{value:"{fontSizes.xxxs.value}"}},large:{strokeWidth:{value:"{fontSizes.xs.value}"},fontSize:{value:"{fontSizes.xs.value}"}}},text:{fill:{value:"{colors.font.primary.value}"}}},menu:{backgroundColor:{value:"{colors.background.primary.value}"},borderRadius:{value:"{radii.medium.value}"},borderWidth:{value:"{borderWidths.small.value}"},borderStyle:{value:"solid"},borderColor:{value:"{colors.border.primary.value}"},boxShadow:{value:"{shadows.large.value}"},flexDirection:{value:"column"},gap:{value:"{space.zero.value}"},maxWidth:{value:"30rem"},minWidth:{value:"14rem"},small:{width:{value:"{fontSizes.medium.value}"},height:{value:"{fontSizes.medium.value}"}},large:{width:{value:"{fontSizes.xxxl.value}"},height:{value:"{fontSizes.xxxl.value}"}},item:{minHeight:{value:"2.5rem"},paddingInlineStart:{value:"{space.medium.value}"},paddingInlineEnd:{value:"{space.medium.value}"}}},message:{alignItems:{value:"center"},backgroundColor:{value:"{colors.background.tertiary.value}"},borderColor:{value:"transparent"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.small.value}"},borderRadius:{value:"{radii.xs.value}"},color:{value:"{colors.font.primary.value}"},justifyContent:{value:"flex-start"},paddingBlock:{value:"{space.small.value}"},paddingInline:{value:"{space.medium.value}"},lineHeight:{value:"{lineHeights.small.value}"},icon:{size:{value:"{fontSizes.xl.value}"}},heading:{fontSize:{value:"{fontSizes.medium.value}"},fontWeight:{value:"{fontWeights.bold.value}"}},dismiss:{gap:{value:"{space.xxs.value}"}},plain:{color:{value:"{colors.font.primary.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"transparent"},info:{color:{value:"{colors.font.info.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"transparent"}},error:{color:{value:"{colors.font.error.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"transparent"}},success:{color:{value:"{colors.font.success.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"transparent"}},warning:{color:{value:"{colors.font.warning.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"transparent"}}},outlined:{color:{value:"{colors.font.primary.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"{colors.border.primary.value}"},info:{color:{value:"{colors.font.info.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"{colors.border.info.value}"}},error:{color:{value:"{colors.font.error.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"{colors.border.error.value}"}},success:{color:{value:"{colors.font.success.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"{colors.border.success.value}"}},warning:{color:{value:"{colors.font.warning.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"{colors.border.warning.value}"}}},filled:{color:{value:"{colors.font.primary.value}"},backgroundColor:{value:"{colors.background.secondary.value}"},borderColor:{value:"transparent"},info:{color:{value:"{colors.font.info.value}"},backgroundColor:{value:"{colors.background.info.value}"},borderColor:{value:"transparent"}},error:{color:{value:"{colors.font.error.value}"},backgroundColor:{value:"{colors.background.error.value}"},borderColor:{value:"transparent"}},success:{color:{value:"{colors.font.success.value}"},backgroundColor:{value:"{colors.background.success.value}"},borderColor:{value:"transparent"}},warning:{color:{value:"{colors.font.warning.value}"},backgroundColor:{value:"{colors.background.warning.value}"},borderColor:{value:"transparent"}}}},pagination:{current:{alignItems:{value:"center"},justifyContent:{value:"center"},color:{value:"{colors.font.inverse.value}"},fontSize:{value:"{fontSizes.small.value}"},backgroundColor:{value:"{colors.overlay.40.value}"}},button:{color:{value:"{colors.font.primary.value}"},paddingInlineStart:{value:"{space.xxs.value}"},paddingInlineEnd:{value:"{space.xxs.value}"},transitionProperty:{value:"background-color"},transitionDuration:{value:"{time.medium.value}"},hover:{backgroundColor:{value:"{colors.overlay.10.value}"},color:{value:"{colors.font.primary.value}"}},disabled:{color:{value:"{colors.font.disabled.value}"}}},ellipsis:{alignItems:{value:"baseline"},justifyContent:{value:"center"},paddingInlineStart:{value:"{space.xs.value}"},paddingInlineEnd:{value:"{space.xs.value}"}},itemContainer:{marginLeft:{value:"{space.xxxs.value}"},marginRight:{value:"{space.xxxs.value}"}},itemShared:{height:{value:"{fontSizes.xxl.value}"},minWidth:{value:"{fontSizes.xxl.value}"},borderRadius:{value:"{fontSizes.medium.value}"}}},passwordfield:{color:{value:"{components.fieldcontrol.color.value}"},button:{color:{value:"{components.button.color.value}"},_active:{backgroundColor:{value:"{components.button._active.backgroundColor.value}"},borderColor:{value:"{components.button._active.borderColor.value}"},color:{value:"{components.button._active.color.value}"}},_disabled:{backgroundColor:{value:"{components.button._disabled.backgroundColor.value}"},borderColor:{value:"{components.button._disabled.borderColor.value}"},color:{value:"{components.button._disabled.color.value}"}},_error:{color:{value:"{components.button.outlined.error.color.value}"},backgroundColor:{value:"{components.button.outlined.error.backgroundColor.value}"},borderColor:{value:"{components.button.outlined.error.borderColor.value}"},_active:{borderColor:{value:"{components.button.outlined.error._active.borderColor.value}"},backgroundColor:{value:"{components.button.outlined.error._active.backgroundColor.value}"},color:{value:"{components.button.outlined.error._active.color.value}"}},_focus:{borderColor:{value:"{components.button.outlined.error._focus.borderColor.value}"},backgroundColor:{value:"{components.button.outlined.error._focus.backgroundColor.value}"},color:{value:"{components.button.outlined.error._focus.color.value}"},boxShadow:{value:"{components.button.outlined.error._focus.boxShadow.value}"}},_hover:{borderColor:{value:"{components.button.outlined.error._hover.borderColor.value}"},backgroundColor:{value:"{components.button.outlined.error._hover.backgroundColor.value}"},color:{value:"{components.button.outlined.error._hover.color.value}"}}},_focus:{backgroundColor:{value:"{components.button._focus.backgroundColor.value}"},borderColor:{value:"{components.button._focus.borderColor.value}"},color:{value:"{components.button._focus.color.value}"}},_hover:{backgroundColor:{value:"{components.button._hover.backgroundColor.value}"},borderColor:{value:"{components.button._hover.borderColor.value}"},color:{value:"{components.button._hover.color.value}"}}}},phonenumberfield:{color:{value:"{components.fieldcontrol.color}"},borderColor:{value:"{components.fieldcontrol.borderColor}"},fontSize:{value:"{components.fieldcontrol.fontSize}"},_focus:{borderColor:{value:"{components.fieldcontrol._focus.borderColor}"}}},placeholder:{borderRadius:{value:"{radii.small.value}"},transitionDuration:{value:"{time.long.value}"},startColor:{value:"{colors.background.secondary.value}"},endColor:{value:"{colors.background.tertiary.value}"},small:{height:{value:"{space.small.value}"}},default:{height:{value:"{space.medium.value}"}},large:{height:{value:"{space.large.value}"}}},radio:{alignItems:{value:"center"},justifyContent:{value:"flex-start"},gap:{value:"inherit"},_disabled:{cursor:{value:"not-allowed"}},button:{alignItems:{value:"center"},justifyContent:{value:"center"},width:{value:"{fontSizes.medium.value}"},height:{value:"{fontSizes.medium.value}"},boxSizing:{value:"border-box"},borderWidth:{value:"{borderWidths.medium.value}"},borderStyle:{value:"solid"},borderRadius:{value:"50%"},borderColor:{value:"{colors.border.primary.value}"},color:{value:"{colors.background.primary.value}"},backgroundColor:{value:"{colors.background.primary.value}"},transitionProperty:{value:"all"},transitionDuration:{value:"{time.medium.value}"},outlineColor:{value:"{colors.transparent.value}"},outlineStyle:{value:"solid"},outlineWidth:{value:"{outlineWidths.medium.value}"},outlineOffset:{value:"{outlineOffsets.medium.value}"},padding:{value:"{borderWidths.medium.value}"},small:{width:{value:"{fontSizes.small.value}"},height:{value:"{fontSizes.small.value}"}},large:{width:{value:"{fontSizes.large.value}"},height:{value:"{fontSizes.large.value}"}},_checked:{color:{value:"{colors.primary.80.value}"},_disabled:{color:{value:"{colors.background.disabled.value}"}}},_focus:{borderColor:{value:"{colors.border.focus.value}"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"}},_error:{borderColor:{value:"{colors.border.error.value}"},_focus:{boxShadow:{value:"{components.fieldcontrol._error._focus.boxShadow.value}"}}},_disabled:{borderColor:{value:"{colors.border.disabled.value}"},backgroundColor:{value:"{colors.background.primary.value}"}}},label:{color:{value:"{components.text.color.value}"},_disabled:{color:{value:"{colors.font.disabled.value}"}}}},radiogroup:{radio:{borderWidth:{value:"{components.radio.button.borderWidth}"},borderColor:{value:"{components.radio.button.borderColor}"},backgroundColor:{value:"{components.radio.button.backgroundColor}"},_checked:{color:{value:"{components.radio.button._checked.color}"}},label:{color:{value:"{components.radio.label.color}"}}},legend:{color:{value:"{components.fieldset.legend.color}"},fontWeight:{value:"{fontWeights.normal}"}}},rating:{large:{size:{value:"{fontSizes.xxxl.value}"}},default:{size:{value:"{fontSizes.xl.value}"}},small:{size:{value:"{fontSizes.small.value}"}},filled:{color:{value:"{colors.secondary.80.value}"}},empty:{color:{value:"{colors.background.tertiary.value}"}}},searchfield:{color:{value:"{components.fieldcontrol.color.value}"},button:{color:{value:"{components.button.color.value}"},backgroundColor:{value:"{colors.background.primary.value}"},_active:{backgroundColor:{value:"{components.button._active.backgroundColor.value}"},borderColor:{value:"{components.button._active.borderColor.value}"},color:{value:"{components.button._active.color.value}"}},_disabled:{backgroundColor:{value:"{components.button._disabled.backgroundColor.value}"},borderColor:{value:"{components.button._disabled.borderColor.value}"},color:{value:"{components.button._disabled.color.value}"}},_focus:{backgroundColor:{value:"{components.button._focus.backgroundColor.value}"},borderColor:{value:"{components.button._focus.borderColor.value}"},color:{value:"{components.button._focus.color.value}"}},_hover:{backgroundColor:{value:"{components.button._hover.backgroundColor.value}"},borderColor:{value:"{components.button._hover.borderColor.value}"},color:{value:"{components.button._hover.color.value}"}}}},select:{color:{value:"{components.fieldcontrol.color}"},backgroundColor:{value:"{colors.background.primary.value}"},paddingInlineEnd:{value:"{space.xxl.value}"},_disabled:{color:{value:"{colors.font.disabled.value}"},backgroundColor:{value:"{colors.background.disabled.value}"}},wrapper:{flex:{value:"1"},display:{value:"block"},position:{value:"relative"},cursor:{value:"pointer"}},iconWrapper:{alignItems:{value:"center"},position:{value:"absolute"},top:{value:"50%"},right:{value:"{space.medium.value}"},transform:{value:"translateY(-50%)"},pointerEvents:{value:"none"},small:{right:{value:"{space.xs.value}"}},large:{right:{value:"{space.medium.value}"}}},option:{backgroundColor:{value:"transparent"},color:{value:"{colors.font.primary.value}"},_disabled:{color:{value:"{colors.font.disabled.value}"},backgroundColor:{value:"transparent"}}},whiteSpace:{value:"nowrap"},minWidth:{value:"6.5rem"},small:{minWidth:{value:"5.5rem"},paddingInlineEnd:{value:"{space.xl.value}"}},large:{minWidth:{value:"7.5rem"},paddingInlineEnd:{value:"{space.xxl.value}"}},expanded:{paddingBlock:{value:"{space.xs.value}"},paddingInline:{value:"{space.small.value}"},option:{paddingBlock:{value:"{space.xs.value}"},paddingInline:{value:"{space.small.value}"}}}},selectfield:{borderColor:{value:"{components.fieldcontrol.borderColor}"},color:{value:"{components.fieldcontrol.color}"},flexDirection:{value:"column"},fontSize:{value:"{components.fieldcontrol.fontSize}"},_focus:{borderColor:{value:"{components.fieldcontrol._focus.borderColor}"}},label:{color:{value:"{components.field.label.color}"}}},sliderfield:{paddingBlock:{value:"{space.xs.value}"},track:{backgroundColor:{value:"{colors.background.quaternary.value}"},borderRadius:{value:"9999px"},height:{value:"0.375rem"},minWidth:{value:"10rem"}},range:{backgroundColor:{value:"{colors.primary.80.value}"},borderRadius:{value:"9999px"},_disabled:{backgroundColor:{value:"{colors.background.disabled.value}"}}},thumb:{width:{value:"1.25rem"},height:{value:"1.25rem"},backgroundColor:{value:"{colors.background.primary.value}"},boxShadow:{value:"{shadows.small.value}"},borderRadius:{value:"50%"},borderWidth:{value:"{borderWidths.medium.value}"},borderColor:{value:"{colors.border.primary.value}"},borderStyle:{value:"solid"},_disabled:{backgroundColor:{value:"{colors.background.disabled.value}"},borderColor:{value:"transparent"},boxShadow:{value:"none"}},_hover:{backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"{colors.border.focus.value}"}},_focus:{borderColor:{value:"{colors.border.focus.value}"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"}}},small:{track:{height:{value:"0.25rem"}},thumb:{width:{value:"1rem"},height:{value:"1rem"}}},large:{track:{height:{value:"0.625rem"}},thumb:{width:{value:"1.5rem"},height:{value:"1.5rem"}}}},stepperfield:{borderColor:{value:"{components.fieldcontrol.borderColor}"},flexDirection:{value:"column"},input:{color:{value:"{components.fieldcontrol.color}"},fontSize:{value:"{components.fieldcontrol.fontSize}"},textAlign:{value:"center"}},button:{color:{value:"{components.button.color}"},backgroundColor:{value:"{colors.transparent}"},_active:{color:{value:"{components.button._active.color}"},backgroundColor:{value:"{components.button._active.backgroundColor}"}},_focus:{color:{value:"{components.button._focus.color}"},backgroundColor:{value:"{components.button._focus.backgroundColor}"}},_disabled:{color:{value:"{components.button._disabled.color}"},backgroundColor:{value:"{components.fieldcontrol._disabled.backgroundColor}"}},_hover:{color:{value:"{components.button._hover.color}"},backgroundColor:{value:"{components.button._hover.backgroundColor}"}}}},storagemanager:{dropzone:{backgroundColor:{value:"{colors.background.primary}"},borderRadius:{value:"{radii.small}"},borderColor:{value:"{colors.border.primary}"},borderStyle:{value:"dashed"},borderWidth:{value:"{borderWidths.small}"},gap:{value:"{space.small}"},paddingBlock:{value:"{space.xl}"},paddingInline:{value:"{space.large}"},textAlign:{value:"center"},_active:{backgroundColor:{value:"{colors.primary.10}"},borderRadius:{value:"{components.storagemanager.dropzone.borderRadius}"},borderColor:{value:"{colors.border.pressed}"},borderStyle:{value:"{components.storagemanager.dropzone.borderStyle}"},borderWidth:{value:"{borderWidths.medium}"}},icon:{color:{value:"{colors.border.primary}"},fontSize:{value:"{fontSizes.xxl}"}},text:{color:{value:"{colors.font.tertiary}"},fontSize:{value:"{fontSizes.medium}"},fontWeight:{value:"{fontWeights.bold}"}}},file:{backgroundColor:{value:"{colors.background.primary}"},borderRadius:{value:"{radii.small}"},borderColor:{value:"{colors.border.primary}"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.small}"},paddingBlock:{value:"{space.xs}"},paddingInline:{value:"{space.small}"},gap:{value:"{space.small}"},alignItems:{value:"baseline"},name:{fontSize:{value:"{fontSizes.medium}"},fontWeight:{value:"{fontWeights.bold}"},color:{value:"{colors.font.primary}"}},size:{fontSize:{value:"{fontSizes.small}"},fontWeight:{value:"{fontWeights.normal}"},color:{value:"{colors.font.tertiary}"}},image:{width:{value:"{space.xxl}"},height:{value:"{space.xxl}"},backgroundColor:{value:"{colors.background.secondary}"},color:{value:"{colors.font.tertiary}"},borderRadius:{value:"{radii.small}"}}},filelist:{flexDirection:{value:"column"},gap:{value:"{space.small}"}},loader:{strokeLinecap:{value:"round"},strokeEmpty:{value:"{colors.border.secondary}"},strokeFilled:{value:"{components.loader.strokeFilled}"},strokeWidth:{value:"{borderWidths.large}"}},previewer:{backgroundColor:{value:"{colors.background.primary}"},borderColor:{value:"{colors.border.primary}"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.small}"},borderRadius:{value:"{radii.small}"},paddingBlock:{value:"{space.zero}"},paddingInline:{value:"{space.zero}"},maxHeight:{value:"40rem"},maxWidth:{value:"auto"},text:{fontSize:{value:"{fontSizes.medium}"},fontWeight:{value:"{fontWeights.bold}"},color:{value:"{colors.font.primary}"}},body:{paddingBlock:{value:"{space.medium}"},paddingInline:{value:"{space.medium}"},gap:{value:"{space.small}"}},footer:{justifyContent:{value:"flex-end"}}}},switchfield:{_disabled:{opacity:{value:"{opacities.60.value}"}},_focused:{shadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"}},fontSize:{value:"{fontSizes.medium.value}"},large:{fontSize:{value:"{fontSizes.large.value}"}},small:{fontSize:{value:"{fontSizes.small.value}"}},label:{padding:{value:"{space.xs.value}"}},thumb:{backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"transparent"},borderWidth:{value:"{borderWidths.small.value}"},borderStyle:{value:"solid"},borderRadius:{value:"{radii.xxxl.value}"},checked:{transform:{value:"{transforms.slideX.medium.value}"}},transition:{duration:{value:"{time.medium.value}"}},width:{value:"{space.relative.medium.value}"}},track:{backgroundColor:{value:"{colors.background.quaternary.value}"},borderRadius:{value:"{radii.xxxl.value}"},checked:{backgroundColor:{value:"{colors.primary.80.value}"}},height:{value:"{space.relative.medium.value}"},padding:{value:"{outlineWidths.medium.value}"},transition:{duration:{value:"{time.short.value}"}},width:{value:"{space.relative.xl.value}"},_error:{backgroundColor:{value:"{colors.background.error.value}"}}}},table:{borderCollapse:{value:"collapse"},display:{value:"table"},width:{value:"100%"},head:{display:{value:"table-header-group"},verticalAlign:{value:"middle"}},body:{display:{value:"table-row-group"},verticalAlign:{value:"middle"}},foot:{display:{value:"table-footer-group"},verticalAlign:{value:"middle"}},row:{display:{value:"table-row"},verticalAlign:{value:"middle"},hover:{backgroundColor:{value:"{colors.background.tertiary.value}"}},striped:{backgroundColor:{value:"{colors.background.secondary.value}"}}},header:{borderColor:{value:"{colors.border.tertiary.value}"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.small.value}"},color:{value:"{colors.font.primary.value}"},display:{value:"table-cell"},fontSize:{value:"{fontSizes.medium.value}"},fontWeight:{value:"{fontWeights.bold.value}"},padding:{value:"{space.medium.value}"},verticalAlign:{value:"middle"},large:{fontSize:{value:"{fontSizes.large.value}"},padding:{value:"{space.large.value}"}},small:{fontSize:{value:"{fontSizes.small.value}"},padding:{value:"{space.xs.value}"}}},data:{borderColor:{value:"{colors.border.tertiary.value}"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.small.value}"},color:{value:"{colors.font.primary.value}"},display:{value:"table-cell"},fontSize:{value:"{fontSizes.medium.value}"},fontWeight:{value:"{fontWeights.normal.value}"},padding:{value:"{space.medium.value}"},verticalAlign:{value:"middle"},large:{fontSize:{value:"{fontSizes.large.value}"},padding:{value:"{space.large.value}"}},small:{fontSize:{value:"{fontSizes.small.value}"},padding:{value:"{space.xs.value}"}}},caption:{captionSide:{value:"bottom"},color:{value:"{colors.font.primary.value}"},display:{value:"table-caption"},fontSize:{value:"{fontSizes.medium.value}"},textAlign:{value:"center"},wordBreak:{value:"break-all"},large:{fontSize:{value:"{fontSizes.large.value}"}},small:{fontSize:{value:"{fontSizes.small.value}"}}}},tabs:{backgroundColor:{value:"transparent"},borderColor:{value:"{colors.border.secondary.value}"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.medium.value}"},gap:{value:"0"},item:{backgroundColor:{value:"transparent"},borderColor:{value:"{colors.border.secondary.value}"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.medium.value}"},color:{value:"{colors.font.secondary.value}"},fontSize:{value:"{fontSizes.medium.value}"},fontWeight:{value:"{fontWeights.bold.value}"},paddingVertical:{value:"{space.small.value}"},paddingHorizontal:{value:"{space.medium.value}"},textAlign:{value:"center"},transitionDuration:{value:"{time.medium.value}"},_hover:{backgroundColor:{value:"transparent"},borderColor:{value:"{colors.border.focus.value}"},boxShadow:{value:"none"},color:{value:"{colors.font.hover.value}"}},_focus:{backgroundColor:{value:"transparent"},borderColor:{value:"{colors.border.focus.value}"},boxShadow:{value:{offsetX:"0px",offsetY:"0px",blurRadius:"0px",spreadRadius:"{borderWidths.medium}",color:"{colors.border.focus.value}"}},color:{value:"{colors.font.focus.value}"}},_active:{backgroundColor:{value:"transparent"},borderColor:{value:"{colors.font.interactive.value}"},boxShadow:{value:"none"},color:{value:"{colors.font.interactive.value}"}},_disabled:{backgroundColor:{value:"transparent"},borderColor:{value:"{colors.border.tertiary.value}"},boxShadow:{value:"none"},color:{value:"{colors.font.disabled.value}"}}},panel:{backgroundColor:{value:"transparent"},paddingInline:{value:"0"},paddingBlock:{value:"{space.small.value}"}}},text:{color:{value:"{colors.font.primary.value}"},primary:{color:{value:"{colors.font.primary.value}"}},secondary:{color:{value:"{colors.font.secondary.value}"}},tertiary:{color:{value:"{colors.font.tertiary.value}"}},error:{color:{value:"{colors.font.error.value}"}},warning:{color:{value:"{colors.font.warning.value}"}},success:{color:{value:"{colors.font.success.value}"}},info:{color:{value:"{colors.font.info.value}"}}},textareafield:{color:{value:"{components.fieldcontrol.color.value}"},borderColor:{value:"{components.fieldcontrol.borderColor.value}"},_focus:{borderColor:{value:"{components.fieldcontrol._focus.borderColor.value}"}}},textfield:{color:{value:"{components.fieldcontrol.color.value}"},borderColor:{value:"{components.fieldcontrol.borderColor.value}"},fontSize:{value:"{components.fieldcontrol.fontSize.value}"},_focus:{borderColor:{value:"{components.fieldcontrol._focus.borderColor.value}"}}},togglebutton:{borderColor:{value:"{colors.border.primary.value}"},color:{value:"{colors.font.primary.value}"},_hover:{backgroundColor:{value:"{colors.overlay.10.value}"}},_focus:{borderColor:{value:"{colors.border.focus.value}"},color:{value:"{colors.font.primary.value}"}},_active:{backgroundColor:{value:"{colors.transparent.value}"}},_disabled:{backgroundColor:{value:"{colors.transparent.value}"},borderColor:{value:"{colors.border.disabled.value}"},color:{value:"{colors.font.disabled.value}"}},_pressed:{borderColor:{value:"{colors.border.pressed.value}"},color:{value:"{colors.font.primary.value}"},backgroundColor:{value:"{colors.overlay.20.value}"},_hover:{backgroundColor:{value:"{colors.overlay.30.value}"}}},primary:{backgroundColor:{value:"{colors.transparent.value}"},borderWidth:{value:"{borderWidths.small.value}"},_focus:{borderColor:{value:"{colors.border.focus.value}"},backgroundColor:{value:"{colors.transparent.value}"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"},color:{value:"{colors.font.primary.value}"}},_hover:{backgroundColor:{value:"{colors.overlay.10.value}"},color:{value:"{colors.font.primary.value}"}},_disabled:{borderColor:{value:"{colors.border.disabled.value}"},backgroundColor:{value:"{colors.background.disabled.value}"},color:{value:"{colors.font.disabled.value}"}},_pressed:{backgroundColor:{value:"{colors.primary.80.value}"},borderColor:{value:"{colors.primary.80.value}"},color:{value:"{colors.background.primary.value}"},_focus:{backgroundColor:{value:"{colors.border.focus.value}"},borderColor:{value:"{colors.border.focus.value}"},color:{value:"{colors.background.primary.value}"}},_hover:{borderColor:{value:"{colors.primary.60.value}"},backgroundColor:{value:"{colors.primary.60.value}"},boxShadow:{value:"{colors.primary.60.value}"},color:{value:"{colors.background.primary.value}"}}}},link:{backgroundColor:{value:"{colors.transparent.value}"},color:{value:"{colors.overlay.50.value}"},_hover:{backgroundColor:{value:"{colors.transparent.value}"},color:{value:"{colors.overlay.50.value}"}},_focus:{backgroundColor:{value:"{colors.transparent.value}"},color:{value:"{colors.overlay.50.value}"}},_disabled:{backgroundColor:{value:"{colors.transparent.value}"},color:{value:"{colors.font.disabled.value}"}},_pressed:{backgroundColor:{value:"{colors.transparent.value}"},color:{value:"{colors.overlay.90.value}"},_focus:{backgroundColor:{value:"{colors.transparent.value}"},color:{value:"{colors.overlay.90.value}"}},_hover:{color:{value:"{colors.overlay.90.value}"},backgroundColor:{value:"{colors.transparent.value}"}}}}},togglebuttongroup:{alignItems:{value:"center"},alignContent:{value:"center"},justifyContent:{value:"flex-start"}}},borderWidths:XB,colors:JB,fonts:{default:{variable:{value:"'InterVariable', 'Inter var', 'Inter', -apple-system, BlinkMacSystemFont,\n        'Helvetica Neue', 'Segoe UI', Oxygen, Ubuntu, Cantarell, 'Open Sans',\n        sans-serif"},static:{value:"'Inter', -apple-system, BlinkMacSystemFont, 'Helvetica Neue',\n        'Segoe UI', Oxygen, Ubuntu, Cantarell, 'Open Sans', sans-serif"}}},fontSizes:ZB,fontWeights:eW,lineHeights:{small:{value:"1.25"},medium:{value:"1.5"},large:{value:"2"}},opacities:tW,outlineOffsets:{small:{value:"1px"},medium:{value:"2px"},large:{value:"3px"}},outlineWidths:{small:{value:"1px"},medium:{value:"2px"},large:{value:"3px"}},radii:nW,shadows:{small:{value:{offsetX:"0px",offsetY:"2px",blurRadius:"4px",color:"{colors.shadow.tertiary.value}"}},medium:{value:{offsetX:"0px",offsetY:"2px",blurRadius:"6px",color:"{colors.shadow.secondary.value}"}},large:{value:{offsetX:"0px",offsetY:"4px",blurRadius:"12px",color:"{colors.shadow.primary.value}"}}},space:rW,time:aW,transforms:{slideX:{small:{value:"translateX(0.5em)"},medium:{value:"translateX(1em)"},large:{value:"translateX(2em)"}}}},breakpoints:{values:{base:0,small:480,medium:768,large:992,xl:1280,xxl:1536},defaultBreakpoint:"base"},name:"default-theme"},iW={backgroundColor:"colors",borderColor:"colors",borderWidth:"borderWidths",color:"colors",borderRadius:"radii",fontSize:"fontSizes",fontWeight:"fontWeights",fontFamily:"fonts",lineHeight:"lineHeights",opacity:"opacities",boxShadow:"shadows",transform:"transforms",left:"space",right:"space",top:"space",bottom:"space",height:"space",width:"space",letterSpacing:"space",margin:"space",marginBlock:"space",marginBlockEnd:"space",marginBlockStart:"space",marginInline:"space",marginInlineEnd:"space",marginInlineStart:"space",marginLeft:"space",marginRight:"space",marginTop:"space",marginBottom:"space",maxHeight:"space",maxWidth:"space",minHeight:"space",minWidth:"space",padding:"space",paddingBlock:"space",paddingBlockEnd:"space",paddingBlockStart:"space",paddingInline:"space",paddingInlineEnd:"space",paddingInlineStart:"space",paddingLeft:"space",paddingRight:"space",paddingTop:"space",paddingBottom:"space",gap:"space",columnGap:"space",rowGap:"space"},sW=e=>"string"===typeof e&&0===e.length,lW=e=>null==e||sW(e),uW=e=>Object.keys(e),cW=(e,t,n)=>{if("string"!==typeof t)return t;if(t.includes(" "))return t.split(" ").map(t=>cW(e,t,n)).join(" ");if(e in iW){const r=t.split(".");let a=n[iW[e]];for(let e=0;e<r.length&&a;e++)a=a[r[e]];return HB(a)?"var(--".concat(WB({path:[iW[e],...r]}),")"):t}return t},dW=e=>{let{breakpoint:t,breakpoints:n,values:r}=e,a={};const o=uW(n).sort((e,t)=>n[e]-n[t]);var i;return Array.isArray(r)?r.forEach((e,t)=>{a[o[t]]=e}):"object"===typeof r&&(a=uW(i=r).reduce((e,t)=>t in oW.breakpoints.values?M(M({},e),{},{[t]:i[t]}):e,{})),(e=>{let{breakpoint:t,breakpoints:n,values:r}=e;const a=r[t];if(void 0!==a)return a;const o=uW(n).sort((e,t)=>n[t]-n[e]),i=o.slice(o.indexOf(t));for(const s of i){const e=r[s];if(void 0!==e)return e}return null})({breakpoint:t,breakpoints:n,values:a})},pW="undefined"===typeof window?x.useEffect:x.useLayoutEffect,hW=e=>{let{breakpoints:t,defaultBreakpoint:n}=e;const r="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia?window.matchMedia:null,a=x.useMemo(()=>(e=>{let{breakpoints:t}=e;const n=uW(t).sort((e,n)=>t[n]-t[e]);return n.map((e,r)=>{let a="";const o=t[e],i=n[r-1],s=i?t[i]-1:null;return o>=0&&(a="(min-width: ".concat(o,"px)")),null!==s&&(a&&(a+=" and "),a+="(max-width: ".concat(s,"px)")),{breakpoint:e,query:a,maxWidth:s,minWidth:o}})})({breakpoints:t}),[t]),[o,i]=x.useState(n),s=x.useCallback((e,t)=>{e&&i(t)},[i]);return pW(()=>{if(!r)return;const e=a.map(e=>{let{query:t,breakpoint:n}=e;const a=r(t);s(a.matches,n);const o=e=>{e.matches&&i(n)};return a.addEventListener("change",o),()=>a.removeEventListener("change",o)});return()=>{e.forEach(e=>e())}},[t,i,r,a]),x.useDebugValue(o,e=>e),o},fW=["_modifiers","_element","_vars"],mW=["_modifiers","_element","_vars"];function gW(e,t){return t?"".concat(e," { ").concat(Object.entries(t).map(e=>{let[t,n]=e;return"--".concat(t,":").concat(n,"; ")}).join(" "),"}\n"):""}function vW(e,t){let n="";const{_modifiers:r={},_element:a={},_vars:o}=t,i=A(t,fW);if(Object.keys(i).length){const[t,r]=function(e,t){const n={},r={};return Object.entries(e).forEach(e=>{let[a,o]=e;t(a)?n[a]=o:r[a]=o}),[n,r]}(i,e=>e.startsWith(":")||e.startsWith("["));Object.entries(t).forEach(t=>{let[r,a]=t;const{_modifiers:o={},_element:i={},_vars:s}=a,l=A(a,mW);n+="".concat(e).concat(r," { ").concat(BB(l)," }\n"),n+=gW("".concat(e).concat(r),s)}),n+="".concat(e," { ").concat(BB(r)," }\n")}return n+=gW(e,o),Object.entries(r).forEach(t=>{let[r,a]=t;a&&Object.keys(a).length&&(n+=vW("".concat(e,"--").concat(r),a))}),Object.entries(a).forEach(t=>{let[r,a]=t;a&&Object.keys(a).length&&(n+=vW("".concat(e,"__").concat(r),a))}),n}function yW(e){let{keys:t,value:n}=e;return t.reduce((e,t)=>M(M({},e),{},{[t]:{value:"{colors.".concat(n,".").concat(t,".value}")}}),{})}function bW(e){const t=YB([{},arguments.length>1&&void 0!==arguments[1]?arguments[1]:oW,M(M({},e),{},{components:{}})]),{primaryColor:n,secondaryColor:r}=t;oM(n)&&(t.tokens.colors.primary=yW({keys:Object.keys(t.tokens.colors[n]),value:n})),oM(r)&&(t.tokens.colors.secondary=yW({keys:Object.keys(t.tokens.colors[r]),value:r}));const a=KB({tokens:t.tokens,setupToken:GB}),{breakpoints:o,name:i}=t;let s='[data-amplify-theme="'.concat(i,'"] {\n')+$B(a).map(e=>"".concat(e.name,": ").concat(e.value,";")).join("\n")+"\n}\n";null!==e&&void 0!==e&&e.components&&(s+=function(e){let{theme:t,components:n}=e,r="";const{tokens:a,name:o,breakpoints:i}=t;return n.forEach(e=>{let{name:t,theme:n,overrides:s}=e;const l="amplify-".concat(t),u='[data-amplify-theme="'.concat(o,'"] .').concat(l),c=lM(n)?n(a):n;r+=vW(u,c),s&&s.forEach(e=>{const t=lM(e.theme)?e.theme(a):e.theme;if("mediaQuery"in e&&(r+="@media (".concat(e.mediaQuery,") {\n ").concat(vW(u,t)," \n}")),"breakpoint"in e){const n=i.values[e.breakpoint];r+="\n@media (min-width: ".concat(n,"px) {\n ").concat(vW(u,t)," \n}")}"selector"in e&&(r+=vW("".concat(e.selector," .").concat(l),t)),"colorMode"in e&&(r+="\n@media (prefers-color-scheme: ".concat(e.colorMode,") {\n").concat(vW('[data-amplify-theme="'.concat(o,'"][data-amplify-color-mode="system"] .').concat(l),t),"\n}\n"),r+=vW('[data-amplify-theme="'.concat(o,'"][data-amplify-color-mode="').concat(e.colorMode,'"] .').concat(l),t))})}),r}({theme:M(M({},t),{},{tokens:a}),components:e.components}));let l=[];return t.animations&&(s+=function(e){let{animations:t,tokens:n}=e,r="";return Object.entries(t).forEach(e=>{let[t,a]=e;r+="\n  @keyframes ".concat(t," {"),Object.entries(a).forEach(e=>{let[t,a]=e;r+="\n    ".concat(t," {\n");const o=lM(a)?a(n):a;r+=BB(o),r+="\n    }"}),r+="\n  }"}),r}({animations:t.animations,tokens:a})),t.overrides&&(l=t.overrides.map(e=>{const n=KB({tokens:e.tokens,setupToken:GB}),r=$B(n).map(e=>"".concat(e.name,": ").concat(e.value,";")).join("\n");if("selector"in e&&(s+="\n".concat(e.selector," {\n").concat(r,"\n}\n")),"mediaQuery"in e&&(s+="\n@media (".concat(e.mediaQuery,') {\n  [data-amplify-theme="').concat(i,'"] {\n    ').concat(r,"\n  }\n}\n")),"breakpoint"in e){const n=t.breakpoints.values[e.breakpoint];s+="\n@media (min-width: ".concat(n,'px) {\n  [data-amplify-theme="').concat(i,'"] {\n    ').concat(r,"\n  }\n}\n")}return"colorMode"in e&&(s+="\n@media (prefers-color-scheme: ".concat(e.colorMode,') {\n          [data-amplify-theme="').concat(i,'"][data-amplify-color-mode="system"] {\n            ').concat(r,"\n            color-scheme: ").concat(e.colorMode,";\n          }\n        }\n"),s+='\n[data-amplify-theme="'.concat(i,'"][data-amplify-color-mode="').concat(e.colorMode,'"] {\n          ').concat(r,"\n          color-scheme: ").concat(e.colorMode,";\n        }\n")),M(M({},e),{},{tokens:n})})),{tokens:a,breakpoints:o,name:i,cssText:s,containerProps:function(){let{colorMode:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{"data-amplify-theme":i,"data-amplify-color-mode":e}},overrides:l}}const wW=x.createContext({theme:bW(),colorMode:void 0}),kW=()=>(e=>"undefined"===typeof e||"undefined"===typeof e.theme?bW():e.theme)(x.useContext(wW)),SW=["rowSpan","columnSpan","row","column"],xW=e=>"auto"===e?"auto":"span ".concat(e),IW=e=>(e=>"auto"===e||"number"===typeof e&&!isNaN(e)||"string"===typeof e&&!isNaN(parseFloat(e)))(e)?xW(e):Array.isArray(e)?e.map(e=>xW(e)):"object"===typeof e&&null!=e?Object.entries(e).reduce((e,t)=>{let[n,r]=t;return M(M({},e),{},{[n]:xW(r)})},{}):null,_W=e=>{let{props:t={},style:n={},breakpoint:r,breakpoints:a,tokens:o}=e;const i={};return Object.keys(t).filter(e=>null!==t[e]).forEach(e=>{if(e in QB){const i=t[e];if(null===i||void 0===i||sW(i))return;const s=QB[e];let l="";HB(i)?l=i.toString():"string"===typeof i?l=cW(e,i,o):"number"===typeof i?l=i:"object"===typeof i&&(l=(e=>{let{value:t,propKey:n,tokens:r}=e;return HB(t)?t.toString():oM(t)?oM(n)?cW(n,t,r):t:null})({propKey:e,tokens:o,value:dW({values:i,breakpoint:r,breakpoints:a})})),n=M(M({},n),{},{[s]:l})}else"undefined"!==typeof t[e]&&(i[e]=t[e])}),{propStyles:n,nonStyleProps:i}},EW=(e,t)=>{const{breakpoints:{values:n,defaultBreakpoint:r},tokens:a}=kW(),o=hW({breakpoints:n,defaultBreakpoint:r}),i=(e=>{const{rowSpan:t,columnSpan:n,row:r,column:a}=e,o=A(e,SW),{rowFromSpanValue:i,columnFromSpanValue:s}=x.useMemo(()=>({rowFromSpanValue:IW(t),columnFromSpanValue:IW(n)}),[t,n]);return M({row:lW(r)?i:r,column:lW(a)?s:a},o)})(e);return x.useMemo(()=>_W({props:i,style:t,breakpoint:o,breakpoints:n,tokens:a}),[i,t,n,o,a])},TW=e=>x.forwardRef(e),NW=["as","children","testId","ariaLabel","isDisabled","style","inert"],CW=TW((e,t)=>{let{as:n="div",children:r,testId:a,ariaLabel:o,isDisabled:i,style:s,inert:l}=e,u=A(e,NW);const{propStyles:c,nonStyleProps:d}=EW(u,s);return x.createElement(n,M({"aria-label":o,"data-testid":a,disabled:i,ref:t,inert:l?"":null,style:c},d),r)});CW.displayName="View";const MW=function(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const a of n)if(a)if(oM(a))e.push(a);else if("number"!==typeof a){if(Array.isArray(a))e.push(MW(...a));else if(aM(a)){if(a.toString!==Object.prototype.toString&&"[object Object]"!==a.toString()){e.push(a.toString());continue}for(const t in a)sM(a,t)&&a[t]&&e.push(t)}}else e.push(a.toString());return e.join(" ")},AW="amplify-alert",OW="amplify-alert__icon",FW="amplify-alert__heading",RW="amplify-alert__body",DW="amplify-button",PW="amplify-button__loader-wrapper",LW="amplify-field",zW="amplify-field__description",BW="amplify-field__error-message",WW="amplify-field-group__control",UW="amplify-flex",jW="amplify-icon",HW="amplify-label",VW="amplify-loader",qW="amplify-loader__label",GW="amplify-select",KW="amplify-selectfield",$W="amplify-select__wrapper",YW="amplify-select__icon",QW="amplify-text",XW="amplify-visually-hidden",JW=["className","children"],ZW=TW((e,t)=>{let{className:n,children:r}=e,a=A(e,JW);return x.createElement(CW,M({className:MW(UW,n),ref:t},a),r)});ZW.displayName="Flex";const eU=["children"],tU=x.createContext(null);function nU(e){let{children:t}=e,n=A(e,eU);return x.createElement(tU.Provider,{value:n},t)}function rU(){const e=x.useContext(tU);if(null===e)throw new Error("useFaceLivenessDetector must be used within a FaceLivenessDetectorProvider");return e}const aU=["as","className","children","isTruncated","variation"],oU=TW((e,t)=>{let{as:n="p",className:r,children:a,isTruncated:o,variation:i}=e,s=A(e,aU);const l=MW(QW,uM(QW,i),cM(QW,"truncated",o),r);return x.createElement(CW,M({as:n,className:l,ref:t},s),a)});oU.displayName="Text";const iU=x.createContext({isFieldsetDisabled:!1}),sU=()=>x.useContext(iU),lU=["className","filledColor","emptyColor","size","variation","isDeterminate","isPercentageTextHidden","percentage"],uU=84*Math.PI,cU=TW((e,t)=>{let{className:n,filledColor:r,emptyColor:a,size:o,variation:i,isDeterminate:s=!1,isPercentageTextHidden:l=!1,percentage:u=0}=e,c=A(e,lU);u=Math.min(u,100),u=Math.max(u,0);const d="".concat(u,"%"),p=MW(VW,uM(VW,o),uM(VW,i),cM(VW,"determinate",s),n),h=x.createElement("g",null,x.createElement("line",{x1:"0",x2:"100%",y1:"50%",y2:"50%",style:{stroke:String(a)},"data-testid":"linear-empty"}),x.createElement("line",{x1:"0",x2:s?d:"100%",y1:"50%",y2:"50%",style:{stroke:s&&0===u?"none":r?String(r):void 0},"data-testid":"linear-filled"}),s?x.createElement("text",{"aria-live":"polite",className:MW(qW,l?XW:null),x:"".concat(-1+u,"%"),y:"200%"},d):null),f=x.createElement("g",null,x.createElement("circle",{cx:"50%",cy:"50%",r:"".concat(42,"%"),strokeWidth:"".concat(8,"%"),style:{stroke:String(a)},"data-testid":"circular-empty"}),x.createElement("circle",{cx:"50%",cy:"50%",r:"".concat(42,"%"),strokeWidth:"".concat(8,"%"),style:{stroke:String(r),strokeDasharray:s?"".concat(uU,"% ").concat(uU,"%"):void 0,strokeDashoffset:s?"".concat(uU-uU*u/100,"%"):void 0},"data-testid":"circular-filled"}),s?x.createElement("text",{"aria-live":"polite",className:MW(qW,l?XW:null),x:"130%",y:"80%"},d):null);return x.createElement(CW,M({as:"svg","aria-valuenow":s?u:void 0,className:p,ref:t,role:"progressbar"},c),"linear"===i?h:f)});cU.displayName="Loader";const dU=["className","children","colorTheme","isFullWidth","isDisabled","isLoading","loadingText","size","type","variation"],pU=["link","primary",void 0],hU=TW((e,t)=>{var n;let{className:r,children:a,colorTheme:o,isFullWidth:i=!1,isDisabled:s,isLoading:l,loadingText:u="",size:c,type:d="button",variation:p}=e,h=A(e,dU);const f=pU.includes(p)&&o?"".concat(null!==p&&void 0!==p?p:"outlined","--").concat(o):void 0,{isFieldsetDisabled:m}=sU(),g=m||(null!==(n=null!==s&&void 0!==s?s:l)&&void 0!==n?n:h.disabled),v=MW(DW,WW,uM(DW,p),uM(DW,f),uM(DW,c),cM(DW,"disabled",g),cM(DW,"loading",l),cM(DW,"fullwidth",i),r);return x.createElement(CW,M({ref:t,as:"button",className:v,isDisabled:g,type:d},h),l?x.createElement(ZW,{as:"span",className:PW},x.createElement(cU,{size:c}),u||null):a)});hU.displayName="Button";var fU=n(8443);function mU(e){return 0!==e.status?e.getSnapshot():e.machine.initialState}function gU(e){return"state"in e&&"machine"in e}function vU(e){return e}function yU(e){return"state"in e}function bU(e){return"getSnapshot"in e?gU(e)?mU(e):e.getSnapshot():yU(e)?e.state:void 0}function wU(e,t){void 0===t&&(t=bU);var n=(0,x.useRef)(e),r=(0,x.useRef)([]),a=(0,x.useCallback)(function(t){return e.subscribe(t).unsubscribe},[e]),o=(0,x.useCallback)(function(){return t(e)},[e,t]),i=(0,x.useCallback)(function(t,n){return gU(e)?function(e,t,n){if(e.status===hn.NotStarted)return!0;var r=void 0===n.changed&&(Object.keys(n.children).length>0||"boolean"===typeof t.changed);return!(n.changed||r)}(e,t,n):t===n},[e]),s=(0,fU.useSyncExternalStoreWithSelector)(a,o,o,vU,i),l=yn(function(){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var a=e[0];var o=n.current;(function(e){return"deferred"in e})(o)&&o.deferred?r.current.push(a):o.send(a)}});return Ie(function(){for(n.current=e;r.current.length>0;){var t=r.current.shift();e.send(t)}},[e]),[s,l]}function kU(){const{service:e}=rU();return wU(e)}var SU,xU=function(e,t){return e===t};function IU(e,t,n,r){void 0===n&&(n=xU);var a=(0,x.useRef)(null),o=(0,x.useCallback)(function(t){return e.subscribe(t).unsubscribe},[e]),i=(0,x.useCallback)(function(){return r?r(e):function(e,t){if(gU(e)){if(0===e.status&&t.current)return t.current;var n=mU(e);return t.current=0===e.status?n:null,n}return yU(e)?e.state:void 0}(e,a)},[e,r]);return(0,fU.useSyncExternalStoreWithSelector)(o,i,i,t,n)}function _U(e){const{service:t}=rU();return IU(t,e)}!function(e){e.CameraModule="amplify-liveness-camera-module",e.CancelContainer="amplify-liveness-cancel-container",e.CancelButton="amplify-liveness-cancel-button",e.CenteredLoader="amplify-liveness-centered-loader",e.ConnectingLoader="amplify-liveness-connecting-loader",e.CountdownContainer="amplify-liveness-countdown-container",e.DescriptionBullet="amplify-liveness-description-bullet",e.DescriptionBulletIndex="amplify-liveness-description-bullet__index",e.DescriptionBulletIndexText="amplify-liveness-description-bullet__index__text",e.DescriptionBulletMessage="amplify-liveness-description-bullet__message",e.ErrorModal="amplify-liveness-error-modal",e.ErrorModalHeading="amplify-liveness-error-modal__heading",e.FadeOut="amplify-liveness-fade-out",e.FreshnessCanvas="amplify-liveness-freshness-canvas",e.InstructionList="amplify-liveness-instruction-list",e.InstructionOverlay="amplify-liveness-instruction-overlay",e.Hint="amplify-liveness-hint",e.HintText="amplify-liveness-hint__text",e.LandscapeErrorModal="amplify-liveness-landscape-error-modal",e.LandscapeErrorModalButton="amplify-liveness-landscape-error-modal__button",e.LandscapeErrorModalHeader="amplify-liveness-landscape-error-modal__header",e.Loader="amplify-liveness-loader",e.MatchIndicator="amplify-liveness-match-indicator",e.OvalCanvas="amplify-liveness-oval-canvas",e.OpaqueOverlay="amplify-liveness-overlay-opaque",e.Overlay="amplify-liveness-overlay",e.Popover="amplify-liveness-popover",e.PopoverContainer="amplify-liveness-popover__container",e.PopoverAnchor="amplify-liveness-popover__anchor",e.PopoverAnchorSecondary="amplify-liveness-popover__anchor-secondary",e.RecordingIconContainer="amplify-liveness-recording-icon-container",e.RecordingIcon="amplify-liveness-recording-icon",e.StartScreenCameraSelect="amplify-liveness-start-screen-camera-select",e.StartScreenCameraSelectContainer="amplify-liveness-start-screen-camera-select__container",e.StartScreenCameraWaiting="amplify-liveness-start-screen-camera-waiting",e.StartScreenHeader="amplify-liveness-start-screen-header",e.StartScreenHeaderBody="amplify-liveness-start-screen-header__body",e.StartScreenHeaderHeading="amplify-liveness-start-screen-header__heading",e.StartScreenWarning="amplify-liveness-start-screen-warning",e.StartScreenInstructions="amplify-liveness-start-screen-instructions",e.StartScreenInstructionsHeading="amplify-liveness-start-screen-instructions__heading",e.Toast="amplify-liveness-toast",e.ToastContainer="amplify-liveness-toast__container",e.ToastMessage="amplify-liveness-toast__message",e.UserFacingVideo="amplify-liveness-video--user-facing",e.Video="amplify-liveness-video",e.VideoAnchor="amplify-liveness-video-anchor"}(SU||(SU={}));const EU=["as","children","className"],TU=TW((e,t)=>{let{as:n="span",children:r,className:a}=e,o=A(e,EU);return x.createElement(CW,M({as:n,className:MW(XW,a),ref:t},o),r)});TU.displayName="VisuallyHidden";const NU=["variation","size","children","isInitial"],CU=e=>{let{variation:t="default",size:n="medium",children:r,isInitial:a=!1}=e,o=A(e,NU);const{tokens:i}=kW();return x.createElement(CW,M(M({className:"".concat(SU.Toast," ").concat(SU.Toast,"--").concat(t," ").concat(SU.Toast,"--").concat(n)},a&&{backgroundColor:i.colors.background.primary}),o),x.createElement(ZW,{className:SU.ToastContainer},x.createElement(ZW,M({className:SU.ToastMessage},a?{color:i.colors.font.primary}:{}),r)))},MU=e=>{let{displayText:t}=e;return x.createElement(CU,{"aria-live":"polite"},x.createElement(ZW,{className:SU.HintText},x.createElement(cU,null),x.createElement(CW,null,t)))},AU=e=>e.context.errorState,OU=e=>e.context.faceMatchAssociatedParams.faceMatchState,FU=e=>e.context.faceMatchAssociatedParams.illuminationState,RU=e=>e.context.isFaceFarEnoughBeforeRecording,DU=e=>e.context.faceMatchStateBeforeStart,PU=e=>{var t;return null===(t=e.context.faceMatchAssociatedParams)||void 0===t?void 0:t.faceMatchPercentage},LU=e=>{let{text:t,isInitial:n=!1}=e;return x.createElement(CU,{size:"large",variation:"primary",isInitial:n},x.createElement(CW,{"aria-live":"assertive"},t))},zU=e=>{let{hintDisplayText:t}=e;const[n]=kU(),r=_U(AU),a=_U(OU),o=_U(FU),i=_U(DU),s=_U(RU),l=_U(PU),u=n.matches("checkFaceDetectedBeforeStart")||n.matches("detectFaceBeforeStart"),c=n.matches("checkFaceDistanceBeforeRecording")||n.matches("detectFaceDistanceBeforeRecording"),d=n.matches("start")||n.matches("userCancel"),p=n.matches("recording"),h=n.matches("uploading"),f=n.matches("checkSucceeded"),m=n.matches("checkFailed"),g=n.matches({recording:"flashFreshnessColors"}),v={[Bn.CANT_IDENTIFY]:t.hintCanNotIdentifyText,[Bn.FACE_IDENTIFIED]:t.hintTooFarText,[Bn.TOO_MANY]:t.hintTooManyFacesText,[Bn.TOO_FAR]:t.hintTooFarText,[Bn.MATCHED]:t.hintHoldFaceForFreshnessText,[Bn.OFF_CENTER]:t.hintFaceOffCenterText},y={[zn.BRIGHT]:t.hintIlluminationTooBrightText,[zn.DARK]:t.hintIlluminationTooDarkText,[zn.NORMAL]:t.hintIlluminationNormalText};if(d)return x.createElement(x.Fragment,null,x.createElement(TU,{role:"alert"},t.hintCenterFaceInstructionText),x.createElement(LU,{text:t.hintCenterFaceText,isInitial:!0}));if(null!==r&&void 0!==r?r:m||f)return null;if(!p){if(u)return i===Bn.TOO_MANY?x.createElement(LU,{text:t.hintTooManyFacesText}):x.createElement(LU,{text:t.hintMoveFaceFrontOfCameraText});if(c&&!1===s)return x.createElement(LU,{text:t.hintTooCloseText});if(h)return x.createElement(x.Fragment,null,x.createElement(TU,{"aria-live":"assertive"},t.hintCheckCompleteText),x.createElement(MU,{displayText:t.hintVerifyingText}));if(o&&o!==zn.NORMAL)return x.createElement(LU,{text:y[o]})}if(g)return x.createElement(LU,{text:t.hintHoldFaceForFreshnessText});if(p&&!g){let e=v[Bn.TOO_FAR];a===Bn.MATCHED&&(e=v[a]);let n=e;return a===Bn.OFF_CENTER?n=v[a]:a===Bn.TOO_FAR&&l>50&&(n=t.hintMatchIndicatorText),x.createElement(CU,{size:"large",variation:"primary"},x.createElement(TU,{"aria-live":"assertive"},n),x.createElement(CW,{"aria-label":n},e))}return null},BU=["children","horizontal","vertical","className"],WU=e=>{let{children:t,horizontal:n="center",vertical:r="center",className:a}=e,o=A(e,BU);return x.createElement(ZW,M({className:"".concat(SU.Overlay," ").concat(a),alignItems:n,justifyContent:r},o),t)};function UU(){return/Android|iPhone|iPad/i.test(navigator.userAgent)||/Macintosh/i.test(navigator.userAgent)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>1}function jU(){return window.matchMedia("(orientation: landscape)")}const HU=x.createContext({});function VU(e){const t=x.useContext(HU);if(e&&t)return t[e]}const qU=["className"],GU=e=>{const{className:t}=e,n=A(e,qU);return x.createElement(CW,M({as:"span",width:"1em",height:"1em",className:MW(jW,t)},n),x.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},x.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20ZM16.59 7.58L10 14.17L7.41 11.59L6 13L10 17L18 9L16.59 7.58Z",fill:"currentColor"})))},KU=["className"],$U=e=>{const{className:t}=e,n=A(e,KU);return x.createElement(CW,M({as:"span",width:"1em",height:"1em",className:MW(jW,t)},n),x.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},x.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM13 17H11V15H13V17ZM13 13H11V7H13V13Z",fill:"currentColor"})))},YU=["className"],QU=e=>{const{className:t}=e,n=A(e,YU);return x.createElement(CW,M({as:"span",width:"1em",height:"1em",className:MW(jW,t)},n),x.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},x.createElement("path",{d:"M11 7H13V9H11V7ZM11 11H13V17H11V11ZM12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20Z",fill:"currentColor"})))},XU=["className"],JU=e=>{const{className:t}=e,n=A(e,XU);return x.createElement(CW,M({as:"span",width:"1em",height:"1em",className:MW(jW,t)},n),x.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},x.createElement("path",{d:"M1 21H23L12 2L1 21ZM13 18H11V16H13V18ZM13 14H11V10H13V14Z",fill:"currentColor"})))},ZU=e=>{var t,n,r,a;let{variation:o,ariaHidden:i,ariaLabel:s,role:l}=e;const u=VU("alert");let c;switch(o){case"info":c=null!==(t=null===u||void 0===u?void 0:u.info)&&void 0!==t?t:x.createElement(QU,{"aria-hidden":i,"aria-label":s,role:l});break;case"error":c=null!==(n=null===u||void 0===u?void 0:u.error)&&void 0!==n?n:x.createElement($U,{"aria-hidden":i,"aria-label":s,role:l});break;case"warning":c=null!==(r=null===u||void 0===u?void 0:u.warning)&&void 0!==r?r:x.createElement(JU,{"aria-hidden":i,"aria-label":s,role:l});break;case"success":c=null!==(a=null===u||void 0===u?void 0:u.success)&&void 0!==a?a:x.createElement(GU,{"aria-hidden":i,"aria-label":s,role:l})}return c?x.createElement("span",{className:OW},c):null};ZU.displayName="AlertIcon";const ej={errorLabelText:"Error",connectionTimeoutHeaderText:"Connection time out",connectionTimeoutMessageText:"Connection has timed out.",timeoutHeaderText:"Time out",timeoutMessageText:"Face didn't fit inside oval in time limit. Try again and completely fill the oval with face in it.",faceDistanceHeaderText:"Forward movement detected",faceDistanceMessageText:"Avoid moving closer when connecting.",multipleFacesHeaderText:"Multiple faces detected",multipleFacesMessageText:"Ensure only one face is present in front of the camera when connecting.",clientHeaderText:"Client error",clientMessageText:"Check failed due to client issue",serverHeaderText:"Server issue",serverMessageText:"Cannot complete check due to server issue",landscapeHeaderText:"Landscape orientation not supported",landscapeMessageText:"Rotate your device to portrait (vertical) orientation.",portraitMessageText:"Ensure your device remains in portrait (vertical) orientation for the check\u2019s duration.",tryAgainText:"Try again"},tj=M({cameraMinSpecificationsHeadingText:"Camera does not meet minimum specifications",cameraMinSpecificationsMessageText:"Camera must support at least 320*240 resolution and 15 frames per second.",cameraNotFoundHeadingText:"Camera is not accessible.",cameraNotFoundMessageText:"Check that a camera is connected and there is not another application using the camera. You may have to go into settings to grant camera permissions and close out all instances of your browser and retry.",a11yVideoLabelText:"Webcam for liveness check",cancelLivenessCheckText:"Cancel Liveness check",goodFitCaptionText:"Good fit",goodFitAltText:"Ilustration of a person's face, perfectly fitting inside of an oval.",hintCenterFaceText:"Center your face",hintCenterFaceInstructionText:"Instruction: Before starting the check, make sure your camera is at the center top of your screen and center your face to the camera. When the check starts an oval will show up in the center. You will be prompted to move forward into the oval and then prompted to hold still. After holding still for a few seconds, you should hear check complete.",hintFaceOffCenterText:"Face is not in the oval, center your face to the camera.",hintMoveFaceFrontOfCameraText:"Move face in front of camera",hintTooManyFacesText:"Ensure only one face is in front of camera",hintFaceDetectedText:"Face detected",hintCanNotIdentifyText:"Move face in front of camera",hintTooCloseText:"Move back",hintTooFarText:"Move closer",hintConnectingText:"Connecting...",hintVerifyingText:"Verifying...",hintCheckCompleteText:"Check complete",hintIlluminationTooBrightText:"Move to dimmer area",hintIlluminationTooDarkText:"Move to brighter area",hintIlluminationNormalText:"Lighting conditions normal",hintHoldFaceForFreshnessText:"Hold still",hintMatchIndicatorText:"50% completed. Keep moving closer.",photosensitivityWarningBodyText:"This check flashes different colors. Use caution if you are photosensitive.",photosensitivityWarningHeadingText:"Photosensitivity warning",photosensitivityWarningInfoText:"Some people may experience epileptic seizures when exposed to colored lights. Use caution if you, or anyone in your family, have an epileptic condition.",photosensitivityWarningLabelText:"More information about photosensitivity",photosensitivyWarningBodyText:"This check flashes different colors. Use caution if you are photosensitive.",photosensitivyWarningHeadingText:"Photosensitivity warning",photosensitivyWarningInfoText:"Some people may experience epileptic seizures when exposed to colored lights. Use caution if you, or anyone in your family, have an epileptic condition.",photosensitivyWarningLabelText:"More information about photosensitivity",retryCameraPermissionsText:"Retry",recordingIndicatorText:"Rec",startScreenBeginCheckText:"Start video check",tooFarCaptionText:"Too far",tooFarAltText:"Illustration of a person's face inside of an oval; there is a gap between the perimeter of the face and the boundaries of the oval.",waitingCameraPermissionText:"Waiting for you to allow camera permission."},ej),nj=e=>{let{errorState:t,overrideErrorDisplayText:n}=e;const r=M(M({},ej),n);return t===Gn||t===qn||t===$n?null:(e=>{const{error:t,displayText:n}=e,{connectionTimeoutHeaderText:r,connectionTimeoutMessageText:a,errorLabelText:o,timeoutHeaderText:i,timeoutMessageText:s,faceDistanceHeaderText:l,faceDistanceMessageText:u,multipleFacesHeaderText:c,multipleFacesMessageText:d,clientHeaderText:p,clientMessageText:h,serverHeaderText:f,serverMessageText:m}=n;let g,v;switch(t){case Un:g=r,v=a;break;case jn:g=i,v=s;break;case Kn:g=l,v=u;break;case Yn:g=c,v=d;break;case Hn:g=p,v=h;break;default:g=f,v=m}return x.createElement(x.Fragment,null,x.createElement(ZW,{className:SU.ErrorModal},x.createElement(ZU,{ariaLabel:o,role:"img",variation:"error"}),x.createElement(oU,{className:SU.ErrorModalHeading,id:"amplify-liveness-error-heading"},g)),x.createElement(oU,{id:"amplify-liveness-error-message"},v))})({error:t,displayText:r})},rj=e=>{const{children:t,onRetry:n,displayText:r}=e,a=M(M({},ej),r),{tryAgainText:o}=a;return x.createElement(WU,{className:SU.OpaqueOverlay},x.createElement(CU,{"aria-labelledby":"amplify-liveness-error-heading","aria-describedby":"amplify-liveness-error-message",role:"alertdialog"},t,x.createElement(ZW,{justifyContent:"center"},x.createElement(hU,{variation:"primary",type:"button",onClick:n},o))))},aj=["className","size"],oj=e=>{const{className:t,size:n}=e,r=A(e,aj);return x.createElement(CW,M({as:"span",width:null!==n&&void 0!==n?n:"1em",height:null!==n&&void 0!==n?n:"1em",className:MW(jW,t)},r),x.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:n?{width:n,height:n}:void 0},x.createElement("path",{d:"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z",fill:"currentColor"})))},ij=e=>{let{ariaLabel:t}=e;const[n,r]=kU();return n.done?null:x.createElement(hU,{autoFocus:!0,variation:"link",onClick:()=>{r({type:"CANCEL"})},size:"large",className:SU.CancelButton,"aria-label":t},x.createElement(oj,{"aria-hidden":"true","data-testid":"close-icon"}))},sj=["className","as","fill","pathData","viewBox","children","paths"],lj={minX:0,minY:0,width:24,height:24},uj=TW((e,t)=>{let{className:n,as:r="svg",fill:a="currentColor",pathData:o,viewBox:i=lj,children:s,paths:l}=e,u=A(e,sj);const c=i.minX?i.minX:lj.minX,d=i.minY?i.minY:lj.minY,p=i.width?i.width:lj.width,h=i.height?i.height:lj.height;let f;return s&&(f=s),l&&(f=l.map((e,t)=>x.createElement("path",M(M({},e),{},{key:t})))),o&&(f=x.createElement("path",{d:o,fill:a})),x.createElement(CW,M({as:r,className:MW(jW,n),ref:t,viewBox:"".concat(c," ").concat(d," ").concat(p," ").concat(h)},u),f)});uj.displayName="Icon";const cj=e=>{let{children:t}=e;return x.createElement(ZW,{className:SU.RecordingIcon},x.createElement(ZW,{"data-testid":"rec-icon",justifyContent:"center"},x.createElement(uj,{viewBox:{width:20,height:20},width:"20",height:"20"},x.createElement("circle",{cx:"10",cy:"10",r:"8",fill:"red"}))),x.createElement(oU,{as:"span",fontWeight:"bold"},t))},dj=e=>{let{children:t,headingText:n,labelText:r}=e;const a=(()=>{const{breakpoints:{values:e,defaultBreakpoint:t}}=kW();return hW({breakpoints:e,defaultBreakpoint:t})})(),[o,i]=x.useState(!1),s=x.useRef(null),l="base"===a;return x.useEffect(()=>{function e(e){o&&s.current&&!s.current.contains(e.target)&&i(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[s,o]),x.createElement("div",{className:SU.Popover,ref:s},x.createElement(hU,{"aria-controls":"photosensitivity-description","aria-expanded":o,role:"alertdialog","aria-label":r,"aria-describedby":"photosensitivity-description",colorTheme:"info",id:"popover-button",onClick:()=>i(!o),testId:"popover-icon"},x.createElement(ZU,{ariaHidden:!0,variation:"info"})),o&&x.createElement(x.Fragment,null,x.createElement(ZW,{className:SU.PopoverAnchor}),x.createElement(ZW,{className:SU.PopoverAnchorSecondary}),x.createElement(ZW,{"aria-hidden":!o,"aria-label":n,className:SU.PopoverContainer,"data-testid":"popover-text",id:"photosensitivity-description",left:l?-190:-108,role:"alertdialog"},t)))};dj.displayName="LivenessIconWithPopover";const pj=e=>{let{bodyText:t,headingText:n,infoText:r,labelText:a}=e;return x.createElement(ZW,{className:"".concat(AW," ").concat(SU.StartScreenWarning),style:{zIndex:"3"}},x.createElement(CW,{flex:"1"},x.createElement(CW,{className:FW},n),x.createElement(CW,{className:RW},t)),x.createElement(dj,{labelText:a,headingText:n},r))},hj=e=>{let{recordingIndicatorText:t}=e;return x.createElement(CW,{className:SU.RecordingIconContainer},x.createElement(cj,null,t))},fj=e=>{let{cancelLivenessCheckText:t}=e;return x.createElement(CW,{className:SU.CancelContainer},x.createElement(ij,{ariaLabel:t}))},mj=["children","className","visuallyHidden"],gj=TW((e,t)=>{let{children:n,className:r,visuallyHidden:a}=e,o=A(e,mj);return x.createElement(CW,M({as:"label",className:MW(HW,r,{[XW]:a}),ref:t},o),n)});gj.displayName="Label";const vj=["descriptiveText","labelHidden"],yj=e=>{let{descriptiveText:t,labelHidden:n}=e,r=A(e,vj);return t?x.createElement(oU,M({"data-testid":"qa-field-description",className:MW(zW,{[XW]:n})},r),t):null};yj.displayName="FieldDescription";const bj=["errorMessage","hasError"],wj=e=>{let{errorMessage:t,hasError:n}=e,r=A(e,bj);return n&&t?x.createElement(oU,M({className:BW},r),t):null};wj.displayName="FieldErrorMessage";const kj=["className"],Sj=e=>{const{className:t}=e,n=A(e,kj);return x.createElement(CW,M({as:"span",width:"1em",height:"1em",className:MW(jW,t)},n),x.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},x.createElement("path",{d:"M16.59 8.58984L12 13.1698L7.41 8.58984L6 9.99984L12 15.9998L18 9.99984L16.59 8.58984Z",fill:"currentColor"})))},xj=["autoComplete","className","size","variation","value","defaultValue","hasError","icon","iconColor","children","placeholder","isDisabled","isRequired","isMultiple","selectSize"],Ij=TW((e,t)=>{var n;let{autoComplete:r,className:a,size:o,variation:i,value:s,defaultValue:l,hasError:u,icon:c,iconColor:d,children:p,placeholder:h,isDisabled:f,isRequired:m,isMultiple:g=!1,selectSize:v=1}=e,y=A(e,xj);const b=void 0===s&&void 0===l&&h,w=g||v>1,k=MW(GW,WW,uM(GW,o),uM(GW,i),cM(GW,"error",u),cM(GW,"expanded",w),a),S=VU("select"),{isFieldsetDisabled:I}=sU();return x.createElement(CW,{className:$W},x.createElement(CW,M({"aria-invalid":u,as:"select",autoComplete:r,value:s,defaultValue:b?"":l,isDisabled:I||f,multiple:g,size:v,required:m,className:k,ref:t},y),h&&x.createElement("option",{value:""},h),p),w?null:x.createElement(ZW,{className:MW(YW,uM(YW,o)),color:d,"aria-hidden":"true"},null!==(n=null!==c&&void 0!==c?c:null===S||void 0===S?void 0:S.expand)&&void 0!==n?n:x.createElement(Sj,null)))});Ij.displayName="Select";const _j=e=>{const t={styleProps:{},rest:{}};return Object.keys(e).forEach(n=>{(e=>e in QB)(n)?t.styleProps=M(M({},t.styleProps),{},{[n]:e[n]}):t.rest=M(M({},t.rest),{},{[n]:e[n]})}),t},Ej=null!==globalThis&&void 0!==globalThis&&globalThis.document?x.useLayoutEffect:()=>{},Tj=I["useId".toString()]||(()=>{});let Nj=0;const Cj=e=>{const[t,n]=x.useState(Tj());return Ej(()=>{e||n(e=>null!==e&&void 0!==e?e:String(Nj++))},[e]),null!==e&&void 0!==e?e:t?"".concat("amplify-id","-").concat(t):""};"undefined"===typeof Symbol||!lM(Symbol.for)||Symbol.for("amplify_default");const Mj=(e,t)=>e&&t?"".concat(e,"-").concat(t):void 0,Aj=["children","className","descriptiveText","errorMessage","hasError","id","label","labelHidden","options","size","testId","inputStyles"],Oj=TW((e,t)=>{const{children:n,className:r,descriptiveText:a,errorMessage:o,hasError:i=!1,id:s,label:l,labelHidden:u=!1,options:c,size:d,testId:p,inputStyles:h}=e,f=A(e,Aj),m=Cj(s),g=Cj(),v=a?Mj(g,"description"):void 0,y=i?Mj(g,"error"):void 0,b=(e=>{const t=e.filter(e=>void 0!==e).join(" ");return t.length>0?t:void 0})([y,v]),{styleProps:w,rest:k}=_j(f);return x.createElement(ZW,M({className:MW(LW,uM(LW,d),KW,r),testId:p},w),x.createElement(gj,{htmlFor:m,visuallyHidden:u},l),x.createElement(yj,{id:v,labelHidden:u,descriptiveText:a}),x.createElement(Ij,M(M({"aria-describedby":b,hasError:i,id:m,ref:t,size:d},k),h),(e=>{let{children:t,options:n}=e;return t?(null!==n&&void 0!==n&&n.length&&console.warn("Amplify UI: <SelectField> component  defaults to rendering children over `options`. When using the `options` prop, omit children."),t):null===n||void 0===n?void 0:n.map((e,t)=>x.createElement("option",{label:e,value:e,key:"".concat(e,"-").concat(t)},e))})({children:n,options:c})),x.createElement(wj,{id:y,hasError:i,errorMessage:o}))});Oj.displayName="SelectField";const Fj=e=>{const{onSelect:t,devices:n,deviceId:r}=e;return x.createElement(ZW,{className:SU.StartScreenCameraSelect},x.createElement(CW,{className:SU.StartScreenCameraSelectContainer},x.createElement(gj,{htmlFor:"amplify-liveness-camera-select",className:"".concat(SU.StartScreenCameraSelect,"__label")},"Camera:"),x.createElement(Oj,{id:"amplify-liveness-camera-select",testId:"amplify-liveness-camera-select",label:"Camera",labelHidden:!0,value:r,onChange:t},n.map(e=>x.createElement("option",{value:e.deviceId,key:e.deviceId},e.label)))))},Rj=e=>{var t;return null===(t=e.context.parsedSessionInformation)||void 0===t||null===(t=t.Challenge)||void 0===t?void 0:t.Name},Dj=e=>{var t;return null===(t=e.context.videoAssociatedParams)||void 0===t?void 0:t.videoConstraints},Pj=e=>{var t;return null===(t=e.context.videoAssociatedParams)||void 0===t?void 0:t.videoMediaStream},Lj=e=>{var t;return null===(t=e.context.faceMatchAssociatedParams)||void 0===t?void 0:t.faceMatchPercentage},zj=e=>{var t;return null===(t=e.context.faceMatchAssociatedParams)||void 0===t?void 0:t.faceMatchState},Bj=e=>{var t;return null===(t=e.context.videoAssociatedParams)||void 0===t?void 0:t.selectedDeviceId},Wj=e=>{var t;return null===(t=e.context.videoAssociatedParams)||void 0===t?void 0:t.selectableDevices},Uj=[Bn.TOO_FAR,Bn.CANT_IDENTIFY,Bn.FACE_IDENTIFIED,Bn.OFF_CENTER],jj=x.memo(e=>{let{percentage:t,initialPercentage:n=25,testId:r}=e;const[a,o]=x.useState(n);x.useEffect(()=>{o(t<0?0:t>100?100:t)},[t]);const i={"--percentage":"".concat(a,"%")};return x.createElement("div",{className:SU.MatchIndicator,"data-testid":r},x.createElement("div",{className:"".concat(SU.MatchIndicator,"__bar"),style:i,role:"progressbar","aria-label":"MatchIndicator","aria-valuenow":t,"aria-valuetext":"".concat(t,"% face fit")}))}),Hj=e=>{const{isMobileScreen:t,isRecordingStopped:n,instructionDisplayText:r,streamDisplayText:a,hintDisplayText:o,errorDisplayText:i,cameraDisplayText:s,components:l,testId:u}=e,{cancelLivenessCheckText:c,recordingIndicatorText:d}=a,{ErrorView:p=rj,PhotosensitiveWarning:h=pj}=null!==l&&void 0!==l?l:{},[f,m]=kU(),g=_U(Rj)===ar.type,v=_U(Pj),y=_U(Dj),b=_U(Bj),w=_U(Wj),k=_U(Lj),S=_U(zj),I=_U(AU),_=x.useContext(wW).colorMode,{videoRef:E,videoWidth:T,videoHeight:N}=function(e){const t=NB.height.ideal,n=NB.width.ideal,r=(0,x.useRef)(null),[a,o]=(0,x.useState)(t),[i,s]=(0,x.useState)(n);return(0,x.useEffect)(()=>{if(e){var t;aM(r.current)&&(r.current.srcObject=e);const n=null===(t=e.getTracks())||void 0===t||null===(t=t[0])||void 0===t?void 0:t.getSettings();n&&(o(n.height),s(n.width))}return()=>{e&&e.getTracks().forEach(t=>{e.removeTrack(t),t.stop()})}},[e]),{videoRef:r,videoHeight:a,videoWidth:i}}(v),C=(0,x.useRef)(null),A=(0,x.useRef)(null),[O,F]=(0,x.useState)(!1),[R,D]=(0,x.useState)(!1),[P,L]=(0,x.useState)(!0),z=f.matches("initCamera"),B=f.matches("initWebsocket"),W=f.matches({initCamera:"cameraCheck"}),U=f.matches({initCamera:"waitForDOMAndCameraDetails"}),j=f.matches("start")||f.matches("userCancel"),H=f.matches("detectFaceBeforeStart"),V=f.matches("recording"),q=f.matches("checkSucceeded"),G=f.matches({recording:"flashFreshnessColors"}),[K,$]=(0,x.useState)(T),[Y,Q]=(0,x.useState)(N),[X,J]=(0,x.useState)(()=>T&&N?T/N:0),Z=!(null===w||void 0===w||!w.length)&&w.length>1,ee=j&&Z&&(!t||g);x.useEffect(()=>{!async function(){const e=await async function(e){var t;const n=await(null===(t=navigator.mediaDevices)||void 0===t?void 0:t.enumerateDevices()),r=null===n||void 0===n?void 0:n.find(t=>t.deviceId===e&&"videoinput"===t.kind);return!r||!r.label.toLowerCase().includes("back")}(b);L(e)}()},[b]),x.useEffect(()=>{const e=(null===C||void 0===C?void 0:C.current)&&(null===E||void 0===E?void 0:E.current)&&v&&j&&R;e&&dr(C.current,E.current,v);const t=t=>{t.matches&&e&&dr(C.current,E.current,v)},n=window.matchMedia("(prefers-color-scheme: dark)"),r=window.matchMedia("(prefers-color-scheme: light)");return n.addEventListener("change",t),r.addEventListener("change",t),()=>{n.removeEventListener("change",t),r.addEventListener("change",t)}},[E,v,_,j,R]),x.useLayoutEffect(()=>{O&&m({type:"SET_DOM_AND_CAMERA_DETAILS",data:{videoEl:E.current,canvasEl:C.current,freshnessColorEl:A.current,isMobile:t}}),E.current&&($(E.current.videoWidth),Q(E.current.videoHeight),J(E.current.videoWidth/E.current.videoHeight))},[m,E,O,t]),x.useEffect(()=>{H&&function(e){let{canvas:t}=e;const n=t.getContext("2d");if(!n)throw new Error("Cannot find Canvas.");n.restore(),n.clearRect(0,0,Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER)}({canvas:C.current})},[H]);const te=x.useMemo(()=>x.createElement(CW,{style:{visibility:j?"visible":"hidden"}},x.createElement(h,{bodyText:r.photosensitivityWarningBodyText,headingText:r.photosensitivityWarningHeadingText,infoText:r.photosensitivityWarningInfoText,labelText:r.photosensitivityWarningLabelText})),[h,r,j]),ne=x.useCallback(()=>{m({type:"BEGIN"})},[m]),re=x.useCallback(e=>{const t=e.target.value;(async()=>{D(!1);const e=await navigator.mediaDevices.getUserMedia({video:M(M({},y),{},{deviceId:{exact:t}}),audio:!1});m({type:"UPDATE_DEVICE_AND_STREAM",data:{newDeviceId:t,newStream:e}})})()},[y,m]);if(W)return x.createElement(ZW,{justifyContent:"center",className:SU.StartScreenCameraWaiting},x.createElement(cU,{size:"large",className:SU.CenteredLoader,"data-testid":"centered-loader",position:"unset"}),x.createElement(oU,{fontSize:"large",fontWeight:"bold","data-testid":"waiting-camera-permission",className:"".concat(SU.StartScreenCameraWaiting,"__text")},s.waitingCameraPermissionText));const ae=z||B,oe=t&&!j&&!ae;return x.createElement(x.Fragment,null,!g&&te,ae&&x.createElement(ZW,{className:SU.ConnectingLoader},x.createElement(cU,{size:"large",className:SU.Loader,"data-testid":"centered-loader"}),x.createElement(oU,{className:SU.LandscapeErrorModalHeader},o.hintConnectingText)),x.createElement(ZW,{className:MW(SU.CameraModule,oe&&"".concat(SU.CameraModule,"--mobile")),"data-testid":u,gap:"zero"},x.createElement(WU,{horizontal:"center",vertical:V&&!G?"start":"space-between",className:SU.InstructionOverlay},V&&x.createElement(hj,{recordingIndicatorText:d}),!j&&!U&&!q&&x.createElement(fj,{cancelLivenessCheckText:c}),x.createElement(ZW,{className:MW(SU.Hint,oe&&"".concat(SU.Hint,"--mobile"))},x.createElement(zU,{hintDisplayText:o})),I&&x.createElement(p,{onRetry:()=>{m({type:"CANCEL"})},displayText:i},nj({errorState:I,overrideErrorDisplayText:i})),V&&!G&&Uj.includes(S)?x.createElement(jj,{percentage:Math.ceil(k)}):null),x.createElement(CW,{as:"canvas",ref:A,className:SU.FreshnessCanvas,hidden:!0}),x.createElement(CW,{className:SU.VideoAnchor,style:{aspectRatio:"".concat(X)}},x.createElement("video",{ref:E,muted:!0,autoPlay:!0,playsInline:!0,width:K,height:Y,onCanPlay:()=>{F(!0)},onLoadedMetadata:()=>{D(!0)},"data-testid":"video",className:MW(SU.Video,P&&SU.UserFacingVideo,n&&SU.FadeOut),"aria-label":s.a11yVideoLabelText}),x.createElement(ZW,{className:MW(SU.OvalCanvas,oe&&"".concat(SU.OvalCanvas,"--mobile"),n&&SU.FadeOut)},x.createElement(CW,{as:"canvas",ref:C})),ee?x.createElement(Fj,{onSelect:re,devices:w,deviceId:b}):null)),j&&x.createElement(ZW,{justifyContent:"center"},x.createElement(hU,{variation:"primary",type:"button",onClick:ne},r.startScreenBeginCheckText)))},Vj=e=>{const{onRetry:t,header:n,portraitMessage:r,landscapeMessage:a,tryAgainText:o}=e,[i,s]=x.useState(!0);return x.useLayoutEffect(()=>{const e=jU();return s(e.matches),e.addEventListener("change",e=>{s(e.matches)}),()=>{e.removeEventListener("change",e=>s(e.matches))}},[]),x.createElement(ZW,{className:SU.LandscapeErrorModal,height:i?"auto":480},x.createElement(oU,{className:SU.LandscapeErrorModalHeader},n),x.createElement(oU,null,i?a:r),i?null:x.createElement(ZW,{className:SU.LandscapeErrorModalButton},x.createElement(hU,{variation:"primary",type:"button",onClick:t},o)))},qj="liveness-detector-check",Gj=e=>e.context.isRecordingStopped,Kj=e=>{let{instructionDisplayText:t,hintDisplayText:n,cameraDisplayText:r,streamDisplayText:a,errorDisplayText:o,components:i}=e;const[s,l]=kU(),u=_U(AU),c=_U(Gj),d=s.matches("permissionDenied"),p=UU(),h=()=>{l({type:"RETRY_CAMERA_CHECK"})},{cameraMinSpecificationsHeadingText:f,cameraMinSpecificationsMessageText:m,cameraNotFoundHeadingText:g,cameraNotFoundMessageText:v,retryCameraPermissionsText:y}=r,{cancelLivenessCheckText:b}=a;x.useLayoutEffect(()=>{if(p){const e=e=>{e&&l({type:"MOBILE_LANDSCAPE_WARNING"})},t=jU();return e(t.matches),t.addEventListener("change",t=>{e(t.matches)}),()=>{t.removeEventListener("change",t=>e(t.matches))}}},[p,l]);return x.createElement(ZW,{direction:"column",position:"relative",testId:qj,className:qj,gap:"xl"},(()=>{if(u===$n){const e=M(M({},ej),o),{landscapeHeaderText:t,portraitMessageText:n,landscapeMessageText:r,tryAgainText:a}=e;return x.createElement(ZW,{backgroundColor:"background.primary",direction:"column",textAlign:"center",alignItems:"center",justifyContent:"center",position:"absolute",width:"100%"},x.createElement(Vj,{header:t,portraitMessage:n,landscapeMessage:r,tryAgainText:a,onRetry:()=>{l({type:"CANCEL"})}}))}return d?x.createElement(ZW,{backgroundColor:"background.primary",direction:"column",textAlign:"center",alignItems:"center",justifyContent:"center",width:"100%",height:480},x.createElement(oU,{fontSize:"large",fontWeight:"bold"},u===qn?f:g),x.createElement(oU,{maxWidth:420},u===qn?m:v),x.createElement(hU,{variation:"primary",type:"button",onClick:h},y),x.createElement(CW,{position:"absolute",top:"medium",right:"medium"},x.createElement(ij,{ariaLabel:b}))):x.createElement(Hj,{isMobileScreen:p,isRecordingStopped:c,instructionDisplayText:t,streamDisplayText:a,hintDisplayText:n,errorDisplayText:o,cameraDisplayText:r,components:i})})())};function $j(e){const t=function(e){const t=(t,n)=>e[t]&&e[t]!==tj[t]?e[t]:e[n]&&e[n]!==tj[t]?e[n]:tj[t];return{photosensitivityWarningBodyText:t("photosensitivityWarningBodyText","photosensitivyWarningBodyText"),photosensitivityWarningHeadingText:t("photosensitivityWarningHeadingText","photosensitivyWarningHeadingText"),photosensitivityWarningInfoText:t("photosensitivityWarningInfoText","photosensitivyWarningInfoText"),photosensitivityWarningLabelText:t("photosensitivityWarningLabelText","photosensitivyWarningLabelText")}}(null!==e&&void 0!==e?e:{}),n=M(M(M({},tj),e),t),{a11yVideoLabelText:r,cameraMinSpecificationsHeadingText:a,cameraMinSpecificationsMessageText:o,cameraNotFoundHeadingText:i,cameraNotFoundMessageText:s,cancelLivenessCheckText:l,connectionTimeoutHeaderText:u,connectionTimeoutMessageText:c,clientHeaderText:d,clientMessageText:p,errorLabelText:h,hintCanNotIdentifyText:f,hintCenterFaceText:m,hintCenterFaceInstructionText:g,hintFaceOffCenterText:v,hintConnectingText:y,hintFaceDetectedText:b,hintHoldFaceForFreshnessText:w,hintIlluminationNormalText:k,hintIlluminationTooBrightText:S,hintIlluminationTooDarkText:x,hintMoveFaceFrontOfCameraText:I,hintTooManyFacesText:_,hintTooCloseText:E,hintTooFarText:T,hintVerifyingText:N,hintCheckCompleteText:C,hintMatchIndicatorText:A,faceDistanceHeaderText:O,faceDistanceMessageText:F,goodFitCaptionText:R,goodFitAltText:D,landscapeHeaderText:P,landscapeMessageText:L,multipleFacesHeaderText:z,multipleFacesMessageText:B,photosensitivityWarningBodyText:W,photosensitivityWarningHeadingText:U,photosensitivityWarningInfoText:j,photosensitivityWarningLabelText:H,photosensitivyWarningBodyText:V,photosensitivyWarningHeadingText:q,photosensitivyWarningInfoText:G,photosensitivyWarningLabelText:K,portraitMessageText:$,retryCameraPermissionsText:Y,recordingIndicatorText:Q,serverHeaderText:X,serverMessageText:J,startScreenBeginCheckText:Z,timeoutHeaderText:ee,timeoutMessageText:te,tooFarCaptionText:ne,tooFarAltText:re,tryAgainText:ae,waitingCameraPermissionText:oe}=n;return{hintDisplayText:{hintMoveFaceFrontOfCameraText:I,hintTooManyFacesText:_,hintFaceDetectedText:b,hintCanNotIdentifyText:f,hintTooCloseText:E,hintTooFarText:T,hintConnectingText:y,hintVerifyingText:N,hintCheckCompleteText:C,hintIlluminationTooBrightText:S,hintIlluminationTooDarkText:x,hintIlluminationNormalText:k,hintHoldFaceForFreshnessText:w,hintCenterFaceText:m,hintCenterFaceInstructionText:g,hintFaceOffCenterText:v,hintMatchIndicatorText:A},cameraDisplayText:{cameraMinSpecificationsHeadingText:a,cameraMinSpecificationsMessageText:o,cameraNotFoundHeadingText:i,cameraNotFoundMessageText:s,retryCameraPermissionsText:Y,waitingCameraPermissionText:oe,a11yVideoLabelText:r},instructionDisplayText:{photosensitivityWarningBodyText:W,photosensitivityWarningHeadingText:U,photosensitivityWarningInfoText:j,photosensitivityWarningLabelText:H,photosensitivyWarningBodyText:V,photosensitivyWarningHeadingText:q,photosensitivyWarningInfoText:G,photosensitivyWarningLabelText:K,goodFitCaptionText:R,goodFitAltText:D,tooFarCaptionText:ne,tooFarAltText:re,startScreenBeginCheckText:Z},streamDisplayText:{cancelLivenessCheckText:l,recordingIndicatorText:Q},errorDisplayText:{connectionTimeoutHeaderText:u,connectionTimeoutMessageText:c,errorLabelText:h,timeoutHeaderText:ee,timeoutMessageText:te,faceDistanceHeaderText:O,faceDistanceMessageText:F,multipleFacesHeaderText:z,multipleFacesMessageText:B,clientHeaderText:d,clientMessageText:p,serverHeaderText:X,serverMessageText:J,landscapeHeaderText:P,landscapeMessageText:L,portraitMessageText:$,tryAgainText:ae}}}const Yj="liveness-detector";function Qj(e){const{components:t,config:n,displayText:r}=e,a=x.useRef(null),{hintDisplayText:o,cameraDisplayText:i,instructionDisplayText:s,streamDisplayText:l,errorDisplayText:u}=$j(r),c=Sn(OB,{devTools:!1,context:{componentProps:M(M({},e),{},{config:null!==n&&void 0!==n?n:{}})}});return x.createElement(CW,{className:Yj,testId:Yj},x.createElement(nU,{componentProps:e,service:c},x.createElement(ZW,{direction:"column",ref:a},x.createElement(Kj,{instructionDisplayText:s,hintDisplayText:o,cameraDisplayText:i,streamDisplayText:l,errorDisplayText:u,components:t}))))}const Xj=["config"],Jj=async()=>{const{credentials:e}=await ke();if(!e)throw new Error("No credentials provided");return e};function Zj(e){const{config:t}=e,n=A(e,Xj);return x.createElement(Qj,M(M({},n),{},{config:M({credentialProvider:Jj},t)}))}var eH=n(579),tH=x.createContext(void 0),nH=e=>{const{dir:t,children:n}=e;return(0,eH.jsx)(tH.Provider,{value:t,children:n})};const rH=["cssText"],aH=e=>{let{cssText:t}=e,n=A(e,rH);return void 0===t||/<\/style/i.test(t)?null:x.createElement("style",M(M({},n),{},{dangerouslySetInnerHTML:{__html:t}}))};aH.displayName="Style";const oH=["theme"],iH=e=>{let{theme:t}=e,n=A(e,oH);if(!t)return null;const{name:r,cssText:a}=t;return x.createElement(aH,M(M({},n),{},{cssText:a,id:"amplify-theme-".concat(r)}))};function sH(e){let{children:t,colorMode:n,direction:r="ltr",nonce:a,theme:o}=e;const i=x.useMemo(()=>({theme:bW(o),colorMode:n}),[o,n]);return x.createElement(wW.Provider,{value:i},x.createElement(nH,{dir:r},x.createElement("div",{"data-amplify-theme":i.theme.name,"data-amplify-color-mode":n,dir:r},t),o?x.createElement(iH,{theme:i.theme,nonce:a}):null))}function lH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}iH.displayName="ThemeStyle";var uH,cH=function e(t,n){function r(e,r,a){if("undefined"!==typeof document){"number"===typeof(a=lH({},n,a)).expires&&(a.expires=new Date(Date.now()+864e5*a.expires)),a.expires&&(a.expires=a.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var i in a)a[i]&&(o+="; "+i,!0!==a[i]&&(o+="="+a[i].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+o}}return Object.create({set:r,get:function(e){if("undefined"!==typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},a=0;a<n.length;a++){var o=n[a].split("="),i=o.slice(1).join("=");try{var s=decodeURIComponent(o[0]);if(r[s]=t.read(i,s),e===s)break}catch(ID){}}return e?r[e]:r}},remove:function(e,t){r(e,"",lH({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,lH({},this.attributes,t))},withConverter:function(t){return e(lH({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});class dH{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{path:t,domain:n,expires:r,sameSite:a,secure:o}=e;if(this.domain=n,this.path=t||"/",this.expires=Object.prototype.hasOwnProperty.call(e,"expires")?r:365,this.secure=!Object.prototype.hasOwnProperty.call(e,"secure")||o,Object.prototype.hasOwnProperty.call(e,"sameSite")){if(!a||!["strict","lax","none"].includes(a))throw new Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if("none"===a&&!this.secure)throw new Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=a}}async setItem(e,t){cH.set(e,t,this.getData())}async getItem(e){const t=cH.get(e);return null!==t&&void 0!==t?t:null}async removeItem(e){cH.remove(e,this.getData())}async clear(){const e=cH.get(),t=Object.keys(e).map(e=>this.removeItem(e));await Promise.all(t)}getData(){return M({path:this.path,expires:this.expires,domain:this.domain,secure:this.secure},this.sameSite&&{sameSite:this.sameSite})}}!function(e){e.NoEndpointId="NoEndpointId",e.PlatformNotSupported="PlatformNotSupported",e.Unknown="Unknown",e.NetworkError="NetworkError"}(uH||(uH={}));class pH extends D{constructor(){super({name:uH.PlatformNotSupported,message:"Function not supported on current platform"})}}class hH{constructor(e){this.storage=e}async setItem(e,t){if(!this.storage)throw new pH;this.storage.setItem(e,t)}async getItem(e){if(!this.storage)throw new pH;return this.storage.getItem(e)}async removeItem(e){if(!this.storage)throw new pH;this.storage.removeItem(e)}async clear(){if(!this.storage)throw new pH;this.storage.clear()}}class fH{constructor(){this.storage=new Map}get length(){return this.storage.size}key(e){return e>this.length-1?null:Array.from(this.storage.keys())[e]}setItem(e,t){this.storage.set(e,t)}getItem(e){var t;return null!==(t=this.storage.get(e))&&void 0!==t?t:null}removeItem(e){this.storage.delete(e)}clear(){this.storage.clear()}}const mH=new R("CoreStorageUtils"),gH=()=>{try{if("undefined"!==typeof window&&window.sessionStorage)return window.sessionStorage.getItem("test"),window.sessionStorage;throw new Error("sessionStorage is not defined")}catch(ID){return mH.info("sessionStorage not found. InMemoryStorage is used as a fallback."),new fH}};class vH{constructor(e){this._storage=e}get storage(){if(!this._storage)throw new pH;return this._storage}setItem(e,t){this.storage.setItem(e,t)}getItem(e){return this.storage.getItem(e)}removeItem(e){this.storage.removeItem(e)}clear(){this.storage.clear()}}const yH=new class extends hH{constructor(){super((()=>{try{if("undefined"!==typeof window&&window.localStorage)return window.localStorage}catch(ID){mH.info("localStorage not found. InMemoryStorage is used as a fallback.")}return new fH})())}},bH=(new class extends hH{constructor(){super(gH())}},new class extends vH{constructor(){super(gH())}},new hH(new fH),e=>{var t,n;const{headers:r,statusCode:a}=e;return M(M({},wH(e)?e.$metadata:{}),{},{httpStatusCode:a,requestId:null!==(t=null!==(n=r["x-amzn-requestid"])&&void 0!==n?n:r["x-amzn-request-id"])&&void 0!==t?t:r["x-amz-request-id"],extendedRequestId:r["x-amz-id-2"],cfId:r["x-amz-cf-id"]})}),wH=e=>"object"===typeof(null===e||void 0===e?void 0:e.$metadata),kH=async e=>{var t,n,r,a,o;if(!e||e.statusCode<300)return;const i=await SH(e),s=(e=>{const[t]=e.toString().split(/[,:]+/);return t.includes("#")?t.split("#")[1]:t})(null!==(t=null!==(n=null!==(r=e.headers["x-amzn-errortype"])&&void 0!==r?r:i.code)&&void 0!==n?n:i.__type)&&void 0!==t?t:"UnknownError"),l=null!==(a=null!==(o=i.message)&&void 0!==o?o:i.Message)&&void 0!==a?a:"Unknown error",u=new Error(l);return Object.assign(u,{name:s,$metadata:bH(e)})},SH=async e=>{if(!e.body)throw new Error("Missing response payload");const t=await e.body.json();return Object.assign(t,{$metadata:bH(e)})},xH=(e,t,n,r)=>async(a,o)=>{const i=M(M({},r),a),s=await i.endpointResolver(i,o),l=await t(o,s),u=await e(l,M({},i));return n(u)},IH=3,_H="amz-sdk-invocation-id",EH=3e5,TH=e=>{const t=QC(EH)(e);return!1===t?EH:t},NH=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch","BadRequestException"],CH=e=>async(t,n)=>{var r;const a=null!==(r=null!==n&&void 0!==n?n:await e(t))&&void 0!==r?r:void 0,o=(null===a||void 0===a?void 0:a.code)||(null===a||void 0===a?void 0:a.name),i=null===t||void 0===t?void 0:t.statusCode;return{retryable:FH(n)||OH(i,o)||(e=>!!e&&NH.includes(e))(o)||RH(i,o)}},MH=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException"],AH=["TimeoutError","RequestTimeout","RequestTimeoutException"],OH=(e,t)=>429===e||!!t&&MH.includes(t),FH=e=>[uH.NetworkError,"ERR_NETWORK"].includes(null===e||void 0===e?void 0:e.name),RH=(e,t)=>!!e&&[500,502,503,504].includes(e)||!!t&&AH.includes(t),DH="cognito-identity",PH={service:DH,retryDecider:CH(kH),computeDelay:TH,cache:"no-store"},LH=(e,t)=>{if(null!==t&&void 0!==t&&t.aborted)return Promise.resolve();let n,r;const a=new Promise(t=>{r=t,n=setTimeout(t,e)});return null===t||void 0===t||t.addEventListener("abort",function e(a){clearTimeout(n),null===t||void 0===t||t.removeEventListener("abort",e),r()}),a},zH=(e,t)=>{var n;"[object Object]"===Object.prototype.toString.call(e)&&(e.$metadata=M(M({},null!==(n=e.$metadata)&&void 0!==n?n:{}),{},{attempts:t}))},BH={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let WH;const UH=new Uint8Array(16);const jH=[];for(let n=0;n<256;++n)jH.push((n+256).toString(16).slice(1));function HH(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(jH[e[t+0]]+jH[e[t+1]]+jH[e[t+2]]+jH[e[t+3]]+"-"+jH[e[t+4]]+jH[e[t+5]]+"-"+jH[e[t+6]]+jH[e[t+7]]+"-"+jH[e[t+8]]+jH[e[t+9]]+"-"+jH[e[t+10]]+jH[e[t+11]]+jH[e[t+12]]+jH[e[t+13]]+jH[e[t+14]]+jH[e[t+15]]).toLowerCase()}const VH=function(e,t,n){var r,a,o,i;if(BH.randomUUID&&!t&&!e)return BH.randomUUID();const s=null!==(r=null!==(a=(e=e||{}).random)&&void 0!==a?a:null===(o=(i=e).rng)||void 0===o?void 0:o.call(i))&&void 0!==r?r:function(){if(!WH){if("undefined"===typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");WH=crypto.getRandomValues.bind(crypto)}return WH(UH)}();if(s.length<16)throw new Error("Random bytes length must be >= 16");if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){if((n=n||0)<0||n+16>t.length)throw new RangeError("UUID byte range ".concat(n,":").concat(n+15," is out of buffer bounds"));for(let e=0;e<16;++e)t[n+e]=s[e];return t}return HH(s)},qH=VH,GH=(e,t)=>(n,r)=>{const a={};let o=t=>e(t,r);for(let e=t.length-1;e>=0;e--){o=(0,t[e])(r)(o,a)}return o(n)},KH=e=>{let t;return()=>(t||(t=e()),t)},$H=e=>!["HEAD","GET"].includes(e.toUpperCase()),YH=GH(async(e,t)=>{var n,r;let a,{url:o,method:i,headers:s,body:l}=e,{abortSignal:u,cache:c,withCrossDomainCredentials:d}=t;try{a=await fetch(o,{method:i,headers:s,body:$H(i)?l:void 0,signal:u,cache:c,credentials:d?"include":"same-origin"})}catch(ID){if(ID instanceof TypeError)throw new D({name:uH.NetworkError,message:"A network error has occurred.",underlyingError:ID});throw ID}const p={};null===(n=a.headers)||void 0===n||n.forEach((e,t)=>{p[t.toLowerCase()]=e});const h={statusCode:a.status,headers:p,body:null},f=Object.assign(null!==(r=a.body)&&void 0!==r?r:{},{text:KH(()=>a.text()),blob:KH(()=>a.blob()),json:KH(()=>a.json())});return M(M({},h),{},{body:f})},[e=>{let{userAgentHeader:t="x-amz-user-agent",userAgentValue:n=""}=e;return e=>async function(r){if(0===n.trim().length){return await e(r)}{const a=t.toLowerCase();r.headers[a]=r.headers[a]?"".concat(r.headers[a]," ").concat(n):n;return await e(r)}}},()=>e=>async function(t){return t.headers[_H]||(t.headers[_H]=qH()),e(t)},e=>{let{maxAttempts:t=IH,retryDecider:n,computeDelay:r,abortSignal:a}=e;if(t<1)throw new Error("maxAttempts must be greater than 0");return(e,o)=>async function(i){var s;let l,u,c=null!==(s=o.attemptsCount)&&void 0!==s?s:0;const d=()=>{if(u)return zH(u,c),u;throw zH(l,c),l};for(;(null===a||void 0===a||!a.aborted)&&c<t;){var p,h;try{u=await e(i),l=void 0}catch(ID){l=ID,u=void 0}c=(null!==(p=o.attemptsCount)&&void 0!==p?p:0)>c?null!==(h=o.attemptsCount)&&void 0!==h?h:0:c+1,o.attemptsCount=c;const{isCredentialsExpiredError:s,retryable:f}=await n(u,l,o);if(!f)return d();if(o.isCredentialsExpired=!!s,(null===a||void 0===a||!a.aborted)&&c<t){const e=r(c);await LH(e,a)}}if(null!==a&&void 0!==a&&a.aborted)throw new Error("Request aborted.");return d()}},e=>{let{maxAttempts:t=IH}=e;return(e,n)=>async function(r){var a;const o=null!==(a=n.attemptsCount)&&void 0!==a?a:0;return r.headers["amz-sdk-request"]="attempt=".concat(o+1,"; max=").concat(t),e(r)}}]),QH=GH(YH,[()=>e=>async function(t){return t.headers["cache-control"]="no-store",e(t)}]),XH=e=>(t,n)=>{const r=JH(e),a=JSON.stringify(t);return ZH(n,r,a)},JH=e=>({"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.".concat(e)}),ZH=(e,t,n)=>{let{url:r}=e;return{headers:t,url:r,body:n,method:"POST"}},eV=["Expiration"],tV=e=>xH(QH,XH("GetCredentialsForIdentity"),nV,M(M(M({},PH),e),{},{userAgentValue:Dz()})),nV=async e=>{if(e.statusCode>=300){throw await kH(e)}const t=await SH(e);return{IdentityId:t.IdentityId,Credentials:rV(t.Credentials),$metadata:bH(e)}},rV=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{Expiration:t}=e;return M(M({},A(e,eV)),{},{Expiration:t&&new Date(1e3*t)})},aV={convert(e,t){let n=e;return null!==t&&void 0!==t&&t.urlSafe&&(n=n.replace(/-/g,"+").replace(/_/g,"/")),(()=>{if("undefined"!==typeof window&&"function"===typeof window.atob)return window.atob;if("function"===typeof atob)return atob;throw new D({name:"Base64EncoderError",message:"Cannot resolve the `atob` function from the environment."})})()(n)}},oV=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D;return(n,r,a)=>{const{message:o,recoverySuggestion:i}=e[r];if(!n)throw new t({name:r,message:a?"".concat(o," ").concat(a):o,recoverySuggestion:i})}};var iV;!function(e){e.AuthTokenConfigException="AuthTokenConfigException",e.AuthUserPoolAndIdentityPoolException="AuthUserPoolAndIdentityPoolException",e.AuthUserPoolException="AuthUserPoolException",e.InvalidIdentityPoolIdException="InvalidIdentityPoolIdException",e.OAuthNotConfigureException="OAuthNotConfigureException"}(iV||(iV={}));const sV=oV({[iV.AuthTokenConfigException]:{message:"Auth Token Provider not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app."},[iV.AuthUserPoolAndIdentityPoolException]:{message:"Auth UserPool or IdentityPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with UserPoolId and IdentityPoolId."},[iV.AuthUserPoolException]:{message:"Auth UserPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with userPoolId and userPoolClientId."},[iV.InvalidIdentityPoolIdException]:{message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."},[iV.OAuthNotConfigureException]:{message:"oauth param not configured.",recoverySuggestion:"Make sure to call Amplify.configure with oauth parameter in your app."}});function lV(e){let t=!0;t=!!e&&(!!e.userPoolId&&!!e.userPoolClientId),sV(t,iV.AuthUserPoolException)}function uV(e){const t=!(null===e||void 0===e||!e.identityPoolId);sV(t,iV.InvalidIdentityPoolIdException)}function cV(e){const t=e.split(".");if(3!==t.length)throw new Error("Invalid token");try{const n=t[1].replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(aV.convert(n).split("").map(e=>"%".concat("00".concat(e.charCodeAt(0).toString(16)).slice(-2))).join(""));return{toString:()=>e,payload:JSON.parse(r)}}catch(uq){throw new Error("Invalid token payload")}}class dV extends D{constructor(e){super(e),this.constructor=dV,Object.setPrototypeOf(this,dV.prototype)}}function pV(e){if(!e||"Error"===e.name||e instanceof TypeError)throw new dV({name:uH.Unknown,message:"An unknown error has occurred.",underlyingError:e})}function hV(e){if(!e||!e.includes(":"))throw new dV({name:"InvalidIdentityPoolIdException",message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."});return e.split(":")[0]}const fV="UserUnAuthenticatedException";new dV({name:"InvalidRedirectException",message:"signInRedirect or signOutRedirect had an invalid format or was not found.",recoverySuggestion:"Please make sure the signIn/Out redirect in your oauth config is valid."}),new dV({name:"InvalidAppSchemeException",message:"A valid non-http app scheme was not found in the config.",recoverySuggestion:"Please make sure a valid custom app scheme is present in the config."}),new dV({name:"InvalidPreferredRedirectUrlException",message:"The given preferredRedirectUrl does not match any items in the redirectSignOutUrls array from the config.",recoverySuggestion:"Please make sure a matching preferredRedirectUrl is provided."}),new dV({name:"InvalidOriginException",message:"redirect is coming from a different origin. The oauth flow needs to be initiated from the same origin",recoverySuggestion:"Please call signInWithRedirect from the same origin."});const mV=new dV({name:"TokenRefreshException",message:"Token refresh is not supported when authenticated with the 'implicit grant' (token) oauth flow. \n\tPlease change your oauth configuration to use 'code grant' flow.",recoverySuggestion:"Please logout and change your Amplify configuration to use \"code grant\" flow. \n\tE.g { responseType: 'code' }"}),gV=new dV({name:fV,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."});function vV(e){if(function(e){return bV(e)&&!(null!==e&&void 0!==e&&e.refreshToken)}(e))throw mV;if(!function(e){return bV(e)&&(null===e||void 0===e?void 0:e.refreshToken)}(e))throw gV}const yV={inflightOAuth:"inflightOAuth",oauthSignIn:"oauthSignIn",oauthPKCE:"oauthPKCE",oauthState:"oauthState"};function bV(e){return(null===e||void 0===e?void 0:e.accessToken)||(null===e||void 0===e?void 0:e.idToken)}const wV={id:"aws",outputs:{dnsSuffix:"amazonaws.com"},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:["aws-global"]},kV={partitions:[wV,{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn"},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:["aws-cn-global"]}]},SV=e=>{const{partitions:t}=kV;for(const{regions:n,outputs:r,regionRegex:a}of t){const t=new RegExp(a);if(n.includes(e)||t.test(e))return r.dnsSuffix}return wV.outputs.dnsSuffix},xV=URL,IV=e=>{let{endpointOverride:t}=e;return e=>t?{url:new xV(t)}:(e=>{let{region:t}=e;return{url:new xV("https://".concat(DH,".").concat(t,".").concat(SV(t)))}})(e)},_V=async e=>{if(e.statusCode>=300){throw await kH(e)}return{IdentityId:(await SH(e)).IdentityId,$metadata:bH(e)}};function EV(e){const t=cV(e).payload.iss,n={};if(!t)throw new dV({name:"InvalidIdTokenException",message:"Invalid Idtoken."});return n[t.replace(/(^\w+:|^)\/\//,"")]=e,n}async function TV(e){let{tokens:t,authConfig:n,identityIdStore:r}=e;r.setAuthConfig({Cognito:n});const a=await r.loadIdentityId();if(a)return a.id;const o=null!==t&&void 0!==t&&t.idToken?EV(t.idToken.toString()):{},i=await async function(e,t){const n=null===t||void 0===t?void 0:t.identityPoolId,r=hV(n),a=(e=>xH(QH,XH("GetId"),_V,M(M(M({},PH),e),{},{userAgentValue:Dz()})))({endpointResolver:IV({endpointOverride:t.identityPoolEndpoint})});let o;try{o=(await a({region:r},{IdentityPoolId:n,Logins:e})).IdentityId}catch(ID){throw pV(ID),new dV(ID)}if(!o)throw new dV({name:"GetIdResponseException",message:"Received undefined response from getId operation",recoverySuggestion:"Make sure to pass a valid identityPoolId in the configuration."});return o}(o,n);return r.storeIdentityId({id:i,type:t?"primary":"guest"}),i}const NV=new R("CognitoCredentialsProvider"),CV=3e6;class MV{constructor(e){this._nextCredentialsRefresh=0,this._identityIdStore=e}async clearCredentialsAndIdentityId(){NV.debug("Clearing out credentials and identityId"),this._credentialsAndIdentityId=void 0,await this._identityIdStore.clearIdentityId()}async clearCredentials(){NV.debug("Clearing out in-memory credentials"),this._credentialsAndIdentityId=void 0}async getCredentialsAndIdentityId(e){const t=e.authenticated,{tokens:n}=e,{authConfig:r}=e;try{uV(null===r||void 0===r?void 0:r.Cognito)}catch(s){return}if(!t&&!r.Cognito.allowGuestAccess)return;const{forceRefresh:a}=e,o=this.hasTokenChanged(n),i=await TV({tokens:n,authConfig:r.Cognito,identityIdStore:this._identityIdStore});return(a||o)&&this.clearCredentials(),t?(function(e){if(!e||!e.idToken)throw new dV({name:fV,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."})}(n),this.credsForOIDCTokens(r.Cognito,n,i)):this.getGuestCredentials(i,r.Cognito)}async getGuestCredentials(e,t){var n,r;if(this._credentialsAndIdentityId&&!this.isPastTTL()&&!1===this._credentialsAndIdentityId.isAuthenticatedCreds)return NV.info("returning stored credentials as they neither past TTL nor expired."),this._credentialsAndIdentityId;this.clearCredentials();const a=hV(t.identityPoolId),o=tV({endpointResolver:IV({endpointOverride:t.identityPoolEndpoint})});let i;try{i=await o({region:a},{IdentityId:e})}catch(ID){throw pV(ID),new dV(ID)}if(null!==(n=i)&&void 0!==n&&null!==(n=n.Credentials)&&void 0!==n&&n.AccessKeyId&&null!==(r=i)&&void 0!==r&&null!==(r=r.Credentials)&&void 0!==r&&r.SecretKey){this._nextCredentialsRefresh=(new Date).getTime()+CV;const t={credentials:{accessKeyId:i.Credentials.AccessKeyId,secretAccessKey:i.Credentials.SecretKey,sessionToken:i.Credentials.SessionToken,expiration:i.Credentials.Expiration},identityId:e};return i.IdentityId&&(t.identityId=i.IdentityId,this._identityIdStore.storeIdentityId({id:i.IdentityId,type:"guest"})),this._credentialsAndIdentityId=M(M({},t),{},{isAuthenticatedCreds:!1}),t}throw new dV({name:"CredentialsNotFoundException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})}async credsForOIDCTokens(e,t,n){var r,a;if(this._credentialsAndIdentityId&&!this.isPastTTL()&&!0===this._credentialsAndIdentityId.isAuthenticatedCreds)return NV.debug("returning stored credentials as they neither past TTL nor expired."),this._credentialsAndIdentityId;this.clearCredentials();const o=t.idToken?EV(t.idToken.toString()):{},i=hV(e.identityPoolId),s=tV({endpointResolver:IV({endpointOverride:e.identityPoolEndpoint})});let l;try{l=await s({region:i},{IdentityId:n,Logins:o})}catch(ID){throw pV(ID),new dV(ID)}if(null!==(r=l)&&void 0!==r&&null!==(r=r.Credentials)&&void 0!==r&&r.AccessKeyId&&null!==(a=l)&&void 0!==a&&null!==(a=a.Credentials)&&void 0!==a&&a.SecretKey){var u;this._nextCredentialsRefresh=(new Date).getTime()+CV;const e={credentials:{accessKeyId:l.Credentials.AccessKeyId,secretAccessKey:l.Credentials.SecretKey,sessionToken:l.Credentials.SessionToken,expiration:l.Credentials.Expiration},identityId:n};return l.IdentityId&&(e.identityId=l.IdentityId,this._identityIdStore.storeIdentityId({id:l.IdentityId,type:"primary"})),this._credentialsAndIdentityId=M(M({},e),{},{isAuthenticatedCreds:!0,associatedIdToken:null===(u=t.idToken)||void 0===u?void 0:u.toString()}),e}throw new dV({name:"CredentialsException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})}isPastTTL(){return void 0===this._nextCredentialsRefresh||this._nextCredentialsRefresh<=Date.now()}hasTokenChanged(e){var t,n;return!!e&&!(null===(t=this._credentialsAndIdentityId)||void 0===t||!t.associatedIdToken)&&(null===(n=e.idToken)||void 0===n?void 0:n.toString())!==this._credentialsAndIdentityId.associatedIdToken}}const AV={accessToken:"accessToken",idToken:"idToken",oidcProvider:"oidcProvider",clockDrift:"clockDrift",refreshToken:"refreshToken",deviceKey:"deviceKey",randomPasswordKey:"randomPasswordKey",deviceGroupKey:"deviceGroupKey",signInDetails:"signInDetails",oauthMetadata:"oauthMetadata"};var OV;!function(e){e.InvalidAuthTokens="InvalidAuthTokens"}(OV||(OV={}));const FV=oV({[OV.InvalidAuthTokens]:{message:"Invalid tokens.",recoverySuggestion:"Make sure the tokens are valid."}}),RV="CognitoIdentityServiceProvider";class DV{getKeyValueStorage(){if(!this.keyValueStorage)throw new dV({name:"KeyValueStorageNotFoundException",message:"KeyValueStorage was not found in TokenStore"});return this.keyValueStorage}setKeyValueStorage(e){this.keyValueStorage=e}setAuthConfig(e){this.authConfig=e}async loadTokens(){try{var e,t,n;const r=await this.getAuthKeys(),a=await this.getKeyValueStorage().getItem(r.accessToken);if(!a)throw new dV({name:"NoSessionFoundException",message:"Auth session was not found. Make sure to call signIn."});const o=cV(a),i=await this.getKeyValueStorage().getItem(r.idToken),s=i?cV(i):void 0,l=null!==(e=await this.getKeyValueStorage().getItem(r.refreshToken))&&void 0!==e?e:void 0,u=null!==(t=await this.getKeyValueStorage().getItem(r.clockDrift))&&void 0!==t?t:"0",c=Number.parseInt(u),d=await this.getKeyValueStorage().getItem(r.signInDetails),p={accessToken:o,idToken:s,refreshToken:l,deviceMetadata:null!==(n=await this.getDeviceMetadata())&&void 0!==n?n:void 0,clockDrift:c,username:await this.getLastAuthUser()};return d&&(p.signInDetails=JSON.parse(d)),p}catch(uq){return null}}async storeTokens(e){FV(void 0!==e,OV.InvalidAuthTokens);const t=e.username;await this.getKeyValueStorage().setItem(this.getLastAuthUserKey(),t);const n=await this.getAuthKeys();await this.getKeyValueStorage().setItem(n.accessToken,e.accessToken.toString()),e.idToken?await this.getKeyValueStorage().setItem(n.idToken,e.idToken.toString()):await this.getKeyValueStorage().removeItem(n.idToken),e.refreshToken?await this.getKeyValueStorage().setItem(n.refreshToken,e.refreshToken):await this.getKeyValueStorage().removeItem(n.refreshToken),e.deviceMetadata&&(e.deviceMetadata.deviceKey&&await this.getKeyValueStorage().setItem(n.deviceKey,e.deviceMetadata.deviceKey),e.deviceMetadata.deviceGroupKey&&await this.getKeyValueStorage().setItem(n.deviceGroupKey,e.deviceMetadata.deviceGroupKey),await this.getKeyValueStorage().setItem(n.randomPasswordKey,e.deviceMetadata.randomPassword)),e.signInDetails?await this.getKeyValueStorage().setItem(n.signInDetails,JSON.stringify(e.signInDetails)):await this.getKeyValueStorage().removeItem(n.signInDetails),await this.getKeyValueStorage().setItem(n.clockDrift,"".concat(e.clockDrift))}async clearTokens(){const e=await this.getAuthKeys();await Promise.all([this.getKeyValueStorage().removeItem(e.accessToken),this.getKeyValueStorage().removeItem(e.idToken),this.getKeyValueStorage().removeItem(e.clockDrift),this.getKeyValueStorage().removeItem(e.refreshToken),this.getKeyValueStorage().removeItem(e.signInDetails),this.getKeyValueStorage().removeItem(this.getLastAuthUserKey()),this.getKeyValueStorage().removeItem(e.oauthMetadata)])}async getDeviceMetadata(e){const t=await this.getAuthKeys(e),n=await this.getKeyValueStorage().getItem(t.deviceKey),r=await this.getKeyValueStorage().getItem(t.deviceGroupKey),a=await this.getKeyValueStorage().getItem(t.randomPasswordKey);return a&&r&&n?{deviceKey:n,deviceGroupKey:r,randomPassword:a}:null}async clearDeviceMetadata(e){const t=await this.getAuthKeys(e);await Promise.all([this.getKeyValueStorage().removeItem(t.deviceKey),this.getKeyValueStorage().removeItem(t.deviceGroupKey),this.getKeyValueStorage().removeItem(t.randomPasswordKey)])}async getAuthKeys(e){var t;lV(null===(t=this.authConfig)||void 0===t?void 0:t.Cognito);const n=null!==e&&void 0!==e?e:await this.getLastAuthUser();return PV(RV,"".concat(this.authConfig.Cognito.userPoolClientId,".").concat(n))}getLastAuthUserKey(){var e;lV(null===(e=this.authConfig)||void 0===e?void 0:e.Cognito);const t=this.authConfig.Cognito.userPoolClientId;return"".concat(RV,".").concat(t,".LastAuthUser")}async getLastAuthUser(){var e;return null!==(e=await this.getKeyValueStorage().getItem(this.getLastAuthUserKey()))&&void 0!==e?e:"username"}async setOAuthMetadata(e){const{oauthMetadata:t}=await this.getAuthKeys();await this.getKeyValueStorage().setItem(t,JSON.stringify(e))}async getOAuthMetadata(){const{oauthMetadata:e}=await this.getAuthKeys(),t=await this.getKeyValueStorage().getItem(e);return t&&JSON.parse(t)}}const PV=(e,t)=>LV(AV)("".concat(e),t);function LV(e){const t=Object.values(M({},e));return(e,n)=>t.reduce((t,r)=>M(M({},t),{},{[r]:"".concat(e,".").concat(n,".").concat(r)}),{})}const zV={identityId:"identityId"},BV=new R("DefaultIdentityIdStore");class WV{setAuthConfig(e){uV(e.Cognito),this.authConfig=e,this._authKeys=UV("Cognito",e.Cognito.identityPoolId)}constructor(e){this._authKeys={},this._hasGuestIdentityId=!1,this.keyValueStorage=e}async loadIdentityId(){var e;uV(null===(e=this.authConfig)||void 0===e?void 0:e.Cognito);try{if(this._primaryIdentityId)return{id:this._primaryIdentityId,type:"primary"};{const e=await this.keyValueStorage.getItem(this._authKeys.identityId);return e?(this._hasGuestIdentityId=!0,{id:e,type:"guest"}):null}}catch(uq){return BV.log("Error getting stored IdentityId.",uq),null}}async storeIdentityId(e){var t;uV(null===(t=this.authConfig)||void 0===t?void 0:t.Cognito),"guest"===e.type?(this.keyValueStorage.setItem(this._authKeys.identityId,e.id),this._primaryIdentityId=void 0,this._hasGuestIdentityId=!0):(this._primaryIdentityId=e.id,this._hasGuestIdentityId&&(this.keyValueStorage.removeItem(this._authKeys.identityId),this._hasGuestIdentityId=!1))}async clearIdentityId(){this._primaryIdentityId=void 0,await this.keyValueStorage.removeItem(this._authKeys.identityId)}}const UV=(e,t)=>LV(zV)("com.amplify.".concat(e),t),jV=new MV(new WV(yH)),HV="cognito-idp",VV=e=>{let{endpointOverride:t}=e;return e=>t?{url:new xV(t)}:(e=>{let{region:t}=e;return{url:new xV("https://".concat(HV,".").concat(t,".").concat(SV(t)))}})(e)},qV=e=>({"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityProviderService.".concat(e)}),GV=(e,t,n)=>{let{url:r}=e;return{headers:t,url:r,body:n,method:"POST"}},KV=GH(YH,[()=>(e,t)=>async function(t){return t.headers["cache-control"]="no-store",e(t)}]),$V={service:HV,retryDecider:CH(kH),computeDelay:TH,get userAgentValue(){return Dz()},cache:"no-store"},YV=e=>{return xH(KV,(t="GetTokensFromRefreshToken",(e,n)=>{const r=qV(t),a=JSON.stringify(e);return GV(n,r,a)}),async e=>{if(e.statusCode>=300){const t=await kH(e);throw pV(t),new dV({name:t.name,message:t.message,metadata:t.$metadata})}return SH(e)},M(M({},$V),e));var t},QV=async e=>{var t,n,r;let{tokens:a,authConfig:o,username:i,clientMetadata:s}=e;lV(null===o||void 0===o?void 0:o.Cognito);const{userPoolId:l,userPoolClientId:u,userPoolEndpoint:c}=o.Cognito,d=function(e){const t=null===e||void 0===e?void 0:e.split("_")[0];if(!e||e.indexOf("_")<0||!t||"string"!==typeof t)throw new dV({name:"InvalidUserPoolId",message:"Invalid user pool id provided."});return t}(l);vV(a);const p=YV({endpointResolver:VV({endpointOverride:c})}),{AuthenticationResult:h}=await p({region:d},{ClientId:u,RefreshToken:a.refreshToken,DeviceKey:null===(t=a.deviceMetadata)||void 0===t?void 0:t.deviceKey,ClientMetadata:s}),f=cV(null!==(n=null===h||void 0===h?void 0:h.AccessToken)&&void 0!==n?n:""),m=null!==h&&void 0!==h&&h.IdToken?cV(h.IdToken):void 0,{iat:g}=f.payload;if(!g)throw new dV({name:"iatNotFoundException",message:"iat not found in access token"});return{accessToken:f,idToken:m,clockDrift:1e3*g-(new Date).getTime(),refreshToken:null!==(r=null===h||void 0===h?void 0:h.RefreshToken)&&void 0!==r?r:a.refreshToken,username:i}},XV=(e=>{let t;return async function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t||(t=new Promise((n,a)=>{e(...r).then(e=>{n(e)}).catch(e=>{a(e)}).finally(()=>{t=void 0})}),t)}})(QV);function JV(e){let{expiresAt:t,clockDrift:n,tolerance:r=5e3}=e;return Date.now()+n+r>t}const ZV="amplify-signin-with-hostedUI",eq="CognitoIdentityServiceProvider";const tq=(e,t)=>LV(yV)(e,t),nq=new class{constructor(e){this.keyValueStorage=e}async clearOAuthInflightData(){lV(this.cognitoConfig);const e=tq(eq,this.cognitoConfig.userPoolClientId);await Promise.all([this.keyValueStorage.removeItem(e.inflightOAuth),this.keyValueStorage.removeItem(e.oauthPKCE),this.keyValueStorage.removeItem(e.oauthState)])}async clearOAuthData(){lV(this.cognitoConfig);const e=tq(eq,this.cognitoConfig.userPoolClientId);return await this.clearOAuthInflightData(),await this.keyValueStorage.removeItem(ZV),this.keyValueStorage.removeItem(e.oauthSignIn)}loadOAuthState(){lV(this.cognitoConfig);const e=tq(eq,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(e.oauthState)}storeOAuthState(e){lV(this.cognitoConfig);const t=tq(eq,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(t.oauthState,e)}loadPKCE(){lV(this.cognitoConfig);const e=tq(eq,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(e.oauthPKCE)}storePKCE(e){lV(this.cognitoConfig);const t=tq(eq,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(t.oauthPKCE,e)}setAuthConfig(e){this.cognitoConfig=e}async loadOAuthInFlight(){lV(this.cognitoConfig);const e=tq(eq,this.cognitoConfig.userPoolClientId);return"true"===await this.keyValueStorage.getItem(e.inflightOAuth)}async storeOAuthInFlight(e){lV(this.cognitoConfig);const t=tq(eq,this.cognitoConfig.userPoolClientId);await this.keyValueStorage.setItem(t.inflightOAuth,"".concat(e))}async loadOAuthSignIn(){var e,t;lV(this.cognitoConfig);const n=tq(eq,this.cognitoConfig.userPoolClientId),r=await this.keyValueStorage.getItem(ZV),[a,o]=null!==(e=null===(t=await this.keyValueStorage.getItem(n.oauthSignIn))||void 0===t?void 0:t.split(","))&&void 0!==e?e:[];return{isOAuthSignIn:"true"===a||"true"===r,preferPrivateSession:"true"===o}}async storeOAuthSignIn(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];lV(this.cognitoConfig);const n=tq(eq,this.cognitoConfig.userPoolClientId);await this.keyValueStorage.setItem(n.oauthSignIn,"".concat(e,",").concat(t))}}(yH),rq=[];class aq{constructor(){this.waitForInflightOAuth="undefined"!==typeof window&&"undefined"!==typeof window.document?async()=>{if(await nq.loadOAuthInFlight())return this.inflightPromise||(this.inflightPromise=new Promise((e,t)=>{var n;n=e,rq.push(n)})),this.inflightPromise}:async()=>{}}setAuthConfig(e){nq.setAuthConfig(e.Cognito),this.authConfig=e}setTokenRefresher(e){this.tokenRefresher=e}setAuthTokenStore(e){this.tokenStore=e}getTokenStore(){if(!this.tokenStore)throw new dV({name:"EmptyTokenStoreException",message:"TokenStore not set"});return this.tokenStore}getTokenRefresher(){if(!this.tokenRefresher)throw new dV({name:"EmptyTokenRefresherException",message:"TokenRefresher not set"});return this.tokenRefresher}setClientMetadataProvider(e){this.clientMetadataProvider=e}async getTokens(e){var t,n,r,a,o,i,s,l,u,c;let d;try{var p;lV(null===(p=this.authConfig)||void 0===p?void 0:p.Cognito)}catch(y){return null}await this.waitForInflightOAuth(),this.inflightPromise=void 0,d=await this.getTokenStore().loadTokens();const h=await this.getTokenStore().getLastAuthUser();if(null===d)return null;const f=!(null===(t=d)||void 0===t||!t.idToken)&&JV({expiresAt:1e3*(null!==(n=null===(r=d.idToken)||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.exp)&&void 0!==n?n:0),clockDrift:null!==(a=d.clockDrift)&&void 0!==a?a:0}),m=JV({expiresAt:1e3*(null!==(o=null===(i=d.accessToken)||void 0===i||null===(i=i.payload)||void 0===i?void 0:i.exp)&&void 0!==o?o:0),clockDrift:null!==(s=d.clockDrift)&&void 0!==s?s:0});var g,v;if((null!==e&&void 0!==e&&e.forceRefresh||f||m)&&(d=await this.refreshTokens({tokens:d,username:h,clientMetadata:null!==(g=null===e||void 0===e?void 0:e.clientMetadata)&&void 0!==g?g:await(null===(v=this.clientMetadataProvider)||void 0===v?void 0:v.call(this))}),null===d))return null;return{accessToken:null===(l=d)||void 0===l?void 0:l.accessToken,idToken:null===(u=d)||void 0===u?void 0:u.idToken,signInDetails:null===(c=d)||void 0===c?void 0:c.signInDetails}}async refreshTokens(e){let{tokens:t,username:n,clientMetadata:r}=e;try{const{signInDetails:e}=t,a=await this.getTokenRefresher()({tokens:t,authConfig:this.authConfig,username:n,clientMetadata:r});return a.signInDetails=e,await this.setTokens({tokens:a}),B.dispatch("auth",{event:"tokenRefresh"},"Auth",P),a}catch(uq){return this.handleErrors(uq)}}handleErrors(e){pV(e);if(this.isAuthenticationError(e)&&this.clearTokens(),B.dispatch("auth",{event:"tokenRefresh_failure",data:{error:e}},"Auth",P),e.name.startsWith("NotAuthorizedException"))return null;throw e}isAuthenticationError(e){return["NotAuthorizedException","TokenRevokedException","UserNotFoundException","PasswordResetRequiredException","UserNotConfirmedException","RefreshTokenReuseException"].some(t=>{var n,r;return null===e||void 0===e||null===(n=e.name)||void 0===n||null===(r=n.startsWith)||void 0===r?void 0:r.call(n,t)})}async setTokens(e){let{tokens:t}=e;return this.getTokenStore().storeTokens(t)}async clearTokens(){return this.getTokenStore().clearTokens()}getDeviceMetadata(e){return this.getTokenStore().getDeviceMetadata(e)}clearDeviceMetadata(e){return this.getTokenStore().clearDeviceMetadata(e)}setOAuthMetadata(e){return this.getTokenStore().setOAuthMetadata(e)}getOAuthMetadata(){return this.getTokenStore().getOAuthMetadata()}}const oq=new class{constructor(){this.authTokenStore=new DV,this.authTokenStore.setKeyValueStorage(yH),this.tokenOrchestrator=new aq,this.tokenOrchestrator.setAuthTokenStore(this.authTokenStore),this.tokenOrchestrator.setTokenRefresher(XV)}getTokens(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.tokenOrchestrator.getTokens(e)}setKeyValueStorage(e){this.authTokenStore.setKeyValueStorage(e)}setClientMetadataProvider(e){this.tokenOrchestrator.setClientMetadataProvider(e)}setAuthConfig(e){this.authTokenStore.setAuthConfig(e),this.tokenOrchestrator.setAuthConfig(e)}},{tokenOrchestrator:iq}=oq;({configure(e,t){const n=ee(e),r=new dH({sameSite:"lax"}),a=null!==t&&void 0!==t&&t.ssr?r:yH,o=null!==t&&void 0!==t&&t.ssr?new MV(new WV(r)):jV;if(n.Auth)if(null!==t&&void 0!==t&&t.Auth)we.configure(n,t);else{if(!we.libraryOptions.Auth)return oq.setAuthConfig(n.Auth),oq.setKeyValueStorage(a),void we.configure(n,M(M({},t),{},{Auth:{tokenProvider:oq,credentialsProvider:o}}));if(t){const e=we.libraryOptions.Auth;return void 0!==t.ssr&&(oq.setKeyValueStorage(a),e.credentialsProvider=o),void we.configure(n,M({Auth:e},t))}we.configure(n)}else we.configure(n,t)},getConfig:()=>we.getConfig()}).configure({Auth:{Cognito:{identityPoolId:"ap-northeast-1:4ad3569e-4c1a-4010-9f26-f1f0d96a7bec",region:"ap-northeast-1",allowGuestAccess:!0}}});const sq=function(){const[e,t]=(0,x.useState)(!0),[n,r]=(0,x.useState)(null);return(0,x.useEffect)(()=>{const e=new URLSearchParams(window.location.search).get("session_id");e?(r(e),t(!1)):(console.error("No session_id found in URL"),t(!1))},[]),e?(0,eH.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"white"},children:(0,eH.jsx)(cU,{size:"large",variation:"linear"})}):n?(0,eH.jsx)(sH,{theme:{name:"liveness-theme",tokens:{colors:{primary:{80:"#000000",90:"#000000",100:"#000000"},background:{primary:"#ffffff"}}}},children:(0,eH.jsxs)("div",{style:{width:"100vw",height:"100vh",backgroundColor:"white",position:"relative"},children:[(0,eH.jsx)("button",{onClick:()=>{console.log("User canceled operation"),window.FlutterChannel?window.FlutterChannel.postMessage("CANCEL"):alert("Cancel clicked")},style:{position:"absolute",top:"20px",left:"20px",zIndex:1e3,background:"rgba(0, 0, 0, 0.5)",border:"none",borderRadius:"50%",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"20px",cursor:"pointer",fontWeight:"bold"},children:"\u2715"}),(0,eH.jsx)(Zj,{sessionId:n,region:"ap-northeast-1",onAnalysisComplete:async()=>{console.log("Liveness Check Complete"),window.FlutterChannel&&window.FlutterChannel.postMessage("COMPLETE")},onError:e=>{console.error(e),window.FlutterChannel&&window.FlutterChannel.postMessage("ERROR: "+e.state)},displayText:{instructionsHeaderText:"Face Verification",instructionsMessageText:"Please position your face in the oval.",startScreenBeginCheckText:"Start Scanning"},disableInstructionScreen:!1})]})}):(0,eH.jsxs)("div",{style:{height:"100vh",backgroundColor:"white",color:"black",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[(0,eH.jsx)("p",{children:"Waiting for Session ID..."}),(0,eH.jsx)("p",{style:{fontSize:"12px",color:"#666"},children:"(If testing in browser, add ?session_id=test to URL)"})]})},lq=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,6453)).then(t=>{let{getCLS:n,getFID:r,getFCP:a,getLCP:o,getTTFB:i}=t;n(e),r(e),a(e),o(e),i(e)})};_.createRoot(document.getElementById("root")).render((0,eH.jsx)(x.StrictMode,{children:(0,eH.jsx)(sq,{})})),lq()})()})();
//# sourceMappingURL=main.fc7ce5ac.js.map